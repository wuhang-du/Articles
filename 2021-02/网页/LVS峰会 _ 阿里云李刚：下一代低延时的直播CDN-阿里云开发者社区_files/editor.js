(window.yuquesdkJsonp=window.yuquesdkJsonp||[]).push([[0],[]]);!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("moment"),require("CodeMirror")):"function"==typeof define&&define.amd?define(["react","react-dom","moment","CodeMirror"],t):"object"==typeof exports?exports.yuque_editor=t(require("react"),require("react-dom"),require("moment"),require("CodeMirror")):e.yuque_editor=t(e.React,e.ReactDOM,e.moment,e.CodeMirror)}(window,(function(e,t,n,r){return function(e){function t(t){for(var r,a,c=t[0],s=t[1],l=t[2],f=0,p=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={1:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.yuquesdkJsonp=window.yuquesdkJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;return i.push([849,0]),n()}([function(t,n){t.exports=e},function(e,t,n){e.exports=n(380)()},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var c in r)n.call(r,c)&&r[c]&&e.push(c)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(167);var o=n(116),i=n(168);function a(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||Object(o.a)(e,t)||Object(i.a)()}},function(e,n){e.exports=t},function(e,t,n){"use strict";var r={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=r.F1&&t<=r.F12)return!1;switch(t){case r.ALT:case r.CAPS_LOCK:case r.CONTEXT_MENU:case r.CTRL:case r.DOWN:case r.END:case r.ESC:case r.HOME:case r.INSERT:case r.LEFT:case r.MAC_FF_META:case r.META:case r.NUMLOCK:case r.NUM_CENTER:case r.PAGE_DOWN:case r.PAGE_UP:case r.PAUSE:case r.PRINT_SCREEN:case r.RIGHT:case r.SHIFT:case r.UP:case r.WIN_KEY:case r.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=r.ZERO&&e<=r.NINE)return!0;if(e>=r.NUM_ZERO&&e<=r.NUM_MULTIPLY)return!0;if(e>=r.A&&e<=r.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case r.SPACE:case r.QUESTION_MARK:case r.NUM_PLUS:case r.NUM_MINUS:case r.NUM_PERIOD:case r.NUM_DIVISION:case r.SEMICOLON:case r.DASH:case r.EQUALS:case r.COMMA:case r.PERIOD:case r.SLASH:case r.APOSTROPHE:case r.SINGLE_QUOTE:case r.OPEN_SQUARE_BRACKET:case r.BACKSLASH:case r.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};t.a=r},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(136);var o=n(169),i=n(116);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(o.a)(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){var r=n(202);e.exports=function(e){return r(e,5)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r={};function o(e,t){0}function i(e,t){0}function a(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}function c(e,t){a(i,e,t)}t.a=function(e,t){a(o,e,t)}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(200);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(30);var o=n(51);function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(r.a)(e);if(t){var a=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(o.a)(this,n)}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function c(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var c=new a(n,r||e,i),s=o?o+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],c]:e._events[s].push(c):(e._events[s]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function l(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),l.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},l.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},l.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},l.prototype.emit=function(e,t,n,r,i,a){var c=o?o+e:e;if(!this._events[c])return!1;var s,l,u=this._events[c],f=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,i),!0;case 6:return u.fn.call(u.context,t,n,r,i,a),!0}for(l=1,s=new Array(f-1);l<f;l++)s[l-1]=arguments[l];u.fn.apply(u.context,s)}else{var p,d=u.length;for(l=0;l<d;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),f){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,r);break;default:if(!s)for(p=1,s=new Array(f-1);p<f;p++)s[p-1]=arguments[p];u[l].fn.apply(u[l].context,s)}}return!0},l.prototype.on=function(e,t,n){return c(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return c(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||s(this,i);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||r&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[i]=1===l.length?l[0]:l:s(this,i)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=o,l.EventEmitter=l,e.exports=l},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(29),o=n(57);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},function(e,t){e.exports=n},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(390);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(391),o=n(392),i=n(393);e.exports=function(e){var t=o();return function(){var n,o=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return i(this,n)}}},function(e,t,n){var r=n(57),o=n(496),i=n(282),a=Math.max,c=Math.min;e.exports=function(e,t,n){var s,l,u,f,p,d,h=0,m=!1,v=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=s,r=l;return s=l=void 0,h=t,f=e.apply(r,n)}function b(e){return h=e,p=setTimeout(k,t),m?g(e):f}function w(e){var n=e-d;return void 0===d||n>=t||n<0||v&&e-h>=u}function k(){var e=o();if(w(e))return x(e);p=setTimeout(k,function(e){var n=t-(e-d);return v?c(n,u-(e-h)):n}(e))}function x(e){return p=void 0,y&&s?g(e):(s=l=void 0,f)}function O(){var e=o(),n=w(e);if(s=arguments,l=this,d=e,n){if(void 0===p)return b(d);if(v)return clearTimeout(p),p=setTimeout(k,t),g(d)}return void 0===p&&(p=setTimeout(k,t)),f}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(v="maxWait"in n)?a(i(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),O.cancel=function(){void 0!==p&&clearTimeout(p),h=0,s=d=l=p=void 0},O.flush=function(){return void 0===p?f:x(o())},O}},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=function(e,t){for(var n=Object.assign({},e),r=0;r<t.length;r+=1){delete n[t[r]]}return n}},function(e,t,n){!function(t){var n,r={},o={16:!1,18:!1,17:!1,91:!1},i="all",a={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},c={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},s=function(e){return c[e]||e.toUpperCase().charCodeAt(0)},l=[];for(n=1;n<20;n++)c["f"+n]=111+n;function u(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function f(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var p={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function d(e){for(n in o)o[n]=e[p[n]]}function h(e,t,n){var o,i;o=v(e),void 0===n&&(n=t,t="all");for(var a=0;a<o.length;a++)i=[],(e=o[a].split("+")).length>1&&(i=y(e),e=[e[e.length-1]]),e=e[0],(e=s(e))in r||(r[e]=[]),r[e].push({shortcut:o[a],scope:t,method:n,key:o[a],mods:i})}for(n in a)h[n]=!1;function m(){return i||"all"}function v(e){var t;return""==(t=(e=e.replace(/\s/g,"")).split(","))[t.length-1]&&(t[t.length-2]+=","),t}function y(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=a[t[n]];return t}function g(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,(function(){n(window.event)}))}g(document,"keydown",(function(e){!function(e){var t,n,i,c,s,f;if(t=e.keyCode,-1==u(l,t)&&l.push(t),93!=t&&224!=t||(t=91),t in o)for(i in o[t]=!0,a)a[i]==t&&(h[i]=!0);else if(d(e),h.filter.call(this,e)&&t in r)for(f=m(),c=0;c<r[t].length;c++)if((n=r[t][c]).scope==f||"all"==n.scope){for(i in s=n.mods.length>0,o)(!o[i]&&u(n.mods,+i)>-1||o[i]&&-1==u(n.mods,+i))&&(s=!1);(0!=n.mods.length||o[16]||o[18]||o[17]||o[91])&&!s||!1===n.method(e,n)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}(e)})),g(document,"keyup",(function(e){var t,n=e.keyCode,r=u(l,n);if(r>=0&&l.splice(r,1),93!=n&&224!=n||(n=91),n in o)for(t in o[n]=!1,a)a[t]==n&&(h[t]=!1)})),g(window,"focus",(function(){for(n in o)o[n]=!1;for(n in a)h[n]=!1}));var b=t.key;t.key=h,t.key.setScope=function(e){i=e||"all"},t.key.getScope=m,t.key.deleteScope=function(e){var t,n,o;for(t in r)for(n=r[t],o=0;o<n.length;)n[o].scope===e?n.splice(o,1):o++},t.key.filter=function(e){var t=(e.target||e.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)},t.key.isPressed=function(e){return"string"==typeof e&&(e=s(e)),-1!=u(l,e)},t.key.getPressedKeyCodes=function(){return l.slice(0)},t.key.noConflict=function(){var e=t.key;return t.key=b,e},t.key.unbind=function(e,t){var n,o,i,a,c,l=[];for(n=v(e),a=0;a<n.length;a++){if((o=n[a].split("+")).length>1&&(l=y(o),e=o[o.length-1]),e=s(e),void 0===t&&(t=m()),!r[e])return;for(i=0;i<r[e].length;i++)(c=r[e][i]).scope===t&&f(c.mods,l)&&(r[e][i]={})}},e.exports=h}(this)},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(764),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return r.call(e,t)}function i(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var c=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,s=new RegExp(c.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),l=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,u=n(288);var f=/[&<>"]/,p=/[&<>"]/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function h(e){return d[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var v=n(209);t.lib={},t.lib.mdurl=n(289),t.lib.ucmicro=n(547),t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=o,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(c,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(s,(function(e,t,n){return t||function(e,t){var n=0;return o(u,t)?u[t]:35===t.charCodeAt(0)&&l.test(t)&&i(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?a(n):e}(e,n)}))},t.isValidEntityCode=i,t.fromCodePoint=a,t.escapeHtml=function(e){return f.test(e)?e.replace(p,h):e},t.arrayReplaceAt=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return v.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e.trim().replace(/\s+/g," ").toUpperCase()}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){(function(t){for(var r=n(389),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",c=o["request"+a],s=o["cancel"+a]||o["cancelRequest"+a],l=0;!c&&l<i.length;l++)c=o[i[l]+"Request"+a],s=o[i[l]+"Cancel"+a]||o[i[l]+"CancelRequest"+a];if(!c||!s){var u=0,f=0,p=[];c=function(e){if(0===p.length){var t=r(),n=Math.max(0,16.666666666666668-(t-u));u=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return p.push({handle:++f,callback:e,cancelled:!1}),f},s=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return c.call(o,e)},e.exports.cancel=function(){s.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=c,e.cancelAnimationFrame=s}}).call(this,n(107))},function(e,t,n){var r=n(56);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){},function(e,t,n){var r=n(86),o=n(191),i=n(67),a=Function.prototype,c=Object.prototype,s=a.toString,l=c.hasOwnProperty,u=s.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==u}},function(e,t,n){"use strict";var r=n(37),o=n(35);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(41)),a=o(n(6)),c=o(n(284)),s=r(n(0)),l=o(n(2)),u=o(n(285)),f=n(510),p=n(207);(0,f.setTwoToneColor)("#1890ff");var d=s.forwardRef((function(e,t){var n=e.className,r=e.icon,o=e.spin,f=e.rotate,d=e.tabIndex,h=e.onClick,m=e.twoToneColor,v=(0,c.default)(e,["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"]),y=(0,l.default)("anticon",(0,a.default)({},"anticon-".concat(r.name),Boolean(r.name)),{"anticon-spin":!!o||"loading"===r.name},n),g=d;void 0===g&&h&&(g=-1);var b=f?{msTransform:"rotate(".concat(f,"deg)"),transform:"rotate(".concat(f,"deg)")}:void 0,w=(0,p.normalizeTwoToneColors)(m),k=(0,i.default)(w,2),x=k[0],O=k[1];return s.createElement("span",Object.assign({role:"img","aria-label":r.name},v,{ref:t,tabIndex:g,onClick:h,className:y}),s.createElement(u.default,{icon:r,primaryColor:x,secondaryColor:O,style:b}))}));d.displayName="AntdIcon",d.getTwoToneColor=f.getTwoToneColor,d.setTwoToneColor=f.setTwoToneColor;var h=d;t.default=h},function(e,t,n){var r=n(385),o=n(386),i=n(247),a=n(387);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c}));var r=n(21),o=n(99);function i(e,t){"function"==typeof e?e(t):"object"===Object(r.a)(e)&&e&&"current"in e&&(e.current=t)}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){i(t,e)}))}}function c(e){var t,n,r=Object(o.isMemo)(e)?e.type.type:e.type;return!("function"==typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"==typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(7),o=n(0);function i(e,t){var n=t||{},i=n.defaultValue,a=n.value,c=n.onChange,s=n.postState,l=o.useState((function(){return void 0!==a?a:void 0!==i?"function"==typeof i?i():i:"function"==typeof e?e():e})),u=Object(r.a)(l,2),f=u[0],p=u[1],d=void 0!==a?a:f;s&&(d=s(d));var h=o.useRef(!0);return o.useEffect((function(){h.current?h.current=!1:void 0===a&&p(a)}),[a]),[d,function(e){p(e),d!==e&&c&&c(e,d)}]}},function(e,t,n){},function(e,t,n){(function(r){var o;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(o=!1,function(){o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=n(536)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(128))},function(e,t,n){var r;!function(o){var i=/^\s+/,a=/\s+$/,c=0,s=o.round,l=o.min,u=o.max,f=o.random;function p(e,t){if(t=t||{},(e=e||"")instanceof p)return e;if(!(this instanceof p))return new p(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,c=null,s=null,f=!1,p=!1;"string"==typeof e&&(e=function(e){e=e.replace(i,"").replace(a,"").toLowerCase();var t,n=!1;if(R[e])e=R[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=H.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=H.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=H.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=H.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=H.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=H.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=H.hex8.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),a:z(t[4]),format:n?"name":"hex8"};if(t=H.hex6.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),format:n?"name":"hex"};if(t=H.hex4.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),a:z(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=H.hex3.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(U(e.r)&&U(e.g)&&U(e.b)?(d=e.r,h=e.g,m=e.b,t={r:255*A(d,255),g:255*A(h,255),b:255*A(m,255)},f=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):U(e.h)&&U(e.s)&&U(e.v)?(r=L(e.s),c=L(e.v),t=function(e,t,n){e=6*A(e,360),t=A(t,100),n=A(n,100);var r=o.floor(e),i=e-r,a=n*(1-t),c=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6;return{r:255*[n,c,a,a,s,n][l],g:255*[s,n,n,c,a,a][l],b:255*[a,a,s,n,n,c][l]}}(e.h,r,c),f=!0,p="hsv"):U(e.h)&&U(e.s)&&U(e.l)&&(r=L(e.s),s=L(e.l),t=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=A(e,360),t=A(t,100),n=A(n,100),0===t)r=o=i=n;else{var c=n<.5?n*(1+t):n+t-n*t,s=2*n-c;r=a(s,c,e+1/3),o=a(s,c,e),i=a(s,c,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,r,s),f=!0,p="hsl"),e.hasOwnProperty("a")&&(n=e.a));var d,h,m;return n=D(n),{ok:f,format:e.format||p,r:l(255,u(t.r,0)),g:l(255,u(t.g,0)),b:l(255,u(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=s(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=n.ok,this._tc_id=c++}function d(e,t,n){e=A(e,255),t=A(t,255),n=A(n,255);var r,o,i=u(e,t,n),a=l(e,t,n),c=(i+a)/2;if(i==a)r=o=0;else{var s=i-a;switch(o=c>.5?s/(2-i-a):s/(i+a),i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:o,l:c}}function h(e,t,n){e=A(e,255),t=A(t,255),n=A(n,255);var r,o,i=u(e,t,n),a=l(e,t,n),c=i,s=i-a;if(o=0===i?0:s/i,i==a)r=0;else{switch(i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:o,v:c}}function m(e,t,n,r){var o=[I(s(e).toString(16)),I(s(t).toString(16)),I(s(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function v(e,t,n,r){return[I(F(r)),I(s(e).toString(16)),I(s(t).toString(16)),I(s(n).toString(16))].join("")}function y(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s-=t/100,n.s=M(n.s),p(n)}function g(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s+=t/100,n.s=M(n.s),p(n)}function b(e){return p(e).desaturate(100)}function w(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l+=t/100,n.l=M(n.l),p(n)}function k(e,t){t=0===t?0:t||10;var n=p(e).toRgb();return n.r=u(0,l(255,n.r-s(-t/100*255))),n.g=u(0,l(255,n.g-s(-t/100*255))),n.b=u(0,l(255,n.b-s(-t/100*255))),p(n)}function x(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l-=t/100,n.l=M(n.l),p(n)}function O(e,t){var n=p(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,p(n)}function C(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function _(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+120)%360,s:t.s,l:t.l}),p({h:(n+240)%360,s:t.s,l:t.l})]}function E(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+90)%360,s:t.s,l:t.l}),p({h:(n+180)%360,s:t.s,l:t.l}),p({h:(n+270)%360,s:t.s,l:t.l})]}function j(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+72)%360,s:t.s,l:t.l}),p({h:(n+216)%360,s:t.s,l:t.l})]}function S(e,t,n){t=t||6,n=n||30;var r=p(e).toHsl(),o=360/n,i=[p(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(p(r));return i}function P(e,t){t=t||6;for(var n=p(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],c=1/t;t--;)a.push(p({h:r,s:o,v:i})),i=(i+c)%1;return a}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=D(e),this._roundA=s(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=s(360*e.h),n=s(100*e.s),r=s(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=s(360*e.h),n=s(100*e.s),r=s(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[I(s(e).toString(16)),I(s(t).toString(16)),I(s(n).toString(16)),I(F(r))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(100*A(this._r,255))+"%",g:s(100*A(this._g,255))+"%",b:s(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+s(100*A(this._r,255))+"%, "+s(100*A(this._g,255))+"%, "+s(100*A(this._b,255))+"%)":"rgba("+s(100*A(this._r,255))+"%, "+s(100*A(this._g,255))+"%, "+s(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(T[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+v(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=p(e);n="#"+v(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(j,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:L(e[r]));e=n}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:f(),g:f(),b:f()})},p.mix=function(e,t,n){n=0===n?0:n||50;var r=p(e).toRgb(),o=p(t).toRgb(),i=n/100;return p({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},p.readability=function(e,t){var n=p(e),r=p(t);return(o.max(n.getLuminance(),r.getLuminance())+.05)/(o.min(n.getLuminance(),r.getLuminance())+.05)},p.isReadable=function(e,t,n){var r,o,i=p.readability(e,t);switch(o=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},p.mostReadable=function(e,t,n){var r,o,i,a,c=null,s=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var l=0;l<t.length;l++)(r=p.readability(e,t[l]))>s&&(s=r,c=p(t[l]));return p.isReadable(e,c,{level:i,size:a})||!o?c:(n.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],n))};var R=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},T=p.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(R);function D(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function A(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=l(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function M(e){return l(1,u(0,e))}function N(e){return parseInt(e,16)}function I(e){return 1==e.length?"0"+e:""+e}function L(e){return e<=1&&(e=100*e+"%"),e}function F(e){return o.round(255*parseFloat(e)).toString(16)}function z(e){return N(e)/255}var B,V,q,H=(V="[\\s|\\(]+("+(B="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",q="[\\s|\\(]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",{CSS_UNIT:new RegExp(B),rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function U(e){return!!H.CSS_UNIT.exec(e)}e.exports?e.exports=p:void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n.n(r),i=n(99);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return o.a.Children.forEach(e,(function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(a(e)):Object(i.isFragment)(e)&&e.props?n=n.concat(a(e.props.children,t)):n.push(e))})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(8),o=n.n(r);function i(e,t,n,r){var i=o.a.unstable_batchedUpdates?function(e){o.a.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.convertFieldsError=a,t.format=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1,o=t[0],a=t.length;if("function"==typeof o)return o.apply(null,t.slice(1));if("string"==typeof o){for(var c=String(o).replace(i,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch(e){return"[Circular]"}break;default:return e}})),s=t[r];r<a;s=t[++r])c+=" "+s;return c}return o},t.isEmptyValue=function(e,t){if(null==e)return!0;if("array"===t&&Array.isArray(e)&&!e.length)return!0;if(function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"pattern"===e}(t)&&"string"==typeof e&&!e)return!0;return!1},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.asyncMap=function(e,t,n,r){if(t.first){return c(function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n])})),t}(e),n,r)}var o=t.firstFields||[];!0===o&&(o=Object.keys(e));var i=Object.keys(e),s=i.length,l=0,u=[],f=new Promise((function(t,f){var p=function(e){if(u.push.apply(u,e),++l===s)return r(u),u.length?f({errors:u,fields:a(u)}):t()};i.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?c(r,n,p):function(e,t,n){var r=[],o=0,i=e.length;function a(e){r.push.apply(r,e),++o===i&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,p)}))}));return f.catch((function(e){return e})),f},t.complementError=function(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"==typeof t?t():t,field:t.field||e.fullField}}},t.deepMerge=function(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"object"===(void 0===i?"undefined":o(i))&&"object"===o(e[n])?e[n]=r({},e[n],i):e[n]=i}return e};var i=/%[sdj%]/g;t.warning=function(){};function a(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function c(e,t,n){var r=0,o=e.length;!function i(a){if(a&&a.length)n(a);else{var c=r;r+=1,c<o?t(e[c],i):n([])}}([])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(21),o=n(19);function i(e,t){return!t||"object"!==Object(r.a)(t)&&"function"!=typeof t?Object(o.a)(e):t}},function(e,t,n){"use strict";var r=n(99),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function s(e){return r.isMemo(e)?a:c[e.$$typeof]||o}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[r.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=d(n);o&&o!==h&&e(t,o,r)}var a=u(n);f&&(a=a.concat(f(n)));for(var c=s(t),m=s(n),v=0;v<a.length;++v){var y=a[v];if(!(i[y]||r&&r[y]||m&&m[y]||c&&c[y])){var g=p(n,y);try{l(t,y,g)}catch(e){}}}}return t}},function(e,t){e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),s=0;s<i.length;s++){var l=i[s];if(!c(l))return!1;var u=e[l],f=t[l];if(!1===(o=n?n.call(r,u,f,l):void 0)||void 0===o&&u!==f)return!1}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return y}));var r,o=n(0),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=o.createContext(null),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return o.createElement(a.Provider,{value:this.props.store},this.props.children)},t}(o.Component),s=n(53),l=n.n(s),u=n(52),f=n.n(u),p=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var h=function(){return{}};function m(e,t){void 0===t&&(t={});var n=!!e,r=e||h;return function(i){var c=function(t){function c(e,n){var o=t.call(this,e,n)||this;return o.unsubscribe=null,o.handleChange=function(){if(o.unsubscribe){var e=r(o.store.getState(),o.props);o.setState({subscribed:e})}},o.store=o.context,o.state={subscribed:r(o.store.getState(),e),store:o.store,props:e},o}return p(c,t),c.getDerivedStateFromProps=function(t,n){return e&&2===e.length&&t!==n.props?{subscribed:r(n.store.getState(),t),props:t}:{props:t}},c.prototype.componentDidMount=function(){this.trySubscribe()},c.prototype.componentWillUnmount=function(){this.tryUnsubscribe()},c.prototype.shouldComponentUpdate=function(e,t){return!l()(this.props,e)||!l()(this.state.subscribed,t.subscribed)},c.prototype.trySubscribe=function(){n&&(this.unsubscribe=this.store.subscribe(this.handleChange),this.handleChange())},c.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},c.prototype.render=function(){var e=d(d(d({},this.props),this.state.subscribed),{store:this.store});return o.createElement(i,d({},e,{ref:this.props.miniStoreForwardedRef}))},c.displayName="Connect("+function(e){return e.displayName||e.name||"Component"}(i)+")",c.contextType=a,c}(o.Component);if(t.forwardRef){var s=o.forwardRef((function(e,t){return o.createElement(c,d({},e,{miniStoreForwardedRef:t}))}));return f()(s,i)}return f()(c,i)}}var v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function y(e){var t=e,n=[];return{setState:function(e){t=v(v({},t),e);for(var r=0;r<n.length;r++)n[r]()},getState:function(){return t},subscribe:function(e){return n.push(e),function(){var t=n.indexOf(e);n.splice(t,1)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=l(n(395)),o=l(n(460)),i=l(n(477)),a=l(n(478)),c=l(n(479)),s=l(n(480));function l(e){return e&&e.__esModule?e:{default:e}}t.hover=a.default,t.handleHover=a.default,t.handleActive=c.default,t.loop=s.default;var u=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var c=(0,r.default)(n),s=(0,o.default)(e,c);return(0,i.default)(s)};t.default=u},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e){return+setTimeout(e,16)},o=function(e){return clearTimeout(e)};function i(e){return r(e)}"undefined"!=typeof window&&"requestAnimationFrame"in window&&(r=function(e){return window.requestAnimationFrame(e)},o=function(e){return window.cancelAnimationFrame(e)}),i.cancel=o},function(e,t,n){var r=n(196);e.exports=function(e,t){return r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(321)),o=l(n(794)),i=l(n(795)),a=l(n(796)),c=l(n(797)),s=l(n(798));function l(e){return e&&e.__esModule?e:{default:e}}t.default={required:r.default,whitespace:o.default,type:i.default,range:a.default,enum:c.default,pattern:s.default}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(8),o=n.n(r);function i(e){return e instanceof HTMLElement?e:o.a.findDOMNode(e)}},function(e,t,n){var r=n(813);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(511))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){e.exports=n(649)},function(e,t,n){var r=n(249),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=r},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(317),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},o={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},i=[],a=[];function c(e,t,n){e.addEventListener(t,n,!1)}function s(e,t,n){e.removeEventListener(t,n,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var e=document.createElement("div").style;function t(t,n){for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];for(var i in o)if(i in e){n.push(o[i]);break}}}"AnimationEvent"in window||(delete r.animationstart.animation,delete o.animationend.animation),"TransitionEvent"in window||(delete r.transitionstart.transition,delete o.transitionend.transition),t(r,i),t(o,a)}();var l={startEvents:i,addStartEventListener:function(e,t){0!==i.length?i.forEach((function(n){c(e,n,t)})):window.setTimeout(t,0)},removeStartEventListener:function(e,t){0!==i.length&&i.forEach((function(n){s(e,n,t)}))},endEvents:a,addEndEventListener:function(e,t){0!==a.length?a.forEach((function(n){c(e,n,t)})):window.setTimeout(t,0)},removeEndEventListener:function(e,t){0!==a.length&&a.forEach((function(n){s(e,n,t)}))}};t.a=l},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(222)("wks"),o=n(154),i=n(88).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,s=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&s()}function c(){i(a)}function s(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(c,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},u=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},f=y(0,0,0,0);function p(e){return parseFloat(e)||0}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+p(e["border-"+n+"-width"])}),0)}function h(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=u(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=p(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,c=p(r.width),s=p(r.height);if("border-box"===r.boxSizing&&(Math.round(c+i)!==t&&(c-=d(r,"left","right")+i),Math.round(s+a)!==n&&(s-=d(r,"top","bottom")+a)),!function(e){return e===u(e).document.documentElement}(e)){var l=Math.round(c+i)-t,h=Math.round(s+a)-n;1!==Math.abs(l)&&(c-=l),1!==Math.abs(h)&&(s-=h)}return y(o.left,o.top,c,s)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof u(e).SVGGraphicsElement}:function(e){return e instanceof u(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return r?m(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):h(e):f}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var g=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,o,i,a,c,s,u=(r=(n=t).x,o=n.y,i=n.width,a=n.height,c="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(c.prototype),l(s,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),s);l(this,{target:e,contentRect:u})},w=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new g(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),k="undefined"!=typeof WeakMap?new WeakMap:new n,x=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=s.getInstance(),r=new w(t,n,this);k.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){x.prototype[e]=function(){var t;return(t=k.get(this))[e].apply(t,arguments)}}));var O=void 0!==o.ResizeObserver?o.ResizeObserver:x;t.a=O}).call(this,n(107))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(506))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(520))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){(function(r){var o;!function(i){var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function c(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==i?e.maxListeners:10,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function l(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==r&&r.emitWarning){var o=new Error(n);o.name="MaxListenersExceededWarning",o.emitter=this,o.count=e,r.emitWarning(o)}else console.error(n),console.trace&&console.trace()}function u(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,s.call(this,e)}function f(e,t,n,r){if(!n)return[];var o,i,a,c,s,l,u,p=[],d=t.length,h=t[r],m=t[r+1];if(r===d&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(o=0,i=n._listeners.length;o<i;o++)e&&e.push(n._listeners[o]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(p=p.concat(f(e,t,n[a],r+1)));return p}if("**"===h){for(a in(u=r+1===d||r+2===d&&"*"===m)&&n._listeners&&(p=p.concat(f(e,t,n,d))),n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!u&&(p=p.concat(f(e,t,n[a],d))),p=p.concat(f(e,t,n[a],r))):p=a===m?p.concat(f(e,t,n[a],r+2)):p.concat(f(e,t,n[a],r)));return p}p=p.concat(f(e,t,n[h],r+1))}if((c=n["*"])&&f(e,t,c,r+1),s=n["**"])if(r<d)for(a in s._listeners&&f(e,t,s,d),s)"_listeners"!==a&&s.hasOwnProperty(a)&&(a===m?f(e,t,s[a],r+2):a===h?f(e,t,s[a],r+1):((l={})[a]=s[a],f(e,t,{"**":l},r+1)));else s._listeners?f(e,t,s,d):s["*"]&&s["*"]._listeners&&f(e,t,s["*"],d);return p}function p(e,t){for(var n=0,r=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var o=this.listenerTree,a=e.shift();a!==i;){if(o[a]||(o[a]={}),o=o[a],0===e.length)return o._listeners?("function"==typeof o._listeners&&(o._listeners=[o._listeners]),o._listeners.push(t),!o._listeners.warned&&this._maxListeners>0&&o._listeners.length>this._maxListeners&&(o._listeners.warned=!0,l.call(this,o._listeners.length,a))):o._listeners=t,!0;a=e.shift()}return!0}u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(e){e!==i&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},u.prototype.event="",u.prototype.once=function(e,t){return this._once(e,t,!1)},u.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},u.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},u.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},u.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},u.prototype._many=function(e,t,n,r){var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function i(){return 0==--t&&o.off(e,i),n.apply(this,arguments)}return i._origin=n,this._on(e,i,r),o},u.prototype.emit=function(){this._events||c.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,n,r,o,i,a=arguments.length;if(this._all&&this._all.length){if(i=this._all.slice(),a>3)for(t=new Array(a),o=0;o<a;o++)t[o]=arguments[o];for(r=0,n=i.length;r<n;r++)switch(this.event=e,a){case 1:i[r].call(this,e);break;case 2:i[r].call(this,e,arguments[1]);break;case 3:i[r].call(this,e,arguments[1],arguments[2]);break;default:i[r].apply(this,t)}}if(this.wildcard){i=[];var s="string"==typeof e?e.split(this.delimiter):e.slice();f.call(this,i,s,this.listenerTree,0)}else{if("function"==typeof(i=this._events[e])){switch(this.event=e,a){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),o=1;o<a;o++)t[o-1]=arguments[o];i.apply(this,t)}return!0}i&&(i=i.slice())}if(i&&i.length){if(a>3)for(t=new Array(a-1),o=1;o<a;o++)t[o-1]=arguments[o];for(r=0,n=i.length;r<n;r++)switch(this.event=e,a){case 1:i[r].call(this);break;case 2:i[r].call(this,arguments[1]);break;case 3:i[r].call(this,arguments[1],arguments[2]);break;default:i[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||c.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,r,o,i,a=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),o=1;o<s;o++)t[o]=arguments[o];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,s){case 1:a.push(this._all[r].call(this,e));break;case 2:a.push(this._all[r].call(this,e,arguments[1]));break;case 3:a.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:a.push(this._all[r].apply(this,t))}}if(this.wildcard){i=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();f.call(this,i,l,this.listenerTree,0)}else i=this._events[e];if("function"==typeof i)switch(this.event=e,s){case 1:a.push(i.call(this));break;case 2:a.push(i.call(this,arguments[1]));break;case 3:a.push(i.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),o=1;o<s;o++)t[o-1]=arguments[o];a.push(i.apply(this,t))}else if(i&&i.length){if(i=i.slice(),s>3)for(t=new Array(s-1),o=1;o<s;o++)t[o-1]=arguments[o];for(r=0,n=i.length;r<n;r++)switch(this.event=e,s){case 1:a.push(i[r].call(this));break;case 2:a.push(i[r].call(this,arguments[1]));break;case 3:a.push(i[r].call(this,arguments[1],arguments[2]));break;default:a.push(i[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},u.prototype.on=function(e,t){return this._on(e,t,!1)},u.prototype.prependListener=function(e,t){return this._on(e,t,!0)},u.prototype.onAny=function(e){return this._onAny(e,!1)},u.prototype.prependAny=function(e){return this._onAny(e,!0)},u.prototype.addListener=u.prototype.on,u.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},u.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||c.call(this),this._newListener&&this.emit("newListener",e,t),this.wildcard?(p.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,l.call(this,this._events[e].length,e))):this._events[e]=t,this)},u.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();r=f.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var c=0;c<r.length;c++){var s=r[c];if(n=s._listeners,a(n)){for(var l=-1,u=0,p=n.length;u<p;u++)if(n[u]===t||n[u].listener&&n[u].listener===t||n[u]._origin&&n[u]._origin===t){l=u;break}if(l<0)continue;return this.wildcard?s._listeners.splice(l,1):this._events[e].splice(l,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(t!==i){var n=Object.keys(t);for(var r in n){var o=n[r],a=t[o];a instanceof Function||"object"!=typeof a||null===a||(Object.keys(a).length>0&&e(t[o]),0===Object.keys(a).length&&delete t[o])}}}(this.listenerTree),this},u.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(e){if(e===i)return!this._events||c.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=f.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){n[r]._listeners=null}else this._events&&(this._events[e]=null);return this},u.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return f.call(this,t,n,this.listenerTree,0),t}return this._events||c.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},u.prototype.eventNames=function(){return Object.keys(this._events)},u.prototype.listenerCount=function(e){return this.listeners(e).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},(o=function(){return u}.call(t,n,t,e))===i||(e.exports=o)}()}).call(this,n(128))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";var r=n(4),o=n(11),i=n(12),a=n(19),c=n(13),s=n(20),l=n(0),u=n.n(l),f=n(8),p=n.n(f),d=n(80),h=n(61),m=n(42),v=n(49),y=n(166),g=n(2),b=n.n(g);function w(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var k=n(17),x=n(36),O=n.n(x),C=n(179),_=n(84),E=l.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,o=e.style,i=e.children,a=e.onMouseEnter,c=e.onMouseLeave,s=e.onMouseDown,u=e.onTouchStart,f=i;return l.Children.count(i)>1&&(f=l.createElement("div",{className:"".concat(n,"-content")},i)),l.createElement("div",{ref:t,className:r,onMouseEnter:a,onMouseLeave:c,onMouseDown:s,onTouchStart:u,style:o},f)}));E.displayName="PopupInner";var j=E;function S(e){var t=e.prefixCls,n=e.motion,r=e.animation,o=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:o?{motionName:o}:null)}function P(e){return e&&e.motionName}var R=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).state={targetWidth:void 0,targetHeight:void 0,status:null,prevVisible:null,alignClassName:null,inMotion:!1},e.popupRef=u.a.createRef(),e.alignRef=u.a.createRef(),e.nextFrameState=null,e.nextFrameId=null,e.onAlign=function(t,n){var r=e.state.status,o=e.props,i=o.getClassNameFromAlign,a=o.onAlign,c=i(n);"align"===r?e.setState({alignClassName:c,status:"aligned"},(function(){e.alignRef.current.forceAlign()})):"aligned"===r?(e.setState({alignClassName:c,status:"afterAlign"}),a(t,n)):e.setState({alignClassName:c})},e.onMotionEnd=function(){var t=e.props.visible;e.setState({status:t?"AfterMotion":"stable",inMotion:!1})},e.setStateOnNextFrame=function(t){e.cancelFrameState(),e.nextFrameState=Object(r.a)(Object(r.a)({},e.nextFrameState),t),e.nextFrameId=O()((function(){var t=Object(r.a)({},e.nextFrameState);e.nextFrameState=null,e.setState(t)}))},e.getMotion=function(){return Object(r.a)({},S(e.props))},e.getAlignTarget=function(){var t=e.props,n=t.point,r=t.getRootDomNode;return n||r},e.cancelFrameState=function(){O.a.cancel(e.nextFrameId)},e.renderPopupElement=function(){var t=e.state,n=t.status,o=t.targetHeight,i=t.targetWidth,a=t.alignClassName,c=e.props,s=c.prefixCls,l=c.className,f=c.style,p=c.stretch,d=c.visible,h=c.align,v=c.destroyPopupOnHide,y=c.onMouseEnter,g=c.onMouseLeave,w=c.onMouseDown,k=c.onTouchStart,x=c.children,O=b()(s,l,a),E="".concat(s,"-hidden"),S={};p&&(-1!==p.indexOf("height")?S.height=o:-1!==p.indexOf("minHeight")&&(S.minHeight=o),-1!==p.indexOf("width")?S.width=i:-1!==p.indexOf("minWidth")&&(S.minWidth=i));var P=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},S),e.getZIndexStyle()),f),{},{opacity:"stable"!==n&&d?0:void 0,pointerEvents:"stable"!==n&&d?"none":void 0}),R=e.getMotion(),T=d;d&&"beforeMotion"!==n&&"motion"!==n&&"stable"!==n&&(R.motionAppear=!1,R.motionEnter=!1,R.motionLeave=!1),"afterAlign"!==n&&"beforeMotion"!==n||(T=!1),["onEnterStart","onAppearStart","onLeaveStart"].forEach((function(t){var n=null==R?void 0:R[t];R[t]=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];null==n||n.apply(void 0,r),e.setState({inMotion:!0})}}));var D=!d||"align"!==n&&"aligned"!==n&&"stable"!==n,A=!0;return"stable"===n&&(A=d),v&&!A?null:u.a.createElement(_.b,Object.assign({visible:T},R,{removeOnLeave:!1,onEnterEnd:e.onMotionEnd,onLeaveEnd:e.onMotionEnd,leavedClassName:E}),(function(t,n){var o=t.style,i=t.className;return u.a.createElement(C.a,{target:e.getAlignTarget(),key:"popup",ref:e.alignRef,monitorWindowResize:!0,disabled:D,align:h,onAlign:e.onAlign},u.a.createElement(j,{prefixCls:s,className:b()(O,i),ref:Object(m.a)(n,e.popupRef),onMouseEnter:y,onMouseLeave:g,onMouseDown:w,onTouchStart:k,style:Object(r.a)(Object(r.a)({},P),o)},x))}))},e.renderMaskElement=function(){var t=e.props,n=t.mask,o=t.maskMotion,i=t.maskTransitionName,a=t.maskAnimation,c=t.prefixCls,s=t.visible;if(!n)return null;var l={};return o&&o.motionName&&(l=Object(r.a)({motionAppear:!0},S({motion:o,prefixCls:c,transitionName:i,animation:a}))),u.a.createElement(_.b,Object.assign({},l,{visible:s,removeOnLeave:!0}),(function(t){var n=t.className;return u.a.createElement("div",{style:e.getZIndexStyle(),key:"mask",className:b()("".concat(c,"-mask"),n)})}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this.state.status,t=this.props,n=t.getRootDomNode,r=t.visible,o=t.stretch;if(this.cancelFrameState(),r&&"stable"!==e)switch(e){case null:this.setStateOnNextFrame({status:o?"measure":"align"});break;case"afterAlign":this.setStateOnNextFrame({status:P(this.getMotion())?"beforeMotion":"stable"});break;case"AfterMotion":this.setStateOnNextFrame({status:"stable"});break;default:var i=["measure","align",null,"beforeMotion","motion"],a=i.indexOf(e),c=i[a+1];-1!==a&&c&&this.setStateOnNextFrame({status:c})}if("measure"===e){var s=n();s&&this.setStateOnNextFrame({targetHeight:s.offsetHeight,targetWidth:s.offsetWidth})}}},{key:"componentWillUnmount",value:function(){this.cancelFrameState()}},{key:"getZIndexStyle",value:function(){return{zIndex:this.props.zIndex}}},{key:"render",value:function(){return u.a.createElement("div",null,this.renderMaskElement(),this.renderPopupElement())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.visible,r=Object(k.a)(e,["visible"]),o=t.prevVisible,i=t.status,a=t.inMotion,c={prevVisible:n,status:i},s=S(r);return null===o&&!1===n?(c.status="stable",c.inMotion=!1):n!==o&&(c.inMotion=!1,n||P(s)&&a?c.status=null:c.status="stable",n&&(c.alignClassName=null)),c}}]),n}(l.Component),T=l.createContext(null);function D(){}function A(){return""}function M(){return window.document}var N=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var I,L;t.a=(I=y.a,(L=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var r,i;return Object(o.a)(this,n),(r=t.call(this,e)).popupRef=u.a.createRef(),r.triggerRef=u.a.createRef(),r.onMouseEnter=function(e){var t=r.props.mouseEnterDelay;r.fireEvents("onMouseEnter",e),r.delaySetPopupVisible(!0,t,t?null:e)},r.onMouseMove=function(e){r.fireEvents("onMouseMove",e),r.setPoint(e)},r.onMouseLeave=function(e){r.fireEvents("onMouseLeave",e),r.delaySetPopupVisible(!1,r.props.mouseLeaveDelay)},r.onPopupMouseEnter=function(){r.clearDelayTimer()},r.onPopupMouseLeave=function(e){e.relatedTarget&&!e.relatedTarget.setTimeout&&r.popupRef.current&&r.popupRef.current.popupRef.current&&Object(d.a)(r.popupRef.current.popupRef.current,e.relatedTarget)||r.delaySetPopupVisible(!1,r.props.mouseLeaveDelay)},r.onFocus=function(e){r.fireEvents("onFocus",e),r.clearDelayTimer(),r.isFocusToShow()&&(r.focusTime=Date.now(),r.delaySetPopupVisible(!0,r.props.focusDelay))},r.onMouseDown=function(e){r.fireEvents("onMouseDown",e),r.preClickTime=Date.now()},r.onTouchStart=function(e){r.fireEvents("onTouchStart",e),r.preTouchTime=Date.now()},r.onBlur=function(e){r.fireEvents("onBlur",e),r.clearDelayTimer(),r.isBlurToHide()&&r.delaySetPopupVisible(!1,r.props.blurDelay)},r.onContextMenu=function(e){e.preventDefault(),r.fireEvents("onContextMenu",e),r.setPopupVisible(!0,e)},r.onContextMenuClose=function(){r.isContextMenuToShow()&&r.close()},r.onClick=function(e){if(r.fireEvents("onClick",e),r.focusTime){var t;if(r.preClickTime&&r.preTouchTime?t=Math.min(r.preClickTime,r.preTouchTime):r.preClickTime?t=r.preClickTime:r.preTouchTime&&(t=r.preTouchTime),Math.abs(t-r.focusTime)<20)return;r.focusTime=0}r.preClickTime=0,r.preTouchTime=0,r.isClickToShow()&&(r.isClickToHide()||r.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var n=!r.state.popupVisible;(r.isClickToHide()&&!n||n&&r.isClickToShow())&&r.setPopupVisible(!r.state.popupVisible,e)},r.onPopupMouseDown=function(){var e;r.hasPopupMouseDown=!0,clearTimeout(r.mouseDownTimeout),r.mouseDownTimeout=window.setTimeout((function(){r.hasPopupMouseDown=!1}),0),r.context&&(e=r.context).onPopupMouseDown.apply(e,arguments)},r.onDocumentClick=function(e){if(!r.props.mask||r.props.maskClosable){var t=e.target,n=r.getRootDomNode(),o=r.getPopupDomNode();Object(d.a)(n,t)||Object(d.a)(o,t)||r.hasPopupMouseDown||r.close()}},r.getRootDomNode=function(){var e=r.props.getTriggerDOMNode;if(e)return e(r.triggerRef.current);try{var t=Object(h.a)(r.triggerRef.current);if(t)return t}catch(e){}return p.a.findDOMNode(Object(a.a)(r))},r.getPopupClassNameFromAlign=function(e){var t=[],n=r.props,o=n.popupPlacement,i=n.builtinPlacements,a=n.prefixCls,c=n.alignPoint,s=n.getPopupClassNameFromAlign;return o&&i&&t.push(function(e,t,n,r){for(var o=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var c=i[a];if(w(e[c].points,o,r))return"".concat(t,"-placement-").concat(c)}return""}(i,a,e,c)),s&&t.push(s(e)),t.join(" ")},r.getComponent=function(){var e=r.props,t=e.prefixCls,n=e.destroyPopupOnHide,o=e.popupClassName,i=e.onPopupAlign,a=e.popupMotion,c=e.popupAnimation,s=e.popupTransitionName,l=e.popupStyle,f=e.mask,p=e.maskAnimation,d=e.maskTransitionName,h=e.maskMotion,m=e.zIndex,v=e.popup,y=e.stretch,g=e.alignPoint,b=r.state,w=b.popupVisible,k=b.point,x=r.getPopupAlign(),O={};return r.isMouseEnterToShow()&&(O.onMouseEnter=r.onPopupMouseEnter),r.isMouseLeaveToHide()&&(O.onMouseLeave=r.onPopupMouseLeave),O.onMouseDown=r.onPopupMouseDown,O.onTouchStart=r.onPopupMouseDown,u.a.createElement(R,Object.assign({prefixCls:t,destroyPopupOnHide:n,visible:w,point:g&&k,className:o,align:x,onAlign:i,animation:c,getClassNameFromAlign:r.getPopupClassNameFromAlign},O,{stretch:y,getRootDomNode:r.getRootDomNode,style:l,mask:f,zIndex:m,transitionName:s,maskAnimation:p,maskTransitionName:d,maskMotion:h,ref:r.popupRef,motion:a}),"function"==typeof v?v():v)},r.getContainer=function(){var e=Object(a.a)(r).props,t=document.createElement("div");return t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",(e.getPopupContainer?e.getPopupContainer(r.getRootDomNode()):e.getDocument().body).appendChild(t),t},r.setPoint=function(e){r.props.alignPoint&&e&&r.setState({point:{pageX:e.pageX,pageY:e.pageY}})},r.handlePortalUpdate=function(){r.state.prevPopupVisible!==r.state.popupVisible&&r.props.afterPopupVisibleChange(r.state.popupVisible)},i="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,r.state={prevPopupVisible:i,popupVisible:i},N.forEach((function(e){r["fire".concat(e)]=function(t){r.fireEvents(e,t)}})),r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(),this.clickOutsideHandler=Object(v.a)(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(),this.touchOutsideHandler=Object(v.a)(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(),this.contextMenuOutsideHandler1=Object(v.a)(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Object(v.a)(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout)}},{key:"getPopupDomNode",value:function(){return this.popupRef.current&&this.popupRef.current.popupRef.current?this.popupRef.current.popupRef.current:null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,o=e.builtinPlacements;return t&&o?function(e,t,n){var o=e[t]||{};return Object(r.a)(Object(r.a)({},o),n)}(o,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,o=1e3*t;if(this.clearDelayTimer(),o){var i=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,i),r.clearDelayTimer()}),o)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){this.state.popupVisible&&this.popupRef.current&&this.popupRef.current.alignRef.current&&this.popupRef.current.alignRef.current.forceAlign()}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,t=this.props,n=t.children,o=t.forceRender,i=t.alignPoint,a=t.className,c=t.autoDestroy,s=u.a.Children.only(n),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,i&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var f=b()(s&&s.props&&s.props.className,a);f&&(l.className=f);var p=Object(r.a)({},l);Object(m.c)(s)&&(p.ref=Object(m.a)(this.triggerRef,s.ref));var d,h=u.a.cloneElement(s,p);return(e||this.popupRef.current||o)&&(d=u.a.createElement(I,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&c&&(d=null),u.a.createElement(T.Provider,{value:{onPopupMouseDown:this.onPopupMouseDown}},h,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),n}(u.a.Component)).contextType=T,L.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:A,getDocument:M,onPopupVisibleChange:D,afterPopupVisibleChange:D,onPopupAlign:D,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},L)},function(e,t,n){"use strict";function r(e,t){return!!e&&e.contains(t)}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(625),o=n(626),i=n(247),a=n(627);e.exports=function(e){return r(e)||o(e)||i(e)||a()}},function(e,t,n){"use strict";var r={};(0,n(87).assign)(r,n(689),n(692),n(309)),e.exports=r},function(e,t){e.exports=["cursor","anchor","focus",{card:{type:/^[\w\-]+$/,name:/^[\w\-]+$/,value:"*"}},{span:{class:/^lake-fontsize-\d+$|lake\-card\-[\w\-]{1,100}/,style:{color:"@color","background-color":"@color"}}},"strong","em","del","u",{h1:{id:/^[\w\.\-]+$/}},{h2:{id:/^[\w\.\-]+$/}},{h3:{id:/^[\w\.\-]+$/}},{h4:{id:/^[\w\.\-]+$/}},{h5:{id:/^[\w\.\-]+$/}},{h6:{id:/^[\w\.\-]+$/}},{p:{class:/^lake-lineheight-\d+$/,"data-lake-id":"*"}},"hr","code","mark",{pre:{"data-lang":/^[\w\.\-]+$/}},{blockquote:{class:["lake-alert","lake-alert-info","lake-alert-warning","lake-alert-danger","lake-alert-success","lake-alert-tips"]}},"sub","sup","br",{img:{src:"@url",width:"@number",height:"@number",style:{"max-width":"@length","max-height":"@length",width:"@length",height:"@length"},alt:"*",title:"*","data-size":"@number","data-width":"@number","data-height":"@number"}},{image:{src:"@url",width:"@number",height:"@number",style:{"max-width":"@length",width:"@length",height:"@length"},alt:"*",title:"*","data-size":"@number","data-width":"@number","data-height":"@number"}},{a:{name:"*",href:"@url",target:["_blank","_parent","_top"],ref:"*",class:["lake-video-link"]}},{ul:{class:["lake-list"],"data-lake-indent":"@number"}},{ol:{start:"@number","data-lake-indent":"@number"}},{li:{class:["lake-list-node","lake-list-task"]}},{table:{class:["lake-table","lake-no-border"],style:{width:"@length",height:"@length"}}},"colgroup",{col:{width:"@length"}},"tbody","th","tr",{td:{rowspan:"@number",colspan:"@number"}},{block:{style:{"text-align":["left","center","right","justify"],"text-indent":"@length","padding-left":"@length","background-color":"@color"}}},{input:{type:["checkbox"],checked:"checked",$allow:{type:["checkbox"]}}},{video:{src:"@url","data-size":"@number","data-type":/^\w{1,100}\/\w{1,100}$/,"data-name":"*",controls:!0}},{iframe:{src:/^https?:\/\/(?:riddle\.alibaba\-inc\.com|\w{0,100}\.youku\.com|\w{0,100}\.bilibili\.com)\//,height:"@number",frameborder:["yes","no"],allowtransparency:["true","false"],allowfullscreen:["true","false"]}}]},function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));var r=n(3),o=n(4),i=n(11),a=n(12),c=n(19),s=n(13),l=n(20),u=n(21),f=n(0),p=n(61),d=n(42),h=n(2),m=n.n(h),v=n(36),y=n.n(v),g=!("undefined"==typeof window||!window.document||!window.document.createElement);function b(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var w,k,x,O=(w=g,k="undefined"!=typeof window?window:{},x={animationend:b("Animation","AnimationEnd"),transitionend:b("Transition","TransitionEnd")},w&&("AnimationEvent"in k||delete x.animationend.animation,"TransitionEvent"in k||delete x.transitionend.transition),x),C={};if(g){var _=document.createElement("div");C=_.style}var E={};function j(e){if(E[e])return E[e];var t=O[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in C)return E[e]=t[i],E[e]}return""}var S=j("animationend"),P=j("transitionend"),R=!(!S||!P);function T(e,t){return e?"object"===Object(u.a)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var D="none",A="appear",M="enter",N="leave";var I=function(e){var t=e,n=!!f.forwardRef;function h(e){return!(!e.motionName||!t)}"object"===Object(u.a)(e)&&(t=e.transitionSupport,n="forwardRef"in e?e.forwardRef:n);var v=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).$cacheEle=null,e.node=null,e.raf=null,e.destroyed=!1,e.deadlineId=null,e.state={status:D,statusActive:!1,newStatus:!1,statusStyle:null},e.onDomUpdate=function(){var t=e.state,n=t.status,r=t.newStatus,o=e.props,i=o.onAppearStart,a=o.onEnterStart,c=o.onLeaveStart,s=o.onAppearActive,l=o.onEnterActive,u=o.onLeaveActive,f=o.motionAppear,p=o.motionEnter,d=o.motionLeave;if(h(e.props)){var m=e.getElement();e.$cacheEle!==m&&(e.removeEventListener(e.$cacheEle),e.addEventListener(m),e.$cacheEle=m),r&&n===A&&f?e.updateStatus(i,null,null,(function(){e.updateActiveStatus(s,A)})):r&&n===M&&p?e.updateStatus(a,null,null,(function(){e.updateActiveStatus(l,M)})):r&&n===N&&d&&e.updateStatus(c,null,null,(function(){e.updateActiveStatus(u,N)}))}},e.onMotionEnd=function(t){if(!t||t.deadline||t.target===e.getElement()){var n=e.state,r=n.status,o=n.statusActive,i=e.props,a=i.onAppearEnd,c=i.onEnterEnd,s=i.onLeaveEnd;r===A&&o?e.updateStatus(a,{status:D},t):r===M&&o?e.updateStatus(c,{status:D},t):r===N&&o&&e.updateStatus(s,{status:D},t)}},e.setNodeRef=function(t){var n=e.props.internalRef;e.node=t,Object(d.b)(n,t)},e.getElement=function(){try{return Object(p.a)(e.node||Object(c.a)(e))}catch(t){return e.$cacheEle}},e.addEventListener=function(t){t&&(t.addEventListener(P,e.onMotionEnd),t.addEventListener(S,e.onMotionEnd))},e.removeEventListener=function(t){t&&(t.removeEventListener(P,e.onMotionEnd),t.removeEventListener(S,e.onMotionEnd))},e.updateStatus=function(t,n,r,i){var a,c=t?t(e.getElement(),r):null;!1===c||e.destroyed||(i&&(a=function(){e.nextFrame(i)}),e.setState(Object(o.a)({statusStyle:"object"===Object(u.a)(c)?c:null,newStatus:!1},n),a))},e.updateActiveStatus=function(t,n){e.nextFrame((function(){if(e.state.status===n){var r=e.props.motionDeadline;e.updateStatus(t,{statusActive:!0}),r>0&&(e.deadlineId=setTimeout((function(){e.onMotionEnd({deadline:!0})}),r))}}))},e.nextFrame=function(t){e.cancelNextFrame(),e.raf=y()(t)},e.cancelNextFrame=function(){e.raf&&(y.a.cancel(e.raf),e.raf=null)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.onDomUpdate()}},{key:"componentDidUpdate",value:function(){this.onDomUpdate()}},{key:"componentWillUnmount",value:function(){this.destroyed=!0,this.removeEventListener(this.$cacheEle),this.cancelNextFrame(),clearTimeout(this.deadlineId)}},{key:"render",value:function(){var e,t=this.state,n=t.status,i=t.statusActive,a=t.statusStyle,c=this.props,s=c.children,l=c.motionName,u=c.visible,f=c.removeOnLeave,p=c.leavedClassName,d=c.eventProps;return s?n!==D&&h(this.props)?s(Object(o.a)(Object(o.a)({},d),{},{className:m()(T(l,n),(e={},Object(r.a)(e,T(l,"".concat(n,"-active")),i),Object(r.a)(e,l,"string"==typeof l),e)),style:a}),this.setNodeRef):u?s(Object(o.a)({},d),this.setNodeRef):f?null:s(Object(o.a)(Object(o.a)({},d),{},{className:p}),this.setNodeRef):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.status;if(!h(e))return{};var o=e.visible,i=e.motionAppear,a=e.motionEnter,c=e.motionLeave,s=e.motionLeaveImmediately,l={prevProps:e};return(r===A&&!i||r===M&&!a||r===N&&!c)&&(l.status=D,l.statusActive=!1,l.newStatus=!1),!n&&o&&i&&(l.status=A,l.statusActive=!1,l.newStatus=!0),n&&!n.visible&&o&&a&&(l.status=M,l.statusActive=!1,l.newStatus=!0),(n&&n.visible&&!o&&c||!n&&s&&!o&&c)&&(l.status=N,l.statusActive=!1,l.newStatus=!0),l}}]),n}(f.Component);return v.defaultProps={visible:!0,motionEnter:!0,motionAppear:!0,motionLeave:!0,removeOnLeave:!0},n?f.forwardRef((function(e,t){return f.createElement(v,Object.assign({internalRef:t},e))})):v}(R),L=n(17),F="add",z="keep",B="remove",V="removed";function q(e){var t;return t=e&&"object"===Object(u.a)(e)&&"key"in e?e:{key:e},Object(o.a)(Object(o.a)({},t),{},{key:String(t.key)})}function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(q)}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=H(e),c=H(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var s=c[a];if(s.key===e.key){r<a&&(n=n.concat(c.slice(r,a).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{status:F})}))),r=a),n.push(Object(o.a)(Object(o.a)({},s),{},{status:z})),r+=1,t=!0;break}}t||n.push(Object(o.a)(Object(o.a)({},e),{},{status:B}))})),r<i&&(n=n.concat(c.slice(r).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{status:F})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var l=Object.keys(s).filter((function(e){return s[e]>1}));return l.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==B}))).forEach((function(t){t.key===e&&(t.status=z)}))})),n}var W=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,n=function(n){Object(s.a)(c,n);var r=Object(l.a)(c);function c(){var e;return Object(i.a)(this,c),(e=r.apply(this,arguments)).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:Object(o.a)(Object(o.a)({},e),{},{status:V})}))}}))},e}return Object(a.a)(c,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,o=r.component,i=r.children,a=Object(L.a)(r,["component","children"]),c=o||f.Fragment,s={};return W.forEach((function(e){s[e]=a[e],delete a[e]})),delete a.keys,f.createElement(c,Object.assign({},a),n.map((function(n){var r=n.status,o=Object(L.a)(n,["status"]),a=r===F||r===z;return f.createElement(t,Object.assign({},s,{key:o.key,visible:a,eventProps:o,onLeaveEnd:function(){s.onLeaveEnd&&s.onLeaveEnd.apply(s,arguments),e.removeKey(o.key)}}),i)})))}}],[{key:"getDerivedStateFromProps",value:function(t,n){var r=t.keys,i=n.keyEntities,a=H(r);if(!e)return{keyEntities:a.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{status:z})}))};var c=U(i,a),s=i.length;return{keyEntities:c.filter((function(e){for(var t=null,n=0;n<s;n+=1){var r=i[n];if(r.key===e.key){t=r;break}}return!t||t.status!==V||e.status!==B}))}}}]),c}(f.Component);return n.defaultProps={component:"div"},n}(R);t.b=I},,function(e,t,n){var r=n(108),o=n(397),i=n(398),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)o(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)i=e[t],a.set(i,o),o+=i.length;return a}},a={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(113),o=n(312),i=n(217),a=Object.defineProperty;t.f=n(90)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(133)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(635))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(317),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";var r=n(3),o=n(4),i=n(7),a=n(21),c=n(0),s=n(61),l=n(42),u=n(2),f=n.n(u),p=n(101);function d(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var h,m,v,y=(h=Object(p.a)(),m="undefined"!=typeof window?window:{},v={animationend:d("Animation","AnimationEnd"),transitionend:d("Transition","TransitionEnd")},h&&("AnimationEvent"in m||delete v.animationend.animation,"TransitionEvent"in m||delete v.transitionend.transition),v),g={};if(Object(p.a)()){var b=document.createElement("div");g=b.style}var w={};function k(e){if(w[e])return w[e];var t=y[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in g)return w[e]=t[i],w[e]}return""}var x=k("animationend"),O=k("transitionend"),C=!(!x||!O),_=x||"animationend",E=O||"transitionend";function j(e,t){return e?"object"===Object(a.a)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var S="none",P="appear",R="enter",T="leave",D="none",A="prepare",M="start",N="active",I="end";function L(e){var t=Object(c.useRef)(!1),n=Object(c.useState)(e),r=Object(i.a)(n,2),o=r[0],a=r[1];return Object(c.useEffect)((function(){return function(){t.current=!0}}),[]),[o,function(e){t.current||a(e)}]}var F=Object(p.a)()?c.useLayoutEffect:c.useEffect,z=n(58),B=[A,M,N,I];function V(e){return e===N||e===I}var q=function(e,t){var n=c.useState(D),r=Object(i.a)(n,2),o=r[0],a=r[1],s=function(){var e=c.useRef(null);function t(){z.a.cancel(e.current)}return c.useEffect((function(){return function(){t()}}),[]),[function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var i=Object(z.a)((function(){o<=1?r({isCanceled:function(){return i!==e.current}}):n(r,o-1)}));e.current=i},t]}(),l=Object(i.a)(s,2),u=l[0],f=l[1];return F((function(){if(o!==D&&o!==I){var e=B.indexOf(o),n=B[e+1],r=t(o);false===r?a(n):u((function(e){function t(){e.isCanceled()||a(n)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,o]),c.useEffect((function(){return function(){f()}}),[]),[function(){a(A)},o]};function H(e,t,n,a){var s=a.motionEnter,l=void 0===s||s,u=a.motionAppear,f=void 0===u||u,p=a.motionLeave,d=void 0===p||p,h=a.motionDeadline,m=a.motionLeaveImmediately,v=a.onAppearPrepare,y=a.onEnterPrepare,g=a.onLeavePrepare,b=a.onAppearStart,w=a.onEnterStart,k=a.onLeaveStart,x=a.onAppearActive,O=a.onEnterActive,C=a.onLeaveActive,j=a.onAppearEnd,D=a.onEnterEnd,I=a.onLeaveEnd,z=a.onVisibleChanged,B=L(),H=Object(i.a)(B,2),U=H[0],W=H[1],K=L(S),Y=Object(i.a)(K,2),X=Y[0],$=Y[1],G=L(null),Z=Object(i.a)(G,2),J=Z[0],Q=Z[1],ee=Object(c.useRef)(!1),te=Object(c.useRef)(null),ne=Object(c.useRef)(!1),re=Object(c.useRef)(null);function oe(){return n()||re.current}var ie=Object(c.useRef)(!1);function ae(e){var t,n=oe();e&&!e.deadline&&e.target!==n||(X===P&&ie.current?t=null==j?void 0:j(n,e):X===R&&ie.current?t=null==D?void 0:D(n,e):X===T&&ie.current&&(t=null==I?void 0:I(n,e)),!1===t||ne.current||($(S),Q(null)))}var ce=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(e);n.current=e;var r=c.useCallback((function(e){n.current(e)}),[]);function o(e){e&&(e.removeEventListener(E,r),e.removeEventListener(_,r))}return c.useEffect((function(){return function(){o(t.current)}}),[]),[function(e){t.current&&t.current!==e&&o(t.current),e&&e!==t.current&&(e.addEventListener(E,r),e.addEventListener(_,r),t.current=e)},o]}(ae),se=Object(i.a)(ce,1)[0],le=c.useMemo((function(){var e,t,n;switch(X){case"appear":return e={},Object(r.a)(e,A,v),Object(r.a)(e,M,b),Object(r.a)(e,N,x),e;case"enter":return t={},Object(r.a)(t,A,y),Object(r.a)(t,M,w),Object(r.a)(t,N,O),t;case"leave":return n={},Object(r.a)(n,A,g),Object(r.a)(n,M,k),Object(r.a)(n,N,C),n;default:return{}}}),[X]),ue=q(X,(function(e){if(e===A){var t=le.prepare;return!!t&&t(oe())}var n;de in le&&Q((null===(n=le[de])||void 0===n?void 0:n.call(le,oe(),null))||null);return de===N&&(se(oe()),h>0&&(clearTimeout(te.current),te.current=setTimeout((function(){ae({deadline:!0})}),h))),true})),fe=Object(i.a)(ue,2),pe=fe[0],de=fe[1],he=V(de);ie.current=he,F((function(){if(W(t),e){var n,r=ee.current;ee.current=!0,!r&&t&&f&&(n=P),r&&t&&l&&(n=R),(r&&!t&&d||!r&&m&&!t&&d)&&(n=T),n&&($(n),pe())}}),[t]),Object(c.useEffect)((function(){(X===P&&!f||X===R&&!l||X===T&&!d)&&$(S)}),[f,l,d]),Object(c.useEffect)((function(){return function(){clearTimeout(te.current),ne.current=!0}}),[]),Object(c.useEffect)((function(){void 0!==U&&X===S&&(null==z||z(U))}),[U,X]);var me=J;return le.prepare&&de===M&&(me=Object(o.a)({transition:"none"},me)),[X,de,me,null!=U?U:t]}var U=n(11),W=n(12),K=n(13),Y=n(20),X=function(e){Object(K.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(W.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(c.Component);var $=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===Object(a.a)(e)&&(t=e.transitionSupport);var u=c.forwardRef((function(e,t){var a=e.visible,u=void 0===a||a,p=e.removeOnLeave,d=void 0===p||p,h=e.forceRender,m=e.children,v=e.motionName,y=e.leavedClassName,g=e.eventProps,b=n(e),w=Object(c.useRef)(),k=Object(c.useRef)();var x=H(b,u,(function(){try{return Object(s.a)(w.current||k.current)}catch(e){return null}}),e),O=Object(i.a)(x,4),C=O[0],_=O[1],E=O[2],P=O[3],R=Object(c.useRef)(t);R.current=t;var T,D=c.useCallback((function(e){w.current=e,Object(l.b)(R.current,e)}),[]),N=Object(o.a)(Object(o.a)({},g),{},{visible:u});if(m)if(C!==S&&n(e)){var I,L;_===A?L="prepare":V(_)?L="active":_===M&&(L="start"),T=m(Object(o.a)(Object(o.a)({},N),{},{className:f()(j(v,C),(I={},Object(r.a)(I,j(v,"".concat(C,"-").concat(L)),L),Object(r.a)(I,v,"string"==typeof v),I)),style:E}),D)}else T=P?m(Object(o.a)({},N),D):d?h?m(Object(o.a)(Object(o.a)({},N),{},{style:{display:"none"}}),D):null:m(Object(o.a)(Object(o.a)({},N),{},{className:y}),D);else T=null;return c.createElement(X,{ref:k},T)}));return u.displayName="CSSMotion",u}(C),G=n(17),Z="add",J="keep",Q="remove",ee="removed";function te(e){var t;return t=e&&"object"===Object(a.a)(e)&&"key"in e?e:{key:e},Object(o.a)(Object(o.a)({},t),{},{key:String(t.key)})}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(te)}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=ne(e),c=ne(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var s=c[a];if(s.key===e.key){r<a&&(n=n.concat(c.slice(r,a).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{status:Z})}))),r=a),n.push(Object(o.a)(Object(o.a)({},s),{},{status:J})),r+=1,t=!0;break}}t||n.push(Object(o.a)(Object(o.a)({},e),{},{status:Q}))})),r<i&&(n=n.concat(c.slice(r).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{status:Z})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var l=Object.keys(s).filter((function(e){return s[e]>1}));return l.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Q}))).forEach((function(t){t.key===e&&(t.status=J)}))})),n}var oe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$,n=function(e){Object(K.a)(r,e);var n=Object(Y.a)(r);function r(){var e;return Object(U.a)(this,r),(e=n.apply(this,arguments)).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:Object(o.a)(Object(o.a)({},e),{},{status:ee})}))}}))},e}return Object(W.a)(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,o=r.component,i=r.children,a=r.onVisibleChanged,s=Object(G.a)(r,["component","children","onVisibleChanged"]),l=o||c.Fragment,u={};return oe.forEach((function(e){u[e]=s[e],delete s[e]})),delete s.keys,c.createElement(l,Object.assign({},s),n.map((function(n){var r=n.status,o=Object(G.a)(n,["status"]),s=r===Z||r===J;return c.createElement(t,Object.assign({},u,{key:o.key,visible:s,eventProps:o,onVisibleChanged:function(t){null==a||a(t,{key:o.key}),t||e.removeKey(o.key)}}),i)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,o=ne(n);return{keyEntities:re(r,o).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==ee||e.status!==Q}))}}}]),r}(c.Component);n.defaultProps={component:"div"}})(C),t.a=$},function(e,t,n){var r=n(419),o=n(422);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(88),o=n(71),i=n(216),a=n(112),c=n(97),s=function(e,t,n){var l,u,f,p=e&s.F,d=e&s.G,h=e&s.S,m=e&s.P,v=e&s.B,y=e&s.W,g=d?o:o[t]||(o[t]={}),b=g.prototype,w=d?r:h?r[t]:(r[t]||{}).prototype;for(l in d&&(n=t),n)(u=!p&&w&&void 0!==w[l])&&c(g,l)||(f=u?w[l]:n[l],g[l]=d&&"function"!=typeof w[l]?n[l]:v&&u?i(f,r):y&&w[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?i(Function.call,f):f,m&&((g.virtual||(g.virtual={}))[l]=f,e&s.R&&b&&!b[l]&&a(b,l,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";e.exports=n(388)},function(e,t,n){var r=n(276),o=n(279)((function(e,t,n){r(e,t,n)}));e.exports=o},function(e,t,n){"use strict";function r(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(513))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(70),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=0!==r.a.endEvents.length,a=["Webkit","Moz","O","ms"],c=["-webkit-","-moz-","-o-","ms-",""];function s(e,t){for(var n=window.getComputedStyle(e,null),r="",o=0;o<c.length&&!(r=n.getPropertyValue(c[o]+t));o++);return r}function l(e){if(i){var t=parseFloat(s(e,"transition-delay"))||0,n=parseFloat(s(e,"transition-duration"))||0,r=parseFloat(s(e,"animation-delay"))||0,o=parseFloat(s(e,"animation-duration"))||0,a=Math.max(n+t,o+r);e.rcEndAnimTimeout=setTimeout((function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()}),1e3*a+200)}}function u(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}var f=function(e,t,n){var i="object"===(void 0===t?"undefined":o(t)),a=i?t.name:t,c=i?t.active:t+"-active",s=n,f=void 0,p=void 0;return n&&"[object Object]"===Object.prototype.toString.call(n)&&(s=n.end,f=n.start,p=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),u(e),e.classList.remove(a),e.classList.remove(c),r.a.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,s&&s())},r.a.addEndEventListener(e,e.rcEndListener),f&&f(),e.classList.add(a),e.rcAnimTimeout=setTimeout((function(){e.rcAnimTimeout=null,e.classList.add(c),p&&p(),l(e)}),0),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};f.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),u(e),r.a.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n())},r.a.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout((function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,l(e)}),0)},f.setTransition=function(e,t,n){var r=t,o=n;void 0===n&&(o=r,r=""),r=r||"",a.forEach((function(t){e.style[t+"Transition"+r]=o}))},f.isCssAnimationSupported=i,t.a=f},function(e,t,n){e.exports={type:n(539)}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(604))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function c(e){r(a,o,i,c,s,"next",e)}function s(e){r(a,o,i,c,s,"throw",e)}c(void 0)}))}}n.d(t,"a",(function(){return o}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(66).Symbol;e.exports=r},function(e,t,n){var r=n(190),o=n(186);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(151);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},function(e,t,n){var r=n(203),o=n(204);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var c=-1,s=t.length;++c<s;){var l=t[c],u=i?i(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),a?o(n,l,u):r(n,l,u)}return n}},function(e,t,n){var r=n(89),o=n(134);e.exports=n(90)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(114);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(315),o=n(219);e.exports=function(e){return r(o(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(136);function o(e,t){if(e){if("string"==typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");return"function"!=typeof t.componentWillReceiveProps?e:o.a.Profiler?(t.UNSAFE_componentWillReceiveProps=t.componentWillReceiveProps,delete t.componentWillReceiveProps,e):e}},function(e,t,n){"use strict";function r(){var e=[].slice.call(arguments,0);return 1===e.length?e[0]:function(){for(var t=0;t<e.length;t++)e[t]&&e[t].apply&&e[t].apply(this,arguments)}}n.d(t,"a",(function(){return r}))},function(e,t,n){var r;!function(o){"use strict";function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t,n,r,o,a){return i((c=i(i(t,e),i(r,a)))<<(s=o)|c>>>32-s,n);var c,s}function c(e,t,n,r,o,i,c){return a(t&n|~t&r,e,t,o,i,c)}function s(e,t,n,r,o,i,c){return a(t&r|n&~r,e,t,o,i,c)}function l(e,t,n,r,o,i,c){return a(t^n^r,e,t,o,i,c)}function u(e,t,n,r,o,i,c){return a(n^(t|~r),e,t,o,i,c)}function f(e,t){var n,r,o,a,f;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var p=1732584193,d=-271733879,h=-1732584194,m=271733878;for(n=0;n<e.length;n+=16)r=p,o=d,a=h,f=m,p=c(p,d,h,m,e[n],7,-680876936),m=c(m,p,d,h,e[n+1],12,-389564586),h=c(h,m,p,d,e[n+2],17,606105819),d=c(d,h,m,p,e[n+3],22,-1044525330),p=c(p,d,h,m,e[n+4],7,-176418897),m=c(m,p,d,h,e[n+5],12,1200080426),h=c(h,m,p,d,e[n+6],17,-1473231341),d=c(d,h,m,p,e[n+7],22,-45705983),p=c(p,d,h,m,e[n+8],7,1770035416),m=c(m,p,d,h,e[n+9],12,-1958414417),h=c(h,m,p,d,e[n+10],17,-42063),d=c(d,h,m,p,e[n+11],22,-1990404162),p=c(p,d,h,m,e[n+12],7,1804603682),m=c(m,p,d,h,e[n+13],12,-40341101),h=c(h,m,p,d,e[n+14],17,-1502002290),p=s(p,d=c(d,h,m,p,e[n+15],22,1236535329),h,m,e[n+1],5,-165796510),m=s(m,p,d,h,e[n+6],9,-1069501632),h=s(h,m,p,d,e[n+11],14,643717713),d=s(d,h,m,p,e[n],20,-373897302),p=s(p,d,h,m,e[n+5],5,-701558691),m=s(m,p,d,h,e[n+10],9,38016083),h=s(h,m,p,d,e[n+15],14,-660478335),d=s(d,h,m,p,e[n+4],20,-405537848),p=s(p,d,h,m,e[n+9],5,568446438),m=s(m,p,d,h,e[n+14],9,-1019803690),h=s(h,m,p,d,e[n+3],14,-187363961),d=s(d,h,m,p,e[n+8],20,1163531501),p=s(p,d,h,m,e[n+13],5,-1444681467),m=s(m,p,d,h,e[n+2],9,-51403784),h=s(h,m,p,d,e[n+7],14,1735328473),p=l(p,d=s(d,h,m,p,e[n+12],20,-1926607734),h,m,e[n+5],4,-378558),m=l(m,p,d,h,e[n+8],11,-2022574463),h=l(h,m,p,d,e[n+11],16,1839030562),d=l(d,h,m,p,e[n+14],23,-35309556),p=l(p,d,h,m,e[n+1],4,-1530992060),m=l(m,p,d,h,e[n+4],11,1272893353),h=l(h,m,p,d,e[n+7],16,-155497632),d=l(d,h,m,p,e[n+10],23,-1094730640),p=l(p,d,h,m,e[n+13],4,681279174),m=l(m,p,d,h,e[n],11,-358537222),h=l(h,m,p,d,e[n+3],16,-722521979),d=l(d,h,m,p,e[n+6],23,76029189),p=l(p,d,h,m,e[n+9],4,-640364487),m=l(m,p,d,h,e[n+12],11,-421815835),h=l(h,m,p,d,e[n+15],16,530742520),p=u(p,d=l(d,h,m,p,e[n+2],23,-995338651),h,m,e[n],6,-198630844),m=u(m,p,d,h,e[n+7],10,1126891415),h=u(h,m,p,d,e[n+14],15,-1416354905),d=u(d,h,m,p,e[n+5],21,-57434055),p=u(p,d,h,m,e[n+12],6,1700485571),m=u(m,p,d,h,e[n+3],10,-1894986606),h=u(h,m,p,d,e[n+10],15,-1051523),d=u(d,h,m,p,e[n+1],21,-2054922799),p=u(p,d,h,m,e[n+8],6,1873313359),m=u(m,p,d,h,e[n+15],10,-30611744),h=u(h,m,p,d,e[n+6],15,-1560198380),d=u(d,h,m,p,e[n+13],21,1309151649),p=u(p,d,h,m,e[n+4],6,-145523070),m=u(m,p,d,h,e[n+11],10,-1120210379),h=u(h,m,p,d,e[n+2],15,718787259),d=u(d,h,m,p,e[n+9],21,-343485551),p=i(p,r),d=i(d,o),h=i(h,a),m=i(m,f);return[p,d,h,m]}function p(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function d(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function h(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function m(e){return unescape(encodeURIComponent(e))}function v(e){return function(e){return p(f(d(e),8*e.length))}(m(e))}function y(e,t){return function(e,t){var n,r,o=d(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=f(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=f(i.concat(d(t)),512+8*t.length),p(f(a.concat(r),640))}(m(e),m(t))}function g(e,t,n){return t?n?y(t,e):h(y(t,e)):n?v(e):h(v(e))}void 0===(r=function(){return g}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),o="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),i="aria-",a="data-";function c(e,t){return 0===e.indexOf(t)}function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Object(r.a)({},n);var s={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||c(n,i))||t.data&&c(n,a)||t.attr&&o.includes(n))&&(s[n]=e[n])})),s}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);function o(e,t,n){var o=r.useRef({});return"value"in o.current&&!n(o.current.condition,t)||(o.current.value=e(),o.current.condition=t),o.current.value}},function(e,t,n){var r=n(192),o=n(202),i=n(751),a=n(130),c=n(111),s=n(755),l=n(756),u=n(273),f=l((function(e,t){var n={};if(null==e)return n;var l=!1;t=r(t,(function(t){return t=a(t,e),l||(l=t.length>1),t})),c(e,u(e),n),l&&(n=o(n,7,s));for(var f=t.length;f--;)i(n,t[f]);return n}));e.exports=f},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(165),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(830)),o=a(n(834)),i=a(n(165));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";var r=n(4),o=n(11),i=n(12),a=n(13),c=n(20),s=n(0),l=n(61),u=n(48),f=n(16),p=n(42),d=n(73),h=function(e){Object(a.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).resizeObserver=null,e.childNode=null,e.currentElement=null,e.state={width:0,height:0,offsetHeight:0,offsetWidth:0},e.onResize=function(t){var n=e.props.onResize,o=t[0].target,i=o.getBoundingClientRect(),a=i.width,c=i.height,s=o.offsetWidth,l=o.offsetHeight,u=Math.floor(a),f=Math.floor(c);if(e.state.width!==u||e.state.height!==f||e.state.offsetWidth!==s||e.state.offsetHeight!==l){var p={width:u,height:f,offsetWidth:s,offsetHeight:l};e.setState(p),n&&Promise.resolve().then((function(){n(Object(r.a)(Object(r.a)({},p),{},{offsetWidth:s,offsetHeight:l}))}))}},e.setChildNode=function(t){e.childNode=t},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){if(this.props.disabled)this.destroyObserver();else{var e=Object(l.a)(this.childNode||this);e!==this.currentElement&&(this.destroyObserver(),this.currentElement=e),!this.resizeObserver&&e&&(this.resizeObserver=new d.a(this.onResize),this.resizeObserver.observe(e))}}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var e=this.props.children,t=Object(u.a)(e);if(t.length>1)Object(f.a)(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(0===t.length)return Object(f.a)(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var n=t[0];if(s.isValidElement(n)&&Object(p.c)(n)){var r=n.ref;t[0]=s.cloneElement(n,{ref:Object(p.a)(r,this.setChildNode)})}return 1===t.length?t[0]:t.map((function(e,t){return!s.isValidElement(e)||"key"in e&&null!==e.key?e:s.cloneElement(e,{key:"".concat("rc-observer-key","-").concat(t)})}))}}]),n}(s.Component);h.displayName="ResizeObserver",t.a=h},function(e,t,n){var r;r=function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var o,a=n(/(ipod|iphone|ipad)/i).toLowerCase(),c=!/like android/i.test(t)&&/android/i.test(t),s=/nexus\s*[0-6]\s*/i.test(t),l=!s&&/nexus\s*[0-9]+/i.test(t),u=/CrOS/.test(t),f=/silk/i.test(t),p=/sailfish/i.test(t),d=/tizen/i.test(t),h=/(web|hpw)(o|0)s/i.test(t),m=/windows phone/i.test(t),v=(/SamsungBrowser/i.test(t),!m&&/windows/i.test(t)),y=!a&&!f&&/macintosh/i.test(t),g=!c&&!p&&!d&&!h&&/linux/i.test(t),b=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),w=n(/version\/(\d+(\.\d+)?)/i),k=/tablet/i.test(t)&&!/tablet pc/i.test(t),x=!k&&/[^-]mobi/i.test(t),O=/xbox/i.test(t);/opera/i.test(t)?o={name:"Opera",opera:e,version:w||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?o={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||w}:/SamsungBrowser/i.test(t)?o={name:"Samsung Internet for Android",samsungBrowser:e,version:w||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?o={name:"NAVER Whale browser",whale:e,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?o={name:"MZ Browser",mzbrowser:e,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?o={name:"Opera Coast",coast:e,version:w||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?o={name:"Focus",focus:e,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?o={name:"Yandex Browser",yandexbrowser:e,version:w||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?o={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?o={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?o={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?o={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?o={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?o={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(o={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(o.msedge=e,o.version=b):(o.msie=e,o.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?o={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:u?o={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?o={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(t)?o={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||w}:p?o={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?o={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(o={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(o.firefoxos=e,o.osname="Firefox OS")):f?o={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?o={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?o={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?o={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:w||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(o={name:"WebOS",osname:"WebOS",webos:e,version:w||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(o.touchpad=e)):/bada/i.test(t)?o={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:d?o={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||w}:/qupzilla/i.test(t)?o={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||w}:/chromium/i.test(t)?o={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||w}:/chrome|crios|crmo/i.test(t)?o={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:c?o={name:"Android",version:w}:/safari|applewebkit/i.test(t)?(o={name:"Safari",safari:e},w&&(o.version=w)):a?(o={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},w&&(o.version=w)):o=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||w}:{name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!o.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(o.name=o.name||"Blink",o.blink=e):(o.name=o.name||"Webkit",o.webkit=e),!o.version&&w&&(o.version=w)):!o.opera&&/gecko\//i.test(t)&&(o.name=o.name||"Gecko",o.gecko=e,o.version=o.version||n(/gecko\/(\d+(\.\d+)?)/i)),o.windowsphone||!c&&!o.silk?!o.windowsphone&&a?(o[a]=e,o.ios=e,o.osname="iOS"):y?(o.mac=e,o.osname="macOS"):O?(o.xbox=e,o.osname="Xbox"):v?(o.windows=e,o.osname="Windows"):g&&(o.linux=e,o.osname="Linux"):(o.android=e,o.osname="Android");var C="";o.windows?C=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):o.windowsphone?C=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o.mac?C=(C=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):a?C=(C=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):c?C=n(/android[ \/-](\d+(\.\d+)*)/i):o.webos?C=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):o.blackberry?C=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):o.bada?C=n(/bada\/(\d+(\.\d+)*)/i):o.tizen&&(C=n(/tizen[\/\s](\d+(\.\d+)*)/i)),C&&(o.osversion=C);var _=!o.windows&&C.split(".")[0];return k||l||"ipad"==a||c&&(3==_||_>=4&&!x)||o.silk?o.tablet=e:(x||"iphone"==a||"ipod"==a||c||s||o.blackberry||o.webos||o.bada)&&(o.mobile=e),o.msedge||o.msie&&o.version>=10||o.yandexbrowser&&o.version>=15||o.vivaldi&&o.version>=1||o.chrome&&o.version>=20||o.samsungBrowser&&o.version>=4||o.whale&&1===i([o.version,"1.0"])||o.mzbrowser&&1===i([o.version,"6.0"])||o.focus&&1===i([o.version,"1.0"])||o.firefox&&o.version>=20||o.safari&&o.version>=6||o.opera&&o.version>=10||o.ios&&o.osversion&&o.osversion.split(".")[0]>=6||o.blackberry&&o.version>=10.1||o.chromium&&o.version>=20?o.a=e:o.msie&&o.version<10||o.chrome&&o.version<20||o.firefox&&o.version<20||o.safari&&o.version<6||o.opera&&o.version<10||o.ios&&o.osversion&&o.osversion.split(".")[0]<6||o.chromium&&o.version<20?o.c=e:o.x=e,o}var n=t("undefined"!=typeof navigator&&navigator.userAgent||"");function r(e){return e.split(".").length}function o(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function i(e){for(var t=Math.max(r(e[0]),r(e[1])),n=o(e,(function(e){var n=t-r(e);return o((e+=new Array(n+1).join(".0")).split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));--t>=0;){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function a(e,r,o){var a=n;"string"==typeof r&&(o=r,r=void 0),void 0===r&&(r=!1),o&&(a=t(o));var c=""+a.version;for(var s in e)if(e.hasOwnProperty(s)&&a[s]){if("string"!=typeof e[s])throw new Error("Browser version in the minVersion map should be a string: "+s+": "+String(e));return i([c,e[s]])<0}return r}return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"==typeof r&&r in n)return!0}return!1},n.isUnsupportedBrowser=a,n.compareVersions=i,n.check=function(e,t,n){return!a(e,t,n)},n._detect=t,n.detect=t,n},e.exports?e.exports=r():n(843)("bowser",r)},function(e,t,n){},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,l=[],u=!1,f=-1;function p(){u&&s&&(u=!1,s.length?l=s.concat(l):f=-1,l.length&&d())}function d(){if(!u){var e=c(p);u=!0;for(var t=l.length;t;){for(s=l,l=[];++f<t;)s&&s[f].run();f=-1,t=l.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(252),o=n(404),i=n(109);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t,n){var r=n(47),o=n(201),i=n(448),a=n(451);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(252),o=n(463),i=n(109);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t,n){"use strict";n(44),n(504)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports={}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(481);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return f(r).default}});var o=n(206);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return f(o).default}});var i=n(483);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return f(i).default}});var a=n(484);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return f(a).default}});var c=n(485);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return f(c).default}});var s=n(495);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return f(s).default}});var l=n(497);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return f(l).default}});var u=n(501);function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return f(u).default}})},function(e,t){var n=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},r=-1;n.Diff=function(e,t){return[e,t]},n.prototype.diff_main=function(e,t,r,o){void 0===o&&(o=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=o;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[new n.Diff(0,e)]:[];void 0===r&&(r=!0);var a=r,c=this.diff_commonPrefix(e,t),s=e.substring(0,c);e=e.substring(c),t=t.substring(c),c=this.diff_commonSuffix(e,t);var l=e.substring(e.length-c);e=e.substring(0,e.length-c),t=t.substring(0,t.length-c);var u=this.diff_compute_(e,t,a,i);return s&&u.unshift(new n.Diff(0,s)),l&&u.push(new n.Diff(0,l)),this.diff_cleanupMerge(u),u},n.prototype.diff_compute_=function(e,t,o,i){var a;if(!e)return[new n.Diff(1,t)];if(!t)return[new n.Diff(r,e)];var c=e.length>t.length?e:t,s=e.length>t.length?t:e,l=c.indexOf(s);if(-1!=l)return a=[new n.Diff(1,c.substring(0,l)),new n.Diff(0,s),new n.Diff(1,c.substring(l+s.length))],e.length>t.length&&(a[0][0]=a[2][0]=r),a;if(1==s.length)return[new n.Diff(r,e),new n.Diff(1,t)];var u=this.diff_halfMatch_(e,t);if(u){var f=u[0],p=u[1],d=u[2],h=u[3],m=u[4],v=this.diff_main(f,d,o,i),y=this.diff_main(p,h,o,i);return v.concat([new n.Diff(0,m)],y)}return o&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},n.prototype.diff_lineMode_=function(e,t,o){var i=this.diff_linesToChars_(e,t);e=i.chars1,t=i.chars2;var a=i.lineArray,c=this.diff_main(e,t,!1,o);this.diff_charsToLines_(c,a),this.diff_cleanupSemantic(c),c.push(new n.Diff(0,""));for(var s=0,l=0,u=0,f="",p="";s<c.length;){switch(c[s][0]){case 1:u++,p+=c[s][1];break;case r:l++,f+=c[s][1];break;case 0:if(l>=1&&u>=1){c.splice(s-l-u,l+u),s=s-l-u;for(var d=this.diff_main(f,p,!1,o),h=d.length-1;h>=0;h--)c.splice(s,0,d[h]);s+=d.length}u=0,l=0,f="",p=""}s++}return c.pop(),c},n.prototype.diff_bisect_=function(e,t,o){for(var i=e.length,a=t.length,c=Math.ceil((i+a)/2),s=c,l=2*c,u=new Array(l),f=new Array(l),p=0;p<l;p++)u[p]=-1,f[p]=-1;u[s+1]=0,f[s+1]=0;for(var d=i-a,h=d%2!=0,m=0,v=0,y=0,g=0,b=0;b<c&&!((new Date).getTime()>o);b++){for(var w=-b+m;w<=b-v;w+=2){for(var k=s+w,x=(j=w==-b||w!=b&&u[k-1]<u[k+1]?u[k+1]:u[k-1]+1)-w;j<i&&x<a&&e.charAt(j)==t.charAt(x);)j++,x++;if(u[k]=j,j>i)v+=2;else if(x>a)m+=2;else if(h){if((_=s+d-w)>=0&&_<l&&-1!=f[_])if(j>=(C=i-f[_]))return this.diff_bisectSplit_(e,t,j,x,o)}}for(var O=-b+y;O<=b-g;O+=2){for(var C,_=s+O,E=(C=O==-b||O!=b&&f[_-1]<f[_+1]?f[_+1]:f[_-1]+1)-O;C<i&&E<a&&e.charAt(i-C-1)==t.charAt(a-E-1);)C++,E++;if(f[_]=C,C>i)g+=2;else if(E>a)y+=2;else if(!h){if((k=s+d-O)>=0&&k<l&&-1!=u[k]){var j;x=s+(j=u[k])-k;if(j>=(C=i-C))return this.diff_bisectSplit_(e,t,j,x,o)}}}}return[new n.Diff(r,e),new n.Diff(1,t)]},n.prototype.diff_bisectSplit_=function(e,t,n,r,o){var i=e.substring(0,n),a=t.substring(0,r),c=e.substring(n),s=t.substring(r),l=this.diff_main(i,a,!1,o),u=this.diff_main(c,s,!1,o);return l.concat(u)},n.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function o(e){for(var t="",o=0,a=-1,c=n.length;a<e.length-1;){-1==(a=e.indexOf("\n",o))&&(a=e.length-1);var s=e.substring(o,a+1);(r.hasOwnProperty?r.hasOwnProperty(s):void 0!==r[s])?t+=String.fromCharCode(r[s]):(c==i&&(s=e.substring(o),a=e.length),t+=String.fromCharCode(c),r[s]=c,n[c++]=s),o=a+1}return t}n[0]="";var i=4e4,a=o(e);return i=65535,{chars1:a,chars2:o(t),lineArray:n}},n.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],o=[],i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}},n.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(i,o)==t.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o},n.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var o=Math.min(n,r);if(e==t)return o;for(var i=0,a=1;;){var c=e.substring(o-a),s=t.indexOf(c);if(-1==s)return i;a+=s,0!=s&&e.substring(o-a)!=t.substring(0,a)||(i=a,a++)}},n.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var o=this;function i(e,t,n){for(var r,i,a,c,s=e.substring(n,n+Math.floor(e.length/4)),l=-1,u="";-1!=(l=t.indexOf(s,l+1));){var f=o.diff_commonPrefix(e.substring(n),t.substring(l)),p=o.diff_commonSuffix(e.substring(0,n),t.substring(0,l));u.length<p+f&&(u=t.substring(l-p,l)+t.substring(l,l+f),r=e.substring(0,n-p),i=e.substring(n+f),a=t.substring(0,l-p),c=t.substring(l+f))}return 2*u.length>=e.length?[r,i,a,c,u]:null}var a,c,s,l,u,f=i(n,r,Math.ceil(n.length/4)),p=i(n,r,Math.ceil(n.length/2));return f||p?(a=p?f&&f[4].length>p[4].length?f:p:f,e.length>t.length?(c=a[0],s=a[1],l=a[2],u=a[3]):(l=a[0],u=a[1],c=a[2],s=a[3]),[c,s,l,u,a[4]]):null},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,o=[],i=0,a=null,c=0,s=0,l=0,u=0,f=0;c<e.length;)0==e[c][0]?(o[i++]=c,s=u,l=f,u=0,f=0,a=e[c][1]):(1==e[c][0]?u+=e[c][1].length:f+=e[c][1].length,a&&a.length<=Math.max(s,l)&&a.length<=Math.max(u,f)&&(e.splice(o[i-1],0,new n.Diff(r,a)),e[o[i-1]+1][0]=1,i--,c=--i>0?o[i-1]:-1,s=0,l=0,u=0,f=0,a=null,t=!0)),c++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),c=1;c<e.length;){if(e[c-1][0]==r&&1==e[c][0]){var p=e[c-1][1],d=e[c][1],h=this.diff_commonOverlap_(p,d),m=this.diff_commonOverlap_(d,p);h>=m?(h>=p.length/2||h>=d.length/2)&&(e.splice(c,0,new n.Diff(0,d.substring(0,h))),e[c-1][1]=p.substring(0,p.length-h),e[c+1][1]=d.substring(h),c++):(m>=p.length/2||m>=d.length/2)&&(e.splice(c,0,new n.Diff(0,p.substring(0,m))),e[c-1][0]=1,e[c-1][1]=d.substring(0,d.length-m),e[c+1][0]=r,e[c+1][1]=p.substring(m),c++),c++}c++}},n.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var r=e.charAt(e.length-1),o=t.charAt(0),i=r.match(n.nonAlphaNumericRegex_),a=o.match(n.nonAlphaNumericRegex_),c=i&&r.match(n.whitespaceRegex_),s=a&&o.match(n.whitespaceRegex_),l=c&&r.match(n.linebreakRegex_),u=s&&o.match(n.linebreakRegex_),f=l&&e.match(n.blanklineEndRegex_),p=u&&t.match(n.blanklineStartRegex_);return f||p?5:l||u?4:i&&!c&&s?3:c||s?2:i||a?1:0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var o=e[r-1][1],i=e[r][1],a=e[r+1][1],c=this.diff_commonSuffix(o,i);if(c){var s=i.substring(i.length-c);o=o.substring(0,o.length-c),i=s+i.substring(0,i.length-c),a=s+a}for(var l=o,u=i,f=a,p=t(o,i)+t(i,a);i.charAt(0)===a.charAt(0);){o+=i.charAt(0),i=i.substring(1)+a.charAt(0),a=a.substring(1);var d=t(o,i)+t(i,a);d>=p&&(p=d,l=o,u=i,f=a)}e[r-1][1]!=l&&(l?e[r-1][1]=l:(e.splice(r-1,1),r--),e[r][1]=u,f?e[r+1][1]=f:(e.splice(r+1,1),r--))}r++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,o=[],i=0,a=null,c=0,s=!1,l=!1,u=!1,f=!1;c<e.length;)0==e[c][0]?(e[c][1].length<this.Diff_EditCost&&(u||f)?(o[i++]=c,s=u,l=f,a=e[c][1]):(i=0,a=null),u=f=!1):(e[c][0]==r?f=!0:u=!0,a&&(s&&l&&u&&f||a.length<this.Diff_EditCost/2&&s+l+u+f==3)&&(e.splice(o[i-1],0,new n.Diff(r,a)),e[o[i-1]+1][0]=1,i--,a=null,s&&l?(u=f=!0,i=0):(c=--i>0?o[i-1]:-1,u=f=!1),t=!0)),c++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push(new n.Diff(0,""));for(var t,o=0,i=0,a=0,c="",s="";o<e.length;)switch(e[o][0]){case 1:a++,s+=e[o][1],o++;break;case r:i++,c+=e[o][1],o++;break;case 0:i+a>1?(0!==i&&0!==a&&(0!==(t=this.diff_commonPrefix(s,c))&&(o-i-a>0&&0==e[o-i-a-1][0]?e[o-i-a-1][1]+=s.substring(0,t):(e.splice(0,0,new n.Diff(0,s.substring(0,t))),o++),s=s.substring(t),c=c.substring(t)),0!==(t=this.diff_commonSuffix(s,c))&&(e[o][1]=s.substring(s.length-t)+e[o][1],s=s.substring(0,s.length-t),c=c.substring(0,c.length-t))),o-=i+a,e.splice(o,i+a),c.length&&(e.splice(o,0,new n.Diff(r,c)),o++),s.length&&(e.splice(o,0,new n.Diff(1,s)),o++),o++):0!==o&&0==e[o-1][0]?(e[o-1][1]+=e[o][1],e.splice(o,1)):o++,a=0,i=0,c="",s=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(o=1;o<e.length-1;)0==e[o-1][0]&&0==e[o+1][0]&&(e[o][1].substring(e[o][1].length-e[o-1][1].length)==e[o-1][1]?(e[o][1]=e[o-1][1]+e[o][1].substring(0,e[o][1].length-e[o-1][1].length),e[o+1][1]=e[o-1][1]+e[o+1][1],e.splice(o-1,1),l=!0):e[o][1].substring(0,e[o+1][1].length)==e[o+1][1]&&(e[o-1][1]+=e[o+1][1],e[o][1]=e[o][1].substring(e[o+1][1].length)+e[o+1][1],e.splice(o+1,1),l=!0)),o++;l&&this.diff_cleanupMerge(e)},n.prototype.diff_xIndex=function(e,t){var n,o=0,i=0,a=0,c=0;for(n=0;n<e.length&&(1!==e[n][0]&&(o+=e[n][1].length),e[n][0]!==r&&(i+=e[n][1].length),!(o>t));n++)a=o,c=i;return e.length!=n&&e[n][0]===r?c:c+(t-a)},n.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,o=/</g,i=/>/g,a=/\n/g,c=0;c<e.length;c++){var s=e[c][0],l=e[c][1].replace(n,"&amp;").replace(o,"&lt;").replace(i,"&gt;").replace(a,"&para;<br>");switch(s){case 1:t[c]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case r:t[c]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[c]="<span>"+l+"</span>"}}return t.join("")},n.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},n.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==r&&(t[n]=e[n][1]);return t.join("")},n.prototype.diff_levenshtein=function(e){for(var t=0,n=0,o=0,i=0;i<e.length;i++){var a=e[i][0],c=e[i][1];switch(a){case 1:n+=c.length;break;case r:o+=c.length;break;case 0:t+=Math.max(n,o),n=0,o=0}}return t+=Math.max(n,o)},n.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case r:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(e,t){for(var o=[],i=0,a=0,c=t.split(/\t/g),s=0;s<c.length;s++){var l=c[s].substring(1);switch(c[s].charAt(0)){case"+":try{o[i++]=new n.Diff(1,decodeURI(l))}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var u=parseInt(l,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+l);var f=e.substring(a,a+=u);"="==c[s].charAt(0)?o[i++]=new n.Diff(0,f):o[i++]=new n.Diff(r,f);break;default:if(c[s])throw new Error("Invalid diff operation in diff_fromDelta: "+c[s])}}if(a!=e.length)throw new Error("Delta length ("+a+") does not equal source text length ("+e.length+").");return o},n.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},n.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),o=this;function i(e,r){var i=e/t.length,a=Math.abs(n-r);return o.Match_Distance?i+a/o.Match_Distance:a?1:i}var a=this.Match_Threshold,c=e.indexOf(t,n);-1!=c&&(a=Math.min(i(0,c),a),-1!=(c=e.lastIndexOf(t,n+t.length))&&(a=Math.min(i(0,c),a)));var s,l,u=1<<t.length-1;c=-1;for(var f,p=t.length+e.length,d=0;d<t.length;d++){for(s=0,l=p;s<l;)i(d,n+l)<=a?s=l:p=l,l=Math.floor((p-s)/2+s);p=l;var h=Math.max(1,n-l+1),m=Math.min(n+l,e.length)+t.length,v=Array(m+2);v[m+1]=(1<<d)-1;for(var y=m;y>=h;y--){var g=r[e.charAt(y-1)];if(v[y]=0===d?(v[y+1]<<1|1)&g:(v[y+1]<<1|1)&g|(f[y+1]|f[y])<<1|1|f[y+1],v[y]&u){var b=i(d,y-1);if(b<=a){if(a=b,!((c=y-1)>n))break;h=Math.max(1,2*n-c)}}}if(i(d+1,n)>a)break;f=v}return c},n.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},n.prototype.patch_addContext_=function(e,t){if(0!=t.length){if(null===e.start2)throw Error("patch not initialized");for(var r=t.substring(e.start2,e.start2+e.length1),o=0;t.indexOf(r)!=t.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)o+=this.Patch_Margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=this.Patch_Margin;var i=t.substring(e.start2-o,e.start2);i&&e.diffs.unshift(new n.Diff(0,i));var a=t.substring(e.start2+e.length1,e.start2+e.length1+o);a&&e.diffs.push(new n.Diff(0,a)),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+a.length,e.length2+=i.length+a.length}},n.prototype.patch_make=function(e,t,o){var i,a;if("string"==typeof e&&"string"==typeof t&&void 0===o)i=e,(a=this.diff_main(i,t,!0)).length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(e&&"object"==typeof e&&void 0===t&&void 0===o)a=e,i=this.diff_text1(a);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===o)i=e,a=t;else{if("string"!=typeof e||"string"!=typeof t||!o||"object"!=typeof o)throw new Error("Unknown call format to patch_make.");i=e,a=o}if(0===a.length)return[];for(var c=[],s=new n.patch_obj,l=0,u=0,f=0,p=i,d=i,h=0;h<a.length;h++){var m=a[h][0],v=a[h][1];switch(l||0===m||(s.start1=u,s.start2=f),m){case 1:s.diffs[l++]=a[h],s.length2+=v.length,d=d.substring(0,f)+v+d.substring(f);break;case r:s.length1+=v.length,s.diffs[l++]=a[h],d=d.substring(0,f)+d.substring(f+v.length);break;case 0:v.length<=2*this.Patch_Margin&&l&&a.length!=h+1?(s.diffs[l++]=a[h],s.length1+=v.length,s.length2+=v.length):v.length>=2*this.Patch_Margin&&l&&(this.patch_addContext_(s,p),c.push(s),s=new n.patch_obj,l=0,p=d,u=f)}1!==m&&(u+=v.length),m!==r&&(f+=v.length)}return l&&(this.patch_addContext_(s,p),c.push(s)),c},n.prototype.patch_deepCopy=function(e){for(var t=[],r=0;r<e.length;r++){var o=e[r],i=new n.patch_obj;i.diffs=[];for(var a=0;a<o.diffs.length;a++)i.diffs[a]=new n.Diff(o.diffs[a][0],o.diffs[a][1]);i.start1=o.start1,i.start2=o.start2,i.length1=o.length1,i.length2=o.length2,t[r]=i}return t},n.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var o=0,i=[],a=0;a<e.length;a++){var c,s,l=e[a].start2+o,u=this.diff_text1(e[a].diffs),f=-1;if(u.length>this.Match_MaxBits?-1!=(c=this.match_main(t,u.substring(0,this.Match_MaxBits),l))&&(-1==(f=this.match_main(t,u.substring(u.length-this.Match_MaxBits),l+u.length-this.Match_MaxBits))||c>=f)&&(c=-1):c=this.match_main(t,u,l),-1==c)i[a]=!1,o-=e[a].length2-e[a].length1;else if(i[a]=!0,o=c-l,u==(s=-1==f?t.substring(c,c+u.length):t.substring(c,f+this.Match_MaxBits)))t=t.substring(0,c)+this.diff_text2(e[a].diffs)+t.substring(c+u.length);else{var p=this.diff_main(u,s,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(p)/u.length>this.Patch_DeleteThreshold)i[a]=!1;else{this.diff_cleanupSemanticLossless(p);for(var d,h=0,m=0;m<e[a].diffs.length;m++){var v=e[a].diffs[m];0!==v[0]&&(d=this.diff_xIndex(p,h)),1===v[0]?t=t.substring(0,c+d)+v[1]+t.substring(c+d):v[0]===r&&(t=t.substring(0,c+d)+t.substring(c+this.diff_xIndex(p,h+v[1].length))),v[0]!==r&&(h+=v[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),i]},n.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,r="",o=1;o<=t;o++)r+=String.fromCharCode(o);for(o=0;o<e.length;o++)e[o].start1+=t,e[o].start2+=t;var i=e[0],a=i.diffs;if(0==a.length||0!=a[0][0])a.unshift(new n.Diff(0,r)),i.start1-=t,i.start2-=t,i.length1+=t,i.length2+=t;else if(t>a[0][1].length){var c=t-a[0][1].length;a[0][1]=r.substring(a[0][1].length)+a[0][1],i.start1-=c,i.start2-=c,i.length1+=c,i.length2+=c}if(0==(a=(i=e[e.length-1]).diffs).length||0!=a[a.length-1][0])a.push(new n.Diff(0,r)),i.length1+=t,i.length2+=t;else if(t>a[a.length-1][1].length){c=t-a[a.length-1][1].length;a[a.length-1][1]+=r.substring(0,c),i.length1+=c,i.length2+=c}return r},n.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,o=0;o<e.length;o++)if(!(e[o].length1<=t)){var i=e[o];e.splice(o--,1);for(var a=i.start1,c=i.start2,s="";0!==i.diffs.length;){var l=new n.patch_obj,u=!0;for(l.start1=a-s.length,l.start2=c-s.length,""!==s&&(l.length1=l.length2=s.length,l.diffs.push(new n.Diff(0,s)));0!==i.diffs.length&&l.length1<t-this.Patch_Margin;){var f=i.diffs[0][0],p=i.diffs[0][1];1===f?(l.length2+=p.length,c+=p.length,l.diffs.push(i.diffs.shift()),u=!1):f===r&&1==l.diffs.length&&0==l.diffs[0][0]&&p.length>2*t?(l.length1+=p.length,a+=p.length,u=!1,l.diffs.push(new n.Diff(f,p)),i.diffs.shift()):(p=p.substring(0,t-l.length1-this.Patch_Margin),l.length1+=p.length,a+=p.length,0===f?(l.length2+=p.length,c+=p.length):u=!1,l.diffs.push(new n.Diff(f,p)),p==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(p.length))}s=(s=this.diff_text2(l.diffs)).substring(s.length-this.Patch_Margin);var d=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==d&&(l.length1+=d.length,l.length2+=d.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push(new n.Diff(0,d))),u||e.splice(++o,0,l)}}},n.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},n.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var o=e.split("\n"),i=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<o.length;){var c=o[i].match(a);if(!c)throw new Error("Invalid patch string: "+o[i]);var s=new n.patch_obj;for(t.push(s),s.start1=parseInt(c[1],10),""===c[2]?(s.start1--,s.length1=1):"0"==c[2]?s.length1=0:(s.start1--,s.length1=parseInt(c[2],10)),s.start2=parseInt(c[3],10),""===c[4]?(s.start2--,s.length2=1):"0"==c[4]?s.length2=0:(s.start2--,s.length2=parseInt(c[4],10)),i++;i<o.length;){var l=o[i].charAt(0);try{var u=decodeURI(o[i].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==l)s.diffs.push(new n.Diff(r,u));else if("+"==l)s.diffs.push(new n.Diff(1,u));else if(" "==l)s.diffs.push(new n.Diff(0,u));else{if("@"==l)break;if(""!==l)throw new Error('Invalid patch mode "'+l+'" in: '+u)}i++}}return t},(n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:e="+";break;case r:e="-";break;case 0:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=n,e.exports.diff_match_patch=n,e.exports.DIFF_DELETE=r,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(776),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){var r=n(401),o=n(67),i=Object.prototype,a=i.hasOwnProperty,c=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!c.call(e,"callee")};e.exports=s},function(e,t,n){(function(e){var r=n(66),o=n(402),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i?r.Buffer:void 0,s=(c?c.isBuffer:void 0)||o;e.exports=s}).call(this,n(142)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(146),o=n(414),i=n(415),a=n(416),c=n(417),s=n(418);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=c,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(409),o=n(410),i=n(411),a=n(412),c=n(413);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},function(e,t,n){var r=n(98);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(95)(Object,"create");e.exports=r},function(e,t,n){var r=n(431);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(443),o=n(194),i=n(444),a=n(263),c=n(445),s=n(86),l=n(255),u="[object Map]",f="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",m=l(r),v=l(o),y=l(i),g=l(a),b=l(c),w=s;(r&&w(new r(new ArrayBuffer(1)))!=h||o&&w(new o)!=u||i&&w(i.resolve())!=f||a&&w(new a)!=p||c&&w(new c)!=d)&&(w=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case m:return h;case v:return u;case y:return f;case g:return p;case b:return d}return t}),e.exports=w},function(e,t,n){var r=n(86),o=n(67);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(314),o=n(223);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(219);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";e.exports=[".svg",".png",".bmp",".jpg",".jpeg",".gif",".tif",".tiff",".emf",".webp"]},function(e,t,n){"use strict";e.exports=[".mp4",".mov",".avi",".wmv",".m4a",".m4v",".webm",".flv",".mkv",".mpg",".ts",".mts",".swf",".3gp",".ogg",".aac",".dv",".f4v",".flac",".rmvb",".vob",".asf",".dat",".m2t",".m3u8",".mj2",".mjpeg",".mpe",".mpeg",".qt",".rm",".rmvb",".wmv"]},function(e,t,n){"use strict";e.exports=[".mp3",".mpga",".wav",".m4a",".flac"]},function(e,t,n){"use strict";e.exports=[".zip",".rar",".gz",".tgz",".gzip",".7z",".tar",".jar",".dmg",".pkg"]},function(e,t,n){"use strict";e.exports=[".abap",".ada",".adp",".ahk",".as",".as3",".asc",".ascx",".asm",".asp",".awk",".bash",".bash_login",".bash_logout",".bash_profile",".bashrc",".bat",".bib",".bsh",".build",".builder",".c",".c++",".capfile",".cc",".cfc",".cfm",".cfml",".cl",".clj",".cls",".cmake",".cmd",".coffee",".config",".cpp",".cpt",".cpy",".cs",".cshtml",".cson",".csproj",".css",".ctp",".cxx",".dart",".d",".ddl",".di",".diff",".disco",".dml",".dtd",".dtml",".el",".emakefile",".erb",".erl",".f",".f90",".f95",".fs",".fsi",".fsscript",".fsx",".gemfile",".gemspec",".gitconfig",".go",".groovy",".gvy",".Hcp",".h",".h++",".haml",".handlebars",".hbs",".hh",".hpp",".hrl",".hs",".htc",".hxx",".html",".htm",".idl",".iim",".inc",".inf",".ini",".inl",".ipp",".irbrc",".pug",".jade",".jav",".java",".js",".json",".jsp",".jsx",".l",".less",".lhs",".lisp",".log",".lst",".ltx",".lua",".m",".mak",".make",".manifest",".master",".md",".markdn",".markdown",".mdown",".mkdn",".ml",".mli",".mll",".mly",".mud",".makefile",".nfo",".opml",".osascript",".p",".pas",".patch",".php",".php2",".php3",".php4",".php5",".phtml",".pl",".plx",".perl",".pm",".pod",".pp",".profile",".ps1",".ps1xml",".psd1",".psm1",".pss",".pt",".py",".pyw",".proto",".r",".rake",".rb",".rbx",".rc",".rdf",".re",".reg",".rest",".resw",".resx",".rhtml",".rjs",".rprofile",".rpy",".rs",".rss",".rst",".ruby",".rxml",".s",".sass",".scala",".scm",".sconscript",".sconstruct",".script",".scss",".sgml",".sh",".shtml",".sml",".svn-base",".swift",".sql",".sty",".tcl",".tex",".textile",".tld",".tli",".tmpl",".tpl",".ts",".tsx",".vb",".vi",".vim",".vmg",".webpart",".wsp",".wsdl",".xhtml",".xml",".jmx",".xoml",".xsd",".xslt",".yaml",".yaws",".yml",".zsh"]},function(e,t,n){"use strict";e.exports=["xls","xlsx","xlsm","xltx","xlt","csv","numbers"].map((e=>`.${e}`))},function(e,t,n){"use strict";e.exports=["ppt","pptx","ppsx","potx","pot","key"].map((e=>`.${e}`))},function(e,t,n){"use strict";e.exports=["mindnode","mindnode.zip","mmap","mmap.zip","xmind","xmind.zip"].map((e=>`.${e}`))},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(814)),o=a(n(820)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,n){"use strict";var r=n(0),o=n(8),i=n.n(o),a=n(101),c=Object(r.forwardRef)((function(e,t){var n=e.didUpdate,o=e.getContainer,c=e.children,s=Object(r.useRef)();Object(r.useImperativeHandle)(t,(function(){return{}}));var l=Object(r.useRef)(!1);return!l.current&&Object(a.a)()&&(s.current=o(),l.current=!0),Object(r.useEffect)((function(){null==n||n(e)})),Object(r.useEffect)((function(){return function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(s.current)}}),[]),s.current?i.a.createPortal(c,s.current):null}));t.a=c},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(529))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){var r=n(276),o=n(279)((function(e,t,n,o){r(e,t,n,o)}));e.exports=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(630))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(633))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){e.exports=function(){"use strict";var e="undefined"!=typeof document&&document.documentMode,t={rootMargin:"0px",threshold:0,load:function(t){if("picture"===t.nodeName.toLowerCase()){var n=t.querySelector("img"),r=!1;null===n&&(n=document.createElement("img"),r=!0),e&&t.getAttribute("data-iesrc")&&(n.src=t.getAttribute("data-iesrc")),t.getAttribute("data-alt")&&(n.alt=t.getAttribute("data-alt")),r&&t.append(n)}if("video"===t.nodeName.toLowerCase()&&!t.getAttribute("data-src")&&t.children){for(var o=t.children,i=void 0,a=0;a<=o.length-1;a++)(i=o[a].getAttribute("data-src"))&&(o[a].src=i);t.load()}t.getAttribute("data-poster")&&(t.poster=t.getAttribute("data-poster")),t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")),t.getAttribute("data-srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset"));var c=",";if(t.getAttribute("data-background-delimiter")&&(c=t.getAttribute("data-background-delimiter")),t.getAttribute("data-background-image"))t.style.backgroundImage="url('"+t.getAttribute("data-background-image").split(c).join("'),url('")+"')";else if(t.getAttribute("data-background-image-set")){var s=t.getAttribute("data-background-image-set").split(c),l=s[0].substr(0,s[0].indexOf(" "))||s[0];l=-1===l.indexOf("url(")?"url("+l+")":l,1===s.length?t.style.backgroundImage=l:t.setAttribute("style",(t.getAttribute("style")||"")+"background-image: "+l+"; background-image: -webkit-image-set("+s+"); background-image: image-set("+s+")")}t.getAttribute("data-toggle-class")&&t.classList.toggle(t.getAttribute("data-toggle-class"))},loaded:function(){}};function n(e){e.setAttribute("data-loaded",!0)}var r=function(e){return"true"===e.getAttribute("data-loaded")},o=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return e instanceof Element?[e]:e instanceof NodeList?e:t.querySelectorAll(e)};return function(){var e,i,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=Object.assign({},t,c),l=s.root,u=s.rootMargin,f=s.threshold,p=s.load,d=s.loaded,h=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(h=new IntersectionObserver((e=p,i=d,function(t,o){t.forEach((function(t){(0<t.intersectionRatio||t.isIntersecting)&&(o.unobserve(t.target),r(t.target)||(e(t.target),n(t.target),i(t.target)))}))}),{root:l,rootMargin:u,threshold:f}));for(var m,v=o(a,l),y=0;y<v.length;y++)(m=v[y]).getAttribute("data-placeholder-background")&&(m.style.background=m.getAttribute("data-placeholder-background"));return{observe:function(){for(var e=o(a,l),t=0;t<e.length;t++)r(e[t])||(h?h.observe(e[t]):(p(e[t]),n(e[t]),d(e[t])))},triggerLoad:function(e){r(e)||(p(e),n(e),d(e))},observer:h}}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(167),o=n(169),i=n(116),a=n(168);function c(e){return Object(r.a)(e)||Object(o.a)(e)||Object(i.a)(e)||Object(a.a)()}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(719))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(721))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";var r=n(4),o=n(11),i=n(12),a=n(19),c=n(13),s=n(20),l=n(0),u=n(8),f=n.n(u),p=n(58),d=n(80),h=n(61),m=n(42),v=n(49),y=n(166),g=n(2),b=n.n(g);function w(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var k=n(7),x=n(17),O=n(94);function C(e){var t=e.prefixCls,n=e.motion,r=e.animation,o=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:o?{motionName:o}:null)}function _(e){var t=e.prefixCls,n=e.visible,o=e.zIndex,i=e.mask,a=e.maskMotion,c=e.maskAnimation,s=e.maskTransitionName;if(!i)return null;var u={};return(a||s||c)&&(u=Object(r.a)({motionAppear:!0},C({motion:a,prefixCls:t,transitionName:s,animation:c}))),l.createElement(O.a,Object.assign({},u,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return l.createElement("div",{style:{zIndex:o},className:b()("".concat(t,"-mask"),n)})}))}var E=n(179),j=n(65),S=n.n(j),P=n(106),R=["measure","align",null,"motion"],T=l.forwardRef((function(e,t){var n=e.visible,o=e.prefixCls,i=e.className,a=e.style,c=e.children,s=e.zIndex,u=e.stretch,f=e.destroyPopupOnHide,d=e.align,h=e.point,m=e.getRootDomNode,v=e.getClassNameFromAlign,y=e.onAlign,g=e.onMouseEnter,w=e.onMouseLeave,x=e.onMouseDown,_=e.onTouchStart,j=Object(l.useRef)(),T=Object(l.useRef)(),D=Object(l.useState)(),A=Object(k.a)(D,2),M=A[0],N=A[1],I=function(e){var t=l.useState({width:0,height:0}),n=Object(k.a)(t,2),r=n[0],o=n[1];return[l.useMemo((function(){var t={};if(e){var n=r.width,o=r.height;-1!==e.indexOf("height")&&o?t.height=o:-1!==e.indexOf("minHeight")&&o&&(t.minHeight=o),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]),function(e){o({width:e.offsetWidth,height:e.offsetHeight})}]}(u),L=Object(k.a)(I,2),F=L[0],z=L[1];var B=function(e,t){var n=Object(l.useState)(null),r=Object(k.a)(n,2),o=r[0],i=r[1],a=Object(l.useRef)();function c(){p.a.cancel(a.current)}return Object(l.useEffect)((function(){i("measure")}),[e]),Object(l.useEffect)((function(){switch(o){case"measure":t()}o&&(a.current=Object(p.a)(Object(P.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=R.indexOf(o),(n=R[t+1])&&-1!==t&&i(n);case 3:case"end":return e.stop()}}),e)})))))}),[o]),Object(l.useEffect)((function(){return function(){c()}}),[]),[o,function(e){c(),a.current=Object(p.a)((function(){i((function(e){switch(o){case"align":return"motion";case"motion":return"stable"}return e})),null==e||e()}))}]}(n,(function(){u&&z(m())})),V=Object(k.a)(B,2),q=V[0],H=V[1],U=Object(l.useRef)();function W(){var e;null===(e=j.current)||void 0===e||e.forceAlign()}function K(e,t){if("align"===q){var n=v(t);N(n),M!==n?Promise.resolve().then((function(){W()})):H((function(){var e;null===(e=U.current)||void 0===e||e.call(U)})),null==y||y(e,t)}}var Y=Object(r.a)({},C(e));function X(){return new Promise((function(e){U.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=Y[e];Y[e]=function(e,n){return H(),null==t?void 0:t(e,n)}})),l.useEffect((function(){Y.motionName||"motion"!==q||H()}),[Y.motionName,q]),l.useImperativeHandle(t,(function(){return{forceAlign:W,getElement:function(){return T.current}}}));var $=Object(r.a)(Object(r.a)(Object(r.a)({},F),{},{zIndex:s},a),{},{opacity:"motion"!==q&&"stable"!==q&&n?0:void 0,pointerEvents:"stable"===q?void 0:"none"}),G=!0;!(null==d?void 0:d.points)||"align"!==q&&"stable"!==q||(G=!1);var Z=c;return l.Children.count(c)>1&&(Z=l.createElement("div",{className:"".concat(o,"-content")},c)),l.createElement(O.a,Object.assign({visible:n,ref:T,leavedClassName:"".concat(o,"-hidden")},Y,{onAppearPrepare:X,onEnterPrepare:X,removeOnLeave:f}),(function(e,t){var n=e.className,a=e.style,c=b()(o,i,M,n);return l.createElement(E.a,{target:h||m,key:"popup",ref:j,monitorWindowResize:!0,disabled:G,align:d,onAlign:K},l.createElement("div",{ref:t,className:c,onMouseEnter:g,onMouseLeave:w,onMouseDown:x,onTouchStart:_,style:Object(r.a)(Object(r.a)({},a),$)},Z))}))}));T.displayName="PopupInner";var D=T,A=l.forwardRef((function(e,t){var n=e.prefixCls,o=e.visible,i=e.zIndex,a=e.children,c=e.mobile,s=(c=void 0===c?{}:c).popupClassName,u=c.popupStyle,f=c.popupMotion,p=void 0===f?{}:f,d=c.popupRender,h=l.useRef();l.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return h.current}}}));var m=Object(r.a)({zIndex:i},u),v=a;return l.Children.count(a)>1&&(v=l.createElement("div",{className:"".concat(n,"-content")},a)),d&&(v=d(v)),l.createElement(O.a,Object.assign({visible:o,ref:h,removeOnLeave:!0},p),(function(e,t){var o=e.className,i=e.style,a=b()(n,s,o);return l.createElement("div",{ref:t,className:a,style:Object(r.a)(Object(r.a)({},i),m)},v)}))}));A.displayName="MobilePopupInner";var M=A,N=l.forwardRef((function(e,t){var n=e.visible,o=e.mobile,i=Object(x.a)(e,["visible","mobile"]),a=Object(l.useState)(n),c=Object(k.a)(a,2),s=c[0],u=c[1],f=Object(l.useState)(!1),p=Object(k.a)(f,2),d=p[0],h=p[1],m=Object(r.a)(Object(r.a)({},i),{},{visible:s});Object(l.useEffect)((function(){var e;u(n),n&&o&&h((e=navigator.userAgent||navigator.vendor||window.opera,!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))))}),[n,!!o]);var v=d?l.createElement(M,Object.assign({},m,{mobile:o,ref:t})):l.createElement(D,Object.assign({},m,{ref:t}));return l.createElement("div",null,l.createElement(_,Object.assign({},m)),v)}));N.displayName="Popup";var I=N,L=l.createContext(null);function F(){}function z(){return""}function B(e){return e?e.ownerDocument:window.document}var V=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var q,H;t.a=(q=y.a,(H=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var r,i;return Object(o.a)(this,n),(r=t.call(this,e)).popupRef=l.createRef(),r.triggerRef=l.createRef(),r.onMouseEnter=function(e){var t=r.props.mouseEnterDelay;r.fireEvents("onMouseEnter",e),r.delaySetPopupVisible(!0,t,t?null:e)},r.onMouseMove=function(e){r.fireEvents("onMouseMove",e),r.setPoint(e)},r.onMouseLeave=function(e){r.fireEvents("onMouseLeave",e),r.delaySetPopupVisible(!1,r.props.mouseLeaveDelay)},r.onPopupMouseEnter=function(){r.clearDelayTimer()},r.onPopupMouseLeave=function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&Object(d.a)(null===(t=r.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||r.delaySetPopupVisible(!1,r.props.mouseLeaveDelay)},r.onFocus=function(e){r.fireEvents("onFocus",e),r.clearDelayTimer(),r.isFocusToShow()&&(r.focusTime=Date.now(),r.delaySetPopupVisible(!0,r.props.focusDelay))},r.onMouseDown=function(e){r.fireEvents("onMouseDown",e),r.preClickTime=Date.now()},r.onTouchStart=function(e){r.fireEvents("onTouchStart",e),r.preTouchTime=Date.now()},r.onBlur=function(e){r.fireEvents("onBlur",e),r.clearDelayTimer(),r.isBlurToHide()&&r.delaySetPopupVisible(!1,r.props.blurDelay)},r.onContextMenu=function(e){e.preventDefault(),r.fireEvents("onContextMenu",e),r.setPopupVisible(!0,e)},r.onContextMenuClose=function(){r.isContextMenuToShow()&&r.close()},r.onClick=function(e){if(r.fireEvents("onClick",e),r.focusTime){var t;if(r.preClickTime&&r.preTouchTime?t=Math.min(r.preClickTime,r.preTouchTime):r.preClickTime?t=r.preClickTime:r.preTouchTime&&(t=r.preTouchTime),Math.abs(t-r.focusTime)<20)return;r.focusTime=0}r.preClickTime=0,r.preTouchTime=0,r.isClickToShow()&&(r.isClickToHide()||r.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var n=!r.state.popupVisible;(r.isClickToHide()&&!n||n&&r.isClickToShow())&&r.setPopupVisible(!r.state.popupVisible,e)},r.onPopupMouseDown=function(){var e;r.hasPopupMouseDown=!0,clearTimeout(r.mouseDownTimeout),r.mouseDownTimeout=window.setTimeout((function(){r.hasPopupMouseDown=!1}),0),r.context&&(e=r.context).onPopupMouseDown.apply(e,arguments)},r.onDocumentClick=function(e){if(!r.props.mask||r.props.maskClosable){var t=e.target,n=r.getRootDomNode(),o=r.getPopupDomNode();Object(d.a)(n,t)||Object(d.a)(o,t)||r.hasPopupMouseDown||r.close()}},r.getRootDomNode=function(){var e=r.props.getTriggerDOMNode;if(e)return e(r.triggerRef.current);try{var t=Object(h.a)(r.triggerRef.current);if(t)return t}catch(e){}return f.a.findDOMNode(Object(a.a)(r))},r.getPopupClassNameFromAlign=function(e){var t=[],n=r.props,o=n.popupPlacement,i=n.builtinPlacements,a=n.prefixCls,c=n.alignPoint,s=n.getPopupClassNameFromAlign;return o&&i&&t.push(function(e,t,n,r){for(var o=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var c=i[a];if(w(e[c].points,o,r))return"".concat(t,"-placement-").concat(c)}return""}(i,a,e,c)),s&&t.push(s(e)),t.join(" ")},r.getComponent=function(){var e=r.props,t=e.prefixCls,n=e.destroyPopupOnHide,o=e.popupClassName,i=e.onPopupAlign,a=e.popupMotion,c=e.popupAnimation,s=e.popupTransitionName,u=e.popupStyle,f=e.mask,p=e.maskAnimation,d=e.maskTransitionName,h=e.maskMotion,m=e.zIndex,v=e.popup,y=e.stretch,g=e.alignPoint,b=e.mobile,w=r.state,k=w.popupVisible,x=w.point,O=r.getPopupAlign(),C={};return r.isMouseEnterToShow()&&(C.onMouseEnter=r.onPopupMouseEnter),r.isMouseLeaveToHide()&&(C.onMouseLeave=r.onPopupMouseLeave),C.onMouseDown=r.onPopupMouseDown,C.onTouchStart=r.onPopupMouseDown,l.createElement(I,Object.assign({prefixCls:t,destroyPopupOnHide:n,visible:k,point:g&&x,className:o,align:O,onAlign:i,animation:c,getClassNameFromAlign:r.getPopupClassNameFromAlign},C,{stretch:y,getRootDomNode:r.getRootDomNode,style:u,mask:f,zIndex:m,transitionName:s,maskAnimation:p,maskTransitionName:d,maskMotion:h,ref:r.popupRef,motion:a,mobile:b}),"function"==typeof v?v():v)},r.attachParent=function(e){p.a.cancel(r.attachId);var t,n=r.props,o=n.getPopupContainer,i=n.getDocument,a=r.getRootDomNode();o?(a||0===o.length)&&(t=o(a)):t=i(r.getRootDomNode()).body,t?t.appendChild(e):r.attachId=Object(p.a)((function(){r.attachParent(e)}))},r.getContainer=function(){var e=(0,r.props.getDocument)(r.getRootDomNode()).createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",r.attachParent(e),e},r.setPoint=function(e){r.props.alignPoint&&e&&r.setState({point:{pageX:e.pageX,pageY:e.pageY}})},r.handlePortalUpdate=function(){r.state.prevPopupVisible!==r.state.popupVisible&&r.props.afterPopupVisibleChange(r.state.popupVisible)},i="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,r.state={prevPopupVisible:i,popupVisible:i},V.forEach((function(e){r["fire".concat(e)]=function(t){r.fireEvents(e,t)}})),r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Object(v.a)(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Object(v.a)(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Object(v.a)(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Object(v.a)(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),p.a.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,o=e.builtinPlacements;return t&&o?function(e,t,n){var o=e[t]||{};return Object(r.a)(Object(r.a)({},o),n)}(o,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,o=1e3*t;if(this.clearDelayTimer(),o){var i=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,i),r.clearDelayTimer()}),o)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,t=this.props,n=t.children,o=t.forceRender,i=t.alignPoint,a=t.className,c=t.autoDestroy,s=l.Children.only(n),u={key:"trigger"};this.isContextMenuToShow()?u.onContextMenu=this.onContextMenu:u.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(u.onClick=this.onClick,u.onMouseDown=this.onMouseDown,u.onTouchStart=this.onTouchStart):(u.onClick=this.createTwoChains("onClick"),u.onMouseDown=this.createTwoChains("onMouseDown"),u.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(u.onMouseEnter=this.onMouseEnter,i&&(u.onMouseMove=this.onMouseMove)):u.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?u.onMouseLeave=this.onMouseLeave:u.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(u.onFocus=this.onFocus,u.onBlur=this.onBlur):(u.onFocus=this.createTwoChains("onFocus"),u.onBlur=this.createTwoChains("onBlur"));var f=b()(s&&s.props&&s.props.className,a);f&&(u.className=f);var p=Object(r.a)({},u);Object(m.c)(s)&&(p.ref=Object(m.a)(this.triggerRef,s.ref));var d,h=l.cloneElement(s,p);return(e||this.popupRef.current||o)&&(d=l.createElement(q,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&c&&(d=null),l.createElement(L.Provider,{value:{onPopupMouseDown:this.onPopupMouseDown}},h,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),n}(l.Component)).contextType=L,H.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:z,getDocument:B,onPopupVisibleChange:F,afterPopupVisibleChange:F,onPopupAlign:F,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},H)},function(e,t,n){"use strict";var r,o=n(7),i=n(21),a=n(0),c=n.n(a),s=n(42);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function d(){if(void 0!==r)return r;r="";var e=document.createElement("p").style;for(var t in p)t+"Transform"in e&&(r=t);return r}function h(){return d()?"".concat(d(),"TransitionProperty"):"transitionProperty"}function m(){return d()?"".concat(d(),"Transform"):"transform"}function v(e,t){var n=h();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function y(e,t){var n=m();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var g,b=/matrix\((.*)\)/,w=/matrix3d\((.*)\)/;function k(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function x(e,t,n){var r=n;if("object"!==l(t))return void 0!==r?("number"==typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):g(e,t);for(var o in t)t.hasOwnProperty(o)&&x(e,o,t[o])}function O(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}function C(e){return O(e)}function _(e){return O(e,!0)}function E(e){var t=function(e){var t,n,r,o=e.ownerDocument,i=o.body,a=o&&o.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||i.clientLeft||0,top:r-=a.clientTop||i.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=C(r),t.top+=_(r),t}function j(e){return null!=e&&e==e.window}function S(e){return j(e)?e.document:9===e.nodeType?e:e.ownerDocument}var P=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),R=/^(top|right|bottom|left)$/;function T(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function D(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function A(e,t,n){"static"===x(e,"position")&&(e.style.position="relative");var r=-999,o=-999,i=T("left",n),a=T("top",n),c=D(i),s=D(a);"left"!==i&&(r=999),"top"!==a&&(o=999);var l,u="",f=E(e);("left"in t||"top"in t)&&(u=(l=e).style.transitionProperty||l.style[h()]||"",v(e,"none")),"left"in t&&(e.style[c]="",e.style[i]="".concat(r,"px")),"top"in t&&(e.style[s]="",e.style[a]="".concat(o,"px")),k(e);var p=E(e),d={};for(var m in t)if(t.hasOwnProperty(m)){var y=T(m,n),g="left"===m?r:o,b=f[m]-p[m];d[y]=y===m?g+b:g-b}x(e,d),k(e),("left"in t||"top"in t)&&v(e,u);var w={};for(var O in t)if(t.hasOwnProperty(O)){var C=T(O,n),_=t[O]-f[O];w[C]=O===C?d[C]+_:d[C]-_}x(e,w)}function M(e,t){var n=E(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(m());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),o={x:r.x,y:r.y};"left"in t&&(o.x=r.x+t.left-n.left),"top"in t&&(o.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(m());if(r&&"none"!==r){var o,i=r.match(b);i?((o=(i=i[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,o[5]=t.y,y(e,"matrix(".concat(o.join(","),")"))):((o=r.match(w)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,o[13]=t.y,y(e,"matrix3d(".concat(o.join(","),")")))}else y(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,o)}function N(e,t){for(var n=0;n<e.length;n++)t(e[n])}function I(e){return"border-box"===g(e,"boxSizing")}"undefined"!=typeof window&&(g=window.getComputedStyle?function(e,t,n){var r=n,o="",i=S(e);return(r=r||i.defaultView.getComputedStyle(e,null))&&(o=r.getPropertyValue(t)||r[t]),o}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(P.test(n)&&!R.test(t)){var r=e.style,o=r.left,i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=o,e.runtimeStyle.left=i}return""===n?"auto":n});var L=["margin","border","padding"];function F(e,t,n){var r,o={},i=e.style;for(r in t)t.hasOwnProperty(r)&&(o[r]=i[r],i[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(i[r]=o[r])}function z(e,t,n){var r,o,i,a=0;for(o=0;o<t.length;o++)if(r=t[o])for(i=0;i<n.length;i++){var c=void 0;c="border"===r?"".concat(r).concat(n[i],"Width"):r+n[i],a+=parseFloat(g(e,c))||0}return a}var B={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function V(e,t,n){var r=n;if(j(e))return"width"===t?B.viewportWidth(e):B.viewportHeight(e);if(9===e.nodeType)return"width"===t?B.docWidth(e):B.docHeight(e);var o="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=(g(e),I(e)),c=0;(null==i||i<=0)&&(i=void 0,(null==(c=g(e,t))||Number(c)<0)&&(c=e.style[t]||0),c=parseFloat(c)||0),void 0===r&&(r=a?1:-1);var s=void 0!==i||a,l=i||c;return-1===r?s?l-z(e,["border","padding"],o):c:s?1===r?l:l+(2===r?-z(e,["border"],o):z(e,["margin"],o)):c+z(e,L.slice(r),o)}N(["Width","Height"],(function(e){B["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],B["viewport".concat(e)](n))},B["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,o=r.body,i=r.documentElement[n];return"CSS1Compat"===r.compatMode&&i||o&&o[n]||i}}));var q={position:"absolute",visibility:"hidden",display:"block"};function H(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0];return 0!==o.offsetWidth?r=V.apply(void 0,t):F(o,q,(function(){r=V.apply(void 0,t)})),r}function U(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}N(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);B["outer".concat(t)]=function(t,n){return t&&H(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];B[e]=function(t,r){var o=r;if(void 0===o)return t&&H(t,e,-1);if(t){g(t);return I(t)&&(o+=z(t,["padding","border"],n)),x(t,e,o)}}}));var W={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:S,offset:function(e,t,n){if(void 0===t)return E(e);!function(e,t,n){if(n.ignoreShake){var r=E(e),o=r.left.toFixed(0),i=r.top.toFixed(0),a=t.left.toFixed(0),c=t.top.toFixed(0);if(o===a&&i===c)return}n.useCssRight||n.useCssBottom?A(e,t,n):n.useCssTransform&&m()in document.body.style?M(e,t):A(e,t,n)}(e,t,n||{})},isWindow:j,each:N,css:x,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:U,getWindowScrollLeft:function(e){return C(e)},getWindowScrollTop:function(e){return _(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)W.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};U(W,B);var K=W.getParent;function Y(e){if(W.isWindow(e)||9===e.nodeType)return null;var t,n=W.getDocument(e).body,r=W.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:K(e);for(t=K(e);t&&t!==n&&9!==t.nodeType;t=K(t))if("static"!==(r=W.css(t,"position")))return t;return null}var X=W.getParent;function $(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Y(e),o=W.getDocument(e),i=o.defaultView||o.parentWindow,a=o.body,c=o.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===c||"visible"===W.css(r,"overflow")){if(r===a||r===c)break}else{var s=W.offset(r);s.left+=r.clientLeft,s.top+=r.clientTop,n.top=Math.max(n.top,s.top),n.right=Math.min(n.right,s.left+r.clientWidth),n.bottom=Math.min(n.bottom,s.top+r.clientHeight),n.left=Math.max(n.left,s.left)}r=Y(r)}var l=null;W.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===W.css(e,"position")&&(e.style.position="fixed"));var u=W.getWindowScrollLeft(i),f=W.getWindowScrollTop(i),p=W.viewportWidth(i),d=W.viewportHeight(i),h=c.scrollWidth,m=c.scrollHeight,v=window.getComputedStyle(a);if("hidden"===v.overflowX&&(h=i.innerWidth),"hidden"===v.overflowY&&(m=i.innerHeight),e.style&&(e.style.position=l),t||function(e){if(W.isWindow(e)||9===e.nodeType)return!1;var t=W.getDocument(e).body,n=null;for(n=X(e);n&&n!==t;n=X(n))if("fixed"===W.css(n,"position"))return!0;return!1}(e))n.left=Math.max(n.left,u),n.top=Math.max(n.top,f),n.right=Math.min(n.right,u+p),n.bottom=Math.min(n.bottom,f+d);else{var y=Math.max(h,u+p);n.right=Math.min(n.right,y);var g=Math.max(m,f+d);n.bottom=Math.min(n.bottom,g)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function G(e){var t,n,r;if(W.isWindow(e)||9===e.nodeType){var o=W.getWindow(e);t={left:W.getWindowScrollLeft(o),top:W.getWindowScrollTop(o)},n=W.viewportWidth(o),r=W.viewportHeight(o)}else t=W.offset(e),n=W.outerWidth(e),r=W.outerHeight(e);return t.width=n,t.height=r,t}function Z(e,t){var n=t.charAt(0),r=t.charAt(1),o=e.width,i=e.height,a=e.left,c=e.top;return"c"===n?c+=i/2:"b"===n&&(c+=i),"c"===r?a+=o/2:"r"===r&&(a+=o),{left:a,top:c}}function J(e,t,n,r,o){var i=Z(t,n[1]),a=Z(e,n[0]),c=[a.left-i.left,a.top-i.top];return{left:Math.round(e.left-c[0]+r[0]-o[0]),top:Math.round(e.top-c[1]+r[1]-o[1])}}function Q(e,t,n){return e.left<n.left||e.left+t.width>n.right}function ee(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function te(e,t,n){var r=[];return W.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function ne(e,t){return e[t]=-e[t],e}function re(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function oe(e,t){e[0]=re(e[0],t.width),e[1]=re(e[1],t.height)}function ie(e,t,n,r){var o=n.points,i=n.offset||[0,0],a=n.targetOffset||[0,0],c=n.overflow,s=n.source||e;i=[].concat(i),a=[].concat(a);var l={},u=0,f=$(s,!(!(c=c||{})||!c.alwaysByViewport)),p=G(s);oe(i,p),oe(a,t);var d=J(p,t,o,i,a),h=W.merge(p,d);if(f&&(c.adjustX||c.adjustY)&&r){if(c.adjustX&&Q(d,p,f)){var m=te(o,/[lr]/gi,{l:"r",r:"l"}),v=ne(i,0),y=ne(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(J(p,t,m,v,y),p,f)||(u=1,o=m,i=v,a=y)}if(c.adjustY&&ee(d,p,f)){var g=te(o,/[tb]/gi,{t:"b",b:"t"}),b=ne(i,1),w=ne(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(J(p,t,g,b,w),p,f)||(u=1,o=g,i=b,a=w)}u&&(d=J(p,t,o,i,a),W.mix(h,d));var k=Q(d,p,f),x=ee(d,p,f);if(k||x){var O=o;k&&(O=te(o,/[lr]/gi,{l:"r",r:"l"})),x&&(O=te(o,/[tb]/gi,{t:"b",b:"t"})),o=O,i=n.offset||[0,0],a=n.targetOffset||[0,0]}l.adjustX=c.adjustX&&k,l.adjustY=c.adjustY&&x,(l.adjustX||l.adjustY)&&(h=function(e,t,n,r){var o=W.clone(e),i={width:t.width,height:t.height};return r.adjustX&&o.left<n.left&&(o.left=n.left),r.resizeWidth&&o.left>=n.left&&o.left+i.width>n.right&&(i.width-=o.left+i.width-n.right),r.adjustX&&o.left+i.width>n.right&&(o.left=Math.max(n.right-i.width,n.left)),r.adjustY&&o.top<n.top&&(o.top=n.top),r.resizeHeight&&o.top>=n.top&&o.top+i.height>n.bottom&&(i.height-=o.top+i.height-n.bottom),r.adjustY&&o.top+i.height>n.bottom&&(o.top=Math.max(n.bottom-i.height,n.top)),W.mix(o,i)}(d,p,f,l))}return h.width!==p.width&&W.css(s,"width",W.width(s)+h.width-p.width),h.height!==p.height&&W.css(s,"height",W.height(s)+h.height-p.height),W.offset(s,{left:h.left,top:h.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:o,offset:i,targetOffset:a,overflow:l}}function ae(e,t,n){var r=n.target||t;return ie(e,G(r),n,!function(e,t){var n=$(e,t),r=G(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport))}function ce(e,t,n){var r,o,i=W.getDocument(e),a=i.defaultView||i.parentWindow,c=W.getWindowScrollLeft(a),s=W.getWindowScrollTop(a),l=W.viewportWidth(a),p=W.viewportHeight(a);r="pageX"in t?t.pageX:c+t.clientX,o="pageY"in t?t.pageY:s+t.clientY;var d=r>=0&&r<=c+l&&o>=0&&o<=s+p;return ie(e,{left:r,top:o,width:0,height:0},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{points:[n.points[0],"cc"]}),d)}ae.__getOffsetParent=Y,ae.__getVisibleRectForElement=$;var se=n(49),le=n(73),ue=n(80);function fe(e,t){var n=null,r=null;var i=new le.a((function(e){var i=Object(o.a)(e,1)[0].target;if(document.documentElement.contains(i)){var a=i.getBoundingClientRect(),c=a.width,s=a.height,l=Math.floor(c),u=Math.floor(s);n===l&&r===u||Promise.resolve().then((function(){t({width:l,height:u})})),n=l,r=u}}));return e&&i.observe(e),function(){i.disconnect()}}function pe(e){return"function"!=typeof e?null:e()}function de(e){return"object"===Object(i.a)(e)&&e?e:null}var he=c.a.forwardRef((function(e,t){var n=e.children,r=e.disabled,i=e.target,a=e.align,l=e.onAlign,u=e.monitorWindowResize,f=e.monitorBufferTime,p=void 0===f?0:f,d=c.a.useRef({}),h=c.a.useRef(),m=c.a.Children.only(n),v=c.a.useRef({});v.current.disabled=r,v.current.target=i,v.current.onAlign=l;var y=function(e,t){var n=c.a.useRef(!1),r=c.a.useRef(null);function o(){window.clearTimeout(r.current)}return[function i(a){if(n.current&&!0!==a)o(),r.current=window.setTimeout((function(){n.current=!1,i()}),t);else{if(!1===e())return;n.current=!0,o(),r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,o()}]}((function(){var e=v.current,t=e.disabled,n=e.target,r=e.onAlign;if(!t&&n){var o,i=h.current,c=pe(n),s=de(n);d.current.element=c,d.current.point=s;var l=document.activeElement;return c&&function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1}(c)?o=ae(i,c,a):s&&(o=ce(i,s,a)),function(e,t){e!==document.activeElement&&Object(ue.a)(t,e)&&"function"==typeof e.focus&&e.focus()}(l,i),r&&o&&r(i,o),!0}return!1}),p),g=Object(o.a)(y,2),b=g[0],w=g[1],k=c.a.useRef({cancel:function(){}}),x=c.a.useRef({cancel:function(){}});c.a.useEffect((function(){var e,t,n=pe(i),r=de(i);h.current!==x.current.element&&(x.current.cancel(),x.current.element=h.current,x.current.cancel=fe(h.current,b)),d.current.element===n&&((e=d.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))||(b(),k.current.element!==n&&(k.current.cancel(),k.current.element=n,k.current.cancel=fe(n,b)))})),c.a.useEffect((function(){r?w():b()}),[r]);var O=c.a.useRef(null);return c.a.useEffect((function(){u?O.current||(O.current=Object(se.a)(window,"resize",b)):O.current&&(O.current.remove(),O.current=null)}),[u]),c.a.useEffect((function(){return function(){k.current.cancel(),x.current.cancel(),O.current&&O.current.remove(),w()}}),[]),c.a.useImperativeHandle(t,(function(){return{forceAlign:function(){return b(!0)}}})),c.a.isValidElement(m)&&(m=c.a.cloneElement(m,{ref:Object(s.a)(m.ref,h)})),m}));he.displayName="Align";var me=he;t.a=me},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(117);function a(e){var t=[];return o.a.Children.forEach(e,(function(e){t.push(e)})),t}function c(e,t){var n=null;return e&&e.forEach((function(e){n||e&&e.key===t&&(n=e)})),n}function s(e,t,n){var r=null;return e&&e.forEach((function(e){if(e&&e.key===t&&e.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=e}})),r}var l=n(8),u=n.n(l),f=n(103),p={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},y=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(e){p.isEnterSupported(this.props)?this.transition("enter",e):e()}},{key:"componentWillAppear",value:function(e){p.isAppearSupported(this.props)?this.transition("appear",e):e()}},{key:"componentWillLeave",value:function(e){p.isLeaveSupported(this.props)?this.transition("leave",e):e()}},{key:"transition",value:function(e,t){var n=this,r=u.a.findDOMNode(this),o=this.props,i=o.transitionName,a="object"==typeof i;this.stop();var c=function(){n.stopper=null,t()};if((f.b||!o.animation[e])&&i&&o[v[e]]){var s=a?i[e]:i+"-"+e,l=s+"-active";a&&i[e+"Active"]&&(l=i[e+"Active"]),this.stopper=Object(f.a)(r,{name:s,active:l},c)}else this.stopper=o.animation[e](r,c)}},{key:"stop",value:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())}},{key:"render",value:function(){return this.props.children}}]),t}(o.a.Component),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var w="rc_animate_"+Date.now();function k(e){var t=e.children;return o.a.isValidElement(t)&&!t.key?o.a.cloneElement(t,{key:w}):t}function x(){}var O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return C.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:a(k(e))},n.childrenRefs={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),b(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter((function(e){return!!e.props[t]}))),n.forEach((function(t){t&&e.performAppear(t.key)}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.nextProps=e;var n=a(k(e)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach((function(e){t.stop(e)}));var i,l,u,f,p=r.showProp,d=this.currentlyAnimatingKeys,h=r.exclusive?a(k(r)):this.state.children,m=[];p?(h.forEach((function(e){var t,r,i,a=e&&c(n,e.key),s=void 0;(s=a&&a.props[p]||!e.props[p]?a:o.a.cloneElement(a||e,(i=!0,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t)))&&m.push(s)})),n.forEach((function(e){e&&c(h,e.key)||m.push(e)}))):(i=n,l=[],u={},f=[],h.forEach((function(e){e&&c(i,e.key)?f.length&&(u[e.key]=f,f=[]):f.push(e)})),i.forEach((function(e){e&&Object.prototype.hasOwnProperty.call(u,e.key)&&(l=l.concat(u[e.key])),l.push(e)})),m=l=l.concat(f)),this.setState({children:m}),n.forEach((function(e){var n=e&&e.key;if(!e||!d[n]){var r=e&&c(h,n);if(p){var o=e.props[p];if(r)!s(h,n,p)&&o&&t.keysToEnter.push(n);else o&&t.keysToEnter.push(n)}else r||t.keysToEnter.push(n)}})),h.forEach((function(e){var r=e&&e.key;if(!e||!d[r]){var o=e&&c(n,r);if(p){var i=e.props[p];if(o)!s(n,r,p)&&i&&t.keysToLeave.push(r);else i&&t.keysToLeave.push(r)}else o||t.keysToLeave.push(r)}}))}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(e,t){var n=this.props.showProp;return n?s(e,t,n):c(e,t)}},{key:"stop",value:function(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()}},{key:"render",value:function(){var e=this,t=this.props;this.nextProps=t;var n=this.state.children,r=null;n&&(r=n.map((function(n){if(null==n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return o.a.createElement(y,{key:n.key,ref:function(t){e.childrenRefs[n.key]=t},animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},n)})));var i=t.component;if(i){var a=t;return"string"==typeof i&&(a=g({className:t.className,style:t.style},t.componentProps)),o.a.createElement(i,a,r)}return r[0]||null}}]),t}(o.a.Component);O.isAnimate=!0,O.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:x,onEnter:x,onLeave:x,onAppear:x};var C=function(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var r=e.props;if(delete e.currentlyAnimatingKeys[t],!r.exclusive||r===e.nextProps){var o=a(k(r));e.isValidChildByKey(o,t)?"appear"===n?p.allowAppearCallback(r)&&(r.onAppear(t),r.onEnd(t,!0)):p.allowEnterCallback(r)&&(r.onEnter(t),r.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],!n.exclusive||n===e.nextProps){var r,o,i,c,s=a(k(n));if(e.isValidChildByKey(s,t))e.performEnter(t);else{var l=function(){p.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};r=e.state.children,o=s,i=n.showProp,(c=r.length===o.length)&&r.forEach((function(e,t){var n=o[t];e&&n&&(e&&!n||!e&&n||e.key!==n.key||i&&e.props[i]!==n.props[i])&&(c=!1)})),c?l():e.setState({children:s},l)}}}};t.a=Object(i.a)(O)},function(e,t,n){"use strict";(function(t){!function(t){var n=/^(b|B)$/,r={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},o={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],a=0,c=void 0,s=void 0,l=void 0,u=void 0,f=void 0,p=void 0,d=void 0,h=void 0,m=void 0,v=void 0,y=void 0,g=void 0,b=void 0,w=void 0,k=void 0,x=void 0,O=void 0;if(isNaN(e))throw new TypeError("Invalid number");return l=!0===t.bits,b=!0===t.unix,s=t.base||2,g=void 0!==t.round?t.round:b?1:2,d=void 0!==t.locale?t.locale:"",h=t.localeOptions||{},w=void 0!==t.separator?t.separator:"",k=void 0!==t.spacer?t.spacer:b?"":" ",O=t.symbols||{},x=2===s&&t.standard||"jedec",y=t.output||"string",f=!0===t.fullform,p=t.fullforms instanceof Array?t.fullforms:[],c=void 0!==t.exponent?t.exponent:-1,u=s>2?1e3:1024,(m=(v=Number(e))<0)&&(v=-v),(-1===c||isNaN(c))&&(c=Math.floor(Math.log(v)/Math.log(u)))<0&&(c=0),c>8&&(c=8),"exponent"===y?c:(0===v?(i[0]=0,i[1]=b?"":r[x][l?"bits":"bytes"][c]):(a=v/(2===s?Math.pow(2,10*c):Math.pow(1e3,c)),l&&(a*=8)>=u&&c<8&&(a/=u,c++),i[0]=Number(a.toFixed(c>0?g:0)),i[0]===u&&c<8&&void 0===t.exponent&&(i[0]=1,c++),i[1]=10===s&&1===c?l?"kb":"kB":r[x][l?"bits":"bytes"][c],b&&(i[1]="jedec"===x?i[1].charAt(0):c>0?i[1].replace(/B$/,""):i[1],n.test(i[1])&&(i[0]=Math.floor(i[0]),i[1]=""))),m&&(i[0]=-i[0]),i[1]=O[i[1]]||i[1],!0===d?i[0]=i[0].toLocaleString():d.length>0?i[0]=i[0].toLocaleString(d,h):w.length>0&&(i[0]=i[0].toString().replace(".",w)),"array"===y?i:(f&&(i[1]=p[c]?p[c]:o[x][c]+(l?"bit":"byte")+(1===i[0]?"":"s")),"object"===y?{value:i[0],symbol:i[1]}:i.join(k)))}i.partial=function(e){return function(t){return i(t,e)}},e.exports=i}("undefined"!=typeof window&&window)}).call(this,n(107))},function(e,t,n){"use strict";var r=/["'&<>]/;e.exports=function(e){var t,n=""+e,o=r.exec(n);if(!o)return n;var i="",a=0,c=0;for(a=o.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}c!==a&&(i+=n.substring(c,a)),c=a+1,i+=t}return c!==a?i+n.substring(c,a):i}},function(e,t,n){"use strict";n(44),n(383)},function(e,t,n){var r=n(250),o=n(254);e.exports=function(e,t){return e&&r(e,o(t))}},function(e,t,n){var r=n(403),o=n(187),i=n(188),a=i&&i.isTypedArray,c=a?o(a):r;e.exports=c},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(249),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,c=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=c}).call(this,n(142)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(86),o=n(57);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(253)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(407),o=n(447),i=n(144),a=n(47),c=n(455);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):c(e)}},function(e,t,n){var r=n(95)(n(66),"Map");e.exports=r},function(e,t,n){var r=n(423),o=n(430),i=n(432),a=n(433),c=n(434);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},function(e,t,n){var r=n(435),o=n(67);e.exports=function e(t,n,i,a,c){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,c))}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(442),o=n(262),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,c=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=c},function(e,t,n){var r=n(130),o=n(110);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(47),o=n(151),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var r=n(145),o=n(268),i=n(203),a=n(461),c=n(462),s=n(270),l=n(271),u=n(465),f=n(466),p=n(260),d=n(273),h=n(150),m=n(467),v=n(468),y=n(275),g=n(47),b=n(141),w=n(473),k=n(57),x=n(475),O=n(129),C=n(131),_="[object Arguments]",E="[object Function]",j="[object Object]",S={};S[_]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S[j]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S[E]=S["[object WeakMap]"]=!1,e.exports=function e(t,n,P,R,T,D){var A,M=1&n,N=2&n,I=4&n;if(P&&(A=T?P(t,R,T,D):P(t)),void 0!==A)return A;if(!k(t))return t;var L=g(t);if(L){if(A=m(t),!M)return l(t,A)}else{var F=h(t),z=F==E||"[object GeneratorFunction]"==F;if(b(t))return s(t,M);if(F==j||F==_||z&&!T){if(A=N||z?{}:y(t),!M)return N?f(t,c(A,t)):u(t,a(A,t))}else{if(!S[F])return T?t:{};A=v(t,F,M)}}D||(D=new r);var B=D.get(t);if(B)return B;D.set(t,A),x(t)?t.forEach((function(r){A.add(e(r,n,P,r,t,D))})):w(t)&&t.forEach((function(r,o){A.set(o,e(r,n,P,o,t,D))}));var V=L?void 0:(I?N?d:p:N?C:O)(t);return o(V||t,(function(r,o){V&&(r=t[o=r]),i(A,o,e(r,n,P,o,t,D))})),A}},function(e,t,n){var r=n(204),o=n(98),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(269);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(259);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=s(o),a=s(n(55)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(482));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Checkboard=function(e){var t=e.white,n=e.grey,s=e.size,l=e.renderers,u=e.borderRadius,f=e.boxShadow,p=e.children,d=(0,a.default)({default:{grid:{borderRadius:u,boxShadow:f,absolute:"0px 0px 0px 0px",background:"url("+c.get(t,n,s,l.canvas)+") center left"}}});return(0,o.isValidElement)(p)?i.default.cloneElement(p,r({},p.props,{style:r({},p.props.style,d.grid)})):i.default.createElement("div",{style:d.grid})};l.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=l},function(e,t,n){"use strict";var r=n(37),o=n(35);Object.defineProperty(t,"__esModule",{value:!0}),t.warning=function(e,t){(0,l.default)(e,"[@ant-design/icons] ".concat(t))},t.isIconDefinition=function(e){return"object"===(0,a.default)(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===(0,a.default)(e.icon)||"function"==typeof e.icon)},t.normalizeAttrs=f,t.generate=function e(t,n,r){if(!r)return s.default.createElement(t.tag,(0,i.default)({key:n},f(t.attrs)),(t.children||[]).map((function(r,o){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(o))})));return s.default.createElement(t.tag,(0,i.default)((0,i.default)({key:n},f(t.attrs)),r),(t.children||[]).map((function(r,o){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(o))})))},t.getSecondaryColor=function(e){return(0,c.generate)(e)[0]},t.normalizeTwoToneColors=function(e){if(!e)return[];return Array.isArray(e)?e:[e]},t.useInsertStyles=t.iconStyles=t.svgBaseProps=void 0;var i=o(n(286)),a=o(n(56)),c=n(241),s=r(n(0)),l=o(n(509)),u=n(239);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:t[n]=r}return t}),{})}t.svgBaseProps={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};var p="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";t.iconStyles=p;var d=!1;t.useInsertStyles=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;(0,s.useEffect)((function(){d||((0,u.insertCss)(e,{prepend:!0}),d=!0)}),[])}},function(e,t,n){},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},r.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},r.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},r.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)}),this),this.__cache__=null,n},r.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},r.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)}),this),this.__cache__=null,n},r.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(n=0,r=(t=this.attrs).length;n<r;n++)if(t[n][0]===e)return n;return-1},r.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},r.prototype.attrSet=function(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},r.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},r.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=r},function(e,t,n){var r=n(300),o=n(610);for(var i in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,r)t[i]=r[i];"undefined"!=typeof window&&(window.filterCSS=e.exports)},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},function(e,t,n){"use strict";n(44),n(628),n(132)},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){var r=n(767);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(114);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(222)("keys"),o=n(154);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(71),o=n(88),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(153)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(113),o=n(780),i=n(223),a=n(221)("IE_PROTO"),c=function(){},s=function(){var e,t=n(313)("iframe"),r=i.length;for(t.style.display="none",n(781).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[i[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=r(e),n=new c,c.prototype=null,n[a]=e):n=s(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(89).f,o=n(97),i=n(72)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){t.f=n(72)},function(e,t,n){var r=n(88),o=n(71),i=n(153),a=n(227),c=n(89).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||c(t,e,{value:a.f(e)})}},function(e,t,n){"use strict";const r=n(377),o=n(230),i=n(232),a=n(157),c=n(378),s=n(158),l=n(159),u=n(160),f=n(161),p=n(379),d=n(162),h=n(163),m=n(164);e.exports=[].concat(r,o,i,a,c,s,l,u,f,p,d,h,m)},function(e,t,n){"use strict";const r=n(231);e.exports=r.concat([".pdf"])},function(e,t,n){"use strict";e.exports=[".doc",".docx",".ppt",".pptx",".xls",".xlsm",".xlsx",".dot",".dotx",".pot",".potx",".xlt",".xltx",".pps",".ppsx",".csv",".rtf"]},function(e,t,n){"use strict";const r=n(233),o=n(234),i=n(235);e.exports=r.concat(o,i,[".ipynb"],[".caj"])},function(e,t,n){"use strict";e.exports=[".rp",".rplib",".psd",".sketch",".graffle",".ai",".mpp",".mpp.zip",".eddx",".edx",".eps",".vsd",".vsdx",".drawio",".xd",".dwg"]},function(e,t,n){"use strict";e.exports=[".key",".keynote",".pages",".numbers"]},function(e,t,n){"use strict";e.exports=[".mindnode",".mindnode.zip",".xmind",".xmind.zip",".mmap",".mmap.zip",".mm"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r,o){var i=o.clientWidth,a=o.clientHeight,c="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=c-(o.getBoundingClientRect().left+window.pageXOffset),u=s-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var f=void 0;if(f=u<0?0:u>a?1:Math.round(100*u/a)/100,t.a!==f)return{h:t.h,s:t.s,l:t.l,a:f,source:"rgb"}}else{var p=void 0;if(r!==(p=l<0?0:l>i?1:Math.round(100*l/i)/100))return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){var o=r.clientWidth,i=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,c="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=a-(r.getBoundingClientRect().left+window.pageXOffset),l=c-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var u=void 0;if(l<0)u=359;else if(l>i)u=0;else{u=360*(-100*l/i+100)/100}if(n.h!==u)return{h:u,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var f=void 0;if(s<0)f=0;else if(s>o)f=359;else{f=360*(100*s/o)/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n){var r=n.getBoundingClientRect(),o=r.width,i=r.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,c="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=a-(n.getBoundingClientRect().left+window.pageXOffset),l=c-(n.getBoundingClientRect().top+window.pageYOffset);s<0?s=0:s>o&&(s=o),l<0?l=0:l>i&&(l=i);var u=s/o,f=1-l/i;return{h:t.h,s:u,v:f,a:t.a,source:"hsv"}}},function(e,t){var n=[],r=[];function o(e,t){if(t=t||{},void 0===e)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var o,i=!0===t.prepend?"prepend":"append",a=void 0!==t.container?t.container:document.querySelector("head"),c=n.indexOf(a);return-1===c&&(c=n.push(a)-1,r[c]={}),void 0!==r[c]&&void 0!==r[c][i]?o=r[c][i]:(o=r[c][i]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===i?a.insertBefore(o,a.childNodes[0]):a.appendChild(o)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),o.styleSheet?o.styleSheet.cssText+=e:o.textContent+=e,o}e.exports=o,e.exports.insertCss=o},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(e,t){(function(e){return"string"==typeof e&&e.includes(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&e.includes("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function o(e){return Math.min(1,Math.max(0,e))}function i(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function a(e){return e<=1?100*Number(e)+"%":e}function c(e){return 1===e.length?"0"+e:String(e)}function s(e,t,n){e=r(e,255),t=r(t,255),n=r(n,255);var o=Math.max(e,t,n),i=Math.min(e,t,n),a=0,c=0,s=(o+i)/2;if(o===i)c=0,a=0;else{var l=o-i;switch(c=s>.5?l/(2-o-i):l/(o+i),o){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:c,l:s}}function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function u(e,t,n){e=r(e,255),t=r(t,255),n=r(n,255);var o=Math.max(e,t,n),i=Math.min(e,t,n),a=0,c=o,s=o-i,l=0===o?0:s/o;if(o===i)a=0;else{switch(o){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4}a/=6}return{h:a,s:l,v:c}}function f(e,t,n,r){var o=[c(Math.round(e).toString(16)),c(Math.round(t).toString(16)),c(Math.round(n).toString(16))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function p(e){return Math.round(255*parseFloat(e)).toString(16)}function d(e){return h(e)/255}function h(e){return parseInt(e,16)}n.r(t),n.d(t,"blue",(function(){return z})),n.d(t,"cyan",(function(){return F})),n.d(t,"geekblue",(function(){return B})),n.d(t,"generate",(function(){return j})),n.d(t,"gold",(function(){return A})),n.d(t,"green",(function(){return L})),n.d(t,"grey",(function(){return H})),n.d(t,"lime",(function(){return I})),n.d(t,"magenta",(function(){return q})),n.d(t,"orange",(function(){return M})),n.d(t,"presetDarkPalettes",(function(){return R})),n.d(t,"presetPalettes",(function(){return P})),n.d(t,"presetPrimaryColors",(function(){return S})),n.d(t,"purple",(function(){return V})),n.d(t,"red",(function(){return T})),n.d(t,"volcano",(function(){return D})),n.d(t,"yellow",(function(){return N}));var m={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function v(e){var t,n,o,c={r:0,g:0,b:0},s=1,u=null,f=null,p=null,v=!1,y=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(m[e])e=m[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=w.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=w.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=w.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=w.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=w.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=w.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=w.hex8.exec(e))return{r:h(n[1]),g:h(n[2]),b:h(n[3]),a:d(n[4]),format:t?"name":"hex8"};if(n=w.hex6.exec(e))return{r:h(n[1]),g:h(n[2]),b:h(n[3]),format:t?"name":"hex"};if(n=w.hex4.exec(e))return{r:h(n[1]+n[1]),g:h(n[2]+n[2]),b:h(n[3]+n[3]),a:d(n[4]+n[4]),format:t?"name":"hex8"};if(n=w.hex3.exec(e))return{r:h(n[1]+n[1]),g:h(n[2]+n[2]),b:h(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"==typeof e&&(k(e.r)&&k(e.g)&&k(e.b)?(t=e.r,n=e.g,o=e.b,c={r:255*r(t,255),g:255*r(n,255),b:255*r(o,255)},v=!0,y="%"===String(e.r).substr(-1)?"prgb":"rgb"):k(e.h)&&k(e.s)&&k(e.v)?(u=a(e.s),f=a(e.v),c=function(e,t,n){e=6*r(e,360),t=r(t,100),n=r(n,100);var o=Math.floor(e),i=e-o,a=n*(1-t),c=n*(1-i*t),s=n*(1-(1-i)*t),l=o%6;return{r:255*[n,c,a,a,s,n][l],g:255*[s,n,n,c,a,a][l],b:255*[a,a,s,n,n,c][l]}}(e.h,u,f),v=!0,y="hsv"):k(e.h)&&k(e.s)&&k(e.l)&&(u=a(e.s),p=a(e.l),c=function(e,t,n){var o,i,a;if(e=r(e,360),t=r(t,100),n=r(n,100),0===t)i=n,a=n,o=n;else{var c=n<.5?n*(1+t):n+t-n*t,s=2*n-c;o=l(s,c,e+1/3),i=l(s,c,e),a=l(s,c,e-1/3)}return{r:255*o,g:255*i,b:255*a}}(e.h,u,p),v=!0,y="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(s=e.a)),s=i(s),{ok:v,format:e.format||y,r:Math.min(255,Math.max(c.r,0)),g:Math.min(255,Math.max(c.g,0)),b:Math.min(255,Math.max(c.b,0)),a:s}}var y="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",g="[\\s|\\(]+("+y+")[,|\\s]+("+y+")[,|\\s]+("+y+")\\s*\\)?",b="[\\s|\\(]+("+y+")[,|\\s]+("+y+")[,|\\s]+("+y+")[,|\\s]+("+y+")\\s*\\)?",w={CSS_UNIT:new RegExp(y),rgb:new RegExp("rgb"+g),rgba:new RegExp("rgba"+b),hsl:new RegExp("hsl"+g),hsla:new RegExp("hsla"+b),hsv:new RegExp("hsv"+g),hsva:new RegExp("hsva"+b),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function k(e){return Boolean(w.CSS_UNIT.exec(String(e)))}var x=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"==typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var o=v(t);this.originalInput=t,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:o.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=i(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=u(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=u(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHsl=function(){var e=s(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=s(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHex=function(e){return void 0===e&&(e=!1),f(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,o){var i=[c(Math.round(e).toString(16)),c(Math.round(t).toString(16)),c(Math.round(n).toString(16)),c(p(r))];return o&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+e+", "+t+", "+n+")":"rgba("+e+", "+t+", "+n+", "+this.roundA+")"},e.prototype.toPercentageRgb=function(){var e=function(e){return Math.round(100*r(e,255))+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*r(e,255))};return 1===this.a?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+f(this.r,this.g,this.b,!1),t=0,n=Object.entries(m);t<n.length;t++){var r=n[t],o=r[0];if(e===r[1])return o}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!=e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=o(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=o(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=o(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=o(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),o=new e(t).toRgb(),i=n/100;return new e({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),o=360/n,i=[this];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(new e(r));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,o=n.s,i=n.v,a=[],c=1/t;t--;)a.push(new e({h:r,s:o,v:i})),i=(i+c)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,o=[this],i=360/t,a=1;a<t;a++)o.push(new e({h:(r+a*i)%360,s:n.s,l:n.l}));return o},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var O=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function C(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function _(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function E(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function j(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=new x(e),o=5;o>0;o-=1){var i=r.toHsv(),a=new x({h:C(i,o,!0),s:_(i,o,!0),v:E(i,o,!0)}).toHexString();n.push(a)}n.push(r.toHexString());for(var c=1;c<=4;c+=1){var s=r.toHsv(),l=new x({h:C(s,c),s:_(s,c),v:E(s,c)}).toHexString();n.push(l)}return"dark"===t.theme?O.map((function(e){var r=e.index,o=e.opacity;return new x(t.backgroundColor||"#141414").mix(n[r],100*o).toHexString()})):n}var S={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},P={},R={};Object.keys(S).forEach((function(e){P[e]=j(S[e]),P[e].primary=P[e][5],R[e]=j(S[e],{theme:"dark",backgroundColor:"#141414"}),R[e].primary=R[e][5]}));var T=P.red,D=P.volcano,A=P.gold,M=P.orange,N=P.yellow,I=P.lime,L=P.green,F=P.cyan,z=P.blue,B=P.geekblue,V=P.purple,q=P.magenta,H=P.grey},function(e,t,n){var r=n(296),o=n(193),i=n(297),a=Math.max,c=Math.min;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=s-1;return void 0!==n&&(l=i(n),l=n<0?a(s+l,0):c(l,s-1)),r(e,o(t,3),l,!0)}},function(e,t,n){var r=n(202);e.exports=function(e){return r(e,4)}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(623))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){var r=n(297);e.exports=function(e){return"number"==typeof e&&e==r(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ce}));var r=n(4),o=n(11),i=n(12),a=n(19),c=n(13),s=n(20),l=n(0),u=n(54),f=n(31),p=n(77),d=n(3),h=n(9),m=n(118),v=n(48),y=n(53),g=n.n(y),b=n(2),w=n.n(b),k=n(21),x=n(7),O=/iPhone/i,C=/iPod/i,_=/iPad/i,E=/\bAndroid(?:.+)Mobile\b/i,j=/Android/i,S=/\bAndroid(?:.+)SD4930UR\b/i,P=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,R=/Windows Phone/i,T=/\bWindows(?:.+)ARM\b/i,D=/BlackBerry/i,A=/BB10/i,M=/Opera Mini/i,N=/\b(CriOS|Chrome)(?:.+)Mobile/i,I=/Mobile(?:.+)Firefox\b/i;function L(e,t){return e.test(t)}function F(e){var t=e||("undefined"!=typeof navigator?navigator.userAgent:""),n=t.split("[FBAN");if(void 0!==n[1]){var r=n;t=Object(x.a)(r,1)[0]}if(void 0!==(n=t.split("Twitter"))[1]){var o=n;t=Object(x.a)(o,1)[0]}var i={apple:{phone:L(O,t)&&!L(R,t),ipod:L(C,t),tablet:!L(O,t)&&L(_,t)&&!L(R,t),device:(L(O,t)||L(C,t)||L(_,t))&&!L(R,t)},amazon:{phone:L(S,t),tablet:!L(S,t)&&L(P,t),device:L(S,t)||L(P,t)},android:{phone:!L(R,t)&&L(S,t)||!L(R,t)&&L(E,t),tablet:!L(R,t)&&!L(S,t)&&!L(E,t)&&(L(P,t)||L(j,t)),device:!L(R,t)&&(L(S,t)||L(P,t)||L(E,t)||L(j,t))||L(/\bokhttp\b/i,t)},windows:{phone:L(R,t),tablet:L(T,t),device:L(R,t)||L(T,t)},other:{blackberry:L(D,t),blackberry10:L(A,t),opera:L(M,t),firefox:L(I,t),chrome:L(N,t),device:L(D,t)||L(A,t)||L(M,t)||L(I,t)||L(N,t)},any:null,phone:null,tablet:null};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}var z=Object(r.a)(Object(r.a)({},F()),{},{isMobile:F});function B(){}function V(e,t,n){var r=t||"";return e.key||"".concat(r,"item_").concat(n)}function q(e){return"".concat(e,"-menu-")}function H(e,t){var n=-1;l.Children.forEach(e,(function(e){n+=1,e&&e.type&&e.type.isMenuItemGroup?l.Children.forEach(e.props.children,(function(e){t(e,n+=1)})):t(e,n)}))}function U(e,t,n){e&&!n.find&&l.Children.forEach(e,(function(e){if(e){var r=e.type;if(!r||!(r.isSubMenu||r.isMenuItem||r.isMenuItemGroup))return;-1!==t.indexOf(e.key)?n.find=!0:e.props.children&&U(e.props.children,t,n)}}))}var W=["defaultSelectedKeys","selectedKeys","defaultOpenKeys","openKeys","mode","getPopupContainer","onSelect","onDeselect","onDestroy","openTransitionName","openAnimation","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","triggerSubMenuAction","level","selectable","multiple","onOpenChange","visible","focusable","defaultActiveFirst","prefixCls","inlineIndent","parentMenu","title","rootPrefixCls","eventKey","active","onItemHover","onTitleMouseEnter","onTitleMouseLeave","onTitleClick","popupAlign","popupOffset","isOpen","renderMenuItem","manualRef","subMenuKey","disabled","index","isSelected","store","activeKey","builtinPlacements","overflowedIndicator","motion","attribute","value","popupClassName","inlineCollapsed","menu","theme","itemIcon","expandIcon"],K=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e&&"function"==typeof e.getBoundingClientRect&&e.getBoundingClientRect().width;if(n){if(t){var r=getComputedStyle(e),o=r.marginLeft,i=r.marginRight;n+=+o.replace("px","")+ +i.replace("px","")}n=+n.toFixed(6)}return n||0},Y=function(e,t,n){e&&"object"===Object(k.a)(e.style)&&(e.style[t]=n)},X=n(14),$=n(17),G=n(8),Z=n(73),J=n(178),Q=n(58),ee=n(94),te={adjustX:1,adjustY:1},ne={topLeft:{points:["bl","tl"],overflow:te,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:te,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:te,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:te,offset:[4,0]}},re={topLeft:{points:["bl","tl"],overflow:te,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:te,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:te,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:te,offset:[4,0]}},oe=0,ie={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},ae=function(e,t,n){var o=q(t),i=e.getState();e.setState({defaultActiveFirst:Object(r.a)(Object(r.a)({},i.defaultActiveFirst),{},Object(d.a)({},o,n))})},ce=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var i;Object(o.a)(this,n),(i=t.call(this,e)).onDestroy=function(e){i.props.onDestroy(e)},i.onKeyDown=function(e){var t=e.keyCode,n=i.menuInstance,r=i.props.store,o=i.getVisible();if(t===h.a.ENTER)return i.onTitleClick(e),ae(r,i.props.eventKey,!0),!0;if(t===h.a.RIGHT)return o?n.onKeyDown(e):(i.triggerOpenChange(!0),ae(r,i.props.eventKey,!0)),!0;if(t===h.a.LEFT){var a;if(!o)return;return(a=n.onKeyDown(e))||(i.triggerOpenChange(!1),a=!0),a}return!o||t!==h.a.UP&&t!==h.a.DOWN?void 0:n.onKeyDown(e)},i.onOpenChange=function(e){i.props.onOpenChange(e)},i.onPopupVisibleChange=function(e){i.triggerOpenChange(e,e?"mouseenter":"mouseleave")},i.onMouseEnter=function(e){var t=i.props,n=t.eventKey,r=t.onMouseEnter,o=t.store;ae(o,i.props.eventKey,!1),r({key:n,domEvent:e})},i.onMouseLeave=function(e){var t=i.props,n=t.parentMenu,r=t.eventKey,o=t.onMouseLeave;n.subMenuInstance=Object(a.a)(i),o({key:r,domEvent:e})},i.onTitleMouseEnter=function(e){var t=i.props,n=t.eventKey,r=t.onItemHover,o=t.onTitleMouseEnter;r({key:n,hover:!0}),o({key:n,domEvent:e})},i.onTitleMouseLeave=function(e){var t=i.props,n=t.parentMenu,r=t.eventKey,o=t.onItemHover,c=t.onTitleMouseLeave;n.subMenuInstance=Object(a.a)(i),o({key:r,hover:!1}),c({key:r,domEvent:e})},i.onTitleClick=function(e){var t=Object(a.a)(i).props;t.onTitleClick({key:t.eventKey,domEvent:e}),"hover"!==t.triggerSubMenuAction&&(i.triggerOpenChange(!i.getVisible(),"click"),ae(t.store,i.props.eventKey,!1))},i.onSubMenuClick=function(e){"function"==typeof i.props.onClick&&i.props.onClick(i.addKeyPath(e))},i.onSelect=function(e){i.props.onSelect(e)},i.onDeselect=function(e){i.props.onDeselect(e)},i.getPrefixCls=function(){return"".concat(i.props.rootPrefixCls,"-submenu")},i.getActiveClassName=function(){return"".concat(i.getPrefixCls(),"-active")},i.getDisabledClassName=function(){return"".concat(i.getPrefixCls(),"-disabled")},i.getSelectedClassName=function(){return"".concat(i.getPrefixCls(),"-selected")},i.getOpenClassName=function(){return"".concat(i.props.rootPrefixCls,"-submenu-open")},i.getVisible=function(){return i.state.isOpen},i.getMode=function(){return i.state.mode},i.saveMenuInstance=function(e){i.menuInstance=e},i.addKeyPath=function(e){return Object(r.a)(Object(r.a)({},e),{},{keyPath:(e.keyPath||[]).concat(i.props.eventKey)})},i.triggerOpenChange=function(e,t){var n=i.props.eventKey,r=function(){i.onOpenChange({key:n,item:Object(a.a)(i),trigger:t,open:e})};"mouseenter"===t?i.mouseenterTimeout=setTimeout((function(){r()}),0):r()},i.isChildrenSelected=function(){var e={find:!1};return U(i.props.children,i.props.selectedKeys,e),e.find},i.isInlineMode=function(){return"inline"===i.getMode()},i.adjustWidth=function(){if(i.subMenuTitle&&i.menuInstance){var e=G.findDOMNode(i.menuInstance);e.offsetWidth>=i.subMenuTitle.offsetWidth||(e.style.minWidth="".concat(i.subMenuTitle.offsetWidth,"px"))}},i.saveSubMenuTitle=function(e){i.subMenuTitle=e},i.getBaseProps=function(){var e=Object(a.a)(i).props,t=i.getMode();return{mode:"horizontal"===t?"vertical":t,visible:i.getVisible(),level:e.level+1,inlineIndent:e.inlineIndent,focusable:!1,onClick:i.onSubMenuClick,onSelect:i.onSelect,onDeselect:i.onDeselect,onDestroy:i.onDestroy,selectedKeys:e.selectedKeys,eventKey:"".concat(e.eventKey,"-menu-"),openKeys:e.openKeys,motion:e.motion,onOpenChange:i.onOpenChange,subMenuOpenDelay:e.subMenuOpenDelay,parentMenu:Object(a.a)(i),subMenuCloseDelay:e.subMenuCloseDelay,forceSubMenuRender:e.forceSubMenuRender,triggerSubMenuAction:e.triggerSubMenuAction,builtinPlacements:e.builtinPlacements,defaultActiveFirst:e.store.getState().defaultActiveFirst[q(e.eventKey)],multiple:e.multiple,prefixCls:e.rootPrefixCls,id:i.internalMenuId,manualRef:i.saveMenuInstance,itemIcon:e.itemIcon,expandIcon:e.expandIcon,direction:e.direction}},i.getMotion=function(e,t){var n=Object(a.a)(i).haveRendered,o=i.props,c=o.motion,s=o.rootPrefixCls;return Object(r.a)(Object(r.a)({},c),{},{leavedClassName:"".concat(s,"-hidden"),removeOnLeave:!1,motionAppear:n||!t||"inline"!==e})};var c=e.store,s=e.eventKey,l=c.getState().defaultActiveFirst;i.isRootMenu=!1;var u=!1;return l&&(u=l[s]),ae(c,s,u),i.state={mode:e.mode,isOpen:e.isOpen},i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.mode,r=t.parentMenu,o=t.manualRef,i=t.isOpen,a=function(){e.setState({mode:n,isOpen:i})},c=i!==this.state.isOpen,s=n!==this.state.mode;(s||c)&&(Q.a.cancel(this.updateStateRaf),s?this.updateStateRaf=Object(Q.a)(a):a()),o&&o(this),"horizontal"===n&&(null==r?void 0:r.isRootMenu)&&i&&(this.minWidthTimeout=setTimeout((function(){return e.adjustWidth()}),0))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.onDestroy,n=e.eventKey;t&&t(n),this.minWidthTimeout&&clearTimeout(this.minWidthTimeout),this.mouseenterTimeout&&clearTimeout(this.mouseenterTimeout),Q.a.cancel(this.updateStateRaf)}},{key:"renderPopupMenu",value:function(e,t){var n=this.getBaseProps();return l.createElement(ge,Object.assign({},n,{id:this.internalMenuId,className:e,style:t}),this.props.children)}},{key:"renderChildren",value:function(){var e=this,t=this.getBaseProps(),n=t.mode,r=t.visible,o=t.forceSubMenuRender,i=t.direction,a=this.getMotion(n,r);if(this.haveRendered=!0,this.haveOpened=this.haveOpened||r||o,!this.haveOpened)return l.createElement("div",null);var c=w()("".concat(t.prefixCls,"-sub"),Object(d.a)({},"".concat(t.prefixCls,"-rtl"),"rtl"===i));return this.isInlineMode()?l.createElement(ee.a,Object.assign({visible:t.visible},a),(function(t){var n=t.className,r=t.style,o=w()(c,n);return e.renderPopupMenu(o,r)})):this.renderPopupMenu(c)}},{key:"render",value:function(){var e,t,n,o=Object(r.a)({},this.props),i=this.getVisible(),a=this.getPrefixCls(),c=this.isInlineMode(),s=this.getMode(),u=w()(a,"".concat(a,"-").concat(s),(e={},Object(d.a)(e,o.className,!!o.className),Object(d.a)(e,this.getOpenClassName(),i),Object(d.a)(e,this.getActiveClassName(),o.active||i&&!c),Object(d.a)(e,this.getDisabledClassName(),o.disabled),Object(d.a)(e,this.getSelectedClassName(),this.isChildrenSelected()),e));this.internalMenuId||(o.eventKey?this.internalMenuId="".concat(o.eventKey,"$Menu"):(oe+=1,this.internalMenuId="$__$".concat(oe,"$Menu")));var f={},p={},h={};o.disabled||(f={onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},p={onClick:this.onTitleClick},h={onMouseEnter:this.onTitleMouseEnter,onMouseLeave:this.onTitleMouseLeave});var m={},v="rtl"===o.direction;c&&(v?m.paddingRight=o.inlineIndent*o.level:m.paddingLeft=o.inlineIndent*o.level);var y={};this.getVisible()&&(y={"aria-owns":this.internalMenuId});var g=null;"horizontal"!==s&&(g=this.props.expandIcon,"function"==typeof this.props.expandIcon&&(g=l.createElement(this.props.expandIcon,Object(r.a)({},this.props))));var b=l.createElement("div",Object.assign({ref:this.saveSubMenuTitle,style:m,className:"".concat(a,"-title"),role:"button"},h,p,{"aria-expanded":i},y,{"aria-haspopup":"true",title:"string"==typeof o.title?o.title:void 0}),o.title,g||l.createElement("i",{className:"".concat(a,"-arrow")})),k=this.renderChildren(),x=(null===(t=o.parentMenu)||void 0===t?void 0:t.isRootMenu)?o.parentMenu.props.getPopupContainer:function(e){return e.parentNode},O=ie[s],C=o.popupOffset?{offset:o.popupOffset}:{},_=w()((n={},Object(d.a)(n,o.popupClassName,o.popupClassName&&!c),Object(d.a)(n,"".concat(a,"-rtl"),v),n)),E=o.disabled,j=o.triggerSubMenuAction,S=o.subMenuOpenDelay,P=o.forceSubMenuRender,R=o.subMenuCloseDelay,T=o.builtinPlacements;W.forEach((function(e){return delete o[e]})),delete o.onClick;var D=v?Object.assign({},re,T):Object.assign({},ne,T);delete o.direction;var A=this.getBaseProps(),M=c?null:this.getMotion(A.mode,A.visible);return l.createElement("li",Object.assign({},o,f,{className:u,role:"menuitem"}),l.createElement(J.a,{prefixCls:a,popupClassName:w()("".concat(a,"-popup"),_),getPopupContainer:x,builtinPlacements:D,popupPlacement:O,popupVisible:!c&&i,popupAlign:C,popup:c?null:k,action:E||c?[]:[j],mouseEnterDelay:S,mouseLeaveDelay:R,onPopupVisibleChange:this.onPopupVisibleChange,forceRender:P,popupMotion:M},b),c?k:null)}}]),n}(l.Component);ce.defaultProps={onMouseEnter:B,onMouseLeave:B,onTitleMouseEnter:B,onTitleMouseLeave:B,onTitleClick:B,manualRef:B,mode:"vertical",title:""};var se=Object(u.b)((function(e,t){var n=e.openKeys,r=e.activeKey,o=e.selectedKeys,i=t.eventKey,a=t.subMenuKey;return{isOpen:n.indexOf(i)>-1,active:r[a]===i,selectedKeys:o}}))(ce);se.isSubMenu=!0;var le=se,ue="menuitem-overflowed",fe=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).resizeObserver=null,e.mutationObserver=null,e.originalTotalWidth=0,e.overflowedItems=[],e.menuItemSizes=[],e.cancelFrameId=null,e.state={lastVisibleIndex:void 0},e.getMenuItemNodes=function(){var t=e.props.prefixCls,n=G.findDOMNode(Object(a.a)(e));return n?[].slice.call(n.children).filter((function(e){return e.className.split(" ").indexOf("".concat(t,"-overflowed-submenu"))<0})):[]},e.getOverflowedSubMenuItem=function(t,n,o){var i=e.props,a=i.overflowedIndicator,c=i.level,s=i.mode,u=i.prefixCls,f=i.theme;if(1!==c||"horizontal"!==s)return null;var p=e.props.children[0].props,d=(p.children,p.title,p.style),h=Object($.a)(p,["children","title","style"]),m=Object(r.a)({},d),v="".concat(t,"-overflowed-indicator"),y="".concat(t,"-overflowed-indicator");0===n.length&&!0!==o?m=Object(r.a)(Object(r.a)({},m),{},{display:"none"}):o&&(m=Object(r.a)(Object(r.a)({},m),{},{visibility:"hidden",position:"absolute"}),v="".concat(v,"-placeholder"),y="".concat(y,"-placeholder"));var g=f?"".concat(u,"-").concat(f):"",b={};return W.forEach((function(e){void 0!==h[e]&&(b[e]=h[e])})),l.createElement(le,Object.assign({title:a,className:"".concat(u,"-overflowed-submenu"),popupClassName:g},b,{key:v,eventKey:y,disabled:!1,style:m}),n)},e.setChildrenWidthAndResize=function(){if("horizontal"===e.props.mode){var t=G.findDOMNode(Object(a.a)(e));if(t){var n=t.children;if(n&&0!==n.length){var r=t.children[n.length-1];Y(r,"display","inline-block");var o=e.getMenuItemNodes(),i=o.filter((function(e){return e.className.split(" ").indexOf(ue)>=0}));i.forEach((function(e){Y(e,"display","inline-block")})),e.menuItemSizes=o.map((function(e){return K(e,!0)})),i.forEach((function(e){Y(e,"display","none")})),e.overflowedIndicatorWidth=K(t.children[t.children.length-1],!0),e.originalTotalWidth=e.menuItemSizes.reduce((function(e,t){return e+t}),0),e.handleResize(),Y(r,"display","none")}}}},e.handleResize=function(){if("horizontal"===e.props.mode){var t=G.findDOMNode(Object(a.a)(e));if(t){var n=K(t);e.overflowedItems=[];var r,o=0;e.originalTotalWidth>n+.5&&(r=-1,e.menuItemSizes.forEach((function(t){(o+=t)+e.overflowedIndicatorWidth<=n&&(r+=1)}))),e.setState({lastVisibleIndex:r})}}},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(this.setChildrenWidthAndResize(),1===this.props.level&&"horizontal"===this.props.mode){var t=G.findDOMNode(this);if(!t)return;this.resizeObserver=new Z.a((function(t){t.forEach((function(){var t=e.cancelFrameId;cancelAnimationFrame(t),e.cancelFrameId=requestAnimationFrame(e.setChildrenWidthAndResize)}))})),[].slice.call(t.children).concat(t).forEach((function(t){e.resizeObserver.observe(t)})),"undefined"!=typeof MutationObserver&&(this.mutationObserver=new MutationObserver((function(){e.resizeObserver.disconnect(),[].slice.call(t.children).concat(t).forEach((function(t){e.resizeObserver.observe(t)})),e.setChildrenWidthAndResize()})),this.mutationObserver.observe(t,{attributes:!1,childList:!0,subTree:!1}))}}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect(),cancelAnimationFrame(this.cancelFrameId)}},{key:"renderChildren",value:function(e){var t=this,n=this.state.lastVisibleIndex;return(e||[]).reduce((function(r,o,i){var a=o;if("horizontal"===t.props.mode){var c=t.getOverflowedSubMenuItem(o.props.eventKey,[]);void 0!==n&&-1!==t.props.className.indexOf("".concat(t.props.prefixCls,"-root"))&&(i>n&&(a=l.cloneElement(o,{style:{display:"none"},eventKey:"".concat(o.props.eventKey,"-hidden"),className:"".concat(ue)})),i===n+1&&(t.overflowedItems=e.slice(n+1).map((function(e){return l.cloneElement(e,{key:e.props.eventKey,mode:"vertical-left"})})),c=t.getOverflowedSubMenuItem(o.props.eventKey,t.overflowedItems)));var s=[].concat(Object(X.a)(r),[c,a]);return i===e.length-1&&s.push(t.getOverflowedSubMenuItem(o.props.eventKey,[],!0)),s}return[].concat(Object(X.a)(r),[a])}),[])}},{key:"render",value:function(){var e=this.props,t=(e.visible,e.prefixCls,e.overflowedIndicator,e.mode,e.level,e.tag),n=e.children,r=(e.theme,Object($.a)(e,["visible","prefixCls","overflowedIndicator","mode","level","tag","children","theme"])),o=t;return l.createElement(o,Object.assign({},r),this.renderChildren(n))}}]),n}(l.Component);fe.defaultProps={tag:"div",className:""};var pe=fe;function de(e,t,n){var o=e.getState();e.setState({activeKey:Object(r.a)(Object(r.a)({},o.activeKey),{},Object(d.a)({},t,n))})}function he(e){return e.eventKey||"0-menu-"}function me(e,t){var n,r=t,o=e.children,i=e.eventKey;if(r&&(H(o,(function(e,t){e&&e.props&&!e.props.disabled&&r===V(e,i,t)&&(n=!0)})),n))return r;return r=null,e.defaultActiveFirst?(H(o,(function(e,t){r||!e||e.props.disabled||(r=V(e,i,t))})),r):r}function ve(e){if(e){var t=this.instanceArray.indexOf(e);-1!==t?this.instanceArray[t]=e:this.instanceArray.push(e)}}var ye=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).onKeyDown=function(e,t){var n,r=e.keyCode;if(i.getFlatInstanceArray().forEach((function(t){t&&t.props.active&&t.onKeyDown&&(n=t.onKeyDown(e))})),n)return 1;var o=null;return r!==h.a.UP&&r!==h.a.DOWN||(o=i.step(r===h.a.UP?-1:1)),o?(e.preventDefault(),de(i.props.store,he(i.props),o.props.eventKey),"function"==typeof t&&t(o),1):void 0},i.onItemHover=function(e){var t=e.key,n=e.hover;de(i.props.store,he(i.props),n?t:null)},i.onDeselect=function(e){i.props.onDeselect(e)},i.onSelect=function(e){i.props.onSelect(e)},i.onClick=function(e){i.props.onClick(e)},i.onOpenChange=function(e){i.props.onOpenChange(e)},i.onDestroy=function(e){i.props.onDestroy(e)},i.getFlatInstanceArray=function(){return i.instanceArray},i.step=function(e){var t=i.getFlatInstanceArray(),n=i.props.store.getState().activeKey[he(i.props)],r=t.length;if(!r)return null;e<0&&(t=t.concat().reverse());var o=-1;if(t.every((function(e,t){return!e||e.props.eventKey!==n||(o=t,!1)})),i.props.defaultActiveFirst||-1===o||(a=t.slice(o,r-1)).length&&!a.every((function(e){return!!e.props.disabled}))){var a,c=(o+1)%r,s=c;do{var l=t[s];if(l&&!l.props.disabled)return l;s=(s+1)%r}while(s!==c);return null}},i.renderCommonMenuItem=function(e,t,n){var o=i.props.store.getState(),c=Object(a.a)(i).props,s=V(e,c.eventKey,t),u=e.props;if(!u||"string"==typeof e.type)return e;var f=s===o.activeKey,p=Object(r.a)(Object(r.a)({mode:u.mode||c.mode,level:c.level,inlineIndent:c.inlineIndent,renderMenuItem:i.renderMenuItem,rootPrefixCls:c.prefixCls,index:t,parentMenu:c.parentMenu,manualRef:u.disabled?void 0:Object(m.a)(e.ref,ve.bind(Object(a.a)(i))),eventKey:s,active:!u.disabled&&f,multiple:c.multiple,onClick:function(e){(u.onClick||B)(e),i.onClick(e)},onItemHover:i.onItemHover,motion:c.motion,subMenuOpenDelay:c.subMenuOpenDelay,subMenuCloseDelay:c.subMenuCloseDelay,forceSubMenuRender:c.forceSubMenuRender,onOpenChange:i.onOpenChange,onDeselect:i.onDeselect,onSelect:i.onSelect,builtinPlacements:c.builtinPlacements,itemIcon:u.itemIcon||i.props.itemIcon,expandIcon:u.expandIcon||i.props.expandIcon},n),{},{direction:c.direction});return("inline"===c.mode||z.any)&&(p.triggerSubMenuAction="click"),l.cloneElement(e,Object(r.a)(Object(r.a)({},p),{},{key:s||t}))},i.renderMenuItem=function(e,t,n){if(!e)return null;var r=i.props.store.getState(),o={openKeys:r.openKeys,selectedKeys:r.selectedKeys,triggerSubMenuAction:i.props.triggerSubMenuAction,subMenuKey:n};return i.renderCommonMenuItem(e,t,o)},e.store.setState({activeKey:Object(r.a)(Object(r.a)({},e.store.getState().activeKey),{},Object(d.a)({},e.eventKey,me(e,e.activeKey)))}),i.instanceArray=[],i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.manualRef&&this.props.manualRef(this)}},{key:"shouldComponentUpdate",value:function(e){return this.props.visible||e.visible||this.props.className!==e.className||!g()(this.props.style,e.style)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n="activeKey"in t?t.activeKey:t.store.getState().activeKey[he(t)],r=me(t,n);if(r!==n)de(t.store,he(t),r);else if("activeKey"in e){r!==me(e,e.activeKey)&&de(t.store,he(t),r)}}},{key:"render",value:function(){var e=this,t=Object(p.a)({},this.props);this.instanceArray=[];var n={className:w()(t.prefixCls,t.className,"".concat(t.prefixCls,"-").concat(t.mode)),role:t.role||"menu"};t.id&&(n.id=t.id),t.focusable&&(n.tabIndex=0,n.onKeyDown=this.onKeyDown);var r=t.prefixCls,o=t.eventKey,i=t.visible,a=t.level,c=t.mode,s=t.overflowedIndicator,u=t.theme;return W.forEach((function(e){return delete t[e]})),delete t.onClick,l.createElement(pe,Object.assign({},t,{prefixCls:r,mode:c,tag:"ul",level:a,theme:u,visible:i,overflowedIndicator:s},n),Object(v.a)(t.children).map((function(t,n){return e.renderMenuItem(t,n,o||"0-menu-")})))}}]),n}(l.Component);ye.defaultProps={prefixCls:"rc-menu",className:"",mode:"vertical",level:1,inlineIndent:24,visible:!0,focusable:!0,style:{},manualRef:B};var ge=Object(u.b)()(ye),be=n(16);function we(e,t,n){var r=e.prefixCls,o=e.motion,i=e.defaultMotions,a=void 0===i?{}:i,c=e.openAnimation,s=e.openTransitionName,l=t.switchingModeFromInline;if(o)return o;if("object"===Object(k.a)(c)&&c)Object(be.a)(!1,"Object type of `openAnimation` is removed. Please use `motion` instead.");else if("string"==typeof c)return{motionName:"".concat(r,"-open-").concat(c)};if(s)return{motionName:s};var u=a[n];return u||(l?null:a.other)}var ke=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var i;Object(o.a)(this,n),(i=t.call(this,e)).onSelect=function(e){var t=Object(a.a)(i).props;if(t.selectable){var n=i.store.getState().selectedKeys,o=e.key;n=t.multiple?n.concat([o]):[o],"selectedKeys"in t||i.store.setState({selectedKeys:n}),t.onSelect(Object(r.a)(Object(r.a)({},e),{},{selectedKeys:n}))}},i.onClick=function(e){var t=i.getRealMenuMode(),n=Object(a.a)(i),r=n.store,o=n.props.onOpenChange;"inline"===t||"openKeys"in i.props||(r.setState({openKeys:[]}),o([])),i.props.onClick(e)},i.onKeyDown=function(e,t){i.innerMenu.getWrappedInstance().onKeyDown(e,t)},i.onOpenChange=function(e){var t=Object(a.a)(i).props,n=i.store.getState().openKeys.concat(),r=!1,o=function(e){var t=!1;if(e.open)(t=-1===n.indexOf(e.key))&&n.push(e.key);else{var o=n.indexOf(e.key);(t=-1!==o)&&n.splice(o,1)}r=r||t};Array.isArray(e)?e.forEach(o):o(e),r&&("openKeys"in i.props||i.store.setState({openKeys:n}),t.onOpenChange(n))},i.onDeselect=function(e){var t=Object(a.a)(i).props;if(t.selectable){var n=i.store.getState().selectedKeys.concat(),o=e.key,c=n.indexOf(o);-1!==c&&n.splice(c,1),"selectedKeys"in t||i.store.setState({selectedKeys:n}),t.onDeselect(Object(r.a)(Object(r.a)({},e),{},{selectedKeys:n}))}},i.onMouseEnter=function(e){i.restoreModeVerticalFromInline();var t=i.props.onMouseEnter;t&&t(e)},i.onTransitionEnd=function(e){var t="width"===e.propertyName&&e.target===e.currentTarget,n=e.target.className,r="[object SVGAnimatedString]"===Object.prototype.toString.call(n)?n.animVal:n,o="font-size"===e.propertyName&&r.indexOf("anticon")>=0;(t||o)&&i.restoreModeVerticalFromInline()},i.setInnerMenu=function(e){i.innerMenu=e},i.isRootMenu=!0;var c=e.defaultSelectedKeys,s=e.defaultOpenKeys;return"selectedKeys"in e&&(c=e.selectedKeys||[]),"openKeys"in e&&(s=e.openKeys||[]),i.store=Object(u.c)({selectedKeys:c,openKeys:s,activeKey:{"0-menu-":me(e,e.activeKey)}}),i.state={switchingModeFromInline:!1,prevProps:e,inlineOpenKeys:[],store:i.store},i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.updateMiniStore(),this.updateMenuDisplay()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.siderCollapsed,r=t.inlineCollapsed,o=t.onOpenChange;(!e.inlineCollapsed&&r||!e.siderCollapsed&&n)&&o([]),this.updateMiniStore(),this.updateMenuDisplay()}},{key:"updateMenuDisplay",value:function(){var e=this.props.collapsedWidth,t=this.store,n=this.prevOpenKeys;this.getInlineCollapsed()&&(0===e||"0"===e||"0px"===e)?(this.prevOpenKeys=t.getState().openKeys.concat(),this.store.setState({openKeys:[]})):n&&(this.store.setState({openKeys:n}),this.prevOpenKeys=null)}},{key:"getRealMenuMode",value:function(){var e=this.props.mode,t=this.state.switchingModeFromInline,n=this.getInlineCollapsed();return t&&n?"inline":n?"vertical":e}},{key:"getInlineCollapsed",value:function(){var e=this.props,t=e.inlineCollapsed,n=e.siderCollapsed;return void 0!==n?n:t}},{key:"restoreModeVerticalFromInline",value:function(){this.state.switchingModeFromInline&&this.setState({switchingModeFromInline:!1})}},{key:"updateMiniStore",value:function(){"selectedKeys"in this.props&&this.store.setState({selectedKeys:this.props.selectedKeys||[]}),"openKeys"in this.props&&this.store.setState({openKeys:this.props.openKeys||[]})}},{key:"render",value:function(){var e=Object(r.a)({},Object(f.a)(this.props,["collapsedWidth","siderCollapsed","defaultMotions"])),t=this.getRealMenuMode();return e.className+=" ".concat(e.prefixCls,"-root"),"rtl"===e.direction&&(e.className+=" ".concat(e.prefixCls,"-rtl")),delete(e=Object(r.a)(Object(r.a)({},e),{},{mode:t,onClick:this.onClick,onOpenChange:this.onOpenChange,onDeselect:this.onDeselect,onSelect:this.onSelect,onMouseEnter:this.onMouseEnter,onTransitionEnd:this.onTransitionEnd,parentMenu:this,motion:we(this.props,this.state,t)})).openAnimation,delete e.openTransitionName,l.createElement(u.a,{store:this.store},l.createElement(ge,Object.assign({},e,{ref:this.setInnerMenu}),this.props.children))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.store,o=r.getState(),i={},a={prevProps:e};return"inline"===n.mode&&"inline"!==e.mode&&(a.switchingModeFromInline=!0),"openKeys"in e?i.openKeys=e.openKeys:((e.inlineCollapsed&&!n.inlineCollapsed||e.siderCollapsed&&!n.siderCollapsed)&&(a.switchingModeFromInline=!0,a.inlineOpenKeys=o.openKeys,i.openKeys=[]),(!e.inlineCollapsed&&n.inlineCollapsed||!e.siderCollapsed&&n.siderCollapsed)&&(i.openKeys=t.inlineOpenKeys,a.inlineOpenKeys=[])),Object.keys(i).length&&r.setState(i),a}}]),n}(l.Component);ke.defaultProps={selectable:!0,onClick:B,onSelect:B,onOpenChange:B,onDeselect:B,defaultSelectedKeys:[],defaultOpenKeys:[],subMenuOpenDelay:.1,subMenuCloseDelay:.1,triggerSubMenuAction:"hover",prefixCls:"rc-menu",className:"",mode:"vertical",style:{},builtinPlacements:{},overflowedIndicator:l.createElement("span",null,"···")};var xe=ke,Oe=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).onKeyDown=function(t){if(t.keyCode===h.a.ENTER)return e.onClick(t),!0},e.onMouseLeave=function(t){var n=e.props,r=n.eventKey,o=n.onItemHover,i=n.onMouseLeave;o({key:r,hover:!1}),i({key:r,domEvent:t})},e.onMouseEnter=function(t){var n=e.props,r=n.eventKey,o=n.onItemHover,i=n.onMouseEnter;o({key:r,hover:!0}),i({key:r,domEvent:t})},e.onClick=function(t){var n=e.props,r=n.eventKey,o=n.multiple,i=n.onClick,c=n.onSelect,s=n.onDeselect,l=n.isSelected,u={key:r,keyPath:[r],item:Object(a.a)(e),domEvent:t};i(u),o?l?s(u):c(u):l||c(u)},e.saveNode=function(t){e.node=t},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.callRef()}},{key:"componentDidUpdate",value:function(){this.callRef()}},{key:"componentWillUnmount",value:function(){var e=this.props;e.onDestroy&&e.onDestroy(e.eventKey)}},{key:"getPrefixCls",value:function(){return"".concat(this.props.rootPrefixCls,"-item")}},{key:"getActiveClassName",value:function(){return"".concat(this.getPrefixCls(),"-active")}},{key:"getSelectedClassName",value:function(){return"".concat(this.getPrefixCls(),"-selected")}},{key:"getDisabledClassName",value:function(){return"".concat(this.getPrefixCls(),"-disabled")}},{key:"callRef",value:function(){this.props.manualRef&&this.props.manualRef(this)}},{key:"render",value:function(){var e,t=Object(r.a)({},this.props),n=w()(this.getPrefixCls(),t.className,(e={},Object(d.a)(e,this.getActiveClassName(),!t.disabled&&t.active),Object(d.a)(e,this.getSelectedClassName(),t.isSelected),Object(d.a)(e,this.getDisabledClassName(),t.disabled),e)),o=Object(r.a)(Object(r.a)({},t.attribute),{},{title:"string"==typeof t.title?t.title:void 0,className:n,role:t.role||"menuitem","aria-disabled":t.disabled});"option"===t.role?o=Object(r.a)(Object(r.a)({},o),{},{role:"option","aria-selected":t.isSelected}):null!==t.role&&"none"!==t.role||(o.role="none");var i={onClick:t.disabled?null:this.onClick,onMouseLeave:t.disabled?null:this.onMouseLeave,onMouseEnter:t.disabled?null:this.onMouseEnter},a=Object(r.a)({},t.style);"inline"===t.mode&&("rtl"===t.direction?a.paddingRight=t.inlineIndent*t.level:a.paddingLeft=t.inlineIndent*t.level),W.forEach((function(e){return delete t[e]})),delete t.direction;var c=this.props.itemIcon;return"function"==typeof this.props.itemIcon&&(c=l.createElement(this.props.itemIcon,this.props)),l.createElement("li",Object.assign({},Object(f.a)(t,["onClick","onMouseEnter","onMouseLeave","onSelect"]),o,i,{style:a,ref:this.saveNode}),t.children,c)}}]),n}(l.Component);Oe.isMenuItem=!0,Oe.defaultProps={onSelect:B,onMouseEnter:B,onMouseLeave:B,manualRef:B};var Ce=Object(u.b)((function(e,t){var n=e.activeKey,r=e.selectedKeys,o=t.eventKey;return{active:n[t.subMenuKey]===o,isSelected:-1!==r.indexOf(o)}}))(Oe),_e=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).renderInnerMenuItem=function(t){var n=e.props;return(0,n.renderMenuItem)(t,n.index,e.props.subMenuKey)},e}return Object(i.a)(n,[{key:"render",value:function(){var e=Object(p.a)({},this.props),t=e.className,n=void 0===t?"":t,r=e.rootPrefixCls,o="".concat(r,"-item-group-title"),i="".concat(r,"-item-group-list"),a=e.title,c=e.children;return W.forEach((function(t){return delete e[t]})),delete e.onClick,delete e.direction,l.createElement("li",Object.assign({},e,{className:"".concat(n," ").concat(r,"-item-group")}),l.createElement("div",{className:o,title:"string"==typeof a?a:void 0},a),l.createElement("ul",{className:i},l.Children.map(c,this.renderInnerMenuItem)))}}]),n}(l.Component);_e.isMenuItemGroup=!0,_e.defaultProps={disabled:!0};var Ee=function(e){var t=e.className,n=e.rootPrefixCls,r=e.style;return l.createElement("li",{className:"".concat(t," ").concat(n,"-item-divider"),style:r})};Ee.defaultProps={disabled:!0,className:"",style:{}};t.b=xe},function(e,t,n){var r=n(248);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(107))},function(e,t,n){var r=n(251),o=n(129);e.exports=function(e,t){return e&&r(e,t,o)}},function(e,t,n){var r=n(399)();e.exports=r},function(e,t,n){var r=n(400),o=n(140),i=n(47),a=n(141),c=n(143),s=n(185),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),f=!n&&!u&&a(e),p=!n&&!u&&!f&&s(e),d=n||u||f||p,h=d?r(e.length,String):[],m=h.length;for(var v in e)!t&&!l.call(e,v)||d&&("length"==v||f&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||c(v,m))||h.push(v);return h}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(144);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(257),o=n(438),i=n(258);e.exports=function(e,t,n,a,c,s){var l=1&n,u=e.length,f=t.length;if(u!=f&&!(l&&f>u))return!1;var p=s.get(e),d=s.get(t);if(p&&d)return p==t&&d==e;var h=-1,m=!0,v=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++h<u;){var y=e[h],g=t[h];if(a)var b=l?a(g,y,h,t,e,s):a(y,g,h,e,t,s);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!o(t,(function(e,t){if(!i(v,t)&&(y===e||c(y,e,n,a,s)))return v.push(t)}))){m=!1;break}}else if(y!==g&&!c(y,g,n,a,s)){m=!1;break}}return s.delete(e),s.delete(t),m}},function(e,t,n){var r=n(195),o=n(436),i=n(437);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(66).Uint8Array;e.exports=r},function(e,t,n){var r=n(261),o=n(199),i=n(129);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(198),o=n(47);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(95)(n(66),"Set");e.exports=r},function(e,t,n){var r=n(57);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(130),o=n(140),i=n(47),a=n(143),c=n(186),s=n(110);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,f=!1;++l<u;){var p=s(t[l]);if(!(f=null!=e&&n(e,p)))break;e=e[p]}return f||++l!=u?f:!!(u=null==e?0:e.length)&&c(u)&&a(p,u)&&(i(e)||o(e))}},function(e,t,n){var r=n(250),o=n(459)(r);e.exports=o},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(95),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){(function(e){var r=n(66),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,c=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(142)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(198),o=n(191),i=n(199),a=n(262),c=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=c},function(e,t,n){var r=n(261),o=n(272),i=n(131);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(205);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(472),o=n(191),i=n(189);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(145),o=n(277),i=n(251),a=n(486),c=n(57),s=n(131),l=n(278);e.exports=function e(t,n,u,f,p){t!==n&&i(n,(function(i,s){if(p||(p=new r),c(i))a(t,n,s,u,e,f,p);else{var d=f?f(l(t,s),i,s+"",t,n,p):void 0;void 0===d&&(d=i),o(t,s,d)}}),s)}},function(e,t,n){var r=n(204),o=n(98);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var r=n(489),o=n(494);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,c=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,c&&o(n[0],n[1],c)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t}))}},function(e,t,n){var r=n(490),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,c=o(i.length-t,0),s=Array(c);++a<c;)s[a]=i[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=i[a];return l[t]=n(s),r(e,this,l)}}},function(e,t,n){var r=n(491),o=n(493)(r);e.exports=o},function(e,t,n){var r=n(57),o=n(151),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=c.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){"use strict";n(44),n(503),n(132)},function(e,t,n){var r=n(508);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){"use strict";var r=n(35);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(284)),i=r(n(286)),a=n(207),c={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var s=function(e){var t=e.icon,n=e.className,r=e.onClick,s=e.style,l=e.primaryColor,u=e.secondaryColor,f=(0,o.default)(e,["icon","className","onClick","style","primaryColor","secondaryColor"]),p=c;if(l&&(p={primaryColor:l,secondaryColor:u||(0,a.getSecondaryColor)(l)}),(0,a.useInsertStyles)(),(0,a.warning)((0,a.isIconDefinition)(t),"icon should be icon definiton, but got ".concat(t)),!(0,a.isIconDefinition)(t))return null;var d=t;return d&&"function"==typeof d.icon&&(d=(0,i.default)((0,i.default)({},d),{},{icon:d.icon(p.primaryColor,p.secondaryColor)})),(0,a.generate)(d.icon,"svg-".concat(d.name),(0,i.default)({className:n,onClick:r,style:s,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},f))};s.displayName="IconReact",s.getTwoToneColors=function(){return(0,i.default)({},c)},s.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;c.primaryColor=t,c.secondaryColor=n||(0,a.getSecondaryColor)(t),c.calculated=!!n};var l=s;t.default=l},function(e,t,n){var r=n(6);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t){e.exports=function(e,t,n,r){var o=e.transformX=function(e,i){n(e),n(i);for(var a,c,s,l=[],u=0;u<i.length;u++){for(var f=i[u],p=[],d=0;d<e.length;){var h=[];if(a=e[d],s=h,t(p,a,c=f,"left"),t(s,c,a,"right"),d++,1!==h.length){if(0===h.length){for(var m=d;m<e.length;m++)r(p,e[m]);f=null;break}for(var v=o(e.slice(d),h),y=0;y<v[0].length;y++)r(p,v[0][y]);for(var g=0;g<v[1].length;g++)r(l,v[1][g]);f=null;break}f=h[0]}null!=f&&r(l,f),e=p}return[e,l]};e.transform=function(e,n,r){if("left"!==r&&"right"!==r)throw new Error("type must be 'left' or 'right'");return 0===n.length?e:1===e.length&&1===n.length?t([],e[0],n[0],r):"left"===r?o(e,n)[0]:o(n,e)[1]}}},function(e,t,n){"use strict";e.exports=n(542)},function(e,t,n){"use strict";e.exports.encode=n(543),e.exports.decode=n(544),e.exports.format=n(545),e.exports.parse=n(546)},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",o="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+r+"|"+o+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),a=new RegExp("^(?:"+r+"|"+o+")");e.exports.HTML_TAG_RE=i,e.exports.HTML_OPEN_CLOSE_TAG_RE=a},function(e,t,n){"use strict";e.exports.tokenize=function(e,t){var n,r,o,i,a=e.pos,c=e.src.charCodeAt(a);if(t)return!1;if(126!==c)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(c),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),n=0;n<o;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:c,jump:n,token:e.tokens.length-1,level:e.level,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n,r,o,i,a=[],c=e.delimiters,s=e.delimiters.length;for(t=0;t<s;t++)126===(r=c[t]).marker&&-1!==r.end&&(o=c[r.end],(i=e.tokens[r.token]).type="s_open",i.tag="s",i.nesting=1,i.markup="~~",i.content="",(i=e.tokens[o.token]).type="s_close",i.tag="s",i.nesting=-1,i.markup="~~",i.content="","text"===e.tokens[o.token-1].type&&"~"===e.tokens[o.token-1].content&&a.push(o.token-1));for(;a.length;){for(n=(t=a.pop())+1;n<e.tokens.length&&"s_close"===e.tokens[n].type;)n++;t!==--n&&(i=e.tokens[n],e.tokens[n]=e.tokens[t],e.tokens[t]=i)}}},function(e,t,n){"use strict";e.exports.tokenize=function(e,t){var n,r,o=e.pos,i=e.src.charCodeAt(o);if(t)return!1;if(95!==i&&42!==i)return!1;for(r=e.scanDelims(e.pos,42===i),n=0;n<r.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,jump:n,token:e.tokens.length-1,level:e.level,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n,r,o,i,a,c=e.delimiters;for(t=e.delimiters.length-1;t>=0;t--)95!==(n=c[t]).marker&&42!==n.marker||-1!==n.end&&(r=c[n.end],a=t>0&&c[t-1].end===n.end+1&&c[t-1].token===n.token-1&&c[n.end+1].token===r.token+1&&c[t-1].marker===n.marker,i=String.fromCharCode(n.marker),(o=e.tokens[n.token]).type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?i+i:i,o.content="",(o=e.tokens[r.token]).type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?i+i:i,o.content="",a&&(e.tokens[c[t-1].token].content="",e.tokens[c[n.end+1].token].content="",t--))}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t,n){var r=n(600);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){"use strict";n(44),n(606)},function(e,t,n){var r=n(212).FilterCSS,o=n(212).getDefaultWhiteList,i=n(213);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var c=new r;function s(e){return e.replace(l,"&lt;").replace(u,"&gt;")}var l=/</g,u=/>/g,f=/"/g,p=/&quot;/g,d=/&#([a-zA-Z0-9]*);?/gim,h=/&colon;?/gim,m=/&newline;?/gim,v=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,y=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,g=/u\s*r\s*l\s*\(.*/gi;function b(e){return e.replace(f,"&quot;")}function w(e){return e.replace(p,'"')}function k(e){return e.replace(d,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function x(e){return e.replace(h,":").replace(m," ")}function O(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return i.trim(t)}function C(e){return e=O(e=x(e=k(e=w(e))))}function _(e){return e=s(e=b(e))}var E=/<!--[\s\S]*?-->/g;t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},t.getDefaultWhiteList=a,t.onTag=function(e,t,n){},t.onIgnoreTag=function(e,t,n){},t.onTagAttr=function(e,t,n){},t.onIgnoreTagAttr=function(e,t,n){},t.safeAttrValue=function(e,t,n,r){if(n=C(n),"href"===t||"src"===t){if("#"===(n=i.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(v.lastIndex=0,v.test(n))return""}else if("style"===t){if(y.lastIndex=0,y.test(n))return"";if(g.lastIndex=0,g.test(n)&&(v.lastIndex=0,v.test(n)))return"";!1!==r&&(n=(r=r||c).process(n))}return n=_(n)},t.escapeHtml=s,t.escapeQuote=b,t.unescapeQuote=w,t.escapeHtmlEntities=k,t.escapeDangerHtml5Entities=x,t.clearNonPrintableCharacter=O,t.friendlyAttrValue=C,t.escapeAttrValue=_,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(a,c,s){if(function(t){return!!n||-1!==i.indexOf(e,t)}(a)){if(s.isClosing){var l="[/removed]",u=s.position+l.length;return r.push([!1!==o?o:s.position,u]),o=!1,l}return o||(o=s.position),"[removed]"}return t(a,c,s)},remove:function(e){var t="",n=0;return i.forEach(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},t.stripCommentTag=function(e){return e.replace(E,"")},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.cssFilter=c,t.getDefaultCSSWhiteList=o},function(e,t){function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var r=/javascript\s*\:/gim;t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=function(e,t,n){},t.onIgnoreAttr=function(e,t,n){},t.safeAttrValue=function(e,t){return r.test(t)?"":t}},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},function(e,t,n){var r=n(213);function o(e){var t=r.spaceIndex(e);if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=r.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function i(e){return"</"===e.slice(0,2)}var a=/[^a-zA-Z0-9_:\.\-]/gim;function c(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function s(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function l(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,n){"use strict";var r="",a=0,c=!1,s=!1,l=0,u=e.length,f="",p="";e:for(l=0;l<u;l++){var d=e.charAt(l);if(!1===c){if("<"===d){c=l;continue}}else if(!1===s){if("<"===d){r+=n(e.slice(a,l)),c=l,a=l;continue}if(">"===d){r+=n(e.slice(a,c)),f=o(p=e.slice(c,l+1)),r+=t(c,r.length,f,p,i(p)),a=l+1,c=!1;continue}if('"'===d||"'"===d)for(var h=1,m=e.charAt(l-h);" "===m||"="===m;){if("="===m){s=d;continue e}m=e.charAt(l-++h)}}else if(d===s){s=!1;continue}}return a<e.length&&(r+=n(e.substr(a))),r},t.parseAttr=function(e,t){"use strict";var n=0,o=[],i=!1,u=e.length;function f(e,n){if(!((e=(e=r.trim(e)).replace(a,"").toLowerCase()).length<1)){var i=t(e,n||"");i&&o.push(i)}}for(var p=0;p<u;p++){var d,h=e.charAt(p);if(!1!==i||"="!==h)if(!1===i||p!==n||'"'!==h&&"'"!==h||"="!==e.charAt(p-1))if(/\s|\n|\t/.test(h)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(d=c(e,p))){f(r.trim(e.slice(n,p))),i=!1,n=p+1;continue}p=d-1;continue}if(-1===(d=s(e,p-1))){f(i,l(r.trim(e.slice(n,p)))),i=!1,n=p+1;continue}}else;else{if(-1===(d=e.indexOf(h,p+1)))break;f(i,r.trim(e.slice(n+1,d))),i=!1,n=(p=d)+1}else i=e.slice(n,p),n=p+1}return n<e.length&&(!1===i?f(e.slice(n)):f(i,l(r.trim(e.slice(n))))),r.trim(o.join(" "))}},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;this.queue=[],this.cache=null}r.prototype.matrix=function(e){return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]||(this.cache=null,this.queue.push(e)),this},r.prototype.translate=function(e,t){return 0===e&&0===t||(this.cache=null,this.queue.push([1,0,0,1,e,t])),this},r.prototype.scale=function(e,t){return 1===e&&1===t||(this.cache=null,this.queue.push([e,0,0,t,0,0])),this},r.prototype.rotate=function(e,t,n){var r,o,i;return 0!==e&&(this.translate(t,n),r=e*Math.PI/180,o=Math.cos(r),i=Math.sin(r),this.queue.push([o,i,-i,o,0,0]),this.cache=null,this.translate(-t,-n)),this},r.prototype.skewX=function(e){return 0!==e&&(this.cache=null,this.queue.push([1,0,Math.tan(e*Math.PI/180),1,0,0])),this},r.prototype.skewY=function(e){return 0!==e&&(this.cache=null,this.queue.push([1,Math.tan(e*Math.PI/180),0,1,0,0])),this},r.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var e=1;e<this.queue.length;e++)this.cache=(t=this.cache,n=this.queue[e],[t[0]*n[0]+t[2]*n[1],t[1]*n[0]+t[3]*n[1],t[0]*n[2]+t[2]*n[3],t[1]*n[2]+t[3]*n[3],t[0]*n[4]+t[2]*n[5]+t[4],t[1]*n[4]+t[3]*n[5]+t[5]]);var t,n;return this.cache},r.prototype.calc=function(e,t,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),[e*(r=this.cache)[0]+t*r[2]+(n?0:r[4]),e*r[1]+t*r[3]+(n?0:r[5])]):[e,t]},e.exports=r},function(e,t,n){"use strict";n(44),n(619),n(183)},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(o=o+t[r++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,o){var i=r,a=o+n;e^=-1;for(var c=o;c<a;c++)e=e>>>8^i[255&(e^t[c])];return-1^e}},function(e,t,n){"use strict";var r=n(87),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var a=new r.Buf8(256),c=0;c<256;c++)a[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;function s(e,t){if(t<65534&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,o,i,a,c=e.length,s=0;for(i=0;i<c;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<c&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(s),a=0,i=0;a<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<c&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return s(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,o=t.length;n<o;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,o,i,c=t||e.length,l=new Array(2*c);for(r=0,n=0;n<c;)if((o=e[n++])<128)l[r++]=o;else if((i=a[o])>4)l[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&n<c;)o=o<<6|63&e[n++],i--;i>1?l[r++]=65533:o<65536?l[r++]=o:(o-=65536,l[r++]=55296|o>>10&1023,l[r++]=56320|1023&o)}return s(l,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";n(44),n(698),n(699)},function(e,t,n){},function(e,t,n){e.exports=!n(90)&&!n(133)((function(){return 7!=Object.defineProperty(n(313)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(114),o=n(88).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(97),o=n(115),i=n(769)(!1),a=n(221)("IE_PROTO");e.exports=function(e,t){var n,c=o(e),s=0,l=[];for(n in c)n!=a&&r(c,n)&&l.push(n);for(;t.length>s;)r(c,n=t[s++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){var r=n(218);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(220),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){e.exports={default:n(774),__esModule:!0}},function(e,t,n){"use strict";var r=n(778)(!0);n(319)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(153),o=n(96),i=n(320),a=n(112),c=n(135),s=n(779),l=n(226),u=n(782),f=n(72)("iterator"),p=!([].keys&&"next"in[].keys()),d="keys",h="values",m=function(){return this};e.exports=function(e,t,n,v,y,g,b){s(n,t,v);var w,k,x,O=function(e){if(!p&&e in j)return j[e];switch(e){case d:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",_=y==h,E=!1,j=e.prototype,S=j[f]||j["@@iterator"]||y&&j[y],P=S||O(y),R=y?_?O("entries"):P:void 0,T="Array"==t&&j.entries||S;if(T&&(x=u(T.call(new e)))!==Object.prototype&&x.next&&(l(x,C,!0),r||"function"==typeof x[f]||a(x,f,m)),_&&S&&S.name!==h&&(E=!0,P=function(){return S.call(this)}),r&&!b||!p&&!E&&j[f]||a(j,f,P),c[t]=P,c[C]=m,y)if(w={values:_?P:O(h),keys:g?P:O(d),entries:R},b)for(k in w)k in j||i(j,k,w[k]);else o(o.P+o.F*(p||E),t,w);return w}},function(e,t,n){e.exports=n(112)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(50));t.default=function(e,t,n,o,i,a){!e.required||n.hasOwnProperty(e.field)&&!r.isEmptyValue(t,a||e.type)||o.push(r.format(i.messages.required,e.fullField))}},function(e,t,n){var r=n(314),o=n(223).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(155),o=n(134),i=n(115),a=n(217),c=n(97),s=n(312),l=Object.getOwnPropertyDescriptor;t.f=n(90)?l:function(e,t){if(e=i(e),t=a(t,!0),s)try{return l(e,t)}catch(e){}if(c(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,n){},function(e,t,n){"use strict";(function(t){!function(t){var n=/^(b|B)$/,r={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},o={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};function i(e){var t,i,a,c,s,l,u,f,p,d,h,m,v,y,g,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},w=[],k=0,x=void 0,O=void 0;if(isNaN(e))throw new TypeError("Invalid number");return i=!0===b.bits,h=!0===b.unix,t=b.base||2,d=void 0!==b.round?b.round:h?1:2,l=void 0!==b.locale?b.locale:"",u=b.localeOptions||{},m=void 0!==b.separator?b.separator:"",v=void 0!==b.spacer?b.spacer:h?"":" ",g=b.symbols||{},y=2===t&&b.standard||"jedec",p=b.output||"string",c=!0===b.fullform,s=b.fullforms instanceof Array?b.fullforms:[],x=void 0!==b.exponent?b.exponent:-1,a=2<t?1e3:1024,(f=(O=Number(e))<0)&&(O=-O),(-1===x||isNaN(x))&&(x=Math.floor(Math.log(O)/Math.log(a)))<0&&(x=0),8<x&&(x=8),"exponent"===p?x:(0===O?(w[0]=0,w[1]=h?"":r[y][i?"bits":"bytes"][x]):(k=O/(2===t?Math.pow(2,10*x):Math.pow(1e3,x)),i&&a<=(k*=8)&&x<8&&(k/=a,x++),w[0]=Number(k.toFixed(0<x?d:0)),w[0]===a&&x<8&&void 0===b.exponent&&(w[0]=1,x++),w[1]=10===t&&1===x?i?"kb":"kB":r[y][i?"bits":"bytes"][x],h&&(w[1]="jedec"===y?w[1].charAt(0):0<x?w[1].replace(/B$/,""):w[1],n.test(w[1])&&(w[0]=Math.floor(w[0]),w[1]=""))),f&&(w[0]=-w[0]),w[1]=g[w[1]]||w[1],!0===l?w[0]=w[0].toLocaleString():0<l.length?w[0]=w[0].toLocaleString(l,u):0<m.length&&(w[0]=w[0].toString().replace(".",m)),"array"===p?w:(c&&(w[1]=s[x]?s[x]:o[y][x]+(i?"bit":"byte")+(1===w[0]?"":"s")),"object"===p?{value:w[0],symbol:w[1],exponent:x}:w.join(v)))}i.partial=function(e){return function(t){return i(t,e)}},e.exports=i}("undefined"!=typeof window&&window)}).call(this,n(107))},function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){"use strict";return function(e,t,n,r){var o={features:null,bind:function(e,t,n,r){var o=(r?"remove":"add")+"EventListener";t=t.split(" ");for(var i=0;i<t.length;i++)t[i]&&e[o](t[i],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){o.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(o.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var r=e.length;r--;)if(e[r][n]===t)return r;return-1},extend:function(e,t,n){for(var r in t)if(t.hasOwnProperty(r)){if(n&&e.hasOwnProperty(r))continue;e[r]=t[r]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e=o.createEl().style,t="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!n.pointerEvent){var r=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var i=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);i&&i.length>0&&(i=parseInt(i[1],10))>=1&&i<8&&(n.isOldIOSPhone=!0)}var a=r.match(/Android\s([0-9\.]*)/),c=a?a[1]:0;(c=parseFloat(c))>=1&&(c<4.4&&(n.isOldAndroid=!0),n.androidVersion=c),n.isMobileOpera=/opera mini|opera mobi/i.test(r)}for(var s,l,u=["transform","perspective","animationName"],f=["","webkit","Moz","ms","O"],p=0;p<4;p++){t=f[p];for(var d=0;d<3;d++)s=u[d],l=t+(t?s.charAt(0).toUpperCase()+s.slice(1):s),!n[s]&&l in e&&(n[s]=l);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!n.raf){var h=0;n.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-h)),r=window.setTimeout((function(){e(t+n)}),n);return h=t+n,r},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=n,n}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,n,r){t=t.split(" ");for(var o,i=(r?"detach":"attach")+"Event",a=function(){n.handleEvent.call(n)},c=0;c<t.length;c++)if(o=t[c])if("object"==typeof n&&n.handleEvent){if(r){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=a;e[i]("on"+o,n["oldIE"+o])}else e[i]("on"+o,n)});var i=this,a=25,c=3,s={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(s,r);var l,u,f,p,d,h,m,v,y,g,b,w,k,x,O,C,_,E,j,S,P,R,T,D,A,M,N,I,L,F,z,B,V,q,H,U,W,K,Y,X,$,G,Z,J,Q,ee,te,ne,re,oe,ie,ae,ce,se,le,ue,fe=function(){return{x:0,y:0}},pe=fe(),de=fe(),he=fe(),me={},ve=0,ye={},ge=fe(),be=0,we=!0,ke=[],xe={},Oe=!1,Ce=function(e,t){o.extend(i,t.publicMethods),ke.push(e)},_e=function(e){var t=Qt();return e>t-1?e-t:e<0?t+e:e},Ee={},je=function(e,t){return Ee[e]||(Ee[e]=[]),Ee[e].push(t)},Se=function(e){var t=Ee[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var r=0;r<t.length;r++)t[r].apply(i,n)}},Pe=function(){return(new Date).getTime()},Re=function(e){se=e,i.bg.style.opacity=e*s.bgOpacity},Te=function(e,t,n,r,o){(!Oe||o&&o!==i.currItem)&&(r/=o?o.fitRatio:i.currItem.fitRatio),e[R]=w+t+"px, "+n+"px"+k+" scale("+r+")"},De=function(e){re&&(e&&(g>i.currItem.fitRatio?Oe||(fn(i.currItem,!1,!0),Oe=!0):Oe&&(fn(i.currItem),Oe=!1)),Te(re,he.x,he.y,g))},Ae=function(e){e.container&&Te(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Me=function(e,t){t[R]=w+e+"px, 0px"+k},Ne=function(e,t){if(!s.loop&&t){var n=p+(ge.x*ve-e)/ge.x,r=Math.round(e-gt.x);(n<0&&r>0||n>=Qt()-1&&r<0)&&(e=gt.x+r*s.mainScrollEndFriction)}gt.x=e,Me(e,d)},Ie=function(e,t){var n=bt[e]-ye[e];return de[e]+pe[e]+n-n*(t/b)},Le=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Fe=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},ze=null,Be=function(){ze&&(o.unbind(document,"mousemove",Be),o.addClass(e,"pswp--has_mouse"),s.mouseUsed=!0,Se("mouseUsed")),ze=setTimeout((function(){ze=null}),100)},Ve=function(){o.bind(document,"keydown",i),z.transform&&o.bind(i.scrollWrap,"click",i),s.mouseUsed||o.bind(document,"mousemove",Be),o.bind(window,"resize scroll orientationchange",i),Se("bindEvents")},qe=function(){o.unbind(window,"resize scroll orientationchange",i),o.unbind(window,"scroll",y.scroll),o.unbind(document,"keydown",i),o.unbind(document,"mousemove",Be),z.transform&&o.unbind(i.scrollWrap,"click",i),Y&&o.unbind(window,m,i),clearTimeout(B),Se("unbindEvents")},He=function(e,t){var n=cn(i.currItem,me,e);return t&&(ne=n),n},Ue=function(e){return e||(e=i.currItem),e.initialZoomLevel},We=function(e){return e||(e=i.currItem),e.w>0?s.maxSpreadZoom:1},Ke=function(e,t,n,r){return r===i.currItem.initialZoomLevel?(n[e]=i.currItem.initialPosition[e],!0):(n[e]=Ie(e,r),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Ye=function(){if(R){var t=z.perspective&&!D;return w="translate"+(t?"3d(":"("),void(k=z.perspective?", 0px)":")")}R="left",o.addClass(e,"pswp--ie"),Me=function(e,t){t.left=e+"px"},Ae=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,r=t*e.w,o=t*e.h;n.width=r+"px",n.height=o+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},De=function(){if(re){var e=re,t=i.currItem,n=t.fitRatio>1?1:t.fitRatio,r=n*t.w,o=n*t.h;e.width=r+"px",e.height=o+"px",e.left=he.x+"px",e.top=he.y+"px"}}},Xe=function(e){var t="";s.escKey&&27===e.keyCode?t="close":s.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,i[t]()))},$e=function(e){e&&(G||$||oe||W)&&(e.preventDefault(),e.stopPropagation())},Ge=function(){i.setScrollOffset(0,o.getScrollY())},Ze={},Je=0,Qe=function(e){Ze[e]&&(Ze[e].raf&&M(Ze[e].raf),Je--,delete Ze[e])},et=function(e){Ze[e]&&Qe(e),Ze[e]||(Je++,Ze[e]={})},tt=function(){for(var e in Ze)Ze.hasOwnProperty(e)&&Qe(e)},nt=function(e,t,n,r,o,i,a){var c,s=Pe();et(e);var l=function(){if(Ze[e]){if((c=Pe()-s)>=r)return Qe(e),i(n),void(a&&a());i((n-t)*o(c/r)+t),Ze[e].raf=A(l)}};l()},rt={shout:Se,listen:je,viewportSize:me,options:s,isMainScrollAnimating:function(){return oe},getZoomLevel:function(){return g},getCurrentIndex:function(){return p},isDragging:function(){return Y},isZooming:function(){return ee},setScrollOffset:function(e,t){ye.x=e,F=ye.y=t,Se("updateScrollOffset",ye)},applyZoomPan:function(e,t,n,r){he.x=t,he.y=n,g=e,De(r)},init:function(){if(!l&&!u){var n;i.framework=o,i.template=e,i.bg=o.getChildByClass(e,"pswp__bg"),N=e.className,l=!0,z=o.detectFeatures(),A=z.raf,M=z.caf,R=z.transform,L=z.oldIE,i.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),i.container=o.getChildByClass(i.scrollWrap,"pswp__container"),d=i.container.style,i.itemHolders=C=[{el:i.container.children[0],wrap:0,index:-1},{el:i.container.children[1],wrap:0,index:-1},{el:i.container.children[2],wrap:0,index:-1}],C[0].el.style.display=C[2].el.style.display="none",Ye(),y={resize:i.updateSize,orientationchange:function(){clearTimeout(B),B=setTimeout((function(){me.x!==i.scrollWrap.clientWidth&&i.updateSize()}),500)},scroll:Ge,keydown:Xe,click:$e};var r=z.isOldIOSPhone||z.isOldAndroid||z.isMobileOpera;for(z.animationName&&z.transform&&!r||(s.showAnimationDuration=s.hideAnimationDuration=0),n=0;n<ke.length;n++)i["init"+ke[n]]();t&&(i.ui=new t(i,o)).init(),Se("firstUpdate"),p=p||s.index||0,(isNaN(p)||p<0||p>=Qt())&&(p=0),i.currItem=Jt(p),(z.isOldIOSPhone||z.isOldAndroid)&&(we=!1),e.setAttribute("aria-hidden","false"),s.modal&&(we?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),void 0===F&&(Se("initialLayout"),F=I=o.getScrollY());var a="pswp--open ";for(s.mainClass&&(a+=s.mainClass+" "),s.showHideOpacity&&(a+="pswp--animate_opacity "),a+=D?"pswp--touch":"pswp--notouch",a+=z.animationName?" pswp--css_animation":"",a+=z.svg?" pswp--svg":"",o.addClass(e,a),i.updateSize(),h=-1,be=null,n=0;n<c;n++)Me((n+h)*ge.x,C[n].el.style);L||o.bind(i.scrollWrap,v,i),je("initialZoomInEnd",(function(){i.setContent(C[0],p-1),i.setContent(C[2],p+1),C[0].el.style.display=C[2].el.style.display="block",s.focus&&e.focus(),Ve()})),i.setContent(C[1],p),i.updateCurrItem(),Se("afterInit"),we||(x=setInterval((function(){Je||Y||ee||g!==i.currItem.initialZoomLevel||i.updateSize()}),1e3)),o.addClass(e,"pswp--visible")}},close:function(){l&&(l=!1,u=!0,Se("close"),qe(),en(i.currItem,null,!0,i.destroy))},destroy:function(){Se("destroy"),Xt&&clearTimeout(Xt),e.setAttribute("aria-hidden","true"),e.className=N,x&&clearInterval(x),o.unbind(i.scrollWrap,v,i),o.unbind(window,"scroll",i),Ct(),tt(),Ee=null},panTo:function(e,t,n){n||(e>ne.min.x?e=ne.min.x:e<ne.max.x&&(e=ne.max.x),t>ne.min.y?t=ne.min.y:t<ne.max.y&&(t=ne.max.y)),he.x=e,he.y=t,De()},handleEvent:function(e){e=e||window.event,y[e.type]&&y[e.type](e)},goTo:function(e){var t=(e=_e(e))-p;be=t,p=e,i.currItem=Jt(p),ve-=t,Ne(ge.x*ve),tt(),oe=!1,i.updateCurrItem()},next:function(){i.goTo(p+1)},prev:function(){i.goTo(p-1)},updateCurrZoomItem:function(e){if(e&&Se("beforeChange",0),C[1].el.children.length){var t=C[1].el.children[0];re=o.hasClass(t,"pswp__zoom-wrap")?t.style:null}else re=null;ne=i.currItem.bounds,b=g=i.currItem.initialZoomLevel,he.x=ne.center.x,he.y=ne.center.y,e&&Se("afterChange")},invalidateCurrItems:function(){O=!0;for(var e=0;e<c;e++)C[e].item&&(C[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==be){var t,n=Math.abs(be);if(!(e&&n<2)){i.currItem=Jt(p),Oe=!1,Se("beforeChange",be),n>=c&&(h+=be+(be>0?-c:c),n=c);for(var r=0;r<n;r++)be>0?(t=C.shift(),C[c-1]=t,h++,Me((h+2)*ge.x,t.el.style),i.setContent(t,p-n+r+1+1)):(t=C.pop(),C.unshift(t),h--,Me(h*ge.x,t.el.style),i.setContent(t,p+n-r-1-1));if(re&&1===Math.abs(be)){var o=Jt(_);o.initialZoomLevel!==g&&(cn(o,me),fn(o),Ae(o))}be=0,i.updateCurrZoomItem(),_=p,Se("afterChange")}}},updateSize:function(t){if(!we&&s.modal){var n=o.getScrollY();if(F!==n&&(e.style.top=n+"px",F=n),!t&&xe.x===window.innerWidth&&xe.y===window.innerHeight)return;xe.x=window.innerWidth,xe.y=window.innerHeight,e.style.height=xe.y+"px"}if(me.x=i.scrollWrap.clientWidth,me.y=i.scrollWrap.clientHeight,Ge(),ge.x=me.x+Math.round(me.x*s.spacing),ge.y=me.y,Ne(ge.x*ve),Se("beforeResize"),void 0!==h){for(var r,a,l,u=0;u<c;u++)r=C[u],Me((u+h)*ge.x,r.el.style),l=p+u-1,s.loop&&Qt()>2&&(l=_e(l)),(a=Jt(l))&&(O||a.needsUpdate||!a.bounds)?(i.cleanSlide(a),i.setContent(r,l),1===u&&(i.currItem=a,i.updateCurrZoomItem(!0)),a.needsUpdate=!1):-1===r.index&&l>=0&&i.setContent(r,l),a&&a.container&&(cn(a,me),fn(a),Ae(a));O=!1}b=g=i.currItem.initialZoomLevel,(ne=i.currItem.bounds)&&(he.x=ne.center.x,he.y=ne.center.y,De(!0)),Se("resize")},zoomTo:function(e,t,n,r,i){t&&(b=g,bt.x=Math.abs(t.x)-he.x,bt.y=Math.abs(t.y)-he.y,Le(de,he));var a=He(e,!1),c={};Ke("x",a,c,e),Ke("y",a,c,e);var s=g,l={x:he.x,y:he.y};Fe(c);var u=function(t){1===t?(g=e,he.x=c.x,he.y=c.y):(g=(e-s)*t+s,he.x=(c.x-l.x)*t+l.x,he.y=(c.y-l.y)*t+l.y),i&&i(t),De(1===t)};n?nt("customZoomTo",0,1,n,r||o.easing.sine.inOut,u):u(1)}},ot=30,it=10,at={},ct={},st={},lt={},ut={},ft=[],pt={},dt=[],ht={},mt=0,vt=fe(),yt=0,gt=fe(),bt=fe(),wt=fe(),kt=function(e,t){return e.x===t.x&&e.y===t.y},xt=function(e,t){return Math.abs(e.x-t.x)<a&&Math.abs(e.y-t.y)<a},Ot=function(e,t){return ht.x=Math.abs(e.x-t.x),ht.y=Math.abs(e.y-t.y),Math.sqrt(ht.x*ht.x+ht.y*ht.y)},Ct=function(){Z&&(M(Z),Z=null)},_t=function(){Y&&(Z=A(_t),Vt())},Et=function(){return!("fit"===s.scaleMode&&g===i.currItem.initialZoomLevel)},jt=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:jt(e.parentNode,t))},St={},Pt=function(e,t){return St.prevent=!jt(e.target,s.isClickableElement),Se("preventDragEvent",e,t,St),St.prevent},Rt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Tt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Dt=function(e,t,n){if(e-q>50){var r=dt.length>2?dt.shift():{};r.x=t,r.y=n,dt.push(r),q=e}},At=function(){var e=he.y-i.currItem.initialPosition.y;return 1-Math.abs(e/(me.y/2))},Mt={},Nt={},It=[],Lt=function(e){for(;It.length>0;)It.pop();return T?(ue=0,ft.forEach((function(e){0===ue?It[0]=e:1===ue&&(It[1]=e),ue++}))):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(It[0]=Rt(e.touches[0],Mt),e.touches.length>1&&(It[1]=Rt(e.touches[1],Nt))):(Mt.x=e.pageX,Mt.y=e.pageY,Mt.id="",It[0]=Mt),It},Ft=function(e,t){var n,r,o,a,c=he[e]+t[e],l=t[e]>0,u=gt.x+t.x,f=gt.x-pt.x;if(n=c>ne.min[e]||c<ne.max[e]?s.panEndFriction:1,c=he[e]+t[e]*n,(s.allowPanToNext||g===i.currItem.initialZoomLevel)&&(re?"h"!==ie||"x"!==e||$||(l?(c>ne.min[e]&&(n=s.panEndFriction,ne.min[e],r=ne.min[e]-de[e]),(r<=0||f<0)&&Qt()>1?(a=u,f<0&&u>pt.x&&(a=pt.x)):ne.min.x!==ne.max.x&&(o=c)):(c<ne.max[e]&&(n=s.panEndFriction,ne.max[e],r=de[e]-ne.max[e]),(r<=0||f>0)&&Qt()>1?(a=u,f>0&&u<pt.x&&(a=pt.x)):ne.min.x!==ne.max.x&&(o=c))):a=u,"x"===e))return void 0!==a&&(Ne(a,!0),J=a!==pt.x),ne.min.x!==ne.max.x&&(void 0!==o?he.x=o:J||(he.x+=t.x*n)),void 0!==a;oe||J||g>i.currItem.fitRatio&&(he[e]+=t[e]*n)},zt=function(e){if(!("mousedown"===e.type&&e.button>0))if(Zt)e.preventDefault();else if(!K||"mousedown"!==e.type){if(Pt(e,!0)&&e.preventDefault(),Se("pointerDown"),T){var t=o.arraySearch(ft,e.pointerId,"id");t<0&&(t=ft.length),ft[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Lt(e),r=n.length;Q=null,tt(),Y&&1!==r||(Y=ae=!0,o.bind(window,m,i),U=le=ce=W=J=G=X=$=!1,ie=null,Se("firstTouchStart",n),Le(de,he),pe.x=pe.y=0,Le(lt,n[0]),Le(ut,lt),pt.x=ge.x*ve,dt=[{x:lt.x,y:lt.y}],q=V=Pe(),He(g,!0),Ct(),_t()),!ee&&r>1&&!oe&&!J&&(b=g,$=!1,ee=X=!0,pe.y=pe.x=0,Le(de,he),Le(at,n[0]),Le(ct,n[1]),Tt(at,ct,wt),bt.x=Math.abs(wt.x)-he.x,bt.y=Math.abs(wt.y)-he.y,te=Ot(at,ct))}},Bt=function(e){if(e.preventDefault(),T){var t=o.arraySearch(ft,e.pointerId,"id");if(t>-1){var n=ft[t];n.x=e.pageX,n.y=e.pageY}}if(Y){var r=Lt(e);if(ie||G||ee)Q=r;else if(gt.x!==ge.x*ve)ie="h";else{var i=Math.abs(r[0].x-lt.x)-Math.abs(r[0].y-lt.y);Math.abs(i)>=it&&(ie=i>0?"h":"v",Q=r)}}},Vt=function(){if(Q){var e=Q.length;if(0!==e)if(Le(at,Q[0]),st.x=at.x-lt.x,st.y=at.y-lt.y,ee&&e>1){if(lt.x=at.x,lt.y=at.y,!st.x&&!st.y&&kt(Q[1],ct))return;Le(ct,Q[1]),$||($=!0,Se("zoomGestureStarted"));var t=Ot(at,ct),n=Kt(t);n>i.currItem.initialZoomLevel+i.currItem.initialZoomLevel/15&&(le=!0);var r=1,o=Ue(),a=We();if(n<o)if(s.pinchToClose&&!le&&b<=i.currItem.initialZoomLevel){var c=1-(o-n)/(o/1.2);Re(c),Se("onPinchClose",c),ce=!0}else(r=(o-n)/o)>1&&(r=1),n=o-r*(o/3);else n>a&&((r=(n-a)/(6*o))>1&&(r=1),n=a+r*o);r<0&&(r=0),Tt(at,ct,vt),pe.x+=vt.x-wt.x,pe.y+=vt.y-wt.y,Le(wt,vt),he.x=Ie("x",n),he.y=Ie("y",n),U=n>g,g=n,De()}else{if(!ie)return;if(ae&&(ae=!1,Math.abs(st.x)>=it&&(st.x-=Q[0].x-ut.x),Math.abs(st.y)>=it&&(st.y-=Q[0].y-ut.y)),lt.x=at.x,lt.y=at.y,0===st.x&&0===st.y)return;if("v"===ie&&s.closeOnVerticalDrag&&!Et()){pe.y+=st.y,he.y+=st.y;var l=At();return W=!0,Se("onVerticalDrag",l),Re(l),void De()}Dt(Pe(),at.x,at.y),G=!0,ne=i.currItem.bounds,Ft("x",st)||(Ft("y",st),Fe(he),De())}}},qt=function(e){if(z.isOldAndroid){if(K&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(K),K=setTimeout((function(){K=0}),600))}var t;if(Se("pointerUp"),Pt(e,!1)&&e.preventDefault(),T){var n=o.arraySearch(ft,e.pointerId,"id");if(n>-1)if(t=ft.splice(n,1)[0],navigator.msPointerEnabled){var r={4:"mouse",2:"touch",3:"pen"};t.type=r[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}else t.type=e.pointerType||"mouse"}var a,c=Lt(e),l=c.length;if("mouseup"===e.type&&(l=0),2===l)return Q=null,!0;1===l&&Le(ut,c[0]),0!==l||ie||oe||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Se("touchRelease",e,t));var u=-1;if(0===l&&(Y=!1,o.unbind(window,m,i),Ct(),ee?u=0:-1!==yt&&(u=Pe()-yt)),yt=1===l?Pe():-1,a=-1!==u&&u<150?"zoom":"swipe",ee&&l<2&&(ee=!1,1===l&&(a="zoomPointerUp"),Se("zoomGestureEnded")),Q=null,G||$||oe||W)if(tt(),H||(H=Ht()),H.calculateSwipeSpeed("x"),W)if(At()<s.verticalDragRange)i.close();else{var f=he.y,p=se;nt("verticalDrag",0,1,300,o.easing.cubic.out,(function(e){he.y=(i.currItem.initialPosition.y-f)*e+f,Re((1-p)*e+p),De()})),Se("onVerticalDrag",1)}else{if((J||oe)&&0===l){if(Wt(a,H))return;a="zoomPointerUp"}oe||("swipe"===a?!J&&g>i.currItem.fitRatio&&Ut(H):Yt())}},Ht=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(r){dt.length>1?(e=Pe()-q+50,t=dt[dt.length-2][r]):(e=Pe()-V,t=ut[r]),n.lastFlickOffset[r]=lt[r]-t,n.lastFlickDist[r]=Math.abs(n.lastFlickOffset[r]),n.lastFlickDist[r]>20?n.lastFlickSpeed[r]=n.lastFlickOffset[r]/e:n.lastFlickSpeed[r]=0,Math.abs(n.lastFlickSpeed[r])<.1&&(n.lastFlickSpeed[r]=0),n.slowDownRatio[r]=.95,n.slowDownRatioReverse[r]=1-n.slowDownRatio[r],n.speedDecelerationRatio[r]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(he[e]>ne.min[e]?n.backAnimDestination[e]=ne.min[e]:he[e]<ne.max[e]&&(n.backAnimDestination[e]=ne.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,nt("bounceZoomPan"+e,he[e],n.backAnimDestination[e],t||300,o.easing.sine.out,(function(t){he[e]=t,De()})))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,he[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(Ze.zoomPan&&(Ze.zoomPan.raf=A(n.panAnimLoop),n.now=Pe(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),De(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return he.x=Math.round(he.x),he.y=Math.round(he.y),De(),void Qe("zoomPan")}};return n},Ut=function(e){if(e.calculateSwipeSpeed("y"),ne=i.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;et("zoomPan"),e.lastNow=Pe(),e.panAnimLoop()},Wt=function(e,t){var n,r,a;if(oe||(mt=p),"swipe"===e){var c=lt.x-ut.x,l=t.lastFlickDist.x<10;c>ot&&(l||t.lastFlickOffset.x>20)?r=-1:c<-ot&&(l||t.lastFlickOffset.x<-20)&&(r=1)}r&&((p+=r)<0?(p=s.loop?Qt()-1:0,a=!0):p>=Qt()&&(p=s.loop?0:Qt()-1,a=!0),a&&!s.loop||(be+=r,ve-=r,n=!0));var u,f=ge.x*ve,d=Math.abs(f-gt.x);return n||f>gt.x==t.lastFlickSpeed.x>0?(u=Math.abs(t.lastFlickSpeed.x)>0?d/Math.abs(t.lastFlickSpeed.x):333,u=Math.min(u,400),u=Math.max(u,250)):u=333,mt===p&&(n=!1),oe=!0,Se("mainScrollAnimStart"),nt("mainScroll",gt.x,f,u,o.easing.cubic.out,Ne,(function(){tt(),oe=!1,mt=-1,(n||mt!==p)&&i.updateCurrItem(),Se("mainScrollAnimComplete")})),n&&i.updateCurrItem(!0),n},Kt=function(e){return 1/te*e*b},Yt=function(){var e=g,t=Ue(),n=We();g<t?e=t:g>n&&(e=n);var r,a=1,c=se;return ce&&!U&&!le&&g<t?(i.close(),!0):(ce&&(r=function(e){Re((a-c)*e+c)}),i.zoomTo(e,0,200,o.easing.cubic.out,r),!0)};Ce("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,r,o){E=e+t,j=e+n,S=e+r,P=o?e+o:""};(T=z.pointerEvent)&&z.touch&&(z.touch=!1),T?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):z.touch?(e("touch","start","move","end","cancel"),D=!0):e("mouse","down","move","up"),m=j+" "+S+" "+P,v=E,T&&!D&&(D=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),i.likelyTouchDevice=D,y[E]=zt,y[j]=Bt,y[S]=qt,P&&(y[P]=y[S]),z.touch&&(v+=" mousedown",m+=" mousemove mouseup",y.mousedown=y[E],y.mousemove=y[j],y.mouseup=y[S]),D||(s.allowPanToNext=!1)}}});var Xt,$t,Gt,Zt,Jt,Qt,en=function(t,n,r,a){var c;Xt&&clearTimeout(Xt),Zt=!0,Gt=!0,t.initialLayout?(c=t.initialLayout,t.initialLayout=null):c=s.getThumbBoundsFn&&s.getThumbBoundsFn(p);var l,u,d=r?s.hideAnimationDuration:s.showAnimationDuration,h=function(){Qe("initialZoom"),r?(i.template.removeAttribute("style"),i.bg.removeAttribute("style")):(Re(1),n&&(n.style.display="block"),o.addClass(e,"pswp--animated-in"),Se("initialZoom"+(r?"OutEnd":"InEnd"))),a&&a(),Zt=!1};if(!d||!c||void 0===c.x)return Se("initialZoom"+(r?"Out":"In")),g=t.initialZoomLevel,Le(he,t.initialPosition),De(),e.style.opacity=r?0:1,Re(1),void(d?setTimeout((function(){h()}),d):h());l=f,u=!i.currItem.src||i.currItem.loadError||s.showHideOpacity,t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),r||(g=c.w/t.w,he.x=c.x,he.y=c.y-I,i[u?"template":"bg"].style.opacity=.001,De()),et("initialZoom"),r&&!l&&o.removeClass(e,"pswp--animated-in"),u&&(r?o[(l?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout((function(){o.addClass(e,"pswp--animate_opacity")}),30)),Xt=setTimeout((function(){if(Se("initialZoom"+(r?"Out":"In")),r){var n=c.w/t.w,i={x:he.x,y:he.y},a=g,s=se,f=function(t){1===t?(g=n,he.x=c.x,he.y=c.y-F):(g=(n-a)*t+a,he.x=(c.x-i.x)*t+i.x,he.y=(c.y-F-i.y)*t+i.y),De(),u?e.style.opacity=1-t:Re(s-t*s)};l?nt("initialZoom",0,1,d,o.easing.cubic.out,f,h):(f(1),Xt=setTimeout(h,d+20))}else g=t.initialZoomLevel,Le(he,t.initialPosition),De(),Re(1),u?e.style.opacity=1:Re(1),Xt=setTimeout(h,d+20)}),r?25:90)},tn={},nn=[],rn={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return $t.length}},on=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},an=function(e,t,n){var r=e.bounds;r.center.x=Math.round((tn.x-t)/2),r.center.y=Math.round((tn.y-n)/2)+e.vGap.top,r.max.x=t>tn.x?Math.round(tn.x-t):r.center.x,r.max.y=n>tn.y?Math.round(tn.y-n)+e.vGap.top:r.center.y,r.min.x=t>tn.x?0:r.center.x,r.min.y=n>tn.y?e.vGap.top:r.center.y},cn=function(e,t,n){if(e.src&&!e.loadError){var r=!n;if(r&&(e.vGap||(e.vGap={top:0,bottom:0}),Se("parseVerticalMargin",e)),tn.x=t.x,tn.y=t.y-e.vGap.top-e.vGap.bottom,r){var o=tn.x/e.w,i=tn.y/e.h;e.fitRatio=o<i?o:i;var a=s.scaleMode;"orig"===a?n=1:"fit"===a&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=on())}if(!n)return;return an(e,e.w*n,e.h*n),r&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=on(),e.initialPosition=e.bounds.center,e.bounds},sn=function(e,t,n,r,o,a){t.loadError||r&&(t.imageAppended=!0,fn(t,r,t===i.currItem&&Oe),n.appendChild(r),a&&setTimeout((function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)}),500))},ln=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},un=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=s.errorMsg.replace("%url%",e.src),!0},fn=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var r=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=r+"px",e.placeholder.style.height=o+"px"),t.style.width=r+"px",t.style.height=o+"px"}},pn=function(){if(nn.length){for(var e,t=0;t<nn.length;t++)(e=nn[t]).holder.index===e.index&&sn(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);nn=[]}};Ce("Controller",{publicMethods:{lazyLoadItem:function(e){e=_e(e);var t=Jt(e);t&&(!t.loaded&&!t.loading||O)&&(Se("gettingData",e,t),t.src&&ln(t))},initController:function(){o.extend(s,rn,!0),i.items=$t=n,Jt=i.getItemAt,Qt=s.getNumItemsFn,s.loop,Qt()<3&&(s.loop=!1),je("beforeChange",(function(e){var t,n=s.preload,r=null===e||e>=0,o=Math.min(n[0],Qt()),a=Math.min(n[1],Qt());for(t=1;t<=(r?a:o);t++)i.lazyLoadItem(p+t);for(t=1;t<=(r?o:a);t++)i.lazyLoadItem(p-t)})),je("initialLayout",(function(){i.currItem.initialLayout=s.getThumbBoundsFn&&s.getThumbBoundsFn(p)})),je("mainScrollAnimComplete",pn),je("initialZoomInEnd",pn),je("destroy",(function(){for(var e,t=0;t<$t.length;t++)(e=$t[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);nn=null}))},getItemAt:function(e){return e>=0&&void 0!==$t[e]&&$t[e]},allowProgressiveImg:function(){return s.forceProgressiveLoading||!D||s.mouseUsed||screen.width>1200},setContent:function(e,t){s.loop&&(t=_e(t));var n=i.getItemAt(e.index);n&&(n.container=null);var r,a=i.getItemAt(t);if(a){Se("gettingData",t,a),e.index=t,e.item=a;var c=a.container=o.createEl("pswp__zoom-wrap");if(!a.src&&a.html&&(a.html.tagName?c.appendChild(a.html):c.innerHTML=a.html),un(a),cn(a,me),!a.src||a.loadError||a.loaded)a.src&&!a.loadError&&((r=o.createEl("pswp__img","img")).style.opacity=1,r.src=a.src,fn(a,r),sn(t,a,c,r,!0));else{if(a.loadComplete=function(n){if(l){if(e&&e.index===t){if(un(n,!0))return n.loadComplete=n.img=null,cn(n,me),Ae(n),void(e.index===p&&i.updateCurrZoomItem());n.imageAppended?!Zt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):z.transform&&(oe||Zt)?nn.push({item:n,baseDiv:c,img:n.img,index:t,holder:e,clearPlaceholder:!0}):sn(t,n,c,n.img,oe||Zt,!0)}n.loadComplete=null,n.img=null,Se("imageLoadComplete",t,n)}},o.features.transform){var u="pswp__img pswp__img--placeholder";u+=a.msrc?"":" pswp__img--placeholder--blank";var f=o.createEl(u,a.msrc?"img":"");a.msrc&&(f.src=a.msrc),fn(a,f),c.appendChild(f),a.placeholder=f}a.loading||ln(a),i.allowProgressiveImg()&&(!Gt&&z.transform?nn.push({item:a,baseDiv:c,img:a.img,index:t,holder:e}):sn(t,a,c,a.img,!0,!0))}Gt||t!==p?Ae(a):(re=c.style,en(a,r||a.img)),e.el.innerHTML="",e.el.appendChild(c)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var dn,hn,mn={},vn=function(e,t,n){var r=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};r.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(r)};Ce("Tap",{publicMethods:{initTap:function(){je("firstTouchStart",i.onTapStart),je("touchRelease",i.onTapRelease),je("destroy",(function(){mn={},dn=null}))},onTapStart:function(e){e.length>1&&(clearTimeout(dn),dn=null)},onTapRelease:function(e,t){if(t&&!G&&!X&&!Je){var n=t;if(dn&&(clearTimeout(dn),dn=null,xt(n,mn)))return void Se("doubleTap",n);if("mouse"===t.type)return void vn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||o.hasClass(e.target,"pswp__single-tap"))return void vn(e,t);Le(mn,n),dn=setTimeout((function(){vn(e,t),dn=null}),300)}}}}),Ce("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(D?je("mouseUsed",(function(){i.setupDesktopZoom()})):i.setupDesktopZoom(!0))},setupDesktopZoom:function(t){hn={};var n="wheel mousewheel DOMMouseScroll";je("bindEvents",(function(){o.bind(e,n,i.handleMouseWheel)})),je("unbindEvents",(function(){hn&&o.unbind(e,n,i.handleMouseWheel)})),i.mouseZoomedIn=!1;var r,a=function(){i.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),i.mouseZoomedIn=!1),g<1?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),c()},c=function(){r&&(o.removeClass(e,"pswp--dragging"),r=!1)};je("resize",a),je("afterChange",a),je("pointerDown",(function(){i.mouseZoomedIn&&(r=!0,o.addClass(e,"pswp--dragging"))})),je("pointerUp",c),t||a()},handleMouseWheel:function(e){if(g<=i.currItem.fitRatio)return s.modal&&(!s.closeOnScroll||Je||Y?e.preventDefault():R&&Math.abs(e.deltaY)>2&&(f=!0,i.close())),!0;if(e.stopPropagation(),hn.x=0,"deltaX"in e)1===e.deltaMode?(hn.x=18*e.deltaX,hn.y=18*e.deltaY):(hn.x=e.deltaX,hn.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(hn.x=-.16*e.wheelDeltaX),e.wheelDeltaY?hn.y=-.16*e.wheelDeltaY:hn.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;hn.y=e.detail}He(g,!0);var t=he.x-hn.x,n=he.y-hn.y;(s.modal||t<=ne.min.x&&t>=ne.max.x&&n<=ne.min.y&&n>=ne.max.y)&&e.preventDefault(),i.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:me.x/2+ye.x,y:me.y/2+ye.y};var n=s.getDoubleTapZoom(!0,i.currItem),r=g===n;i.mouseZoomedIn=!r,i.zoomTo(r?i.currItem.initialZoomLevel:n,t,333),o[(r?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var yn,gn,bn,wn,kn,xn,On,Cn,_n,En,jn,Sn,Pn={history:!0,galleryUID:1},Rn=function(){return jn.hash.substring(1)},Tn=function(){yn&&clearTimeout(yn),bn&&clearTimeout(bn)},Dn=function(){var e=Rn(),t={};if(e.length<5)return t;var n,r=e.split("&");for(n=0;n<r.length;n++)if(r[n]){var o=r[n].split("=");o.length<2||(t[o[0]]=o[1])}if(s.galleryPIDs){var i=t.pid;for(t.pid=0,n=0;n<$t.length;n++)if($t[n].pid===i){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},An=function(){if(bn&&clearTimeout(bn),Je||Y)bn=setTimeout(An,500);else{wn?clearTimeout(gn):wn=!0;var e=p+1,t=Jt(p);t.hasOwnProperty("pid")&&(e=t.pid);var n=On+"&gid="+s.galleryUID+"&pid="+e;Cn||-1===jn.hash.indexOf(n)&&(En=!0);var r=jn.href.split("#")[0]+"#"+n;Sn?"#"+n!==window.location.hash&&history[Cn?"replaceState":"pushState"]("",document.title,r):Cn?jn.replace(r):jn.hash=n,Cn=!0,gn=setTimeout((function(){wn=!1}),60)}};Ce("History",{publicMethods:{initHistory:function(){if(o.extend(s,Pn,!0),s.history){jn=window.location,En=!1,_n=!1,Cn=!1,On=Rn(),Sn="pushState"in history,On.indexOf("gid=")>-1&&(On=(On=On.split("&gid=")[0]).split("?gid=")[0]),je("afterChange",i.updateURL),je("unbindEvents",(function(){o.unbind(window,"hashchange",i.onHashChange)}));var e=function(){xn=!0,_n||(En?history.back():On?jn.hash=On:Sn?history.pushState("",document.title,jn.pathname+jn.search):jn.hash=""),Tn()};je("unbindEvents",(function(){f&&e()})),je("destroy",(function(){xn||e()})),je("firstUpdate",(function(){p=Dn().pid}));var t=On.indexOf("pid=");t>-1&&"&"===(On=On.substring(0,t)).slice(-1)&&(On=On.slice(0,-1)),setTimeout((function(){l&&o.bind(window,"hashchange",i.onHashChange)}),40)}},onHashChange:function(){if(Rn()===On)return _n=!0,void i.close();wn||(kn=!0,i.goTo(Dn().pid),kn=!1)},updateURL:function(){Tn(),kn||(Cn?yn=setTimeout(An,800):An())}}}),o.extend(i,rt)}})?r.call(t,n,t,e):r)||(e.exports=o)},function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){"use strict";return function(e,t){var n,r,o,i,a,c,s,l,u,f,p,d,h,m,v,y,g,b,w=this,k=!1,x=!0,O=!0,C={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},_=function(e){if(y)return!0;e=e||window.event,v.timeToIdle&&v.mouseUsed&&!u&&N();for(var n,r,o=(e.target||e.srcElement).getAttribute("class")||"",i=0;i<H.length;i++)(n=H[i]).onTap&&o.indexOf("pswp__"+n.name)>-1&&(n.onTap(),r=!0);if(r){e.stopPropagation&&e.stopPropagation(),y=!0;var a=t.features.isOldAndroid?600:30;setTimeout((function(){y=!1}),a)}},E=function(){return!e.likelyTouchDevice||v.mouseUsed||screen.width>v.fitControlsWidth},j=function(e,n,r){t[(r?"add":"remove")+"Class"](e,"pswp__"+n)},S=function(){var e=1===v.getNumItemsFn();e!==m&&(j(r,"ui--one-slide",e),m=e)},P=function(){j(s,"share-modal--hidden",O)},R=function(){return(O=!O)?(t.removeClass(s,"pswp__share-modal--fade-in"),setTimeout((function(){O&&P()}),300)):(P(),setTimeout((function(){O||t.addClass(s,"pswp__share-modal--fade-in")}),30)),O||D(),!1},T=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!(!n.href||!n.hasAttribute("download")&&(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),O||R(),1))},D=function(){for(var e,t,n,r,o="",i=0;i<v.shareButtons.length;i++)e=v.shareButtons[i],t=v.getImageURLForShare(e),n=v.getPageURLForShare(e),r=v.getTextForShare(e),o+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(r))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",v.parseShareButtonOut&&(o=v.parseShareButtonOut(e,o));s.children[0].innerHTML=o,s.children[0].onclick=T},A=function(e){for(var n=0;n<v.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+v.closeElClasses[n]))return!0},M=0,N=function(){clearTimeout(b),M=0,u&&w.setIdle(!1)},I=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(b),b=setTimeout((function(){w.setIdle(!0)}),v.timeToIdleOutside))},L=function(){v.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=w.getFullscreenAPI()),n?(t.bind(document,n.eventK,w.updateFullscreen),w.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},F=function(){v.preloaderEl&&(z(!0),f("beforeChange",(function(){clearTimeout(h),h=setTimeout((function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&z(!1):z(!0)}),v.loadingIndicatorDelay)})),f("imageLoadComplete",(function(t,n){e.currItem===n&&z(!0)})))},z=function(e){d!==e&&(j(p,"preloader--active",!e),d=e)},B=function(e){var n=e.vGap;if(E()){var a=v.barsSize;if(v.captionEl&&"auto"===a.bottom)if(i||((i=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),r.insertBefore(i,o),t.addClass(r,"pswp__ui--fit")),v.addCaptionHTMLFn(e,i,!0)){var c=i.clientHeight;n.bottom=parseInt(c,10)||44}else n.bottom=a.top;else n.bottom="auto"===a.bottom?0:a.bottom;n.top=a.top}else n.top=n.bottom=0},V=function(){v.timeToIdle&&f("mouseUsed",(function(){t.bind(document,"mousemove",N),t.bind(document,"mouseout",I),g=setInterval((function(){2==++M&&w.setIdle(!0)}),v.timeToIdle/2)}))},q=function(){var e;f("onVerticalDrag",(function(e){x&&e<.95?w.hideControls():!x&&e>=.95&&w.showControls()})),f("onPinchClose",(function(t){x&&t<.9?(w.hideControls(),e=!0):e&&!x&&t>.9&&w.showControls()})),f("zoomGestureEnded",(function(){(e=!1)&&!x&&w.showControls()}))},H=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){s=e},onTap:function(){R()}},{name:"button--share",option:"shareEl",onInit:function(e){c=e},onTap:function(){R()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){a=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){p=e}}],U=function(){var e,n,o,i=function(r){if(r)for(var i=r.length,a=0;a<i;a++){e=r[a],n=e.className;for(var c=0;c<H.length;c++)o=H[c],n.indexOf("pswp__"+o.name)>-1&&(v[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};i(r.children);var a=t.getChildByClass(r,"pswp__top-bar");a&&i(a.children)};w.init=function(){t.extend(e.options,C,!0),v=e.options,r=t.getChildByClass(e.scrollWrap,"pswp__ui"),f=e.listen,q(),f("beforeChange",w.update),f("doubleTap",(function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(v.getDoubleTapZoom(!1,e.currItem),t,333)})),f("preventDragEvent",(function(e,t,n){var r=e.target||e.srcElement;r&&r.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(r.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(r.tagName))&&(n.prevent=!1)})),f("bindEvents",(function(){t.bind(r,"pswpTap click",_),t.bind(e.scrollWrap,"pswpTap",w.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",w.onMouseOver)})),f("unbindEvents",(function(){O||R(),g&&clearInterval(g),t.unbind(document,"mouseout",I),t.unbind(document,"mousemove",N),t.unbind(r,"pswpTap click",_),t.unbind(e.scrollWrap,"pswpTap",w.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",w.onMouseOver),n&&(t.unbind(document,n.eventK,w.updateFullscreen),n.isFullscreen()&&(v.hideAnimationDuration=0,n.exit()),n=null)})),f("destroy",(function(){v.captionEl&&(i&&r.removeChild(i),t.removeClass(o,"pswp__caption--empty")),s&&(s.children[0].onclick=null),t.removeClass(r,"pswp__ui--over-close"),t.addClass(r,"pswp__ui--hidden"),w.setIdle(!1)})),v.showAnimationDuration||t.removeClass(r,"pswp__ui--hidden"),f("initialZoomIn",(function(){v.showAnimationDuration&&t.removeClass(r,"pswp__ui--hidden")})),f("initialZoomOut",(function(){t.addClass(r,"pswp__ui--hidden")})),f("parseVerticalMargin",B),U(),v.shareEl&&c&&s&&(O=!0),S(),V(),L(),F()},w.setIdle=function(e){u=e,j(r,"ui--idle",e)},w.update=function(){x&&e.currItem?(w.updateIndexIndicator(),v.captionEl&&(v.addCaptionHTMLFn(e.currItem,o),j(o,"caption--empty",!e.currItem.title)),k=!0):k=!1,O||R(),S()},w.updateFullscreen=function(r){r&&setTimeout((function(){e.setScrollOffset(0,t.getScrollY())}),50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},w.updateIndexIndicator=function(){v.counterEl&&(a.innerHTML=e.getCurrentIndex()+1+v.indexIndicatorSep+v.getNumItemsFn())},w.onGlobalTap=function(n){var r=(n=n||window.event).target||n.srcElement;if(!y)if(n.detail&&"mouse"===n.detail.pointerType){if(A(r))return void e.close();t.hasClass(r,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?v.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(v.tapToToggleControls&&(x?w.hideControls():w.showControls()),v.tapToClose&&(t.hasClass(r,"pswp__img")||A(r)))return void e.close()},w.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;j(r,"ui--over-close",A(t))},w.hideControls=function(){t.addClass(r,"pswp__ui--hidden"),x=!1},w.showControls=function(){x=!0,k||w.update(),t.removeClass(r,"pswp__ui--hidden")},w.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},w.getFullscreenAPI=function(){var t,n=document.documentElement,r="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:r}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+r}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+r}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(l=v.closeOnScroll,v.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return v.closeOnScroll=l,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}})?r.call(t,n,t,e):r)||(e.exports=o)},function(e,t,n){"use strict";var r=n(4),o=n(11),i=n(12),a=n(13),c=n(20),s=n(0),l=n(61),u=n(48),f=n(16),p=n(42),d=n(73),h=function(e){Object(a.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).resizeObserver=null,e.childNode=null,e.currentElement=null,e.state={width:0,height:0,offsetHeight:0,offsetWidth:0},e.onResize=function(t){var n=e.props.onResize,o=t[0].target,i=o.getBoundingClientRect(),a=i.width,c=i.height,s=o.offsetWidth,l=o.offsetHeight,u=Math.floor(a),f=Math.floor(c);if(e.state.width!==u||e.state.height!==f||e.state.offsetWidth!==s||e.state.offsetHeight!==l){var p={width:u,height:f,offsetWidth:s,offsetHeight:l};e.setState(p),n&&Promise.resolve().then((function(){n(Object(r.a)(Object(r.a)({},p),{},{offsetWidth:s,offsetHeight:l}),o)}))}},e.setChildNode=function(t){e.childNode=t},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){if(this.props.disabled)this.destroyObserver();else{var e=Object(l.a)(this.childNode||this);e!==this.currentElement&&(this.destroyObserver(),this.currentElement=e),!this.resizeObserver&&e&&(this.resizeObserver=new d.a(this.onResize),this.resizeObserver.observe(e))}}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var e=this.props.children,t=Object(u.a)(e);if(t.length>1)Object(f.a)(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(0===t.length)return Object(f.a)(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var n=t[0];if(s.isValidElement(n)&&Object(p.c)(n)){var r=n.ref;t[0]=s.cloneElement(n,{ref:Object(p.a)(r,this.setChildNode)})}return 1===t.length?t[0]:t.map((function(e,t){return!s.isValidElement(e)||"key"in e&&null!==e.key?e:s.cloneElement(e,{key:"".concat("rc-observer-key","-").concat(t)})}))}}]),n}(s.Component);h.displayName="ResizeObserver",t.a=h},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(515))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(517))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(525))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(527))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";var r,o,i,a=n(532),c=n(534).extname,s=/^\s*([^;\s]*)(?:;|\s|$)/,l=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=s.exec(e),n=t&&a[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!l.test(t[1]))&&"UTF-8"}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var r=t.charset(n);r&&(n+="; charset="+r.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var n=s.exec(e),r=n&&t.extensions[n[1].toLowerCase()];if(!r||!r.length)return!1;return r[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=c("x."+e).toLowerCase().substr(1);if(!n)return!1;return t.types[n]||!1},t.types=Object.create(null),r=t.extensions,o=t.types,i=["nginx","apache",void 0,"iana"],Object.keys(a).forEach((function(e){var t=a[e],n=t.extensions;if(n&&n.length){r[e]=n;for(var c=0;c<n.length;c++){var s=n[c];if(o[s]){var l=i.indexOf(a[o[s]].source),u=i.indexOf(t.source);if("application/octet-stream"!==o[s]&&(l>u||l===u&&"application/"===o[s].substr(0,12)))continue}o[s]=e}}}))},function(e,t,n){"use strict";var r=n(538),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,i,a,c,s,l,u=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),c=document.createRange(),s=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=o[t.format]||o.default;window.clipboardData.setData(i,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(l),c.selectNodeContents(l),s.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,e)}}finally{s&&("function"==typeof s.removeRange?s.removeRange(c):s.removeAllRanges()),l&&document.body.removeChild(l),a()}return u}},function(e,t,n){"use strict";e.exports=n(541)},function(e,t,n){"use strict";e.exports=function(e){var t=e.utils.escapeRE,n=e.utils.arrayReplaceAt,r=" \r\n$+<=>^`|~",o=e.utils.lib.ucmicro.P.source,i=e.utils.lib.ucmicro.Z.source;e.block.ruler.before("reference","abbr_def",(function(e,t,n,r){var o,i,a,c,s,l=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(l+2>=u)return!1;if(42!==e.src.charCodeAt(l++))return!1;if(91!==e.src.charCodeAt(l++))return!1;for(c=l;l<u;l++){if(91===(a=e.src.charCodeAt(l)))return!1;if(93===a){s=l;break}92===a&&l++}return!(s<0||58!==e.src.charCodeAt(s+1))&&(!!r||(o=e.src.slice(c,s).replace(/\\(.)/g,"$1"),i=e.src.slice(s+2,u).trim(),0!==o.length&&(0!==i.length&&(e.env.abbreviations||(e.env.abbreviations={}),void 0===e.env.abbreviations[":"+o]&&(e.env.abbreviations[":"+o]=i),e.line=t+1,!0))))}),{alt:["paragraph","reference"]}),e.core.ruler.after("linkify","abbr_replace",(function(e){var a,c,s,l,u,f,p,d,h,m,v,y,g,b=e.tokens;if(e.env.abbreviations)for(y=new RegExp("(?:"+Object.keys(e.env.abbreviations).map((function(e){return e.substr(1)})).sort((function(e,t){return t.length-e.length})).map(t).join("|")+")"),v="(^|"+o+"|"+i+"|["+r.split("").map(t).join("")+"])("+Object.keys(e.env.abbreviations).map((function(e){return e.substr(1)})).sort((function(e,t){return t.length-e.length})).map(t).join("|")+")($|"+o+"|"+i+"|["+r.split("").map(t).join("")+"])",h=new RegExp(v,"g"),c=0,s=b.length;c<s;c++)if("inline"===b[c].type)for(a=(l=b[c].children).length-1;a>=0;a--)if("text"===(g=l[a]).type&&(d=0,f=g.content,h.lastIndex=0,p=[],y.test(f))){for(;m=h.exec(f);)(m.index>0||m[1].length>0)&&((u=new e.Token("text","",0)).content=f.slice(d,m.index+m[1].length),p.push(u)),(u=new e.Token("abbr_open","abbr",1)).attrs=[["title",e.env.abbreviations[":"+m[2]]]],p.push(u),(u=new e.Token("text","",0)).content=m[2],p.push(u),u=new e.Token("abbr_close","abbr",-1),p.push(u),h.lastIndex-=m[3].length,d=h.lastIndex;p.length&&(d<f.length&&((u=new e.Token("text","",0)).content=f.slice(d),p.push(u)),b[c].children=l=n(l,a,p))}}))}},function(e,t){var n;n=function(e,t,n){"use strict";var r,o,i,a,c,s;return r=e.utils.arrayReplaceAt,a=0,i={divWrap:!1,divClass:"checkbox",idPrefix:"checkbox"},t=Object.assign(i,t),c=/\[(X|\s|\_|\-)\]\s(.*)/i,o=function(e,n,r){var o,i,c;return i=[],t.divWrap&&((c=new r("checkbox_open","div",1)).attrs=[["class",t.divClass]],i.push(c)),o=t.idPrefix+a,a+=1,(c=new r("checkbox_input","input",0)).attrs=[["type","checkbox"],["id",o]],!0===e&&c.attrs.push(["checked","true"]),i.push(c),(c=new r("label_open","label",1)).attrs=[["for",o]],i.push(c),(c=new r("text","",0)).content=n,i.push(c),i.push(new r("label_close","label",-1)),t.divWrap&&i.push(new r("checkbox_close","div",-1)),i},s=function(e,t){var n,r,i,a;return null===(i=e.content.match(c))?e:(n=!1,a=i[1],r=i[2],"X"!==a&&"x"!==a||(n=!0),o(n,r,t))},function(e){var t,n,o,i,a,c;for(o=0,i=(t=e.tokens).length;o<i;)if("inline"===t[o].type){for(n=(c=t[o].children).length-1;n>=0;)a=c[n],t[o].children=c=r(c,n,s(a,e.Token)),n--;o++}else o++}},e.exports=function(e,t){"use strict";e.core.ruler.push("checkbox",n(e,t))}},function(e,t,n){"use strict";var r=n(595),o=n(596),i=n(597),a=n(598),c=n(599);e.exports=function(e,t){var n={defs:r,shortcuts:o,enabled:[]},s=c(e.utils.assign({},n,t||{}));e.renderer.rules.emoji=i,e.core.ruler.push("emoji",a(e,s.defs,s.shortcuts,s.scanRE,s.replaceRE))}},function(e,t,n){"use strict";function r(e,t,n,r){var o=Number(e[t].meta.id+1).toString(),i="";return"string"==typeof r.docId&&(i="-"+r.docId+"-"),i+o}function o(e,t){var n=Number(e[t].meta.id+1).toString();return e[t].meta.subId>0&&(n+=":"+e[t].meta.subId),"["+n+"]"}function i(e,t,n,r,o){var i=o.rules.footnote_anchor_name(e,t,n,r,o),a=o.rules.footnote_caption(e,t,n,r,o),c=i;return e[t].meta.subId>0&&(c+=":"+e[t].meta.subId),'<sup class="footnote-ref"><a href="#fn'+i+'" id="fnref'+c+'">'+a+"</a></sup>"}function a(e,t,n){return(n.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n')+'<section class="footnotes">\n<ol class="footnotes-list">\n'}function c(){return"</ol>\n</section>\n"}function s(e,t,n,r,o){var i=o.rules.footnote_anchor_name(e,t,n,r,o);return e[t].meta.subId>0&&(i+=":"+e[t].meta.subId),'<li id="fn'+i+'" class="footnote-item">'}function l(){return"</li>\n"}function u(e,t,n,r,o){var i=o.rules.footnote_anchor_name(e,t,n,r,o);return e[t].meta.subId>0&&(i+=":"+e[t].meta.subId),' <a href="#fnref'+i+'" class="footnote-backref">↩︎</a>'}e.exports=function(e){var t=e.helpers.parseLinkLabel,n=e.utils.isSpace;e.renderer.rules.footnote_ref=i,e.renderer.rules.footnote_block_open=a,e.renderer.rules.footnote_block_close=c,e.renderer.rules.footnote_open=s,e.renderer.rules.footnote_close=l,e.renderer.rules.footnote_anchor=u,e.renderer.rules.footnote_caption=o,e.renderer.rules.footnote_anchor_name=r,e.block.ruler.before("reference","footnote_def",(function(e,t,r,o){var i,a,c,s,l,u,f,p,d,h,m,v=e.bMarks[t]+e.tShift[t],y=e.eMarks[t];if(v+4>y)return!1;if(91!==e.src.charCodeAt(v))return!1;if(94!==e.src.charCodeAt(v+1))return!1;for(l=v+2;l<y;l++){if(32===e.src.charCodeAt(l))return!1;if(93===e.src.charCodeAt(l))break}if(l===v+2)return!1;if(l+1>=y||58!==e.src.charCodeAt(++l))return!1;if(o)return!0;for(l++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),u=e.src.slice(v+2,l-2),e.env.footnotes.refs[":"+u]=-1,(f=new e.Token("footnote_reference_open","",1)).meta={label:u},f.level=e.level++,e.tokens.push(f),i=e.bMarks[t],a=e.tShift[t],c=e.sCount[t],s=e.parentType,m=l,p=d=e.sCount[t]+l-(e.bMarks[t]+e.tShift[t]);l<y&&(h=e.src.charCodeAt(l),n(h));)9===h?d+=4-d%4:d++,l++;return e.tShift[t]=l-m,e.sCount[t]=d-p,e.bMarks[t]=m,e.blkIndent+=4,e.parentType="footnote",e.sCount[t]<e.blkIndent&&(e.sCount[t]+=e.blkIndent),e.md.block.tokenize(e,t,r,!0),e.parentType=s,e.blkIndent-=4,e.tShift[t]=a,e.sCount[t]=c,e.bMarks[t]=i,(f=new e.Token("footnote_reference_close","",-1)).level=--e.level,e.tokens.push(f),!0}),{alt:["paragraph","reference"]}),e.inline.ruler.after("image","footnote_inline",(function(e,n){var r,o,i,a,c=e.posMax,s=e.pos;return!(s+2>=c)&&(94===e.src.charCodeAt(s)&&(91===e.src.charCodeAt(s+1)&&(r=s+2,!((o=t(e,s+1))<0)&&(n||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),i=e.env.footnotes.list.length,e.md.inline.parse(e.src.slice(r,o),e.md,e.env,a=[]),e.push("footnote_ref","",0).meta={id:i},e.env.footnotes.list[i]={content:e.src.slice(r,o),tokens:a}),e.pos=o+1,e.posMax=c,!0))))})),e.inline.ruler.after("footnote_inline","footnote_ref",(function(e,t){var n,r,o,i,a=e.posMax,c=e.pos;if(c+3>a)return!1;if(!e.env.footnotes||!e.env.footnotes.refs)return!1;if(91!==e.src.charCodeAt(c))return!1;if(94!==e.src.charCodeAt(c+1))return!1;for(r=c+2;r<a;r++){if(32===e.src.charCodeAt(r))return!1;if(10===e.src.charCodeAt(r))return!1;if(93===e.src.charCodeAt(r))break}return r!==c+2&&(!(r>=a)&&(r++,n=e.src.slice(c+2,r-1),void 0!==e.env.footnotes.refs[":"+n]&&(t||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+n]<0?(o=e.env.footnotes.list.length,e.env.footnotes.list[o]={label:n,count:0},e.env.footnotes.refs[":"+n]=o):o=e.env.footnotes.refs[":"+n],i=e.env.footnotes.list[o].count,e.env.footnotes.list[o].count++,e.push("footnote_ref","",0).meta={id:o,subId:i,label:n}),e.pos=r,e.posMax=a,!0)))})),e.core.ruler.after("inline","footnote_tail",(function(e){var t,n,r,o,i,a,c,s,l,u,f=!1,p={};if(e.env.footnotes&&(e.tokens=e.tokens.filter((function(e){return"footnote_reference_open"===e.type?(f=!0,l=[],u=e.meta.label,!1):"footnote_reference_close"===e.type?(f=!1,p[":"+u]=l,!1):(f&&l.push(e),!f)})),e.env.footnotes.list)){for(a=e.env.footnotes.list,c=new e.Token("footnote_block_open","",1),e.tokens.push(c),t=0,n=a.length;t<n;t++){for((c=new e.Token("footnote_open","",1)).meta={id:t,label:a[t].label},e.tokens.push(c),a[t].tokens?(s=[],(c=new e.Token("paragraph_open","p",1)).block=!0,s.push(c),(c=new e.Token("inline","",0)).children=a[t].tokens,c.content=a[t].content,s.push(c),(c=new e.Token("paragraph_close","p",-1)).block=!0,s.push(c)):a[t].label&&(s=p[":"+a[t].label]),e.tokens=e.tokens.concat(s),i="paragraph_close"===e.tokens[e.tokens.length-1].type?e.tokens.pop():null,o=a[t].count>0?a[t].count:1,r=0;r<o;r++)(c=new e.Token("footnote_anchor","",0)).meta={id:t,subId:r,label:a[t].label},e.tokens.push(c);i&&e.tokens.push(i),c=new e.Token("footnote_close","",-1),e.tokens.push(c)}c=new e.Token("footnote_block_close","",-1),e.tokens.push(c)}}))}},function(e,t,n){"use strict";e.exports=function(e){e.inline.ruler.before("emphasis","ins",(function(e,t){var n,r,o,i,a=e.pos,c=e.src.charCodeAt(a);if(t)return!1;if(43!==c)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(c),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),n=0;n<o;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:c,jump:n,token:e.tokens.length-1,level:e.level,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0})),e.inline.ruler2.before("emphasis","ins",(function(e){var t,n,r,o,i,a=[],c=e.delimiters,s=e.delimiters.length;for(t=0;t<s;t++)43===(r=c[t]).marker&&-1!==r.end&&(o=c[r.end],(i=e.tokens[r.token]).type="ins_open",i.tag="ins",i.nesting=1,i.markup="++",i.content="",(i=e.tokens[o.token]).type="ins_close",i.tag="ins",i.nesting=-1,i.markup="++",i.content="","text"===e.tokens[o.token-1].type&&"+"===e.tokens[o.token-1].content&&a.push(o.token-1));for(;a.length;){for(n=(t=a.pop())+1;n<e.tokens.length&&"ins_close"===e.tokens[n].type;)n++;t!==--n&&(i=e.tokens[n],e.tokens[n]=e.tokens[t],e.tokens[t]=i)}}))}},function(e,t,n){"use strict";e.exports=function(e){e.inline.ruler.before("emphasis","mark",(function(e,t){var n,r,o,i,a=e.pos,c=e.src.charCodeAt(a);if(t)return!1;if(61!==c)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(c),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),n=0;n<o;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:c,jump:n,token:e.tokens.length-1,level:e.level,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0})),e.inline.ruler2.before("emphasis","mark",(function(e){var t,n,r,o,i,a=[],c=e.delimiters,s=e.delimiters.length;for(t=0;t<s;t++)61===(r=c[t]).marker&&-1!==r.end&&(o=c[r.end],(i=e.tokens[r.token]).type="mark_open",i.tag="mark",i.nesting=1,i.markup="==",i.content="",(i=e.tokens[o.token]).type="mark_close",i.tag="mark",i.nesting=-1,i.markup="==",i.content="","text"===e.tokens[o.token-1].type&&"="===e.tokens[o.token-1].content&&a.push(o.token-1));for(;a.length;){for(n=(t=a.pop())+1;n<e.tokens.length&&"mark_close"===e.tokens[n].type;)n++;t!==--n&&(i=e.tokens[n],e.tokens[n]=e.tokens[t],e.tokens[t]=i)}}))}},function(e,t,n){"use strict";var r=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function o(e,t){var n,o,i=e.posMax,a=e.pos;if(126!==e.src.charCodeAt(a))return!1;if(t)return!1;if(a+2>=i)return!1;for(e.pos=a+1;e.pos<i;){if(126===e.src.charCodeAt(e.pos)){n=!0;break}e.md.inline.skipToken(e)}return n&&a+1!==e.pos?(o=e.src.slice(a+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=a,!1):(e.posMax=e.pos,e.pos=a+1,e.push("sub_open","sub",1).markup="~",e.push("text","",0).content=o.replace(r,"$1"),e.push("sub_close","sub",-1).markup="~",e.pos=e.posMax+1,e.posMax=i,!0):(e.pos=a,!1)}e.exports=function(e){e.inline.ruler.after("emphasis","sub",o)}},function(e,t,n){"use strict";var r=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function o(e,t){var n,o,i=e.posMax,a=e.pos;if(94!==e.src.charCodeAt(a))return!1;if(t)return!1;if(a+2>=i)return!1;for(e.pos=a+1;e.pos<i;){if(94===e.src.charCodeAt(e.pos)){n=!0;break}e.md.inline.skipToken(e)}return n&&a+1!==e.pos?(o=e.src.slice(a+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=a,!1):(e.posMax=e.pos,e.pos=a+1,e.push("sup_open","sup",1).markup="^",e.push("text","",0).content=o.replace(r,"$1"),e.push("sup_close","sup",-1).markup="^",e.pos=e.posMax+1,e.posMax=i,!0):(e.pos=a,!1)}e.exports=function(e){e.inline.ruler.after("emphasis","sup",o)}},function(e,t,n){var r=n(299),o=n(302),i=n(612);function a(e,t){return new i(t).process(e)}for(var c in(t=e.exports=a).filterXSS=a,t.FilterXSS=i,r)t[c]=r[c];for(var c in o)t[c]=o[c];"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},function(e,t,n){"use strict";e.exports=n(613)},function(e,t,n){"use strict";var r=/,?([a-z]),?/gi,o=parseFloat,i=Math,a=i.PI,c=i.min,s=i.max,l=i.pow,u=i.abs,f=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,p=/(-?\d*\.?\d*(?:e[-+]?\\d+)?)[\s]*,?[\s]*/gi,d=Array.isArray||function(e){return e instanceof Array};function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)h(e,n)&&(t[n]=m(e[n]));return t}function v(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function y(e){var t=y.ps=y.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout((function(){for(var n in t)h(t,n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])})),t[e]}function g(e,t,n,r){return 1===arguments.length&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,height:r,x2:e+n,y2:t+r}}function b(){return this.join(",").replace(r,"$1")}function w(e){var t=m(e);return t.toString=b,t}function k(e,t,n,r,o,i,a,c,s){var u=1-s,f=l(u,3),p=l(u,2),d=s*s*s,h=f*t+3*p*s*r+3*u*s*s*i+d*c;return{x:j(f*e+3*p*s*n+3*u*s*s*o+d*a),y:j(h)}}function x(e){var t=M.apply(null,e);return g(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function O(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function C(e,t,n,r,o){return e*(e*(-3*t+9*n-9*r+3*o)+6*t-12*n+6*r)-3*t+3*n}function _(e,t,n,r,o,a,c,s,l){null==l&&(l=1);for(var u=(l=l>1?1:l<0?0:l)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,h=0;h<12;h++){var m=u*f[h]+u,v=C(m,e,n,o,c),y=C(m,t,r,a,s),g=v*v+y*y;d+=p[h]*i.sqrt(g)}return u*d}function E(e,t,n,r,o,i,a,l){if(!(s(e,n)<c(o,a)||c(e,n)>s(o,a)||s(t,r)<c(i,l)||c(t,r)>s(i,l))){var u=(e*r-t*n)*(i-l)-(t-r)*(o*l-i*a),f=(e-n)*(i-l)-(t-r)*(o-a);if(f){var p=j(((e*r-t*n)*(o-a)-(e-n)*(o*l-i*a))/f),d=j(u/f),h=+p.toFixed(2),m=+d.toFixed(2);if(!(h<+c(e,n).toFixed(2)||h>+s(e,n).toFixed(2)||h<+c(o,a).toFixed(2)||h>+s(o,a).toFixed(2)||m<+c(t,r).toFixed(2)||m>+s(t,r).toFixed(2)||m<+c(i,l).toFixed(2)||m>+s(i,l).toFixed(2)))return{x:p,y:d}}}}function j(e){return Math.round(1e11*e)/1e11}function S(e,t,n){if(!function(e,t){return e=g(e),O(t=g(t),e.x,e.y)||O(t,e.x2,e.y)||O(t,e.x,e.y2)||O(t,e.x2,e.y2)||O(e,t.x,t.y)||O(e,t.x2,t.y)||O(e,t.x,t.y2)||O(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(x(e),x(t)))return n?0:[];for(var r=_.apply(0,e),o=_.apply(0,t),i=R(e)?1:~~(r/5)||1,a=R(t)?1:~~(o/5)||1,c=[],s=[],l={},f=n?0:[],p=0;p<i+1;p++){var d=k.apply(0,e.concat(p/i));c.push({x:d.x,y:d.y,t:p/i})}for(p=0;p<a+1;p++)d=k.apply(0,t.concat(p/a)),s.push({x:d.x,y:d.y,t:p/a});for(p=0;p<i;p++)for(var h=0;h<a;h++){var m,v=c[p],y=c[p+1],b=s[h],w=s[h+1],C=u(y.x-v.x)<.01?"y":"x",j=u(w.x-b.x)<.01?"y":"x",S=E(v.x,v.y,y.x,y.y,b.x,b.y,w.x,w.y);if(S){if(l[m=S.x.toFixed(9)+"#"+S.y.toFixed(9)])continue;l[m]=!0;var P=v.t+u((S[C]-v[C])/(y[C]-v[C]))*(y.t-v.t),T=b.t+u((S[j]-b[j])/(w[j]-b[j]))*(w.t-b.t);P>=0&&P<=1&&T>=0&&T<=1&&(n?f++:f.push({x:S.x,y:S.y,t1:P,t2:T}))}}return f}function P(e){var t=y(e);if(t.abs)return w(t.abs);if(d(e)&&d(e&&e[0])||(e=function(e){if(!e)return null;var t=y(e);if(t.arr)return m(t.arr);var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return d(e)&&d(e[0])&&(r=m(e)),r.length||String(e).replace(f,(function(e,t,o){var i=[],a=t.toLowerCase();for(o.replace(p,(function(e,t){t&&i.push(+t)})),"m"==a&&i.length>2&&(r.push([t].concat(i.splice(0,2))),a="l",t="m"==t?"l":"L");i.length>=n[a]&&(r.push([t].concat(i.splice(0,n[a]))),n[a]););})),r.toString=y.toString,t.arr=m(r),r}(e)),!e||!e.length)return[["M",0,0]];var n,r=[],o=0,i=0,a=0,c=0,s=0;"M"==e[0][0]&&(a=o=+e[0][1],c=i=+e[0][2],s++,r[0]=["M",o,i]);for(var l,u,h=s,v=e.length;h<v;h++){if(r.push(l=[]),(n=(u=e[h])[0])!=n.toUpperCase())switch(l[0]=n.toUpperCase(),l[0]){case"A":l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=+u[6]+o,l[7]=+u[7]+i;break;case"V":l[1]=+u[1]+i;break;case"H":l[1]=+u[1]+o;break;case"M":a=+u[1]+o,c=+u[2]+i;default:for(var g=1,k=u.length;g<k;g++)l[g]=+u[g]+(g%2?o:i)}else for(var x=0,O=u.length;x<O;x++)l[x]=u[x];switch(n=n.toUpperCase(),l[0]){case"Z":o=+a,i=+c;break;case"H":o=l[1];break;case"V":i=l[1];break;case"M":a=l[l.length-2],c=l[l.length-1];default:o=l[l.length-2],i=l[l.length-1]}}return r.toString=b,t.abs=w(r),r}function R(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function T(e,t,n,r){return[e,t,n,r,n,r]}function D(e,t,n,r,o,i){var a=1/3,c=2/3;return[a*e+c*n,a*t+c*r,a*o+c*n,a*i+c*r,o,i]}function A(e,t,n,r,o,c,s,l,f,p){var d,m,y=120*a/180,g=a/180*(+o||0),b=[],w=(m=function(e,t,n){return{x:e*i.cos(n)-t*i.sin(n),y:e*i.sin(n)+t*i.cos(n)}},function e(){var t=Array.prototype.slice.call(arguments,0),n=t.join("␀"),r=e.cache=e.cache||{},o=e.count=e.count||[];return h(r,n)?(v(o,n),r[n]):(o.length>=1e3&&delete r[o.shift()],o.push(n),r[n]=m.apply(0,t),r[n])});if(p)P=p[0],R=p[1],j=p[2],S=p[3];else{e=(d=w(e,t,-g)).x,t=d.y;var k=(e-(l=(d=w(l,f,-g)).x))/2,x=(t-(f=d.y))/2,O=k*k/(n*n)+x*x/(r*r);O>1&&(n*=O=i.sqrt(O),r*=O);var C=n*n,_=r*r,E=(c==s?-1:1)*i.sqrt(u((C*_-C*x*x-_*k*k)/(C*x*x+_*k*k))),j=E*n*x/r+(e+l)/2,S=E*-r*k/n+(t+f)/2,P=i.asin(((t-S)/r).toFixed(9)),R=i.asin(((f-S)/r).toFixed(9));(P=e<j?a-P:P)<0&&(P=2*a+P),(R=l<j?a-R:R)<0&&(R=2*a+R),s&&P>R&&(P-=2*a),!s&&R>P&&(R-=2*a)}var T=R-P;if(u(T)>y){var D=R,M=l,N=f;R=P+y*(s&&R>P?1:-1),b=A(l=j+n*i.cos(R),f=S+r*i.sin(R),n,r,o,0,s,M,N,[R,D,j,S])}T=R-P;var I=i.cos(P),L=i.sin(P),F=i.cos(R),z=i.sin(R),B=i.tan(T/4),V=4/3*n*B,q=4/3*r*B,H=[e,t],U=[e+V*L,t-q*I],W=[l+V*z,f-q*F],K=[l,f];if(U[0]=2*H[0]-U[0],U[1]=2*H[1]-U[1],p)return[U,W,K].concat(b);for(var Y=[],X=0,$=(b=[U,W,K].concat(b).join().split(",")).length;X<$;X++)Y[X]=X%2?w(b[X-1],b[X],g).y:w(b[X],b[X+1],g).x;return Y}function M(e,t,n,r,o,a,l,f){for(var p,d,h,m,v,y,g,b,w=[],k=[[],[]],x=0;x<2;++x)if(0==x?(d=6*e-12*n+6*o,p=-3*e+9*n-9*o+3*l,h=3*n-3*e):(d=6*t-12*r+6*a,p=-3*t+9*r-9*a+3*f,h=3*r-3*t),u(p)<1e-12){if(u(d)<1e-12)continue;0<(m=-h/d)&&m<1&&w.push(m)}else g=d*d-4*h*p,b=i.sqrt(g),g<0||(0<(v=(-d+b)/(2*p))&&v<1&&w.push(v),0<(y=(-d-b)/(2*p))&&y<1&&w.push(y));for(var O,C=w.length,_=C;C--;)O=1-(m=w[C]),k[0][C]=O*O*O*e+3*O*O*m*n+3*O*m*m*o+m*m*m*l,k[1][C]=O*O*O*t+3*O*O*m*r+3*O*m*m*a+m*m*m*f;return k[0][_]=e,k[1][_]=t,k[0][_+1]=l,k[1][_+1]=f,k[0].length=k[1].length=_+2,{x0:c.apply(0,k[0]),y0:c.apply(0,k[1]),x1:s.apply(0,k[0]),y1:s.apply(0,k[1])}}function N(e){var t=y(e);if(t.curve)return w(t.curve);for(var n=P(e),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i=function(e,t,n){var r,o;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(A.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*t.x-t.bx,o=2*t.y-t.by):(r=t.x,o=t.y),e=["C",r,o].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(D(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(D(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(T(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(T(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(T(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(T(t.x,t.y,t.X,t.Y))}return e},a=function(e,t){if(e[t].length>7){e[t].shift();for(var r=e[t];r.length;)c[t]="A",e.splice(t++,0,["C"].concat(r.splice(0,6)));e.splice(t,1),f=n.length}},c=[],s="",l="",u=0,f=n.length;u<f;u++){n[u]&&(s=n[u][0]),"C"!=s&&(c[u]=s,u&&(l=c[u-1])),n[u]=i(n[u],r,l),"A"!=c[u]&&"C"==s&&(c[u]="C"),a(n,u);var p=n[u],d=p.length;r.x=p[d-2],r.y=p[d-1],r.bx=o(p[d-4])||r.x,r.by=o(p[d-3])||r.y}return t.curve=w(n),n}e.exports=function(e,t,n){e=N(e),t=N(t);for(var r,o,i,a,c,s,l,u,f,p,d=n?0:[],h=0,m=e.length;h<m;h++){var v=e[h];if("M"==v[0])r=c=v[1],o=s=v[2];else{"C"==v[0]?(f=[r,o].concat(v.slice(1)),r=f[6],o=f[7]):(f=[r,o,r,o,c,s,c,s],r=c,o=s);for(var y=0,g=t.length;y<g;y++){var b=t[y];if("M"==b[0])i=l=b[1],a=u=b[2];else{"C"==b[0]?(p=[i,a].concat(b.slice(1)),i=p[6],a=p[7]):(p=[i,a,i,a,l,u,l,u],i=l,a=u);var w=S(f,p,n);if(n)d+=w;else{for(var k=0,x=w.length;k<x;k++)w[k].segment1=h,w[k].segment2=y,w[k].bez1=f,w[k].bez2=p;d=d.concat(w)}}}}}return d}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(621))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(650))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(658))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){var r=n(86),o=n(67);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==r(e)}},function(e,t,n){var r=n(193),o=n(706);e.exports=function(e,t){return e&&e.length?o(e,r(t,2)):[]}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(723))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";(function(e){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,n){return(a=i()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return a(e,arguments,r(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o(i,e)})(e)}var s=/%[sdj%]/g,l=function(){};function u(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1,o=t[0],i=t.length;if("function"==typeof o)return o.apply(null,t.slice(1));if("string"==typeof o){var a=String(o).replace(s,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch(e){return"[Circular]"}break;default:return e}}));return a}return o}function p(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function d(e,t,n){var r=0,o=e.length;!function i(a){if(a&&a.length)n(a);else{var c=r;r+=1,c<o?t(e[c],i):n([])}}([])}void 0!==e&&e.env;var h=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(c(Error));function m(e,t,n,r){if(t.first){var o=new Promise((function(t,o){d(function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n])})),t}(e),n,(function(e){return r(e),e.length?o(new h(e,u(e))):t()}))}));return o.catch((function(e){return e})),o}var i=t.firstFields||[];!0===i&&(i=Object.keys(e));var a=Object.keys(e),c=a.length,s=0,l=[],f=new Promise((function(t,o){var f=function(e){if(l.push.apply(l,e),++s===c)return r(l),l.length?o(new h(l,u(l))):t()};a.length||(r(l),t()),a.forEach((function(t){var r=e[t];-1!==i.indexOf(t)?d(r,n,f):function(e,t,n){var r=[],o=0,i=e.length;function a(e){r.push.apply(r,e),++o===i&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function v(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"==typeof t?t():t,field:t.field||e.fullField}}}function y(e,t){if(t)for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];"object"==typeof o&&"object"==typeof e[r]?e[r]=n(n({},e[r]),o):e[r]=o}return e}function g(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!p(t,i||e.type)||r.push(f(o.messages.required,e.fullField))}var b={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},w={integer:function(e){return w.number(e)&&parseInt(e,10)===e},float:function(e){return w.number(e)&&!w.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!w.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(b.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(b.url)},hex:function(e){return"string"==typeof e&&!!e.match(b.hex)}};var k={required:g,whitespace:function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(f(o.messages.whitespace,e.fullField))},type:function(e,t,n,r,o){if(e.required&&void 0===t)g(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?w[i](t)||r.push(f(o.messages.types[i],e.fullField,e.type)):i&&typeof t!==e.type&&r.push(f(o.messages.types[i],e.fullField,e.type))}},range:function(e,t,n,r,o){var i="number"==typeof e.len,a="number"==typeof e.min,c="number"==typeof e.max,s=t,l=null,u="number"==typeof t,p="string"==typeof t,d=Array.isArray(t);if(u?l="number":p?l="string":d&&(l="array"),!l)return!1;d&&(s=t.length),p&&(s=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?s!==e.len&&r.push(f(o.messages[l].len,e.fullField,e.len)):a&&!c&&s<e.min?r.push(f(o.messages[l].min,e.fullField,e.min)):c&&!a&&s>e.max?r.push(f(o.messages[l].max,e.fullField,e.max)):a&&c&&(s<e.min||s>e.max)&&r.push(f(o.messages[l].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,o){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(f(o.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(f(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(f(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}};function x(e,t,n,r,o){var i=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(p(t,i)&&!e.required)return n();k.required(e,t,r,a,o,i),p(t,i)||k.type(e,t,r,a,o)}n(a)}var O={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(p(t,"string")&&!e.required)return n();k.required(e,t,r,i,o,"string"),p(t,"string")||(k.type(e,t,r,i,o),k.range(e,t,r,i,o),k.pattern(e,t,r,i,o),!0===e.whitespace&&k.whitespace(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(p(t)&&!e.required)return n();k.required(e,t,r,i,o),void 0!==t&&k.type(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),p(t)&&!e.required)return n();k.required(e,t,r,i,o),void 0!==t&&(k.type(e,t,r,i,o),k.range(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(p(t)&&!e.required)return n();k.required(e,t,r,i,o),void 0!==t&&k.type(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(p(t)&&!e.required)return n();k.required(e,t,r,i,o),p(t)||k.type(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(p(t)&&!e.required)return n();k.required(e,t,r,i,o),void 0!==t&&(k.type(e,t,r,i,o),k.range(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(p(t)&&!e.required)return n();k.required(e,t,r,i,o),void 0!==t&&(k.type(e,t,r,i,o),k.range(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();k.required(e,t,r,i,o,"array"),null!=t&&(k.type(e,t,r,i,o),k.range(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(p(t)&&!e.required)return n();k.required(e,t,r,i,o),void 0!==t&&k.type(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(p(t)&&!e.required)return n();k.required(e,t,r,i,o),void 0!==t&&k.enum(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(p(t,"string")&&!e.required)return n();k.required(e,t,r,i,o),p(t,"string")||k.pattern(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(p(t,"date")&&!e.required)return n();var a;if(k.required(e,t,r,i,o),!p(t,"date"))a=t instanceof Date?t:new Date(t),k.type(e,a,r,i,o),a&&k.range(e,a.getTime(),r,i,o)}n(i)},url:x,hex:x,email:x,required:function(e,t,n,r,o){var i=[],a=Array.isArray(t)?"array":typeof t;k.required(e,t,r,i,o,a),n(i)},any:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(p(t)&&!e.required)return n();k.required(e,t,r,i,o)}n(i)}};function C(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var _=C();function E(e){this.rules=null,this._messages=_,this.define(e)}E.prototype={messages:function(e){return e&&(this._messages=y(C(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");var t,n;for(t in this.rules={},e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e,t,r){var o=this;void 0===t&&(t={}),void 0===r&&(r=function(){});var i,a,c=e,s=t,l=r;if("function"==typeof s&&(l=s,s={}),!this.rules||0===Object.keys(this.rules).length)return l&&l(),Promise.resolve();if(s.messages){var p=this.messages();p===_&&(p=C()),y(p,s.messages),s.messages=p}else s.messages=this.messages();var d={};(s.keys||Object.keys(this.rules)).forEach((function(t){i=o.rules[t],a=c[t],i.forEach((function(r){var i=r;"function"==typeof i.transform&&(c===e&&(c=n({},c)),a=c[t]=i.transform(a)),(i="function"==typeof i?{validator:i}:n({},i)).validator=o.getValidationMethod(i),i.field=t,i.fullField=i.fullField||t,i.type=o.getType(i),i.validator&&(d[t]=d[t]||[],d[t].push({rule:i,value:a,source:c,field:t}))}))}));var h={};return m(d,s,(function(e,t){var r,o=e.rule,i=!("object"!==o.type&&"array"!==o.type||"object"!=typeof o.fields&&"object"!=typeof o.defaultField);function a(e,t){return n(n({},t),{},{fullField:o.fullField+"."+e})}function c(r){void 0===r&&(r=[]);var c=r;if(Array.isArray(c)||(c=[c]),!s.suppressWarning&&c.length&&E.warning("async-validator:",c),c.length&&void 0!==o.message&&(c=[].concat(o.message)),c=c.map(v(o)),s.first&&c.length)return h[o.field]=1,t(c);if(i){if(o.required&&!e.value)return void 0!==o.message?c=[].concat(o.message).map(v(o)):s.error&&(c=[s.error(o,f(s.messages.required,o.field))]),t(c);var l={};if(o.defaultField)for(var u in e.value)e.value.hasOwnProperty(u)&&(l[u]=o.defaultField);for(var p in l=n(n({},l),e.rule.fields))if(l.hasOwnProperty(p)){var d=Array.isArray(l[p])?l[p]:[l[p]];l[p]=d.map(a.bind(null,p))}var m=new E(l);m.messages(s.messages),e.rule.options&&(e.rule.options.messages=s.messages,e.rule.options.error=s.error),m.validate(e.value,e.rule.options||s,(function(e){var n=[];c&&c.length&&n.push.apply(n,c),e&&e.length&&n.push.apply(n,e),t(n.length?n:null)}))}else t(c)}i=i&&(o.required||!o.required&&e.value),o.field=e.field,o.asyncValidator?r=o.asyncValidator(o,e.value,c,e.source,s):o.validator&&(!0===(r=o.validator(o,e.value,c,e.source,s))?c():!1===r?c(o.message||o.field+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)),r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t,n,r,o=[],i={};for(t=0;t<e.length;t++)n=e[t],r=void 0,Array.isArray(n)?o=(r=o).concat.apply(r,n):o.push(n);o.length?i=u(o):(o=null,i=null),l(o,i)}(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!O.hasOwnProperty(e.type))throw new Error(f("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?O.required:O[this.getType(e)]||!1}},E.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");O[e]=t},E.warning=l,E.messages=_,E.validators=O,t.a=E}).call(this,n(128))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(729))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(731))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(733))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(735))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";const r=n(119);e.exports=class{constructor(){this._counters=new Map}id(e){if("string"!=typeof e)return"";let t;t=e.length<=64&&/^[\w\.\-]+$/.test(e)?e:r(e).substr(0,8);const n=this._counters.get(t)||0;return this._counters.set(t,n+1),n>0&&(t=`${t}-${n}`),t}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(761))&&r.__esModule?r:{default:r};t.default=o,e.exports=o},function(e,t,n){"use strict";e.exports=n(771)},function(e,t,n){var r=n(773),o=n(266);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){"use strict";var r=n(0),o=n(790);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new r.Component).updater;e.exports=o(r.Component,r.isValidElement,i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(50),c=n(792),s=(r=c)&&r.__esModule?r:{default:r},l=n(812);function u(e){this.rules=null,this._messages=l.messages,this.define(e)}u.prototype={messages:function(e){return e&&(this._messages=(0,a.deepMerge)((0,l.newMessages)(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===e?"undefined":i(e))||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t=void 0,n=void 0;for(t in e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},c=e,s=n,f=r;if("function"==typeof s&&(f=s,s={}),!this.rules||0===Object.keys(this.rules).length)return f&&f(),Promise.resolve();function p(e){var t,n,r=void 0,o=[],i={};for(r=0;r<e.length;r++)t=e[r],n=void 0,Array.isArray(t)?o=(n=o).concat.apply(n,t):o.push(t);o.length?i=(0,a.convertFieldsError)(o):(o=null,i=null),f(o,i)}if(s.messages){var d=this.messages();d===l.messages&&(d=(0,l.newMessages)()),(0,a.deepMerge)(d,s.messages),s.messages=d}else s.messages=this.messages();var h=void 0,m=void 0,v={},y=s.keys||Object.keys(this.rules);y.forEach((function(n){h=t.rules[n],m=c[n],h.forEach((function(r){var i=r;"function"==typeof i.transform&&(c===e&&(c=o({},c)),m=c[n]=i.transform(m)),(i="function"==typeof i?{validator:i}:o({},i)).validator=t.getValidationMethod(i),i.field=n,i.fullField=i.fullField||n,i.type=t.getType(i),i.validator&&(v[n]=v[n]||[],v[n].push({rule:i,value:m,source:c,field:n}))}))}));var g={};return(0,a.asyncMap)(v,s,(function(e,t){var n=e.rule,r=!("object"!==n.type&&"array"!==n.type||"object"!==i(n.fields)&&"object"!==i(n.defaultField));function c(e,t){return o({},t,{fullField:n.fullField+"."+e})}function l(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=i;if(Array.isArray(l)||(l=[l]),!s.suppressWarning&&l.length&&u.warning("async-validator:",l),l.length&&n.message&&(l=[].concat(n.message)),l=l.map((0,a.complementError)(n)),s.first&&l.length)return g[n.field]=1,t(l);if(r){if(n.required&&!e.value)return l=n.message?[].concat(n.message).map((0,a.complementError)(n)):s.error?[s.error(n,(0,a.format)(s.messages.required,n.field))]:[],t(l);var f={};if(n.defaultField)for(var p in e.value)e.value.hasOwnProperty(p)&&(f[p]=n.defaultField);for(var d in f=o({},f,e.rule.fields))if(f.hasOwnProperty(d)){var h=Array.isArray(f[d])?f[d]:[f[d]];f[d]=h.map(c.bind(null,d))}var m=new u(f);m.messages(s.messages),e.rule.options&&(e.rule.options.messages=s.messages,e.rule.options.error=s.error),m.validate(e.value,e.rule.options||s,(function(e){var n=[];l&&l.length&&n.push.apply(n,l),e&&e.length&&n.push.apply(n,e),t(n.length?n:null)}))}else t(l)}r=r&&(n.required||!n.required&&e.value),n.field=e.field;var f=void 0;n.asyncValidator?f=n.asyncValidator(n,e.value,l,e.source,s):n.validator&&(!0===(f=n.validator(n,e.value,l,e.source,s))?l():!1===f?l(n.message||n.field+" fails"):f instanceof Array?l(f):f instanceof Error&&l(f.message)),f&&f.then&&f.then((function(){return l()}),(function(e){return l(e)}))}),(function(e){p(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!s.default.hasOwnProperty(e.type))throw new Error((0,a.format)("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?s.default.required:s.default[this.getType(e)]||!1}},u.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");s.default[e]=t},u.warning=a.warning,u.messages=l.messages,t.default=u},function(e,t,n){try{var r=n(324)}catch(e){r=n(324)}var o=/\s+/,i=Object.prototype.toString;function a(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}e.exports=function(e){return new a(e)},a.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~r(t,e)||t.push(e),this.el.className=t.join(" "),this},a.prototype.remove=function(e){if("[object RegExp]"==i.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},a.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},a.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},a.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(o);return""===e[0]&&e.shift(),e},a.prototype.has=a.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}},function(e,t,n){},function(e,t,n){},function(e,t,n){var r;window,e.exports=(r=n(0),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=58)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){var r=n(17);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(3),o=n(18);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){e.exports=n(19)},function(e,t){function n(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function c(e){n(a,o,i,c,s,"next",e)}function s(e){n(a,o,i,c,s,"throw",e)}c(void 0)}))}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=n(38),a=r(n(14)),c=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e),this.initHandler=function(){t[t.env].addEventListener("message",(function(e){if(!t.isValid(e.data))return null;var n=t.parse(e.data),r=t.handlers[n.uid];return r&&(r.cb(n.data),delete t.handlers[n.uid]),null}),!1)},this.checkAndEmitLongTaskError=function(){setInterval((function(){var e=+new Date;Object.keys(t.handlers).forEach((function(n){var r=t.handlers[n];if(r.at+t.callTimeout<e){delete t.handlers[n];var o=new Error("[bridge:".concat(t.env,":timeout] call timeout, body: ").concat(JSON.stringify(r.body),", at: ").concat(r.at));t.onError(o)}}))}),t.callTimeout)},this._handleCallback=function(e,n){t.handlers[n.uid]={at:+new Date,body:n,cb:e}},this.postToParent=function(e,n){var r=t.parse(e);n&&t._handleCallback(n,r),t.debug("post to parent",r),t.parent.postMessage(r,t.parentOrigin)},this.postToChild=function(e,n){var r=t.parse(e);n&&t._handleCallback(n,r),t.debug("post to child",r),t.child.postMessage(r,t.childOrigin)},this.isValid=function(e){return!(!e.type||!e.type.startsWith("yuque_sdk"))&&e.fid===t.frameId},this.parse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!e.type&&e.name&&(e.type="yuque_sdk_".concat(e.name),e.isReply&&(e.type+="_callback")),!e.name&&e.type&&(e.name=e.type.replace("yuque_sdk_","").replace("_callback","")),e.uid||(e.uid=(0,i.v4)()),{fid:t.frameId,uid:e.uid,type:e.type,name:e.name,method:e.method,data:e.data,options:e.options}},this.child=n.child,this.childOrigin=n.childOrigin,this.parent=n.parent,this.parentOrigin=n.parentOrigin,this.frameId=n.frameId,this.callTimeout=n.callTimeout,this.onError=n.onError||function(){},this.env=n.env,this.handlers={},this.env||("parent"===n.env||n.parent===window?this.env="parent":this.env="child"),this.initHandler(),this.debug=(0,a.default)("yuque-servicify:".concat(this.env,":message")),this.callTimeout&&"parent"===this.env&&this.checkAndEmitLongTaskError()};t.default=c},function(e,t,n){var r=n(23),o=n(24),i=n(25),a=n(26);e.exports=function(e){return r(e)||o(e)||i(e)||a()}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncValue=t.getUrlOrigin=void 0,t.getUrlOrigin=function(e){return new URL(e).origin},t.asyncValue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o="function"==typeof e?e.apply(void 0,n):e;return Promise.resolve(o)}},function(e,t,n){"use strict";var r=n(30);Object.defineProperty(t,"__esModule",{value:!0}),t.logError=function(e,t){var n=t||e.name+" "+e.message||"未知错误";n.includes("ResizeObserver loop")||(n+="^url:".concat(window.location.href),e.from&&(n+="^from:".concat(e.from)),e.stack&&(n+="^stack:".concat(JSON.stringify(e.stack))),a({code:1,msg:n},e))},t.logPerf=function(e,t,n){a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({code:e,msg:t},n))},t.logEpv=function(e,t){a({code:6,msg:"epv statistic",m1:1,d1:e,d2:t})};var o=r(n(31));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t){if(e)try{var n=window.yuyanMonitor;n||((n={}).log=console.log,n.logError=console.error),t?n.logError(t,e):n.log(e)}catch(e){console.log("上报雨燕异常：".concat(e.message))}}},function(e,t,n){"use strict";(function(r){var o=n(0)(n(3));t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":(0,o.default)(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(22)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(21))},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=r(n(2)),a=function(){function e(){(0,o.default)(this,e),this.query=new URLSearchParams(window.location.search)}return(0,i.default)(e,[{key:"sdkVer",value:function(){return"2.3.2"}},{key:"isPreEnv",value:function(){return"pre"===this.query.get("__yuque_sdk_env")||!(!window.localStorage||"pre"!==window.localStorage.getItem("__yuque_sdk_env"))}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.registerParent=t.registerChild=void 0;var o=r(n(20)),i=r(n(32));t.registerChild=function(e){return new o.default(e)},t.registerParent=function(e){return new i.default(e)}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return R()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=_(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=u(e,t,n);if("normal"===s.type){if(r=n.done?h:p,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",m={};function v(){}function y(){}function g(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,k=w&&w(w(P([])));k&&k!==n&&r.call(k,i)&&(b=k);var x=g.prototype=v.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,c){var s=u(e[o],e,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=x.constructor=g,g.constructor=y,y.displayName=s(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},O(C.prototype),C.prototype[a]=function(){return this},e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),s(x,c,"Generator"),x[i]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(7)),i=r(n(8)),a=r(n(1)),c=r(n(4)),s=r(n(5)),l=r(n(6)),u=r(n(9)),f=n(12),p=r(n(28)),d=n(29);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=h(n);function n(e){var r;if((0,a.default)(this,n),(r=t.call(this,e)).handshake=function(){r.child.addEventListener("message",(function e(t){if(r.hasInit)r.child.removeEventListener("message",e,!1);else{if(r.parentOrigin=t.origin,r.message=new u.default({child:r.child,parent:r.parent,parentOrigin:r.parentOrigin,frameId:t.data.fid}),!r.message.isValid(t.data))return null;r._initMethods(),r.message.postToParent({name:"connected",isReply:!0}),r.child.removeEventListener("message",e,!1),r.emit("connected"),(0,d.markOnce)("first-connect"),r.hasInit=!0}}),!1)},r._initMethods=function(){var e=function(){var e=(0,i.default)(o.default.mark((function e(t){var n,i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.message.isValid(t.data)){e.next=2;break}return e.abrupt("return",!1);case 2:if(n=r.message.parse(t.data),i=n.name,!r.methods[i]){e.next=9;break}return e.next=7,(0,f.asyncValue)(r.methods[i],n.data);case 7:a=e.sent,"call"===n.method&&r.message.postToParent({name:i,data:a,uid:n.uid,isReply:!0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r.child.addEventListener("message",e,!1)},!e.methods)throw new Error("You should register methods");return r.methods=e.methods,r.child=e.child||window,r.parent=e.parent||window.parent,r.handshake(),r.hasInit=!1,r}return n}(p.default);t.default=m},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,l=[],u=!1,f=-1;function p(){u&&s&&(u=!1,s.length?l=s.concat(l):f=-1,l.length&&d())}function d(){if(!u){var e=c(p);u=!0;for(var t=l.length;t;){for(s=l,l=[];++f<t;)s&&s[f].run();f=-1,t=l.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(0)(n(10));e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return o.colors[Math.abs(t)%o.colors.length]}function o(e){var n;function r(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(r.enabled){var a=r,c=Number(new Date),s=c-(n||c);a.diff=s,a.prev=n,a.curr=c,n=c,t[0]=o.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var l=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;l++;var r=o.formatters[n];if("function"==typeof r){var i=t[l];e=r.call(a,i),t.splice(l,1),l--}return e})),o.formatArgs.call(a,t),(a.log||o.log).apply(a,t)}}return r.namespace=e,r.enabled=o.enabled(e),r.useColors=o.useColors(),r.color=t(e),r.destroy=i,r.extend=a,"function"==typeof o.init&&o.init(r),o.instances.push(r),r}function i(){var e=o.instances.indexOf(this);return-1!==e&&(o.instances.splice(e,1),!0)}function a(e,t){var n=o(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function c(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return o.debug=o,o.default=o,o.coerce=function(e){return e instanceof Error?e.stack||e.message:e},o.disable=function(){var e=[].concat((0,r.default)(o.names.map(c)),(0,r.default)(o.skips.map(c).map((function(e){return"-"+e})))).join(",");return o.enable(""),e},o.enable=function(e){var t;o.save(e),o.names=[],o.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")));for(t=0;t<o.instances.length;t++){var i=o.instances[t];i.enabled=o.enabled(i.namespace)}},o.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=o.skips.length;t<n;t++)if(o.skips[t].test(e))return!1;for(t=0,n=o.names.length;t<n;t++)if(o.names[t].test(e))return!0;return!1},o.humanize=n(27),Object.keys(e).forEach((function(t){o[t]=e[t]})),o.instances=[],o.names=[],o.skips=[],o.formatters={},o.selectColor=t,o.enable(o.load()),o}},function(e,t,n){var r=n(11);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,n){var r=n(11);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=7*i,c=365.25*i;function s(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*c;case"weeks":case"week":case"w":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=i?s(e,t,i,"day"):t>=o?s(e,t,o,"hour"):t>=r?s(e,t,r,"minute"):t>=n?s(e,t,n,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=r(n(2)),a=function(){function e(){var t=this;(0,o.default)(this,e),this.call=function(e,n,r){return new Promise((function(o){t.message.postToParent({method:"call",name:e,data:n,options:r},(function(e){o(e)}))}))}}return(0,i.default)(e,[{key:"emit",value:function(e,t){if(!this.message)return null;this.message.postToParent({name:e,data:t})}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markOnce=function(e,t){c[e]||(c[e]=!0,t&&(e="".concat(e).concat(s).concat(t)),window.performance.mark(e))},t.sendPerfLog=u;var r=n(13);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(){};window.performance?window.performance.mark||(window.performance.mark=a):window.performance={mark:a};var c={},s="----MARK_INFO----",l=[{taskName:"语雀服务化性能监控",code:5,msg:"yuque-servicify-performance-monitor",keyMap:{m1:"start-js-render",m2:"first-connect",m3:"editor-loaded",m4:"render-finished"}}];function u(){if(document.removeEventListener("visibilitychange",u),performance&&performance.getEntriesByType){var e,t=performance.getEntriesByType("mark"),n={},i=o(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;if(a.name.includes(s)){var c=a.name.split(s),f=c[0],p=c[1];n[f]=p}else n[a.name]=a.startTime.toFixed()}}catch(e){i.e(e)}finally{i.f()}l.forEach((function(e){var t={},o=!1;Object.keys(e.keyMap).forEach((function(r){t[r]=n[e.keyMap[r]],r.startsWith("m")&&(+t[r]>6e6||+t[r]<0)&&(o=!0)})),o||(0,r.logPerf)(e.code,e.msg,t)}))}}document.addEventListener("visibilitychange",u)},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(7)),i=r(n(8)),a=r(n(1)),c=r(n(2)),s=r(n(4)),l=r(n(5)),u=r(n(6)),f=(r(n(9)),n(12));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var d=function(e){(0,s.default)(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,a.default)(this,n),!r.iframe)throw new Error("missing options.iframe");var c=r.url,s=r.parent||window,l=r.iframe.contentWindow||r.frame.contentDocument.parentWindow,u=(0,f.getUrlOrigin)(c);return(e=t.call(this,{parent:s,child:l,childOrigin:u,iframe:r.iframe,callTimeout:r.callTimeout}))._initMethods=function(){var t=function(){var t=(0,i.default)(o.default.mark((function t(n){var r,i,a;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.message.isValid(n.data)){t.next=2;break}return t.abrupt("return",!1);case 2:if(r=e.message.parse(n.data),i=r.name,!e.methods[i]){t.next=9;break}return t.next=7,(0,f.asyncValue)(e.methods[i],r.data);case 7:a=t.sent,"call"===r.method&&e.message.postToChild({name:i,data:a,uid:r.uid,isReply:!0});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.parent.addEventListener("message",t,!1)},e.options=r,e.iframe=r.iframe,e.url=c,e.parent=s,e.child=l,e.childOrigin=u,e.handshake(),e.hasInit=!1,e.methods=r.methods||{},e}return(0,c.default)(n,[{key:"handshake",value:function(){var e,t=this,n=0,r=function(){if(100==++n)return clearInterval(e),void t.emit("error",new Error("[bridge:parent:timeout] shake timeout"));t.message.postToChild({name:"handshake"})};this.parent.addEventListener("message",(function n(r){if(t.hasInit)t.parent.removeEventListener("message",n,!1);else{if(!t.message.isValid(r.data))return null;"connected"===t.message.parse(r.data).name&&(t.childOrigin=r.origin,t.emit("ready"),clearInterval(e),t._initMethods(),t.parent.removeEventListener("message",n,!1),t.hasInit=!0)}}),!1),this.iframe.addEventListener("load",(function(){t.emit("iframeLoaded"),e=setInterval(r,200)}),!1)}}]),n}(r(n(33)).default);t.default=d},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=r(n(9));t.default=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,o.default)(this,e),this.call=function(e,n,r){return new Promise((function(o){t.message.postToChild({method:"call",name:e,data:n,options:r},(function(e){o(e)}))}))},this.on=function(e,n){t.events[e]||(t.events[e]=[]),t.events[e].push(n)},this.emit=function(e,n){var r=t.events[e];r&&r.forEach((function(e){return e(n)}))},this.destroy=function(){t.parent.removeEventListener("message",t.listener,!1),t.iframe.parentNode.removeChild(t.iframe)},!n.child)throw new Error("child missing");this.iframe=n.iframe,this.child=n.child,this.childOrigin=n.childOrigin||"*",this.parent=n.parent,this.message=new i.default({child:this.child,childOrigin:this.childOrigin,parent:this.parent,frameId:this.iframe.id,callTimeout:n.callTimeout,onError:function(e){t.emit("error",e)}}),this.events={},this.listener=function(e){if(!t.message.isValid(e.data))return!1;var n=t.message.parse(e.data),r=t.events[n.name];r&&r.forEach((function(e){return e(n.data)}))},this.parent.addEventListener("message",this.listener,!1)}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=r(n(2)),a=r(n(4)),c=r(n(5)),s=r(n(6));function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var u=function(e){(0,a.default)(n,e);var t=l(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)(this,n),(e=t.call(this,{zIndex:r.zIndex}))._buildFrame=function(){e.el=document.createElement("iframe"),e.container.appendChild(e.el),e.el.id=e.elId,e.el.src=e.url,e.el.frameBorder="0",e.el.name=e.options.name,e.el.onload=e.options.onLoad,e.el.style=e._objToStyle(e.style),e.options.classList&&e.el.classList.add(e.options.classList)},e.getStyle=function(){return e.el.style},e.setHeight=function(t){e.el.style.height="number"==typeof t?t+"px":t},e.setWidth=function(t){e.el.style.width="number"==typeof t?t+"px":t},e.options=r,e.url=r.url,e.container=r.container,e.style=Object.assign({width:"100%",height:"100%"},r.style||{}),e.elId="yuque-sdk-".concat(r.key),e.el=null,e._buildFrame(),e}return(0,i.default)(n,[{key:"_objToStyle",value:function(e){return Object.keys(e).map((function(t){return t+":"+e[t]})).join(";")}}]),n}(r(n(35)).default);t.default=u},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=r(n(2)),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e),this.zIndex=t.zIndex||1e3,this.prevEditorStyle=null}return(0,i.default)(e,[{key:"requestFullscreen",value:function(){var e=this.getStyle();"fixed"!==e.position&&(this.prevEditorStyle={width:e.width,height:e.height}),e.position="fixed",e.zIndex=this.zIndex,e.width="100vw",e.height="100vh",e.top=0,e.left=0,this._fadeIn()}},{key:"exitFullscreen",value:function(){var e=this.getStyle();e.position="static",e.width=this.prevEditorStyle.width,e.height=this.prevEditorStyle.height}},{key:"getStyle",value:function(){return{}}},{key:"_fadeIn",value:function(){var e=document.createElement("div");e.style.position="fixed",e.style.zIndex=this.zIndex+1,e.style.width="100vw",e.style.height="100vh",e.style.top=0,e.style.left=0,e.style.background="#ffffff",e.style.opacity=1,e.style.transition="opacity .8s",document.body.appendChild(e),setTimeout((function(){e.style.opacity=0,setTimeout((function(){e.parentNode.removeChild(e)}),800)}),30)}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultEditorConfig=function(e){return["lake","markdown"].includes(e.format)||(e.format="lake"),["full","mini"].includes(e.type)||(e.type="full"),["adapt","fixed"].includes(e.viewport)||(e.viewport="adapt"),["en-us","zh-cn"].includes(e.language)||(e.language="zh-cn"),e.defaultValue||(e.defaultValue="<p><br /></p>"),e.cards&&0!==e.cards.length||(e.cards=["image","table","file"]),"autoHeight"in e||(e.autoHeight=!1),"outline"in e||(e.outline=!0),"mini"in e||(e.mini={}),"message"in e||(e.message=!0),"fullscreen"in e.mini||(e.mini.fullscreen=!1),"wordcount"in e.mini||(e.mini.wordcount=!0),e},t.getDefaultViewerConfig=function(e){return"outline"in e||(e.outline=!0),"iframe"!==e.mode||"autoHeight"in e||(e.autoHeight=!0),e},t.getDefaultAppConfig=function(e,t){return e.sdkVer="2.3.2",t&&t.isPreEnv()&&!e.baseUrl&&(e.baseUrl="https://".concat(e.space,".yuquepre.yuque.com")),e}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=a,t.transformFuncionToCall=function(e){var t={};return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object.keys(n).forEach((function(i){var c=(0,o.default)(r);if(c.push(i),"function"==typeof n[i]){var s="servicify:call:".concat(c.join("."));t[s]=n[i],n[i]=s}else a(n[i])&&e(n[i],c)}))}(e),{config:e,methods:t}};var o=r(n(10)),i=r(n(3));function a(e){if(!e||"object"!==(0,i.default)(e)||"[object Object]"!={}.toString.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Function.prototype.toString.call(n)===Function.prototype.toString.call(Object)}},function(e,t,n){"use strict";n.r(t),n.d(t,"v1",(function(){return m})),n.d(t,"v3",(function(){return _})),n.d(t,"v4",(function(){return E})),n.d(t,"v5",(function(){return P})),n.d(t,"NIL",(function(){return R})),n.d(t,"version",(function(){return T})),n.d(t,"validate",(function(){return c})),n.d(t,"stringify",(function(){return p})),n.d(t,"parse",(function(){return v}));var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}for(var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&a.test(e)},s=[],l=0;l<256;++l)s.push((l+256).toString(16).substr(1));var u,f,p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n},d=0,h=0,m=function(e,t,n){var r=t&&n||0,o=t||new Array(16),a=(e=e||{}).node||u,c=void 0!==e.clockseq?e.clockseq:f;if(null==a||null==c){var s=e.random||(e.rng||i)();null==a&&(a=u=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==c&&(c=f=16383&(s[6]<<8|s[7]))}var l=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:h+1,v=l-d+(m-h)/1e4;if(v<0&&void 0===e.clockseq&&(c=c+1&16383),(v<0||l>d)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=l,h=m,f=c;var y=(1e4*(268435455&(l+=122192928e5))+m)%4294967296;o[r++]=y>>>24&255,o[r++]=y>>>16&255,o[r++]=y>>>8&255,o[r++]=255&y;var g=l/4294967296*1e4&268435455;o[r++]=g>>>8&255,o[r++]=255&g,o[r++]=g>>>24&15|16,o[r++]=g>>>16&255,o[r++]=c>>>8|128,o[r++]=255&c;for(var b=0;b<6;++b)o[r+b]=a[b];return t||p(o)},v=function(e){if(!c(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n},y=function(e,t,n){function r(e,r,o,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=v(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,o){i=i||0;for(var c=0;c<16;++c)o[i+c]=a[c];return o}return p(a)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};function g(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function w(e,t,n,r,o,i){return b((a=b(b(t,e),b(r,i)))<<(c=o)|a>>>32-c,n);var a,c}function k(e,t,n,r,o,i,a){return w(t&n|~t&r,e,t,o,i,a)}function x(e,t,n,r,o,i,a){return w(t&r|n&~r,e,t,o,i,a)}function O(e,t,n,r,o,i,a){return w(t^n^r,e,t,o,i,a)}function C(e,t,n,r,o,i,a){return w(n^(t|~r),e,t,o,i,a)}var _=y("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",o=0;o<n;o+=8){var i=e[o>>5]>>>o%32&255,a=parseInt(r.charAt(i>>>4&15)+r.charAt(15&i),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[g(t)-1]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,a=0;a<e.length;a+=16){var c=n,s=r,l=o,u=i;n=k(n,r,o,i,e[a],7,-680876936),i=k(i,n,r,o,e[a+1],12,-389564586),o=k(o,i,n,r,e[a+2],17,606105819),r=k(r,o,i,n,e[a+3],22,-1044525330),n=k(n,r,o,i,e[a+4],7,-176418897),i=k(i,n,r,o,e[a+5],12,1200080426),o=k(o,i,n,r,e[a+6],17,-1473231341),r=k(r,o,i,n,e[a+7],22,-45705983),n=k(n,r,o,i,e[a+8],7,1770035416),i=k(i,n,r,o,e[a+9],12,-1958414417),o=k(o,i,n,r,e[a+10],17,-42063),r=k(r,o,i,n,e[a+11],22,-1990404162),n=k(n,r,o,i,e[a+12],7,1804603682),i=k(i,n,r,o,e[a+13],12,-40341101),o=k(o,i,n,r,e[a+14],17,-1502002290),n=x(n,r=k(r,o,i,n,e[a+15],22,1236535329),o,i,e[a+1],5,-165796510),i=x(i,n,r,o,e[a+6],9,-1069501632),o=x(o,i,n,r,e[a+11],14,643717713),r=x(r,o,i,n,e[a],20,-373897302),n=x(n,r,o,i,e[a+5],5,-701558691),i=x(i,n,r,o,e[a+10],9,38016083),o=x(o,i,n,r,e[a+15],14,-660478335),r=x(r,o,i,n,e[a+4],20,-405537848),n=x(n,r,o,i,e[a+9],5,568446438),i=x(i,n,r,o,e[a+14],9,-1019803690),o=x(o,i,n,r,e[a+3],14,-187363961),r=x(r,o,i,n,e[a+8],20,1163531501),n=x(n,r,o,i,e[a+13],5,-1444681467),i=x(i,n,r,o,e[a+2],9,-51403784),o=x(o,i,n,r,e[a+7],14,1735328473),n=O(n,r=x(r,o,i,n,e[a+12],20,-1926607734),o,i,e[a+5],4,-378558),i=O(i,n,r,o,e[a+8],11,-2022574463),o=O(o,i,n,r,e[a+11],16,1839030562),r=O(r,o,i,n,e[a+14],23,-35309556),n=O(n,r,o,i,e[a+1],4,-1530992060),i=O(i,n,r,o,e[a+4],11,1272893353),o=O(o,i,n,r,e[a+7],16,-155497632),r=O(r,o,i,n,e[a+10],23,-1094730640),n=O(n,r,o,i,e[a+13],4,681279174),i=O(i,n,r,o,e[a],11,-358537222),o=O(o,i,n,r,e[a+3],16,-722521979),r=O(r,o,i,n,e[a+6],23,76029189),n=O(n,r,o,i,e[a+9],4,-640364487),i=O(i,n,r,o,e[a+12],11,-421815835),o=O(o,i,n,r,e[a+15],16,530742520),n=C(n,r=O(r,o,i,n,e[a+2],23,-995338651),o,i,e[a],6,-198630844),i=C(i,n,r,o,e[a+7],10,1126891415),o=C(o,i,n,r,e[a+14],15,-1416354905),r=C(r,o,i,n,e[a+5],21,-57434055),n=C(n,r,o,i,e[a+12],6,1700485571),i=C(i,n,r,o,e[a+3],10,-1894986606),o=C(o,i,n,r,e[a+10],15,-1051523),r=C(r,o,i,n,e[a+1],21,-2054922799),n=C(n,r,o,i,e[a+8],6,1873313359),i=C(i,n,r,o,e[a+15],10,-30611744),o=C(o,i,n,r,e[a+6],15,-1560198380),r=C(r,o,i,n,e[a+13],21,1309151649),n=C(n,r,o,i,e[a+4],6,-145523070),i=C(i,n,r,o,e[a+11],10,-1120210379),o=C(o,i,n,r,e[a+2],15,718787259),r=C(r,o,i,n,e[a+9],21,-343485551),n=b(n,c),r=b(r,s),o=b(o,l),i=b(i,u)}return[n,r,o,i]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(g(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))})),E=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return p(r)};function j(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function S(e,t){return e<<t|e>>>32-t}var P=y("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var o=0;o<r.length;++o)e.push(r.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,a=Math.ceil(i/16),c=new Array(a),s=0;s<a;++s){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=e[64*s+4*u]<<24|e[64*s+4*u+1]<<16|e[64*s+4*u+2]<<8|e[64*s+4*u+3];c[s]=l}c[a-1][14]=8*(e.length-1)/Math.pow(2,32),c[a-1][14]=Math.floor(c[a-1][14]),c[a-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<a;++f){for(var p=new Uint32Array(80),d=0;d<16;++d)p[d]=c[f][d];for(var h=16;h<80;++h)p[h]=S(p[h-3]^p[h-8]^p[h-14]^p[h-16],1);for(var m=n[0],v=n[1],y=n[2],g=n[3],b=n[4],w=0;w<80;++w){var k=Math.floor(w/20),x=S(m,5)+j(k,v,y,g)+b+t[k]+p[w]>>>0;b=g,g=y,y=S(v,30)>>>0,v=m,m=x}n[0]=n[0]+m>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+g>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),R="00000000-0000-0000-0000-000000000000",T=function(e){if(!c(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t){e.exports=r},function(e,t,n){e.exports=n(47)()},function(e,t,n){var r=n(3);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.createEditor=void 0;var o=r(n(44));t.createEditor=function(e){return new o.default(e)}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(7)),i=r(n(8)),a=r(n(1)),c=r(n(2)),s=n(16),l=r(n(34)),u=n(36),f=r(n(15)),p=n(37),d=n(13),h=function(){function e(t){if((0,a.default)(this,e),!t.container)throw new Error("options.container is required");if(!t.appConfig)throw new Error("options.appConfig is required");if(!t.appConfig.space)throw new Error("options.space is required");this.onLoad=t.onLoad||function(){},this.onError=function(e){var n=t.onError||function(){};(0,d.logError)(e),n(e)},this.container=t.container,this.env=new f.default,this.key=t.key||+new Date,this.docType=t.docType||"doc",this.appConfig=(0,u.getDefaultAppConfig)(t.appConfig,this.env),this.editorConfig=(0,u.getDefaultEditorConfig)(t.editorConfig),this.iframeConfig=t.iframeConfig||{},this.isFullscreen=!1,this.init()}var t;return(0,c.default)(e,[{key:"init",value:function(){var e=this;this._buildUrl().then((function(){e._setupEditor()}))}},{key:"_buildUrl",value:(t=(0,i.default)(o.default.mark((function e(){var t,n,r,i,a,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.appConfig.token){e.next=2;break}return e.abrupt("return");case 2:if(!this.appConfig.signUrl){e.next=4;break}return e.abrupt("return");case 4:return t=this.appConfig.baseUrl||"https://".concat(this.appConfig.space,".yuque.com"),n="".concat(t,"/api/v2/servicify/editors"),(r=new URLSearchParams).append("sdk_version",this.appConfig.sdkVer),r.append("user_id",this.appConfig.userId),r.append("trace_id",this.appConfig.traceId),r.append("servicifyToken",this.appConfig.token),i="".concat(n,"?").concat(r.toString()),e.prev=12,e.next=15,fetch(i);case 15:if(200!==(a=e.sent).status){e.next=21;break}return e.next=19,a.json();case 19:c=e.sent,this.appConfig.signUrl=c.data;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(12),console.error("request servicify editor url error",e.t0),this.onError(e.t0);case 27:case"end":return e.stop()}}),e,this,[[12,23]])}))),function(){return t.apply(this,arguments)})},{key:"_getDefaultSignUrl",value:function(){var e=new URLSearchParams;return e.append("sdk_version",this.appConfig.sdkVer),e.append("user_id",this.appConfig.userId),e.append("trace_id",this.appConfig.traceId),e.append("readonly","false"),"https://editor.yuque.com?".concat(e.toString())}},{key:"_setupEditor",value:function(){var e=this,t=this.appConfig.signUrl;t||(t=this.appConfig.signUrl=this._getDefaultSignUrl()),this.iframe=new l.default({container:this.container,key:this.key,url:t,style:this.iframeConfig.style,zIndex:this.editorConfig.mini.zIndex||1e3,onLoad:this.iframeConfig.onLoad,name:this.iframeConfig.name});var n=(0,p.transformFuncionToCall)(this.editorConfig),r=n.config,a=n.methods;this.bridge=(0,s.registerParent)({url:t,iframe:this.iframe.el,callTimeout:this.appConfig.callTimeout||1e4,methods:a}),this.bridge.on("ready",(0,i.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.bridge.call("setup",{appConfig:e.appConfig,editorConfig:r,iframeConfig:e.iframeConfig});case 2:e.onLoad(e);case 3:case"end":return t.stop()}}),t)})))),this.bridge.on("error",(function(t){e.onError(t)})),this._minxinApi(),this._listenUIEvent()}},{key:"_minxinApi",value:function(){this.call=this.bridge.call,this.on=this.bridge.on}},{key:"_listenUIEvent",value:function(){var e=this;this.bridge.on("resize",(function(t){e.editorConfig.autoHeight&&!e.isFullscreen&&e.iframe.setHeight(t)})),this.bridge.on("fullscreen",function(){var t=(0,i.default)(o.default.mark((function t(n){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return e.iframe.requestFullscreen(),t.next=4,e.call("fullscreenReply",!0);case 4:e.isFullscreen=!0,t.next=11;break;case 7:return e.iframe.exitFullscreen(),t.next=10,e.call("fullscreenReply",!1);case 10:e.isFullscreen=!1;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),e}();t.default=h},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(46)),i=r(n(39)),a=r(n(40)),c=r(n(49));function s(e){var t=(0,o.default)({},e);return i.default.createElement(c.default,{docType:"doc",editorOptions:t})}s.propTypes={onLoad:a.default.func,appConfig:a.default.shape({token:a.default.string,space:a.default.string}),editorConfig:a.default.shape({type:a.default.oneOf(["mini","full"]),format:a.default.string,defaultValue:a.default.string,cards:a.default.arrayOf(a.default.oneOf(["image","table","file","math","codeblock","mindmap","diagram","lockedtext","label","yuque","localdoc","video","youku","thirdparty"])),thirdpartyCards:a.default.array,autoHeight:a.default.bool,viewport:a.default.oneOf(["adapt","fixed"]),outline:a.default.bool,style:a.default.shape({publish_button_color:a.default.oneOf(["ant-design-blue","ali-orange"]),background_color:a.default.string,body_background_color:a.default.string,toolbar_background_color:a.default.string}),image:a.default.shape({url:a.default.string}),file:a.default.shape({url:a.default.string}),video:a.default.shape({url:a.default.string,statusUrl:a.default.string}),csrf:a.default.object,mention:a.default.shape({url:a.default.string,origin:a.default.string,defaults:a.default.array}),language:a.default.oneOf(["en-us","zh-cn"]),message:a.default.bool,mini:a.default.shape({fullscreen:a.default.bool,zIndex:a.default.number})}),iframeConfig:a.default.shape({width:a.default.oneOfType([a.default.string,a.default.number]),height:a.default.oneOfType([a.default.string,a.default.number]),classList:a.default.array})};var l=s;t.default=l},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";var r=n(48);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(41),o=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(42)),a=o(n(1)),c=o(n(2)),s=o(n(4)),l=o(n(5)),u=o(n(6)),f=r(n(39)),p=o(n(40)),d=n(43);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}n(50);var y=function(e){(0,s.default)(n,e);var t=v(n);function n(){return(0,a.default)(this,n),t.apply(this,arguments)}return(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=this.props.editorOptions;this.init(e)}},{key:"init",value:function(e){var t=this.props.type;this.editor=(0,d.createEditor)(m(m({},e),{},{type:t,container:this.editorRef})),e.getInstance&&e.getInstance(this.editor)}},{key:"render",value:function(){var e=this;return f.default.createElement("div",{className:"yuque-sdk-container"},f.default.createElement("div",{className:"yuque-sdk-editor",ref:function(t){return e.editorRef=t}}))}}]),n}(f.Component);y.propTypes={docType:p.default.oneOf(["doc","sheet"]).isRequired,editorConfig:p.default.object.isRequired};var g=y;t.default=g},function(e,t,n){(e.exports=n(51)(!1)).push([e.i,".yuque-sdk-container {\n  position: relative;\n  height: 100%;\n}\n.yuque-sdk-editor {\n  height: 100%;\n}\n.yuque-sdk-skeleton {\n  position: absolute;\n  top: 0;\n}\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",o=e[3];if(!o)return r;if(t&&"function"==typeof btoa){var i=(n=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[r].concat(a).concat([i]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},,,,,,,function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DocEditor",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"registerChild",{enumerable:!0,get:function(){return i.registerChild}}),Object.defineProperty(t,"registerParent",{enumerable:!0,get:function(){return i.registerParent}});var o=r(n(45)),i=n(16)}]))},function(e,t,n){"use strict";var r,o,i=n(11),a=n(12),c=n(13),s=n(20),l=n(0),u=n(4),f=n(3),p=n(329),d=n(31),h=n(2),m=n.n(h),v="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",y=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],g={};function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&g[n])return g[n];var r=window.getComputedStyle(e),o=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),i=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),c=y.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),s={sizingStyle:c,paddingSize:i,borderSize:a,boxSizing:o};return t&&n&&(g[n]=s),s}!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(o||(o={}));var w=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).saveTextArea=function(e){a.textArea=e},a.handleResize=function(e){var t=a.state.resizeStatus,n=a.props,r=n.autoSize,i=n.onResize;t===o.NONE&&("function"==typeof i&&i(e),r&&a.resizeOnNextFrame())},a.resizeOnNextFrame=function(){cancelAnimationFrame(a.nextFrameActionId),a.nextFrameActionId=requestAnimationFrame(a.resizeTextarea)},a.resizeTextarea=function(){var e=a.props.autoSize;if(e&&a.textArea){var t=e.minRows,n=e.maxRows,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r||((r=document.createElement("textarea")).setAttribute("tab-index","-1"),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),e.getAttribute("wrap")?r.setAttribute("wrap",e.getAttribute("wrap")):r.removeAttribute("wrap");var i=b(e,t),a=i.paddingSize,c=i.borderSize,s=i.boxSizing,l=i.sizingStyle;r.setAttribute("style","".concat(l,";").concat(v)),r.value=e.value||e.placeholder||"";var u,f=Number.MIN_SAFE_INTEGER,p=Number.MAX_SAFE_INTEGER,d=r.scrollHeight;if("border-box"===s?d+=c:"content-box"===s&&(d-=a),null!==n||null!==o){r.value=" ";var h=r.scrollHeight-a;null!==n&&(f=h*n,"border-box"===s&&(f=f+a+c),d=Math.max(f,d)),null!==o&&(p=h*o,"border-box"===s&&(p=p+a+c),u=d>p?"":"hidden",d=Math.min(p,d))}return{height:d,minHeight:f,maxHeight:p,overflowY:u,resize:"none"}}(a.textArea,!1,t,n);a.setState({textareaStyles:i,resizeStatus:o.RESIZING},(function(){cancelAnimationFrame(a.resizeFrameId),a.resizeFrameId=requestAnimationFrame((function(){a.setState({resizeStatus:o.RESIZED},(function(){a.resizeFrameId=requestAnimationFrame((function(){a.setState({resizeStatus:o.NONE}),a.fixFirefoxAutoScroll()}))}))}))}))}},a.renderTextArea=function(){var e=a.props,t=e.prefixCls,n=void 0===t?"rc-textarea":t,r=e.autoSize,i=e.onResize,c=e.className,s=e.disabled,h=a.state,v=h.textareaStyles,y=h.resizeStatus,g=Object(d.a)(a.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),b=m()(n,c,Object(f.a)({},"".concat(n,"-disabled"),s));"value"in g&&(g.value=g.value||"");var w=Object(u.a)(Object(u.a)(Object(u.a)({},a.props.style),v),y===o.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return l.createElement(p.a,{onResize:a.handleResize,disabled:!(r||i)},l.createElement("textarea",Object.assign({},g,{className:b,style:w,ref:a.saveTextArea})))},a.state={textareaStyles:{},resizeStatus:o.NONE},a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.resizeTextarea()}},{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(e){}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(l.Component),k=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e)).focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(e){r.resizableTextArea=e},r.handleChange=function(e){var t=r.props.onChange;r.setValue(e.target.value,(function(){r.resizableTextArea.resizeTextarea()})),t&&t(e)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,o=t.onKeyDown;13===e.keyCode&&n&&n(e),o&&o(e)};var o=void 0===e.value||null===e.value?e.defaultValue:e.value;return r.state={value:o},r}return Object(a.a)(n,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return l.createElement(w,Object.assign({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(l.Component);t.a=k},,,,,,,function(e,t,n){"use strict";e.exports=[".docx",".doc",".dotx",".dot",".rtf",".txt",".html",".htm",".lake",".lakebook",".lakesheet",".pdf",".xls",".xlsx",".xltx",".xlsm",".xlt",".csv",".pptx",".ppt",".potx",".pot",".ppsx",".pps",".pages",".numbers",".nmbtemplate",".template",".key",".keynote",".kth",".et",".ett",".dps",".dpt",".wps",".wpt",".txt",".md",".mark",".markdown",".xmind",".graffle",".gtemplate",".gstencil",".mindnode",".vpp",".mmap",".mpp"]},function(e,t,n){"use strict";e.exports=[".sketch",".psd",".ai",".rp",".rplib",".aep",".c4d",".fbx",".xd",".eps"]},function(e,t,n){"use strict";e.exports=[".dwg",".vsd",".vsdm",".vsdx",".vss",".vssm",".vst",".vstm",".vstx",".msi",".chm",".sub",".idx",".sst",".son",".srt",".ssa",".ass",".smi",".psb",".pjs",".stl",".tts",".vsf",".zeg",".ipynb",".msg"]},function(e,t,n){"use strict";var r=n(381);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,k=r?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case p:case a:case s:case c:case h:return e;default:switch(e=e&&e.$$typeof){case u:case d:case y:case v:case l:return e;default:return t}}case i:return t}}}function O(e){return x(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=c,t.Suspense=h,t.isAsyncMode=function(e){return O(e)||x(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===y},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===c},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===s||e===c||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===b||e.$$typeof===w||e.$$typeof===k||e.$$typeof===g)},t.typeOf=x},function(e,t,n){(function(t){(function(){var n,r,o,i,a,c;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,i=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),c=1e9*t.uptime(),a=i-c):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(128))},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(56),o=n(91);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=c(n(396)),o=c(n(184)),i=c(n(39)),a=c(n(406));function c(e){return e&&e.__esModule?e:{default:e}}var s=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,i.default)(t)?(0,o.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=s},function(e,t,n){var r=n(86),o=n(47),i=n(67);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(108),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[c]=n:delete e[c]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),c=a.length;c--;){var s=a[e?c:++o];if(!1===n(i[s],s,i))break}return t}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(86),o=n(67);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(86),o=n(186),i=n(67),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(189),o=n(405),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(253)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(192),o=n(193),i=n(458),a=n(47);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},function(e,t,n){var r=n(408),o=n(446),i=n(265);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(145),o=n(196);e.exports=function(e,t,n,i){var a=n.length,c=a,s=!i;if(null==e)return!c;for(e=Object(e);a--;){var l=n[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<c;){var u=(l=n[a])[0],f=e[u],p=l[1];if(s&&l[2]){if(void 0===f&&!(u in e))return!1}else{var d=new r;if(i)var h=i(f,p,u,e,t,d);if(!(void 0===h?o(p,f,3,i,d):h))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(147),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(147);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(147);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(147);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(146);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(146),o=n(194),i=n(195);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(190),o=n(420),i=n(57),a=n(255),c=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,u=s.toString,f=l.hasOwnProperty,p=RegExp("^"+u.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?p:c).test(a(e))}},function(e,t,n){var r,o=n(421),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(66)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(424),o=n(146),i=n(194);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(425),o=n(426),i=n(427),a=n(428),c=n(429);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},function(e,t,n){var r=n(148);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(148),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(148),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(148);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(149);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(149);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(149);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(149);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(145),o=n(256),i=n(439),a=n(441),c=n(150),s=n(47),l=n(141),u=n(185),f="[object Arguments]",p="[object Array]",d="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,y){var g=s(e),b=s(t),w=g?p:c(e),k=b?p:c(t),x=(w=w==f?d:w)==d,O=(k=k==f?d:k)==d,C=w==k;if(C&&l(e)){if(!l(t))return!1;g=!0,x=!1}if(C&&!x)return y||(y=new r),g||u(e)?o(e,t,n,m,v,y):i(e,t,w,n,m,v,y);if(!(1&n)){var _=x&&h.call(e,"__wrapped__"),E=O&&h.call(t,"__wrapped__");if(_||E){var j=_?e.value():e,S=E?t.value():t;return y||(y=new r),v(j,S,n,m,y)}}return!!C&&(y||(y=new r),a(e,t,n,m,v,y))}},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(108),o=n(259),i=n(98),a=n(256),c=n(440),s=n(197),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,f,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=c;case"[object Set]":var h=1&r;if(d||(d=s),e.size!=t.size&&!h)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var v=a(d(e),d(t),r,l,f,p);return p.delete(e),v;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t,n){var r=n(260),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,c){var s=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!s)return!1;for(var f=u;f--;){var p=l[f];if(!(s?p in t:o.call(t,p)))return!1}var d=c.get(e),h=c.get(t);if(d&&h)return d==t&&h==e;var m=!0;c.set(e,t),c.set(t,e);for(var v=s;++f<u;){var y=e[p=l[f]],g=t[p];if(i)var b=s?i(g,y,p,t,e,c):i(y,g,p,e,t,c);if(!(void 0===b?y===g||a(y,g,n,i,c):b)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var w=e.constructor,k=t.constructor;w==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof k&&k instanceof k||(m=!1)}return c.delete(e),c.delete(t),m}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t,n){var r=n(95)(n(66),"DataView");e.exports=r},function(e,t,n){var r=n(95)(n(66),"Promise");e.exports=r},function(e,t,n){var r=n(95)(n(66),"WeakMap");e.exports=r},function(e,t,n){var r=n(264),o=n(129);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},function(e,t,n){var r=n(196),o=n(18),i=n(453),a=n(201),c=n(264),s=n(265),l=n(110);e.exports=function(e,t){return a(e)&&c(t)?s(l(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},function(e,t,n){var r=n(449),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(450);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(195);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(452);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(108),o=n(192),i=n(47),a=n(151),c=r?r.prototype:void 0,s=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},function(e,t,n){var r=n(454),o=n(266);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(456),o=n(457),i=n(201),a=n(110);e.exports=function(e){return i(e)?r(a(e)):o(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(200);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(267),o=n(109);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},function(e,t,n){var r=n(109);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,c=Object(n);(t?a--:++a<i)&&!1!==o(c[a],a,c););return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(n(184)),o=a(n(15)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var c=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,o.default)(e.default)||{};return t.map((function(t){var o=e[t];return o&&(0,r.default)(o,(function(e,t){n[t]||(n[t]={}),n[t]=i({},n[t],o[t])})),t})),n};t.default=c},function(e,t,n){var r=n(111),o=n(129);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(111),o=n(131);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(57),o=n(189),i=n(464),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var c in e)("constructor"!=c||!t&&a.call(e,c))&&n.push(c);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(111),o=n(199);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(111),o=n(272);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(205),o=n(469),i=n(470),a=n(471),c=n(274);e.exports=function(e,t,n){var s=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return c(e,n);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return i(e);case"[object Set]":return new s;case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(205);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(108),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(57),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(474),o=n(187),i=n(188),a=i&&i.isMap,c=a?o(a):r;e.exports=c},function(e,t,n){var r=n(150),o=n(67);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(476),o=n(187),i=n(188),a=i&&i.isSet,c=a?o(a):r;e.exports=c},function(e,t,n){var r=n(150),o=n(67);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,o=n(184),i=(r=o)&&r.__esModule?r:{default:r},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var c={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},s=t.autoprefix=function(e){var t={};return(0,i.default)(e,(function(e,n){var r={};(0,i.default)(e,(function(e,t){var n=c[t];n?r=a({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),a=(r=i)&&r.__esModule?r:{default:r};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,l;c(this,r);for(var u=arguments.length,f=Array(u),p=0;p<u;p++)f[p]=arguments[p];return i=l=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return a.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},a.default.createElement(e,o({},l.props,l.state)))},s(l,i)}return l(r,n),r}(a.default.Component)};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),a=(r=i)&&r.__esModule?r:{default:r};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,l;c(this,r);for(var u=arguments.length,f=Array(u),p=0;p<u;p++)f[p]=arguments[p];return i=l=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return a.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},a.default.createElement(e,o({},l.props,l.state)))},s(l,i)}return l(r,n),r}(a.default.Component)};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=u(i),c=u(n(55)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(236)),l=u(n(206));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.Alpha=function(e){function t(){var e,n,r;f(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=s.calculateChange(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,c.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return a.default.createElement("div",{style:n.alpha},a.default.createElement("div",{style:n.checkboard},a.default.createElement(l.default,{renderers:this.props.renderers})),a.default.createElement("div",{style:n.gradient}),a.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("div",{style:n.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:n.slider}))))}}]),t}(i.PureComponent||i.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},o=t.render=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var o=r?new r:document.createElement("canvas");o.width=2*n,o.height=2*n;var i=o.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,o.width,o.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),o.toDataURL()):null};t.get=function(e,t,n,i){var a=e+"-"+t+"-"+n+(i?"-server":"");if(r[a])return r[a];var c=o(e,t,n,i);return r[a]=c,c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),a=c(n(55));function c(e){return e&&e.__esModule?e:{default:e}}var s=[38,40],l=1,u=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,s.indexOf(t)>-1)){var o=n.getArrowOffset(),i=38===e.keyCode?r+o:r-o;n.setUpdatedValue(i,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+l++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,a.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return i.default.createElement("div",{style:t.wrap},i.default.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?i.default.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(o.PureComponent||o.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=s(o),a=s(n(55)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(237));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=t.Hue=function(e){function t(){var e,n,r;l(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=c.calculateChange(e,r.props.direction,r.props.hsl,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,a.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return i.default.createElement("div",{style:r.hue},i.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),i.default.createElement("div",{style:r.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:r.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=c(n(0)),o=c(n(1)),i=c(n(55)),a=c(n(100));function c(e){return e&&e.__esModule?e:{default:e}}var s=t.Raised=function(e){var t=e.zDepth,n=e.radius,o=e.background,c=e.children,s=e.styles,l=void 0===s?{}:s,u=(0,i.default)((0,a.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:o}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},l),{"zDepth-1":1===t});return r.default.createElement("div",{style:u.wrap},r.default.createElement("div",{style:u.bg}),r.default.createElement("div",{style:u.content},c))};s.propTypes={background:o.default.string,zDepth:o.default.oneOf([0,1,2,3,4,5]),radius:o.default.number,styles:o.default.object},s.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},t.default=s},function(e,t,n){var r=n(277),o=n(270),i=n(274),a=n(271),c=n(275),s=n(140),l=n(47),u=n(487),f=n(141),p=n(190),d=n(57),h=n(39),m=n(185),v=n(278),y=n(488);e.exports=function(e,t,n,g,b,w,k){var x=v(e,n),O=v(t,n),C=k.get(O);if(C)r(e,n,C);else{var _=w?w(x,O,n+"",e,t,k):void 0,E=void 0===_;if(E){var j=l(O),S=!j&&f(O),P=!j&&!S&&m(O);_=O,j||S||P?l(x)?_=x:u(x)?_=a(x):S?(E=!1,_=o(O,!0)):P?(E=!1,_=i(O,!0)):_=[]:h(O)||s(O)?(_=x,s(x)?_=y(x):d(x)&&!p(x)||(_=c(O))):E=!1}E&&(k.set(O,_),b(_,O,g,w,k),k.delete(O)),r(e,n,_)}}},function(e,t,n){var r=n(109),o=n(67);e.exports=function(e){return o(e)&&r(e)}},function(e,t,n){var r=n(111),o=n(131);e.exports=function(e){return r(e,o(e))}},function(e,t,n){var r=n(144),o=n(280),i=n(281);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(492),o=n(269),i=n(144),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(98),o=n(109),i=n(143),a=n(57);e.exports=function(e,t,n){if(!a(n))return!1;var c=typeof t;return!!("number"==c?o(n)&&i(t,n.length):"string"==c&&t in n)&&r(n[t],e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=l(o),a=l(n(55)),c=l(n(24)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(238));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"==typeof n.props.onChange&&n.throttle(n.props.onChange,s.calculateChange(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,c.default)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,o=t.black,c=t.pointer,s=t.circle,l=(0,a.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:c,circle:s}},{custom:!!this.props.style});return i.default.createElement("div",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),i.default.createElement("div",{style:l.white,className:"saturation-white"},i.default.createElement("div",{style:l.black,className:"saturation-black"}),i.default.createElement("div",{style:l.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:l.circle}))))}}]),t}(o.PureComponent||o.Component);t.default=u},function(e,t,n){var r=n(66);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=l(i),c=l(n(29)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(498));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(s.simpleCheckForValidColor(e)){var r=s.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(s.simpleCheckForValidColor(e)){var r=s.toState(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},s.toState(e.color,0)),t.debounce=(0,c.default)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),o(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),a.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return r({},s.toState(e.color,t.oldHue))}}]),n}(i.PureComponent||i.Component);return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isvalidColorString=t.red=t.getContrastingColor=t.isValidHex=t.toState=t.simpleCheckForValidColor=void 0;var r=i(n(499)),o=i(n(46));function i(e){return e&&e.__esModule?e:{default:e}}t.simpleCheckForValidColor=function(e){var t=0,n=0;return(0,r.default)(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e};var a=t.toState=function(e,t){var n=e.hex?(0,o.default)(e.hex):(0,o.default)(e),r=n.toHsl(),i=n.toHsv(),a=n.toRgb(),c=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:"000000"===c&&0===a.a?"transparent":"#"+c,rgb:a,hsv:i,oldHue:e.h||t||r.h,source:e.source}};t.isValidHex=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,o.default)(e).isValid()},t.getContrastingColor=function(e){if(!e)return"#fff";var t=a(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},t.isvalidColorString=function(e,t){var n=e.replace("°","");return(0,o.default)(t+" ("+n+")")._ok}},function(e,t,n){e.exports=n(500)},function(e,t,n){var r=n(268),o=n(267),i=n(254),a=n(47);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(0)),i=s(n(55)),a=n(502),c=s(n(206));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Swatch=function(e){var t=e.color,n=e.style,a=e.onClick,s=void 0===a?function(){}:a,l=e.onHover,u=e.title,f=void 0===u?t:u,p=e.children,d=e.focus,h=e.focusStyle,m=void 0===h?{}:h,v="transparent"===t,y=(0,i.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,d?m:{})}}),g={};return l&&(g.onMouseOver=function(e){return l(t,e)}),o.default.createElement("div",r({style:y.swatch,onClick:function(e){return s(t,e)},title:f,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&s(t,e)}},g),p,v&&o.default.createElement(c.default,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,a.handleFocus)(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),c=(r=a)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;s(this,r);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=l(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},l(n,t)}return u(r,n),i(r,[{key:"render",value:function(){return c.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},c.default.createElement(e,o({},this.props,this.state)))}}]),r}(c.default.Component)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(507)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="CloseCircleFilled";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warning=o,t.note=i,t.resetWarned=function(){r={}},t.call=a,t.warningOnce=c,t.noteOnce=function(e,t){a(i,e,t)},t.default=void 0;var r={};function o(e,t){0}function i(e,t){0}function a(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}function c(e,t){a(o,e,t)}var s=c;t.default=s},function(e,t,n){"use strict";var r=n(35);Object.defineProperty(t,"__esModule",{value:!0}),t.setTwoToneColor=function(e){var t=(0,a.normalizeTwoToneColors)(e),n=(0,o.default)(t,2),r=n[0],c=n[1];return i.default.setTwoToneColors({primaryColor:r,secondaryColor:c})},t.getTwoToneColor=function(){var e=i.default.getTwoToneColors();if(!e.calculated)return e.primaryColor;return[e.primaryColor,e.secondaryColor]};var o=r(n(41)),i=r(n(285)),a=n(207)},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(512)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="LoadingOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"}},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(514)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="SearchOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"}},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(516)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="EyeOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"}},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(518)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="EyeInvisibleOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"}},function(e,t,n){},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(521)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="CloseOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(526)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="InfoCircleFilled";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"}},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(528)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="CheckCircleFilled";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"}},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(530)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="ExclamationCircleFilled";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"}},function(e,t,n){},function(e,t,n){e.exports=n(533)},function(e){e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["ecma","es"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/mrb-publish+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana"},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana"},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana"},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana"},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana"},"image/avcs":{"source":"iana"},"image/avif":{"compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana"},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return(o?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!o).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),a="/"===o(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),c=a,s=0;s<a;s++)if(o[s]!==i[s]){c=s;break}var l=[];for(s=c;s<o.length;s++)l.push("..");return(l=l.concat(i.slice(c))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===r&&(o=!1,r=a+1),46===c?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(128))},function(e,t,n){},function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){function t(e){var n,r=null;function i(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];if(i.enabled){var a=i,c=Number(new Date),s=c-(n||c);a.diff=s,a.prev=n,a.curr=c,n=c,r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var l=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return"%";l++;var o=t.formatters[n];if("function"==typeof o){var i=r[l];e=o.call(a,i),r.splice(l,1),l--}return e})),t.formatArgs.call(a,r);var u=a.log||t.log;u.apply(a,r)}}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=o,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===r?t.enabled(e):r},set:function(e){r=e}}),"function"==typeof t.init&&t.init(i),i}function o(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){var e=[].concat(r(t.names.map(i)),r(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(537),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=7*i,c=365.25*i;function s(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*c;case"weeks":case"week":case"w":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return s(e,t,i,"day");if(t>=o)return s(e,t,o,"hour");if(t>=r)return s(e,t,r,"minute");if(t>=n)return s(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},function(e,t,n){var r=function(e){return"[object Array]"==Object.prototype.toString.call(e)},o=function(e){return JSON.parse(JSON.stringify(e))},i={name:"json0",uri:"http://sharejs.org/types/JSONv0"},a={};function c(e){e.t="text0";var t={p:e.p.pop()};null!=e.si&&(t.i=e.si),null!=e.sd&&(t.d=e.sd),e.o=[t]}function s(e){e.p.push(e.o[0].p),null!=e.o[0].i&&(e.si=e.o[0].i),null!=e.o[0].d&&(e.sd=e.o[0].d),delete e.t,delete e.o}i.registerSubtype=function(e){a[e.name]=e},i.create=function(e){return void 0===e?null:o(e)},i.invertComponent=function(e){var t={p:e.p};return e.t&&a[e.t]&&(t.t=e.t,t.o=a[e.t].invert(e.o)),void 0!==e.si&&(t.sd=e.si),void 0!==e.sd&&(t.si=e.sd),void 0!==e.oi&&(t.od=e.oi),void 0!==e.od&&(t.oi=e.od),void 0!==e.li&&(t.ld=e.li),void 0!==e.ld&&(t.li=e.ld),void 0!==e.na&&(t.na=-e.na),void 0!==e.lm&&(t.lm=e.p[e.p.length-1],t.p=e.p.slice(0,e.p.length-1).concat([e.lm])),t},i.invert=function(e){for(var t=e.slice().reverse(),n=[],r=0;r<t.length;r++)n.push(i.invertComponent(t[r]));return n},i.checkValidOp=function(e){for(var t=0;t<e.length;t++)if(!r(e[t].p))throw new Error("Missing path")},i.checkList=function(e){if(!r(e))throw new Error("Referenced element not a list")},i.checkObj=function(e){if(!(t=e)||t.constructor!==Object)throw new Error("Referenced element not an object (it was "+JSON.stringify(e)+")");var t},i.apply=function(e,t){i.checkValidOp(t),t=o(t);for(var n={data:e},r=0;r<t.length;r++){var s=t[r];null==s.si&&null==s.sd||c(s);for(var l=null,u=n,f="data",p=0;p<s.p.length;p++){var d=s.p[p];if(l=u,f,u=u[f],f=d,null==l)throw new Error("Path invalid")}if(s.t&&void 0!==s.o&&a[s.t])u[f]=a[s.t].apply(u[f],s.o);else if(void 0!==s.na){if("number"!=typeof u[f])throw new Error("Referenced element not a number");u[f]+=s.na}else if(void 0!==s.li&&void 0!==s.ld)i.checkList(u),u[f]=s.li;else if(void 0!==s.li)i.checkList(u),u.splice(f,0,s.li);else if(void 0!==s.ld)i.checkList(u),u.splice(f,1);else if(void 0!==s.lm){if(i.checkList(u),s.lm!=f){var h=u[f];u.splice(f,1),u.splice(s.lm,0,h)}}else if(void 0!==s.oi)i.checkObj(u),u[f]=s.oi;else{if(void 0===s.od)throw new Error("invalid / missing instruction in op");i.checkObj(u),delete u[f]}}return n.data},i.shatter=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n]]);return t},i.incrementalApply=function(e,t,n){for(var r=0;r<t.length;r++){var o=[t[r]];n(o,e=i.apply(e,o))}return e};var l=i.pathMatches=function(e,t,n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r]&&(!n||r!==e.length-1))return!1;return!0};i.append=function(e,t){if(t=o(t),0!==e.length){var n=e[e.length-1];if(null==t.si&&null==t.sd||null==n.si&&null==n.sd||(c(t),c(n)),l(t.p,n.p))if(t.t&&n.t&&t.t===n.t&&a[t.t]){if(n.o=a[t.t].compose(n.o,t.o),null!=t.si||null!=t.sd){for(var r=t.p,i=0;i<n.o.length-1;i++)t.o=[n.o.pop()],t.p=r.slice(),s(t),e.push(t);s(n)}}else null!=n.na&&null!=t.na?e[e.length-1]={p:n.p,na:n.na+t.na}:void 0!==n.li&&void 0===t.li&&t.ld===n.li?void 0!==n.ld?delete n.li:e.pop():void 0!==n.od&&void 0===n.oi&&void 0!==t.oi&&void 0===t.od?n.oi=t.oi:void 0!==n.oi&&void 0!==t.od?void 0!==t.oi?n.oi=t.oi:void 0!==n.od?delete n.oi:e.pop():void 0!==t.lm&&t.p[t.p.length-1]===t.lm||e.push(t);else null==t.si&&null==t.sd||null==n.si&&null==n.sd||(s(t),s(n)),e.push(t)}else e.push(t)},i.compose=function(e,t){i.checkValidOp(e),i.checkValidOp(t);for(var n=o(e),r=0;r<t.length;r++)i.append(n,t[r]);return n},i.normalize=function(e){var t=[];e=r(e)?e:[e];for(var n=0;n<e.length;n++){var o=e[n];null==o.p&&(o.p=[]),i.append(t,o)}return t},i.commonLengthForOps=function(e,t){var n=e.p.length,r=t.p.length;if((null!=e.na||e.t)&&n++,(null!=t.na||t.t)&&r++,0===n)return-1;if(0===r)return null;n--,r--;for(var o=0;o<n;o++){var i=e.p[o];if(o>=r||i!==t.p[o])return null}return n},i.canOpAffectPath=function(e,t){return null!=i.commonLengthForOps({p:t},e)},i.transformComponent=function(e,t,n,l){t=o(t);var u=i.commonLengthForOps(n,t),f=i.commonLengthForOps(t,n),p=t.p.length,d=n.p.length;if((null!=t.na||t.t)&&p++,(null!=n.na||n.t)&&d++,null!=f&&d>p&&t.p[f]==n.p[f])if(void 0!==t.ld)(m=o(n)).p=m.p.slice(p),t.ld=i.apply(o(t.ld),[m]);else if(void 0!==t.od){(m=o(n)).p=m.p.slice(p),t.od=i.apply(o(t.od),[m])}if(null!=u){var h=p==d,m=n;if(null==t.si&&null==t.sd||null==n.si&&null==n.sd||(c(t),c(m=o(n))),m.t&&a[m.t]){if(t.t&&t.t===m.t){var v=a[t.t].transform(t.o,m.o,l);if(null!=t.si||null!=t.sd)for(var y=t.p,g=0;g<v.length;g++)t.o=[v[g]],t.p=y.slice(),s(t),i.append(e,t);else(!r(v)||v.length>0)&&(t.o=v,i.append(e,t));return e}}else if(void 0!==n.na);else if(void 0!==n.li&&void 0!==n.ld){if(n.p[u]===t.p[u]){if(!h)return e;if(void 0!==t.ld){if(void 0===t.li||"left"!==l)return e;t.ld=o(n.li)}}}else if(void 0!==n.li)void 0!==t.li&&void 0===t.ld&&h&&t.p[u]===n.p[u]?"right"===l&&t.p[u]++:n.p[u]<=t.p[u]&&t.p[u]++,void 0!==t.lm&&h&&n.p[u]<=t.lm&&t.lm++;else if(void 0!==n.ld){if(void 0!==t.lm&&h){if(n.p[u]===t.p[u])return e;y=n.p[u];var b=t.p[u];(y<(w=t.lm)||y===w&&b<w)&&t.lm--}if(n.p[u]<t.p[u])t.p[u]--;else if(n.p[u]===t.p[u]){if(d<p)return e;if(void 0!==t.ld){if(void 0===t.li)return e;delete t.ld}}}else if(void 0!==n.lm)if(void 0!==t.lm&&p===d){b=t.p[u];var w=t.lm,k=n.p[u],x=n.lm;if(k!==x)if(b===k){if("left"!==l)return e;t.p[u]=x,b===w&&(t.lm=x)}else b>k&&t.p[u]--,b>x?t.p[u]++:b===x&&k>x&&(t.p[u]++,b===w&&t.lm++),(w>k||w===k&&w>b)&&t.lm--,w>x?t.lm++:w===x&&(x>k&&w>b||x<k&&w<b?"right"===l&&t.lm++:w>b?t.lm++:w===k&&t.lm--)}else if(void 0!==t.li&&void 0===t.ld&&h){b=n.p[u],w=n.lm;(y=t.p[u])>b&&t.p[u]--,y>w&&t.p[u]++}else{b=n.p[u],w=n.lm;(y=t.p[u])===b?t.p[u]=w:(y>b&&t.p[u]--,(y>w||y===w&&b>w)&&t.p[u]++)}else if(void 0!==n.oi&&void 0!==n.od){if(t.p[u]===n.p[u]){if(void 0===t.oi||!h)return e;if("right"===l)return e;t.od=n.oi}}else if(void 0!==n.oi){if(void 0!==t.oi&&t.p[u]===n.p[u]){if("left"!==l)return e;i.append(e,{p:t.p,od:n.oi})}}else if(void 0!==n.od&&t.p[u]==n.p[u]){if(!h)return e;if(void 0===t.oi)return e;delete t.od}}return i.append(e,t),e},n(287)(i,i.transformComponent,i.checkValidOp,i.append);var u=n(540);i.registerSubtype(u),e.exports=i},function(e,t,n){var r=e.exports={name:"text0",uri:"http://sharejs.org/types/textv0",create:function(e){if(null!=e&&"string"!=typeof e)throw new Error("Initial data must be a string");return e||""}},o=function(e,t,n){return e.slice(0,t)+n+e.slice(t)},i=function(e){if("number"!=typeof e.p)throw new Error("component missing position field");if("string"==typeof e.i==("string"==typeof e.d))throw new Error("component needs an i or d field");if(e.p<0)throw new Error("position cannot be negative")},a=function(e){for(var t=0;t<e.length;t++)i(e[t])};r.apply=function(e,t){var n;a(t);for(var r=0;r<t.length;r++){var i=t[r];if(null!=i.i)e=o(e,i.p,i.i);else{if(n=e.slice(i.p,i.p+i.d.length),i.d!==n)throw new Error("Delete component '"+i.d+"' does not match deleted text '"+n+"'");e=e.slice(0,i.p)+e.slice(i.p+i.d.length)}}return e};var c=r._append=function(e,t){if(""!==t.i&&""!==t.d)if(0===e.length)e.push(t);else{var n=e[e.length-1];null!=n.i&&null!=t.i&&n.p<=t.p&&t.p<=n.p+n.i.length?e[e.length-1]={i:o(n.i,t.p-n.p,t.i),p:n.p}:null!=n.d&&null!=t.d&&t.p<=n.p&&n.p<=t.p+t.d.length?e[e.length-1]={d:o(t.d,n.p-t.p,n.d),p:t.p}:e.push(t)}};r.compose=function(e,t){a(e),a(t);for(var n=e.slice(),r=0;r<t.length;r++)c(n,t[r]);return n},r.normalize=function(e){var t=[];null==e.i&&null==e.p||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];null==r.p&&(r.p=0),c(t,r)}return t};var s=function(e,t,n){return null!=t.i?t.p<e||t.p===e&&n?e+t.i.length:e:e<=t.p?e:e<=t.p+t.d.length?t.p:e-t.d.length};r.transformCursor=function(e,t,n){for(var r="right"===n,o=0;o<t.length;o++)e=s(e,t[o],r);return e};var l=r._tc=function(e,t,n,r){if(i(t),i(n),null!=t.i)c(e,{i:t.i,p:s(t.p,n,"right"===r)});else if(null!=n.i){var o=t.d;t.p<n.p&&(c(e,{d:o.slice(0,n.p-t.p),p:t.p}),o=o.slice(n.p-t.p)),""!==o&&c(e,{d:o,p:t.p+n.i.length})}else if(t.p>=n.p+n.d.length)c(e,{d:t.d,p:t.p-n.d.length});else if(t.p+t.d.length<=n.p)c(e,t);else{var a={d:"",p:t.p};t.p<n.p&&(a.d=t.d.slice(0,n.p-t.p)),t.p+t.d.length>n.p+n.d.length&&(a.d+=t.d.slice(n.p+n.d.length-t.p));var l=Math.max(t.p,n.p),u=Math.min(t.p+t.d.length,n.p+n.d.length);if(t.d.slice(l-t.p,u-t.p)!==n.d.slice(l-n.p,u-n.p))throw new Error("Delete ops delete different text in the same region of the document");""!==a.d&&(a.p=s(a.p,n),c(e,a))}return e};r.invert=function(e){e=e.slice().reverse();for(var t=0;t<e.length;t++)e[t]=null!=(n=e[t]).i?{d:n.i,p:n.p}:{i:n.d,p:n.p};var n;return e},n(287)(r,l,a,c)},function(e,t,n){"use strict";var r=n(34),o=n(549),i=n(553),a=n(554),c=n(562),s=n(576),l=n(589),u=n(289),f=n(591),p={default:n(592),zero:n(593),commonmark:n(594)},d=/^(vbscript|javascript|file|data):/,h=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!d.test(t)||!!h.test(t)}var v=["http:","https:","mailto:"];function y(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||v.indexOf(t.protocol)>=0))try{t.hostname=f.toASCII(t.hostname)}catch(e){}return u.encode(u.format(t))}function g(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||v.indexOf(t.protocol)>=0))try{t.hostname=f.toUnicode(t.hostname)}catch(e){}return u.decode(u.format(t))}function b(e,t){if(!(this instanceof b))return new b(e,t);t||r.isString(e)||(t=e||{},e="default"),this.inline=new s,this.block=new c,this.core=new a,this.renderer=new i,this.linkify=new l,this.validateLink=m,this.normalizeLink=y,this.normalizeLinkText=g,this.utils=r,this.helpers=r.assign({},o),this.options={},this.configure(e),t&&this.set(t)}b.prototype.set=function(e){return r.assign(this.options,e),this},b.prototype.configure=function(e){var t,n=this;if(r.isString(e)&&!(e=p[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)})),this},b.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},b.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},b.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},b.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},b.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},b.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},b.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=b},function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},function(e,t,n){"use strict";var r={};function o(e,t,n){var i,a,c,s,l,u="";for("string"!=typeof t&&(n=t,t=o.defaultChars),void 0===n&&(n=!0),l=function(e){var t,n,o=r[e];if(o)return o;for(o=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?o.push(n):o.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)o[e.charCodeAt(t)]=e[t];return o}(t),i=0,a=e.length;i<a;i++)if(c=e.charCodeAt(i),n&&37===c&&i+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))u+=e.slice(i,i+3),i+=2;else if(c<128)u+=l[c];else if(c>=55296&&c<=57343){if(c>=55296&&c<=56319&&i+1<a&&(s=e.charCodeAt(i+1))>=56320&&s<=57343){u+=encodeURIComponent(e[i]+e[i+1]),i++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[i]);return u}o.defaultChars=";/?:@&=+$,-_.!~*'()#",o.componentChars="-_.!~*'()",e.exports=o},function(e,t,n){"use strict";var r={};function o(e,t){var n;return"string"!=typeof t&&(t=o.defaultChars),n=function(e){var t,n,o=r[e];if(o)return o;for(o=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),o.push(n);for(t=0;t<e.length;t++)o[n=e.charCodeAt(t)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return o}(t),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,r,o,i,a,c,s,l="";for(t=0,r=e.length;t<r;t+=3)(o=parseInt(e.slice(t+1,t+3),16))<128?l+=n[o]:192==(224&o)&&t+3<r&&128==(192&(i=parseInt(e.slice(t+4,t+6),16)))?(l+=(s=o<<6&1984|63&i)<128?"��":String.fromCharCode(s),t+=3):224==(240&o)&&t+6<r&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128==(192&i)&&128==(192&a))?(l+=(s=o<<12&61440|i<<6&4032|63&a)<2048||s>=55296&&s<=57343?"���":String.fromCharCode(s),t+=6):240==(248&o)&&t+9<r&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),c=parseInt(e.slice(t+10,t+12),16),128==(192&i)&&128==(192&a)&&128==(192&c))?((s=o<<18&1835008|i<<12&258048|a<<6&4032|63&c)<65536||s>1114111?l+="����":(s-=65536,l+=String.fromCharCode(55296+(s>>10),56320+(1023&s))),t+=9):l+="�";return l}))}o.defaultChars=";/?:@&=+$,#",o.componentChars="",e.exports=o},function(e,t,n){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var o=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),s=["'"].concat(c),l=["%","/","?",";","#"].concat(s),u=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},h={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};r.prototype.parse=function(e,t){var n,r,i,c,s,m=e;if(m=m.trim(),!t&&1===e.split("#").length){var v=a.exec(m);if(v)return this.pathname=v[1],v[2]&&(this.search=v[2]),this}var y=o.exec(m);if(y&&(i=(y=y[0]).toLowerCase(),this.protocol=y,m=m.substr(y.length)),(t||y||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(s="//"===m.substr(0,2))||y&&d[y]||(m=m.substr(2),this.slashes=!0)),!d[y]&&(s||y&&!h[y])){var g,b,w=-1;for(n=0;n<u.length;n++)-1!==(c=m.indexOf(u[n]))&&(-1===w||c<w)&&(w=c);for(-1!==(b=-1===w?m.lastIndexOf("@"):m.lastIndexOf("@",w))&&(g=m.slice(0,b),m=m.slice(b+1),this.auth=g),w=-1,n=0;n<l.length;n++)-1!==(c=m.indexOf(l[n]))&&(-1===w||c<w)&&(w=c);-1===w&&(w=m.length),":"===m[w-1]&&w--;var k=m.slice(0,w);m=m.slice(w),this.parseHost(k),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x){var O=this.hostname.split(/\./);for(n=0,r=O.length;n<r;n++){var C=O[n];if(C&&!C.match(f)){for(var _="",E=0,j=C.length;E<j;E++)C.charCodeAt(E)>127?_+="x":_+=C[E];if(!_.match(f)){var S=O.slice(0,n),P=O.slice(n+1),R=C.match(p);R&&(S.push(R[1]),P.unshift(R[2])),P.length&&(m=P.join(".")+m),this.hostname=S.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var T=m.indexOf("#");-1!==T&&(this.hash=m.substr(T),m=m.slice(0,T));var D=m.indexOf("?");return-1!==D&&(this.search=m.substr(D),m=m.slice(0,D)),m&&(this.pathname=m),h[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(e){var t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,t){if(e&&e instanceof r)return e;var n=new r;return n.parse(e,t),n}},function(e,t,n){"use strict";t.Any=n(290),t.Cc=n(291),t.Cf=n(548),t.P=n(209),t.Z=n(292)},function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(e,t,n){"use strict";t.parseLinkLabel=n(550),t.parseLinkDestination=n(551),t.parseLinkTitle=n(552)},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,c=-1,s=e.posMax,l=e.pos;for(e.pos=t+1,r=1;e.pos<s;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--r){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===i)if(a===e.pos-1)r++;else if(n)return e.pos=l,-1}return o&&(c=e.pos),e.pos=l,c}},function(e,t,n){"use strict";var r=n(34).isSpace,o=n(34).unescapeAll;e.exports=function(e,t,n){var i,a,c=t,s={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(i=e.charCodeAt(t))||r(i))return s;if(62===i)return s.pos=t+1,s.str=o(e.slice(c+1,t)),s.ok=!0,s;92===i&&t+1<n?t+=2:t++}return s}for(a=0;t<n&&32!==(i=e.charCodeAt(t))&&!(i<32||127===i);)if(92===i&&t+1<n)t+=2;else{if(40===i&&a++,41===i){if(0===a)break;a--}t++}return c===t||0!==a||(s.str=o(e.slice(c,t)),s.lines=0,s.pos=t,s.ok=!0),s}},function(e,t,n){"use strict";var r=n(34).unescapeAll;e.exports=function(e,t,n){var o,i,a=0,c=t,s={ok:!1,pos:0,lines:0,str:""};if(t>=n)return s;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return s;for(t++,40===i&&(i=41);t<n;){if((o=e.charCodeAt(t))===i)return s.pos=t+1,s.lines=a,s.str=r(e.slice(c+1,t)),s.ok=!0,s;10===o?a++:92===o&&t+1<n&&(t++,10===e.charCodeAt(t)&&a++),t++}return s}},function(e,t,n){"use strict";var r=n(34).assign,o=n(34).unescapeAll,i=n(34).escapeHtml,a={};function c(){this.rules=r({},a)}a.code_inline=function(e,t,n,r,o){var a=e[t];return"<code"+o.renderAttrs(a)+">"+i(e[t].content)+"</code>"},a.code_block=function(e,t,n,r,o){var a=e[t];return"<pre"+o.renderAttrs(a)+"><code>"+i(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,n,r,a){var c,s,l,u,f=e[t],p=f.info?o(f.info).trim():"",d="";return p&&(d=p.split(/\s+/g)[0]),0===(c=n.highlight&&n.highlight(f.content,d)||i(f.content)).indexOf("<pre")?c+"\n":p?(s=f.attrIndex("class"),l=f.attrs?f.attrs.slice():[],s<0?l.push(["class",n.langPrefix+d]):l[s][1]+=" "+n.langPrefix+d,u={attrs:l},"<pre><code"+a.renderAttrs(u)+">"+c+"</code></pre>\n"):"<pre><code"+a.renderAttrs(f)+">"+c+"</code></pre>\n"},a.image=function(e,t,n,r,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,n,r),o.renderToken(e,t,n)},a.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return i(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},c.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return r},c.prototype.renderToken=function(e,t,n){var r,o="",i=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(o+=" /"),a.block&&(i=!0,1===a.nesting&&t+1<e.length&&("inline"===(r=e[t+1]).type||r.hidden||-1===r.nesting&&r.tag===a.tag)&&(i=!1)),o+=i?">\n":">")},c.prototype.renderInline=function(e,t,n){for(var r,o="",i=this.rules,a=0,c=e.length;a<c;a++)void 0!==i[r=e[a].type]?o+=i[r](e,a,t,n,this):o+=this.renderToken(e,a,t);return o},c.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=0,i=e.length;o<i;o++)"text"===e[o].type?r+=e[o].content:"image"===e[o].type&&(r+=this.renderInlineAsText(e[o].children,t,n));return r},c.prototype.render=function(e,t,n){var r,o,i,a="",c=this.rules;for(r=0,o=e.length;r<o;r++)"inline"===(i=e[r].type)?a+=this.renderInline(e[r].children,t,n):void 0!==c[i]?a+=c[e[r].type](e,r,t,n,this):a+=this.renderToken(e,r,t,n);return a},e.exports=c},function(e,t,n){"use strict";var r=n(210),o=[["normalize",n(555)],["block",n(556)],["inline",n(557)],["linkify",n(558)],["replacements",n(559)],["smartquotes",n(560)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}i.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},i.prototype.State=n(561),e.exports=i},function(e,t,n){"use strict";var r=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,o=/\u0000/g;e.exports=function(e){var t;t=(t=e.src.replace(r,"\n")).replace(o,"�"),e.src=t}},function(e,t,n){"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;n<r;n++)"inline"===(t=o[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},function(e,t,n){"use strict";var r=n(34).arrayReplaceAt;function o(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,n,i,a,c,s,l,u,f,p,d,h,m,v,y,g,b,w,k=e.tokens;if(e.md.options.linkify)for(n=0,i=k.length;n<i;n++)if("inline"===k[n].type&&e.md.linkify.pretest(k[n].content))for(m=0,t=(a=k[n].children).length-1;t>=0;t--)if("link_close"!==(s=a[t]).type){if("html_inline"===s.type&&(w=s.content,/^<a[>\s]/i.test(w)&&m>0&&m--,o(s.content)&&m++),!(m>0)&&"text"===s.type&&e.md.linkify.test(s.content)){for(f=s.content,b=e.md.linkify.match(f),l=[],h=s.level,d=0,u=0;u<b.length;u++)v=b[u].url,y=e.md.normalizeLink(v),e.md.validateLink(y)&&(g=b[u].text,g=b[u].schema?"mailto:"!==b[u].schema||/^mailto:/i.test(g)?e.md.normalizeLinkText(g):e.md.normalizeLinkText("mailto:"+g).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+g).replace(/^http:\/\//,""),(p=b[u].index)>d&&((c=new e.Token("text","",0)).content=f.slice(d,p),c.level=h,l.push(c)),(c=new e.Token("link_open","a",1)).attrs=[["href",y]],c.level=h++,c.markup="linkify",c.info="auto",l.push(c),(c=new e.Token("text","",0)).content=g,c.level=h,l.push(c),(c=new e.Token("link_close","a",-1)).level=--h,c.markup="linkify",c.info="auto",l.push(c),d=b[u].lastIndex);d<f.length&&((c=new e.Token("text","",0)).content=f.slice(d),c.level=h,l.push(c)),k[n].children=a=r(a,t,l)}}else for(t--;a[t].level!==s.level&&"link_open"!==a[t].type;)t--}},function(e,t,n){"use strict";var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,o=/\((c|tm|r|p)\)/i,i=/\((c|tm|r|p)\)/gi,a={c:"©",r:"®",p:"§",tm:"™"};function c(e,t){return a[t.toLowerCase()]}function s(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||r||(n.content=n.content.replace(i,c)),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}function l(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||o||r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(o.test(e.tokens[t].content)&&s(e.tokens[t].children),r.test(e.tokens[t].content)&&l(e.tokens[t].children))}},function(e,t,n){"use strict";var r=n(34).isWhiteSpace,o=n(34).isPunctChar,i=n(34).isMdAsciiPunct,a=/['"]/,c=/['"]/g;function s(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function l(e,t){var n,a,l,u,f,p,d,h,m,v,y,g,b,w,k,x,O,C,_,E,j;for(_=[],n=0;n<e.length;n++){for(a=e[n],d=e[n].level,O=_.length-1;O>=0&&!(_[O].level<=d);O--);if(_.length=O+1,"text"===a.type){f=0,p=(l=a.content).length;e:for(;f<p&&(c.lastIndex=f,u=c.exec(l));){if(k=x=!0,f=u.index+1,C="'"===u[0],m=32,u.index-1>=0)m=l.charCodeAt(u.index-1);else for(O=n-1;O>=0&&("softbreak"!==e[O].type&&"hardbreak"!==e[O].type);O--)if("text"===e[O].type){m=e[O].content.charCodeAt(e[O].content.length-1);break}if(v=32,f<p)v=l.charCodeAt(f);else for(O=n+1;O<e.length&&("softbreak"!==e[O].type&&"hardbreak"!==e[O].type);O++)if("text"===e[O].type){v=e[O].content.charCodeAt(0);break}if(y=i(m)||o(String.fromCharCode(m)),g=i(v)||o(String.fromCharCode(v)),b=r(m),(w=r(v))?k=!1:g&&(b||y||(k=!1)),b?x=!1:y&&(w||g||(x=!1)),34===v&&'"'===u[0]&&m>=48&&m<=57&&(x=k=!1),k&&x&&(k=!1,x=g),k||x){if(x)for(O=_.length-1;O>=0&&(h=_[O],!(_[O].level<d));O--)if(h.single===C&&_[O].level===d){h=_[O],C?(E=t.md.options.quotes[2],j=t.md.options.quotes[3]):(E=t.md.options.quotes[0],j=t.md.options.quotes[1]),a.content=s(a.content,u.index,j),e[h.token].content=s(e[h.token].content,h.pos,E),f+=j.length-1,h.token===n&&(f+=E.length-1),p=(l=a.content).length,_.length=O;continue e}k?_.push({token:n,pos:u.index,single:C,level:d}):x&&C&&(a.content=s(a.content,u.index,"’"))}else C&&(a.content=s(a.content,u.index,"’"))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&a.test(e.tokens[t].content)&&l(e.tokens[t].children,e)}},function(e,t,n){"use strict";var r=n(211);function o(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}o.prototype.Token=r,e.exports=o},function(e,t,n){"use strict";var r=n(210),o=[["table",n(563),["paragraph","reference"]],["code",n(564)],["fence",n(565),["paragraph","reference","blockquote","list"]],["blockquote",n(566),["paragraph","reference","blockquote","list"]],["hr",n(567),["paragraph","reference","blockquote","list"]],["list",n(568),["paragraph","reference","blockquote"]],["reference",n(569)],["heading",n(570),["paragraph","reference","blockquote"]],["lheading",n(571)],["html_block",n(572),["paragraph","reference","blockquote"]],["paragraph",n(574)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,n){for(var r,o=this.ruler.getRules(""),i=o.length,a=t,c=!1,s=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=s){e.line=n;break}for(r=0;r<i&&!o[r](e,a,n,!1);r++);e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),(a=e.line)<n&&e.isEmpty(a)&&(c=!0,a++,e.line=a)}},i.prototype.parse=function(e,t,n,r){var o;e&&(o=new this.State(e,t,n,r),this.tokenize(o,o.line,o.lineMax))},i.prototype.State=n(575),e.exports=i},function(e,t,n){"use strict";var r=n(34).isSpace;function o(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function i(e){var t,n=[],r=0,o=e.length,i=0,a=0,c=!1,s=0;for(t=e.charCodeAt(r);r<o;)96===t?c?(c=!1,s=r):i%2==0&&(c=!0,s=r):124!==t||i%2!=0||c||(n.push(e.substring(a,r)),a=r+1),92===t?i++:i=0,++r===o&&c&&(c=!1,r=s+1),t=e.charCodeAt(r);return n.push(e.substring(a)),n}e.exports=function(e,t,n,a){var c,s,l,u,f,p,d,h,m,v,y,g;if(t+2>n)return!1;if(f=t+1,e.sCount[f]<e.blkIndent)return!1;if(e.sCount[f]-e.blkIndent>=4)return!1;if((l=e.bMarks[f]+e.tShift[f])>=e.eMarks[f])return!1;if(124!==(c=e.src.charCodeAt(l++))&&45!==c&&58!==c)return!1;for(;l<e.eMarks[f];){if(124!==(c=e.src.charCodeAt(l))&&45!==c&&58!==c&&!r(c))return!1;l++}for(p=(s=o(e,t+1)).split("|"),m=[],u=0;u<p.length;u++){if(!(v=p[u].trim())){if(0===u||u===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;58===v.charCodeAt(v.length-1)?m.push(58===v.charCodeAt(0)?"center":"right"):58===v.charCodeAt(0)?m.push("left"):m.push("")}if(-1===(s=o(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((d=(p=i(s.replace(/^\||\|$/g,""))).length)>m.length)return!1;if(a)return!0;for((h=e.push("table_open","table",1)).map=y=[t,0],(h=e.push("thead_open","thead",1)).map=[t,t+1],(h=e.push("tr_open","tr",1)).map=[t,t+1],u=0;u<p.length;u++)(h=e.push("th_open","th",1)).map=[t,t+1],m[u]&&(h.attrs=[["style","text-align:"+m[u]]]),(h=e.push("inline","",0)).content=p[u].trim(),h.map=[t,t+1],h.children=[],h=e.push("th_close","th",-1);for(h=e.push("tr_close","tr",-1),h=e.push("thead_close","thead",-1),(h=e.push("tbody_open","tbody",1)).map=g=[t+2,0],f=t+2;f<n&&!(e.sCount[f]<e.blkIndent)&&-1!==(s=o(e,f).trim()).indexOf("|")&&!(e.sCount[f]-e.blkIndent>=4);f++){for(p=i(s.replace(/^\||\|$/g,"")),h=e.push("tr_open","tr",1),u=0;u<d;u++)h=e.push("td_open","td",1),m[u]&&(h.attrs=[["style","text-align:"+m[u]]]),(h=e.push("inline","",0)).content=p[u]?p[u].trim():"",h.children=[],h=e.push("td_close","td",-1);h=e.push("tr_close","tr",-1)}return h=e.push("tbody_close","tbody",-1),h=e.push("table_close","table",-1),y[1]=g[1]=f,e.line=f,!0}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(o=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;o=++r}return e.line=o,(i=e.push("code_block","code",0)).content=e.getLines(t,o,4+e.blkIndent,!0),i.map=[t,e.line],!0}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var o,i,a,c,s,l,u,f=!1,p=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(p+3>d)return!1;if(126!==(o=e.src.charCodeAt(p))&&96!==o)return!1;if(s=p,(i=(p=e.skipChars(p,o))-s)<3)return!1;if(u=e.src.slice(s,p),(a=e.src.slice(p,d)).indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;for(c=t;!(++c>=n)&&!((p=s=e.bMarks[c]+e.tShift[c])<(d=e.eMarks[c])&&e.sCount[c]<e.blkIndent);)if(e.src.charCodeAt(p)===o&&!(e.sCount[c]-e.blkIndent>=4||(p=e.skipChars(p,o))-s<i||(p=e.skipSpaces(p))<d)){f=!0;break}return i=e.sCount[t],e.line=c+(f?1:0),(l=e.push("fence","code",0)).info=a,l.content=e.getLines(t+1,c,i,!0),l.markup=u,l.map=[t,e.line],!0}},function(e,t,n){"use strict";var r=n(34).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,l,u,f,p,d,h,m,v,y,g,b,w,k,x,O,C,_=e.lineMax,E=e.bMarks[t]+e.tShift[t],j=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(E++))return!1;if(o)return!0;for(s=d=e.sCount[t]+E-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(E)?(E++,s++,d++,i=!1,w=!0):9===e.src.charCodeAt(E)?(w=!0,(e.bsCount[t]+d)%4==3?(E++,s++,d++,i=!1):i=!0):w=!1,h=[e.bMarks[t]],e.bMarks[t]=E;E<j&&(a=e.src.charCodeAt(E),r(a));)9===a?d+=4-(d+e.bsCount[t]+(i?1:0))%4:d++,E++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(w?1:0),u=E>=j,g=[e.sCount[t]],e.sCount[t]=d-s,b=[e.tShift[t]],e.tShift[t]=E-e.bMarks[t],x=e.md.block.ruler.getRules("blockquote"),y=e.parentType,e.parentType="blockquote",C=!1,p=t+1;p<n&&(e.sCount[p]<e.blkIndent&&(C=!0),!((E=e.bMarks[p]+e.tShift[p])>=(j=e.eMarks[p])));p++)if(62!==e.src.charCodeAt(E++)||C){if(u)break;for(k=!1,c=0,l=x.length;c<l;c++)if(x[c](e,p,n,!0)){k=!0;break}if(k){e.lineMax=p,0!==e.blkIndent&&(h.push(e.bMarks[p]),m.push(e.bsCount[p]),b.push(e.tShift[p]),g.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}h.push(e.bMarks[p]),m.push(e.bsCount[p]),b.push(e.tShift[p]),g.push(e.sCount[p]),e.sCount[p]=-1}else{for(s=d=e.sCount[p]+E-(e.bMarks[p]+e.tShift[p]),32===e.src.charCodeAt(E)?(E++,s++,d++,i=!1,w=!0):9===e.src.charCodeAt(E)?(w=!0,(e.bsCount[p]+d)%4==3?(E++,s++,d++,i=!1):i=!0):w=!1,h.push(e.bMarks[p]),e.bMarks[p]=E;E<j&&(a=e.src.charCodeAt(E),r(a));)9===a?d+=4-(d+e.bsCount[p]+(i?1:0))%4:d++,E++;u=E>=j,m.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(w?1:0),g.push(e.sCount[p]),e.sCount[p]=d-s,b.push(e.tShift[p]),e.tShift[p]=E-e.bMarks[p]}for(v=e.blkIndent,e.blkIndent=0,(O=e.push("blockquote_open","blockquote",1)).markup=">",O.map=f=[t,0],e.md.block.tokenize(e,t,p),(O=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=_,e.parentType=y,f[1]=e.line,c=0;c<b.length;c++)e.bMarks[c+t]=h[c],e.tShift[c+t]=b[c],e.sCount[c+t]=g[c],e.bsCount[c+t]=m[c];return e.blkIndent=v,!0}},function(e,t,n){"use strict";var r=n(34).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,l=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(l++))&&45!==i&&95!==i)return!1;for(a=1;l<u;){if((c=e.src.charCodeAt(l++))!==i&&!r(c))return!1;c===i&&a++}return!(a<3)&&(o||(e.line=t+1,(s=e.push("hr","hr",0)).map=[t,e.line],s.markup=Array(a+1).join(String.fromCharCode(i))),!0)}},function(e,t,n){"use strict";var r=n(34).isSpace;function o(e,t){var n,o,i,a;return o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(n=e.src.charCodeAt(o++))&&45!==n&&43!==n||o<i&&(a=e.src.charCodeAt(o),!r(a))?-1:o}function i(e,t){var n,o=e.bMarks[t]+e.tShift[t],i=o,a=e.eMarks[t];if(i+1>=a)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=a)return-1;if(!((n=e.src.charCodeAt(i++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(i-o>=10)return-1}return i<a&&(n=e.src.charCodeAt(i),!r(n))?-1:i}e.exports=function(e,t,n,r){var a,c,s,l,u,f,p,d,h,m,v,y,g,b,w,k,x,O,C,_,E,j,S,P,R,T,D,A,M=!1,N=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(r&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(M=!0),(S=i(e,t))>=0){if(p=!0,R=e.bMarks[t]+e.tShift[t],g=Number(e.src.substr(R,S-R-1)),M&&1!==g)return!1}else{if(!((S=o(e,t))>=0))return!1;p=!1}if(M&&e.skipSpaces(S)>=e.eMarks[t])return!1;if(y=e.src.charCodeAt(S-1),r)return!0;for(v=e.tokens.length,p?(A=e.push("ordered_list_open","ol",1),1!==g&&(A.attrs=[["start",g]])):A=e.push("bullet_list_open","ul",1),A.map=m=[t,0],A.markup=String.fromCharCode(y),w=t,P=!1,D=e.md.block.ruler.getRules("list"),C=e.parentType,e.parentType="list";w<n;){for(j=S,b=e.eMarks[w],f=k=e.sCount[w]+S-(e.bMarks[t]+e.tShift[t]);j<b;){if(9===(a=e.src.charCodeAt(j)))k+=4-(k+e.bsCount[w])%4;else{if(32!==a)break;k++}j++}if((u=(c=j)>=b?1:k-f)>4&&(u=1),l=f+u,(A=e.push("list_item_open","li",1)).markup=String.fromCharCode(y),A.map=d=[t,0],x=e.blkIndent,E=e.tight,_=e.tShift[t],O=e.sCount[t],e.blkIndent=l,e.tight=!0,e.tShift[t]=c-e.bMarks[t],e.sCount[t]=k,c>=b&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!P||(N=!1),P=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=x,e.tShift[t]=_,e.sCount[t]=O,e.tight=E,(A=e.push("list_item_close","li",-1)).markup=String.fromCharCode(y),w=t=e.line,d[1]=w,c=e.bMarks[t],w>=n)break;if(e.sCount[w]<e.blkIndent)break;for(T=!1,s=0,h=D.length;s<h;s++)if(D[s](e,w,n,!0)){T=!0;break}if(T)break;if(p){if((S=i(e,w))<0)break}else if((S=o(e,w))<0)break;if(y!==e.src.charCodeAt(S-1))break}return(A=p?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(y),m[1]=w,e.line=w,e.parentType=C,N&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,v),!0}},function(e,t,n){"use strict";var r=n(34).normalizeReference,o=n(34).isSpace;e.exports=function(e,t,n,i){var a,c,s,l,u,f,p,d,h,m,v,y,g,b,w,k,x=0,O=e.bMarks[t]+e.tShift[t],C=e.eMarks[t],_=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(O))return!1;for(;++O<C;)if(93===e.src.charCodeAt(O)&&92!==e.src.charCodeAt(O-1)){if(O+1===C)return!1;if(58!==e.src.charCodeAt(O+1))return!1;break}for(l=e.lineMax,w=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";_<l&&!e.isEmpty(_);_++)if(!(e.sCount[_]-e.blkIndent>3||e.sCount[_]<0)){for(b=!1,f=0,p=w.length;f<p;f++)if(w[f](e,_,l,!0)){b=!0;break}if(b)break}for(C=(g=e.getLines(t,_,e.blkIndent,!1).trim()).length,O=1;O<C;O++){if(91===(a=g.charCodeAt(O)))return!1;if(93===a){h=O;break}(10===a||92===a&&++O<C&&10===g.charCodeAt(O))&&x++}if(h<0||58!==g.charCodeAt(h+1))return!1;for(O=h+2;O<C;O++)if(10===(a=g.charCodeAt(O)))x++;else if(!o(a))break;if(!(v=e.md.helpers.parseLinkDestination(g,O,C)).ok)return!1;if(u=e.md.normalizeLink(v.str),!e.md.validateLink(u))return!1;for(c=O=v.pos,s=x+=v.lines,y=O;O<C;O++)if(10===(a=g.charCodeAt(O)))x++;else if(!o(a))break;for(v=e.md.helpers.parseLinkTitle(g,O,C),O<C&&y!==O&&v.ok?(k=v.str,O=v.pos,x+=v.lines):(k="",O=c,x=s);O<C&&(a=g.charCodeAt(O),o(a));)O++;if(O<C&&10!==g.charCodeAt(O)&&k)for(k="",O=c,x=s;O<C&&(a=g.charCodeAt(O),o(a));)O++;return!(O<C&&10!==g.charCodeAt(O))&&(!!(d=r(g.slice(1,h)))&&(i||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[d]&&(e.env.references[d]={title:k,href:u}),e.parentType=m,e.line=t+x+1),!0))}},function(e,t,n){"use strict";var r=n(34).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,l=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(l))||l>=u)return!1;for(a=1,i=e.src.charCodeAt(++l);35===i&&l<u&&a<=6;)a++,i=e.src.charCodeAt(++l);return!(a>6||l<u&&!r(i))&&(o||(u=e.skipSpacesBack(u,l),(c=e.skipCharsBack(u,35,l))>l&&r(e.src.charCodeAt(c-1))&&(u=c),e.line=t+1,(s=e.push("heading_open","h"+String(a),1)).markup="########".slice(0,a),s.map=[t,e.line],(s=e.push("inline","",0)).content=e.src.slice(l,u).trim(),s.map=[t,e.line],s.children=[],(s=e.push("heading_close","h"+String(a),-1)).markup="########".slice(0,a)),!0)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,c,s,l,u,f,p,d=t+1,h=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(p=e.parentType,e.parentType="paragraph";d<n&&!e.isEmpty(d);d++)if(!(e.sCount[d]-e.blkIndent>3)){if(e.sCount[d]>=e.blkIndent&&(s=e.bMarks[d]+e.tShift[d])<(l=e.eMarks[d])&&(45===(f=e.src.charCodeAt(s))||61===f)&&(s=e.skipChars(s,f),(s=e.skipSpaces(s))>=l)){u=61===f?1:2;break}if(!(e.sCount[d]<0)){for(o=!1,i=0,a=h.length;i<a;i++)if(h[i](e,d,n,!0)){o=!0;break}if(o)break}}return!!u&&(r=e.getLines(t,d,e.blkIndent,!1).trim(),e.line=d+1,(c=e.push("heading_open","h"+String(u),1)).markup=String.fromCharCode(f),c.map=[t,e.line],(c=e.push("inline","",0)).content=r,c.map=[t,e.line-1],c.children=[],(c=e.push("heading_close","h"+String(u),-1)).markup=String.fromCharCode(f),e.parentType=p,!0)}},function(e,t,n){"use strict";var r=n(573),o=n(293).HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,r){var o,a,c,s,l=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(l))return!1;for(s=e.src.slice(l,u),o=0;o<i.length&&!i[o][0].test(s);o++);if(o===i.length)return!1;if(r)return i[o][2];if(a=t+1,!i[o][1].test(s))for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(l=e.bMarks[a]+e.tShift[a],u=e.eMarks[a],s=e.src.slice(l,u),i[o][1].test(s)){0!==s.length&&a++;break}return e.line=a,(c=e.push("html_block","",0)).map=[t,a],c.content=e.getLines(t,a,e.blkIndent,!0),!0}},function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,c,s=t+1,l=e.md.block.ruler.getRules("paragraph"),u=e.lineMax;for(c=e.parentType,e.parentType="paragraph";s<u&&!e.isEmpty(s);s++)if(!(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)){for(r=!1,o=0,i=l.length;o<i;o++)if(l[o](e,s,u,!0)){r=!0;break}if(r)break}return n=e.getLines(t,s,e.blkIndent,!1).trim(),e.line=s,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=c,!0}},function(e,t,n){"use strict";var r=n(211),o=n(34).isSpace;function i(e,t,n,r){var i,a,c,s,l,u,f,p;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,c=s=u=f=0,l=(a=this.src).length;s<l;s++){if(i=a.charCodeAt(s),!p){if(o(i)){u++,9===i?f+=4-f%4:f++;continue}p=!0}10!==i&&s!==l-1||(10!==i&&s++,this.bMarks.push(c),this.eMarks.push(s),this.tShift.push(u),this.sCount.push(f),this.bsCount.push(0),p=!1,u=0,f=0,c=s+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,n){var o=new r(e,t,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),o(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},i.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,n,r){var i,a,c,s,l,u,f,p=e;if(e>=t)return"";for(u=new Array(t-e),i=0;p<t;p++,i++){for(a=0,f=s=this.bMarks[p],l=p+1<t||r?this.eMarks[p]+1:this.eMarks[p];s<l&&a<n;){if(c=this.src.charCodeAt(s),o(c))9===c?a+=4-(a+this.bsCount[p])%4:a++;else{if(!(s-f<this.tShift[p]))break;a++}s++}u[i]=a>n?new Array(a-n+1).join(" ")+this.src.slice(s,l):this.src.slice(s,l)}return u.join("")},i.prototype.Token=r,e.exports=i},function(e,t,n){"use strict";var r=n(210),o=[["text",n(577)],["newline",n(578)],["escape",n(579)],["backticks",n(580)],["strikethrough",n(294).tokenize],["emphasis",n(295).tokenize],["link",n(581)],["image",n(582)],["autolink",n(583)],["html_inline",n(584)],["entity",n(585)]],i=[["balance_pairs",n(586)],["strikethrough",n(294).postProcess],["emphasis",n(295).postProcess],["text_collapse",n(587)]];function a(){var e;for(this.ruler=new r,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new r,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}a.prototype.skipToken=function(e){var t,n,r=e.pos,o=this.ruler.getRules(""),i=o.length,a=e.md.options.maxNesting,c=e.cache;if(void 0===c[r]){if(e.level<a)for(n=0;n<i&&(e.level++,t=o[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,c[r]=e.pos}else e.pos=c[r]},a.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax,a=e.md.options.maxNesting;e.pos<i;){if(e.level<a)for(n=0;n<o&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},a.prototype.parse=function(e,t,n,r){var o,i,a,c=new this.State(e,t,n,r);for(this.tokenize(c),a=(i=this.ruler2.getRules("")).length,o=0;o<a;o++)i[o](c)},a.prototype.State=n(588),e.exports=a},function(e,t,n){"use strict";function r(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var n=e.pos;n<e.posMax&&!r(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},function(e,t,n){"use strict";var r=n(34).isSpace;e.exports=function(e,t){var n,o,i=e.pos;if(10!==e.src.charCodeAt(i))return!1;for(n=e.pending.length-1,o=e.posMax,t||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),i++;i<o&&r(e.src.charCodeAt(i));)i++;return e.pos=i,!0}},function(e,t,n){"use strict";for(var r=n(34).isSpace,o=[],i=0;i<256;i++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){o[e.charCodeAt(0)]=1})),e.exports=function(e,t){var n,i=e.pos,a=e.posMax;if(92!==e.src.charCodeAt(i))return!1;if(++i<a){if((n=e.src.charCodeAt(i))<256&&0!==o[n])return t||(e.pending+=e.src[i]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),i++;i<a&&(n=e.src.charCodeAt(i),r(n));)i++;return e.pos=i,!0}}return t||(e.pending+="\\"),e.pos++,!0}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,c,s=e.pos;if(96!==e.src.charCodeAt(s))return!1;for(n=s,s++,r=e.posMax;s<r&&96===e.src.charCodeAt(s);)s++;for(o=e.src.slice(n,s),i=a=s;-1!==(i=e.src.indexOf("`",a));){for(a=i+1;a<r&&96===e.src.charCodeAt(a);)a++;if(a-i===o.length)return t||((c=e.push("code_inline","code",0)).markup=o,c.content=e.src.slice(s,i).replace(/[ \n]+/g," ").trim()),e.pos=a,!0}return t||(e.pending+=o),e.pos+=o.length,!0}},function(e,t,n){"use strict";var r=n(34).normalizeReference,o=n(34).isSpace;e.exports=function(e,t){var n,i,a,c,s,l,u,f,p,d="",h=e.pos,m=e.posMax,v=e.pos,y=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(s=e.pos+1,(c=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((l=c+1)<m&&40===e.src.charCodeAt(l)){for(y=!1,l++;l<m&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);if(l>=m)return!1;for(v=l,(u=e.md.helpers.parseLinkDestination(e.src,l,e.posMax)).ok&&(d=e.md.normalizeLink(u.str),e.md.validateLink(d)?l=u.pos:d=""),v=l;l<m&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);if(u=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<m&&v!==l&&u.ok)for(p=u.str,l=u.pos;l<m&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);else p="";(l>=m||41!==e.src.charCodeAt(l))&&(y=!0),l++}if(y){if(void 0===e.env.references)return!1;if(l<m&&91===e.src.charCodeAt(l)?(v=l+1,(l=e.md.helpers.parseLinkLabel(e,l))>=0?a=e.src.slice(v,l++):l=c+1):l=c+1,a||(a=e.src.slice(s,c)),!(f=e.env.references[r(a)]))return e.pos=h,!1;d=f.href,p=f.title}return t||(e.pos=s,e.posMax=c,e.push("link_open","a",1).attrs=n=[["href",d]],p&&n.push(["title",p]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=l,e.posMax=m,!0}},function(e,t,n){"use strict";var r=n(34).normalizeReference,o=n(34).isSpace;e.exports=function(e,t){var n,i,a,c,s,l,u,f,p,d,h,m,v,y="",g=e.pos,b=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(l=e.pos+2,(s=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((u=s+1)<b&&40===e.src.charCodeAt(u)){for(u++;u<b&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(u>=b)return!1;for(v=u,(p=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok&&(y=e.md.normalizeLink(p.str),e.md.validateLink(y)?u=p.pos:y=""),v=u;u<b&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(p=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<b&&v!==u&&p.ok)for(d=p.str,u=p.pos;u<b&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);else d="";if(u>=b||41!==e.src.charCodeAt(u))return e.pos=g,!1;u++}else{if(void 0===e.env.references)return!1;if(u<b&&91===e.src.charCodeAt(u)?(v=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?c=e.src.slice(v,u++):u=s+1):u=s+1,c||(c=e.src.slice(l,s)),!(f=e.env.references[r(c)]))return e.pos=g,!1;y=f.href,d=f.title}return t||(a=e.src.slice(l,s),e.md.inline.parse(a,e.md,e.env,m=[]),(h=e.push("image","img",0)).attrs=n=[["src",y],["alt",""]],h.children=m,h.content=a,d&&n.push(["title",d])),e.pos=u,e.posMax=b,!0}},function(e,t,n){"use strict";var r=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,o=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function(e,t){var n,i,a,c,s,l,u=e.pos;return 60===e.src.charCodeAt(u)&&(!((n=e.src.slice(u)).indexOf(">")<0)&&(o.test(n)?(c=(i=n.match(o))[0].slice(1,-1),s=e.md.normalizeLink(c),!!e.md.validateLink(s)&&(t||((l=e.push("link_open","a",1)).attrs=[["href",s]],l.markup="autolink",l.info="auto",(l=e.push("text","",0)).content=e.md.normalizeLinkText(c),(l=e.push("link_close","a",-1)).markup="autolink",l.info="auto"),e.pos+=i[0].length,!0)):!!r.test(n)&&(c=(a=n.match(r))[0].slice(1,-1),s=e.md.normalizeLink("mailto:"+c),!!e.md.validateLink(s)&&(t||((l=e.push("link_open","a",1)).attrs=[["href",s]],l.markup="autolink",l.info="auto",(l=e.push("text","",0)).content=e.md.normalizeLinkText(c),(l=e.push("link_close","a",-1)).markup="autolink",l.info="auto"),e.pos+=a[0].length,!0))))}},function(e,t,n){"use strict";var r=n(293).HTML_TAG_RE;e.exports=function(e,t){var n,o,i,a=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(a)||a+2>=i)&&(!(33!==(n=e.src.charCodeAt(a+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(o=e.src.slice(a).match(r))&&(t||(e.push("html_inline","",0).content=e.src.slice(a,a+o[0].length)),e.pos+=o[0].length,!0))))}},function(e,t,n){"use strict";var r=n(288),o=n(34).has,i=n(34).isValidEntityCode,a=n(34).fromCodePoint,c=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,s=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,l,u=e.pos,f=e.posMax;if(38!==e.src.charCodeAt(u))return!1;if(u+1<f)if(35===e.src.charCodeAt(u+1)){if(l=e.src.slice(u).match(c))return t||(n="x"===l[1][0].toLowerCase()?parseInt(l[1].slice(1),16):parseInt(l[1],10),e.pending+=i(n)?a(n):a(65533)),e.pos+=l[0].length,!0}else if((l=e.src.slice(u).match(s))&&o(r,l[1]))return t||(e.pending+=r[l[1]]),e.pos+=l[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r,o,i=e.delimiters,a=e.delimiters.length;for(t=0;t<a;t++)if((r=i[t]).close)for(n=t-r.jump-1;n>=0;){if((o=i[n]).open&&o.marker===r.marker&&o.end<0&&o.level===r.level)if(!((o.close||r.open)&&void 0!==o.length&&void 0!==r.length&&(o.length+r.length)%3==0)){r.jump=t-n,r.open=!1,o.end=t,o.jump=0;break}n-=o.jump+1}}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=0,o=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)r+=o[t].nesting,o[t].level=r,"text"===o[t].type&&t+1<i&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}},function(e,t,n){"use strict";var r=n(211),o=n(34).isWhiteSpace,i=n(34).isPunctChar,a=n(34).isMdAsciiPunct;function c(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}c.prototype.pushPending=function(){var e=new r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},c.prototype.push=function(e,t,n){this.pending&&this.pushPending();var o=new r(e,t,n);return n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(o),o},c.prototype.scanDelims=function(e,t){var n,r,c,s,l,u,f,p,d,h=e,m=!0,v=!0,y=this.posMax,g=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;h<y&&this.src.charCodeAt(h)===g;)h++;return c=h-e,r=h<y?this.src.charCodeAt(h):32,f=a(n)||i(String.fromCharCode(n)),d=a(r)||i(String.fromCharCode(r)),u=o(n),(p=o(r))?m=!1:d&&(u||f||(m=!1)),u?v=!1:f&&(p||d||(v=!1)),t?(s=m,l=v):(s=m&&(!v||f),l=v&&(!m||d)),{can_open:s,can_close:l,length:c}},c.prototype.Token=r,e.exports=c},function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===o(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var c={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var s={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function u(e){var t=e.re=n(590)(e.__opts__),r=e.__tlds__.slice();function c(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(c(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(c(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(c(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(c(t.tpl_host_fuzzy_test),"i");var s=[];function l(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===o(n))return!function(e){return"[object RegExp]"===o(e)}(n.validate)?i(n.validate)?r.validate=n.validate:l(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(i(n.normalize)?r.normalize=n.normalize:n.normalize?l(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?l(t,n):s.push(t)}})),s.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var u=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function f(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function p(e,t){var n=new f(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function d(e,t){if(!(this instanceof d))return new d(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||c.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},c,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},s,e),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},u(this)}d.prototype.add=function(e,t){return this.__schemas__[e]=t,u(this),this},d.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},d.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,a,c,s;if(this.re.schema_test.test(e))for((c=this.re.schema_search).lastIndex=0;null!==(t=c.exec(e));)if(o=this.testSchemaAt(e,t[2],c.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(s=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||s<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},d.prototype.pretest=function(e){return this.re.pretest.test(e)},d.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},d.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(p(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(p(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},d.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),u(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,u(this),this)},d.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},d.prototype.onCompile=function(){},e.exports=d},function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(290).source,t.src_Cc=n(291).source,t.src_Z=n(292).source,t.src_P=n(209).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t,n){(function(e,r){var o;!function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var c,s=2147483647,l=36,u=/^xn--/,f=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,m=String.fromCharCode;function v(e){throw new RangeError(d[e])}function y(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+y((e=e.replace(p,".")).split("."),t).join(".")}function b(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function w(e){return y(e,(function(e){var t="";return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=m(e)})).join("")}function k(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=l)e=h(e/35);return h(r+36*e/(e+38))}function O(e){var t,n,r,o,i,a,c,u,f,p,d,m=[],y=e.length,g=0,b=128,k=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&v("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<y;){for(i=g,a=1,c=l;o>=y&&v("invalid-input"),((u=(d=e.charCodeAt(o++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:l)>=l||u>h((s-g)/a))&&v("overflow"),g+=u*a,!(u<(f=c<=k?1:c>=k+26?26:c-k));c+=l)a>h(s/(p=l-f))&&v("overflow"),a*=p;k=x(g-i,t=m.length+1,0==i),h(g/t)>s-b&&v("overflow"),b+=h(g/t),g%=t,m.splice(g++,0,b)}return w(m)}function C(e){var t,n,r,o,i,a,c,u,f,p,d,y,g,w,O,C=[];for(y=(e=b(e)).length,t=128,n=0,i=72,a=0;a<y;++a)(d=e[a])<128&&C.push(m(d));for(r=o=C.length,o&&C.push("-");r<y;){for(c=s,a=0;a<y;++a)(d=e[a])>=t&&d<c&&(c=d);for(c-t>h((s-n)/(g=r+1))&&v("overflow"),n+=(c-t)*g,t=c,a=0;a<y;++a)if((d=e[a])<t&&++n>s&&v("overflow"),d==t){for(u=n,f=l;!(u<(p=f<=i?1:f>=i+26?26:f-i));f+=l)O=u-p,w=l-p,C.push(m(k(p+O%w,0))),u=h(O/w);C.push(m(k(u,0))),i=x(n,g,r==o),n=0,++r}++n,++t}return C.join("")}c={version:"1.4.1",ucs2:{decode:b,encode:w},decode:O,encode:C,toASCII:function(e){return g(e,(function(e){return f.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return g(e,(function(e){return u.test(e)?O(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return c}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(142)(e),n(107))},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},function(e){e.exports=JSON.parse('{"100":"💯","1234":"🔢","grinning":"😀","smiley":"😃","smile":"😄","grin":"😁","laughing":"😆","satisfied":"😆","sweat_smile":"😅","joy":"😂","rofl":"🤣","relaxed":"☺️","blush":"😊","innocent":"😇","slightly_smiling_face":"🙂","upside_down_face":"🙃","wink":"😉","relieved":"😌","heart_eyes":"😍","kissing_heart":"😘","kissing":"😗","kissing_smiling_eyes":"😙","kissing_closed_eyes":"😚","yum":"😋","stuck_out_tongue_winking_eye":"😜","stuck_out_tongue_closed_eyes":"😝","stuck_out_tongue":"😛","money_mouth_face":"🤑","hugs":"🤗","nerd_face":"🤓","sunglasses":"😎","clown_face":"🤡","cowboy_hat_face":"🤠","smirk":"😏","unamused":"😒","disappointed":"😞","pensive":"😔","worried":"😟","confused":"😕","slightly_frowning_face":"🙁","frowning_face":"☹️","persevere":"😣","confounded":"😖","tired_face":"😫","weary":"😩","triumph":"😤","angry":"😠","rage":"😡","pout":"😡","no_mouth":"😶","neutral_face":"😐","expressionless":"😑","hushed":"😯","frowning":"😦","anguished":"😧","open_mouth":"😮","astonished":"😲","dizzy_face":"😵","flushed":"😳","scream":"😱","fearful":"😨","cold_sweat":"😰","cry":"😢","disappointed_relieved":"😥","drooling_face":"🤤","sob":"😭","sweat":"😓","sleepy":"😪","sleeping":"😴","roll_eyes":"🙄","thinking":"🤔","lying_face":"🤥","grimacing":"😬","zipper_mouth_face":"🤐","nauseated_face":"🤢","sneezing_face":"🤧","mask":"😷","face_with_thermometer":"🤒","face_with_head_bandage":"🤕","smiling_imp":"😈","imp":"👿","japanese_ogre":"👹","japanese_goblin":"👺","hankey":"💩","poop":"💩","shit":"💩","ghost":"👻","skull":"💀","skull_and_crossbones":"☠️","alien":"👽","space_invader":"👾","robot":"🤖","jack_o_lantern":"🎃","smiley_cat":"😺","smile_cat":"😸","joy_cat":"😹","heart_eyes_cat":"😻","smirk_cat":"😼","kissing_cat":"😽","scream_cat":"🙀","crying_cat_face":"😿","pouting_cat":"😾","open_hands":"👐","raised_hands":"🙌","clap":"👏","pray":"🙏","handshake":"🤝","+1":"👍","thumbsup":"👍","-1":"👎","thumbsdown":"👎","fist_oncoming":"👊","facepunch":"👊","punch":"👊","fist_raised":"✊","fist":"✊","fist_left":"🤛","fist_right":"🤜","crossed_fingers":"🤞","v":"✌️","metal":"🤘","ok_hand":"👌","point_left":"👈","point_right":"👉","point_up_2":"👆","point_down":"👇","point_up":"☝️","hand":"✋","raised_hand":"✋","raised_back_of_hand":"🤚","raised_hand_with_fingers_splayed":"🖐","vulcan_salute":"🖖","wave":"👋","call_me_hand":"🤙","muscle":"💪","middle_finger":"🖕","fu":"🖕","writing_hand":"✍️","selfie":"🤳","nail_care":"💅","ring":"💍","lipstick":"💄","kiss":"💋","lips":"👄","tongue":"👅","ear":"👂","nose":"👃","footprints":"👣","eye":"👁","eyes":"👀","speaking_head":"🗣","bust_in_silhouette":"👤","busts_in_silhouette":"👥","baby":"👶","boy":"👦","girl":"👧","man":"👨","woman":"👩","blonde_woman":"👱‍♀","blonde_man":"👱","person_with_blond_hair":"👱","older_man":"👴","older_woman":"👵","man_with_gua_pi_mao":"👲","woman_with_turban":"👳‍♀","man_with_turban":"👳","policewoman":"👮‍♀","policeman":"👮","cop":"👮","construction_worker_woman":"👷‍♀","construction_worker_man":"👷","construction_worker":"👷","guardswoman":"💂‍♀","guardsman":"💂","female_detective":"🕵️‍♀️","male_detective":"🕵","detective":"🕵","woman_health_worker":"👩‍⚕","man_health_worker":"👨‍⚕","woman_farmer":"👩‍🌾","man_farmer":"👨‍🌾","woman_cook":"👩‍🍳","man_cook":"👨‍🍳","woman_student":"👩‍🎓","man_student":"👨‍🎓","woman_singer":"👩‍🎤","man_singer":"👨‍🎤","woman_teacher":"👩‍🏫","man_teacher":"👨‍🏫","woman_factory_worker":"👩‍🏭","man_factory_worker":"👨‍🏭","woman_technologist":"👩‍💻","man_technologist":"👨‍💻","woman_office_worker":"👩‍💼","man_office_worker":"👨‍💼","woman_mechanic":"👩‍🔧","man_mechanic":"👨‍🔧","woman_scientist":"👩‍🔬","man_scientist":"👨‍🔬","woman_artist":"👩‍🎨","man_artist":"👨‍🎨","woman_firefighter":"👩‍🚒","man_firefighter":"👨‍🚒","woman_pilot":"👩‍✈","man_pilot":"👨‍✈","woman_astronaut":"👩‍🚀","man_astronaut":"👨‍🚀","woman_judge":"👩‍⚖","man_judge":"👨‍⚖","mrs_claus":"🤶","santa":"🎅","princess":"👸","prince":"🤴","bride_with_veil":"👰","man_in_tuxedo":"🤵","angel":"👼","pregnant_woman":"🤰","bowing_woman":"🙇‍♀","bowing_man":"🙇","bow":"🙇","tipping_hand_woman":"💁","information_desk_person":"💁","sassy_woman":"💁","tipping_hand_man":"💁‍♂","sassy_man":"💁‍♂","no_good_woman":"🙅","no_good":"🙅","ng_woman":"🙅","no_good_man":"🙅‍♂","ng_man":"🙅‍♂","ok_woman":"🙆","ok_man":"🙆‍♂","raising_hand_woman":"🙋","raising_hand":"🙋","raising_hand_man":"🙋‍♂","woman_facepalming":"🤦‍♀","man_facepalming":"🤦‍♂","woman_shrugging":"🤷‍♀","man_shrugging":"🤷‍♂","pouting_woman":"🙎","person_with_pouting_face":"🙎","pouting_man":"🙎‍♂","frowning_woman":"🙍","person_frowning":"🙍","frowning_man":"🙍‍♂","haircut_woman":"💇","haircut":"💇","haircut_man":"💇‍♂","massage_woman":"💆","massage":"💆","massage_man":"💆‍♂","business_suit_levitating":"🕴","dancer":"💃","man_dancing":"🕺","dancing_women":"👯","dancers":"👯","dancing_men":"👯‍♂","walking_woman":"🚶‍♀","walking_man":"🚶","walking":"🚶","running_woman":"🏃‍♀","running_man":"🏃","runner":"🏃","running":"🏃","couple":"👫","two_women_holding_hands":"👭","two_men_holding_hands":"👬","couple_with_heart_woman_man":"💑","couple_with_heart":"💑","couple_with_heart_woman_woman":"👩‍❤️‍👩","couple_with_heart_man_man":"👨‍❤️‍👨","couplekiss_man_woman":"💏","couplekiss_woman_woman":"👩‍❤️‍💋‍👩","couplekiss_man_man":"👨‍❤️‍💋‍👨","family_man_woman_boy":"👪","family":"👪","family_man_woman_girl":"👨‍👩‍👧","family_man_woman_girl_boy":"👨‍👩‍👧‍👦","family_man_woman_boy_boy":"👨‍👩‍👦‍👦","family_man_woman_girl_girl":"👨‍👩‍👧‍👧","family_woman_woman_boy":"👩‍👩‍👦","family_woman_woman_girl":"👩‍👩‍👧","family_woman_woman_girl_boy":"👩‍👩‍👧‍👦","family_woman_woman_boy_boy":"👩‍👩‍👦‍👦","family_woman_woman_girl_girl":"👩‍👩‍👧‍👧","family_man_man_boy":"👨‍👨‍👦","family_man_man_girl":"👨‍👨‍👧","family_man_man_girl_boy":"👨‍👨‍👧‍👦","family_man_man_boy_boy":"👨‍👨‍👦‍👦","family_man_man_girl_girl":"👨‍👨‍👧‍👧","family_woman_boy":"👩‍👦","family_woman_girl":"👩‍👧","family_woman_girl_boy":"👩‍👧‍👦","family_woman_boy_boy":"👩‍👦‍👦","family_woman_girl_girl":"👩‍👧‍👧","family_man_boy":"👨‍👦","family_man_girl":"👨‍👧","family_man_girl_boy":"👨‍👧‍👦","family_man_boy_boy":"👨‍👦‍👦","family_man_girl_girl":"👨‍👧‍👧","womans_clothes":"👚","shirt":"👕","tshirt":"👕","jeans":"👖","necktie":"👔","dress":"👗","bikini":"👙","kimono":"👘","high_heel":"👠","sandal":"👡","boot":"👢","mans_shoe":"👞","shoe":"👞","athletic_shoe":"👟","womans_hat":"👒","tophat":"🎩","mortar_board":"🎓","crown":"👑","rescue_worker_helmet":"⛑","school_satchel":"🎒","pouch":"👝","purse":"👛","handbag":"👜","briefcase":"💼","eyeglasses":"👓","dark_sunglasses":"🕶","closed_umbrella":"🌂","open_umbrella":"☂️","dog":"🐶","cat":"🐱","mouse":"🐭","hamster":"🐹","rabbit":"🐰","fox_face":"🦊","bear":"🐻","panda_face":"🐼","koala":"🐨","tiger":"🐯","lion":"🦁","cow":"🐮","pig":"🐷","pig_nose":"🐽","frog":"🐸","monkey_face":"🐵","see_no_evil":"🙈","hear_no_evil":"🙉","speak_no_evil":"🙊","monkey":"🐒","chicken":"🐔","penguin":"🐧","bird":"🐦","baby_chick":"🐤","hatching_chick":"🐣","hatched_chick":"🐥","duck":"🦆","eagle":"🦅","owl":"🦉","bat":"🦇","wolf":"🐺","boar":"🐗","horse":"🐴","unicorn":"🦄","bee":"🐝","honeybee":"🐝","bug":"🐛","butterfly":"🦋","snail":"🐌","shell":"🐚","beetle":"🐞","ant":"🐜","spider":"🕷","spider_web":"🕸","turtle":"🐢","snake":"🐍","lizard":"🦎","scorpion":"🦂","crab":"🦀","squid":"🦑","octopus":"🐙","shrimp":"🦐","tropical_fish":"🐠","fish":"🐟","blowfish":"🐡","dolphin":"🐬","flipper":"🐬","shark":"🦈","whale":"🐳","whale2":"🐋","crocodile":"🐊","leopard":"🐆","tiger2":"🐅","water_buffalo":"🐃","ox":"🐂","cow2":"🐄","deer":"🦌","dromedary_camel":"🐪","camel":"🐫","elephant":"🐘","rhinoceros":"🦏","gorilla":"🦍","racehorse":"🐎","pig2":"🐖","goat":"🐐","ram":"🐏","sheep":"🐑","dog2":"🐕","poodle":"🐩","cat2":"🐈","rooster":"🐓","turkey":"🦃","dove":"🕊","rabbit2":"🐇","mouse2":"🐁","rat":"🐀","chipmunk":"🐿","feet":"🐾","paw_prints":"🐾","dragon":"🐉","dragon_face":"🐲","cactus":"🌵","christmas_tree":"🎄","evergreen_tree":"🌲","deciduous_tree":"🌳","palm_tree":"🌴","seedling":"🌱","herb":"🌿","shamrock":"☘️","four_leaf_clover":"🍀","bamboo":"🎍","tanabata_tree":"🎋","leaves":"🍃","fallen_leaf":"🍂","maple_leaf":"🍁","mushroom":"🍄","ear_of_rice":"🌾","bouquet":"💐","tulip":"🌷","rose":"🌹","wilted_flower":"🥀","sunflower":"🌻","blossom":"🌼","cherry_blossom":"🌸","hibiscus":"🌺","earth_americas":"🌎","earth_africa":"🌍","earth_asia":"🌏","full_moon":"🌕","waning_gibbous_moon":"🌖","last_quarter_moon":"🌗","waning_crescent_moon":"🌘","new_moon":"🌑","waxing_crescent_moon":"🌒","first_quarter_moon":"🌓","moon":"🌔","waxing_gibbous_moon":"🌔","new_moon_with_face":"🌚","full_moon_with_face":"🌝","sun_with_face":"🌞","first_quarter_moon_with_face":"🌛","last_quarter_moon_with_face":"🌜","crescent_moon":"🌙","dizzy":"💫","star":"⭐️","star2":"🌟","sparkles":"✨","zap":"⚡️","fire":"🔥","boom":"💥","collision":"💥","comet":"☄","sunny":"☀️","sun_behind_small_cloud":"🌤","partly_sunny":"⛅️","sun_behind_large_cloud":"🌥","sun_behind_rain_cloud":"🌦","rainbow":"🌈","cloud":"☁️","cloud_with_rain":"🌧","cloud_with_lightning_and_rain":"⛈","cloud_with_lightning":"🌩","cloud_with_snow":"🌨","snowman_with_snow":"☃️","snowman":"⛄️","snowflake":"❄️","wind_face":"🌬","dash":"💨","tornado":"🌪","fog":"🌫","ocean":"🌊","droplet":"💧","sweat_drops":"💦","umbrella":"☔️","green_apple":"🍏","apple":"🍎","pear":"🍐","tangerine":"🍊","orange":"🍊","mandarin":"🍊","lemon":"🍋","banana":"🍌","watermelon":"🍉","grapes":"🍇","strawberry":"🍓","melon":"🍈","cherries":"🍒","peach":"🍑","pineapple":"🍍","kiwi_fruit":"🥝","avocado":"🥑","tomato":"🍅","eggplant":"🍆","cucumber":"🥒","carrot":"🥕","corn":"🌽","hot_pepper":"🌶","potato":"🥔","sweet_potato":"🍠","chestnut":"🌰","peanuts":"🥜","honey_pot":"🍯","croissant":"🥐","bread":"🍞","baguette_bread":"🥖","cheese":"🧀","egg":"🥚","fried_egg":"🍳","bacon":"🥓","pancakes":"🥞","fried_shrimp":"🍤","poultry_leg":"🍗","meat_on_bone":"🍖","pizza":"🍕","hotdog":"🌭","hamburger":"🍔","fries":"🍟","stuffed_flatbread":"🥙","taco":"🌮","burrito":"🌯","green_salad":"🥗","shallow_pan_of_food":"🥘","spaghetti":"🍝","ramen":"🍜","stew":"🍲","fish_cake":"🍥","sushi":"🍣","bento":"🍱","curry":"🍛","rice":"🍚","rice_ball":"🍙","rice_cracker":"🍘","oden":"🍢","dango":"🍡","shaved_ice":"🍧","ice_cream":"🍨","icecream":"🍦","cake":"🍰","birthday":"🎂","custard":"🍮","lollipop":"🍭","candy":"🍬","chocolate_bar":"🍫","popcorn":"🍿","doughnut":"🍩","cookie":"🍪","milk_glass":"🥛","baby_bottle":"🍼","coffee":"☕️","tea":"🍵","sake":"🍶","beer":"🍺","beers":"🍻","clinking_glasses":"🥂","wine_glass":"🍷","tumbler_glass":"🥃","cocktail":"🍸","tropical_drink":"🍹","champagne":"🍾","spoon":"🥄","fork_and_knife":"🍴","plate_with_cutlery":"🍽","soccer":"⚽️","basketball":"🏀","football":"🏈","baseball":"⚾️","tennis":"🎾","volleyball":"🏐","rugby_football":"🏉","8ball":"🎱","ping_pong":"🏓","badminton":"🏸","goal_net":"🥅","ice_hockey":"🏒","field_hockey":"🏑","cricket":"🏏","golf":"⛳️","bow_and_arrow":"🏹","fishing_pole_and_fish":"🎣","boxing_glove":"🥊","martial_arts_uniform":"🥋","ice_skate":"⛸","ski":"🎿","skier":"⛷","snowboarder":"🏂","weight_lifting_woman":"🏋️‍♀️","weight_lifting_man":"🏋","person_fencing":"🤺","women_wrestling":"🤼‍♀","men_wrestling":"🤼‍♂","woman_cartwheeling":"🤸‍♀","man_cartwheeling":"🤸‍♂","basketball_woman":"⛹️‍♀️","basketball_man":"⛹","woman_playing_handball":"🤾‍♀","man_playing_handball":"🤾‍♂","golfing_woman":"🏌️‍♀️","golfing_man":"🏌","surfing_woman":"🏄‍♀","surfing_man":"🏄","surfer":"🏄","swimming_woman":"🏊‍♀","swimming_man":"🏊","swimmer":"🏊","woman_playing_water_polo":"🤽‍♀","man_playing_water_polo":"🤽‍♂","rowing_woman":"🚣‍♀","rowing_man":"🚣","rowboat":"🚣","horse_racing":"🏇","biking_woman":"🚴‍♀","biking_man":"🚴","bicyclist":"🚴","mountain_biking_woman":"🚵‍♀","mountain_biking_man":"🚵","mountain_bicyclist":"🚵","running_shirt_with_sash":"🎽","medal_sports":"🏅","medal_military":"🎖","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","trophy":"🏆","rosette":"🏵","reminder_ribbon":"🎗","ticket":"🎫","tickets":"🎟","circus_tent":"🎪","woman_juggling":"🤹‍♀","man_juggling":"🤹‍♂","performing_arts":"🎭","art":"🎨","clapper":"🎬","microphone":"🎤","headphones":"🎧","musical_score":"🎼","musical_keyboard":"🎹","drum":"🥁","saxophone":"🎷","trumpet":"🎺","guitar":"🎸","violin":"🎻","game_die":"🎲","dart":"🎯","bowling":"🎳","video_game":"🎮","slot_machine":"🎰","car":"🚗","red_car":"🚗","taxi":"🚕","blue_car":"🚙","bus":"🚌","trolleybus":"🚎","racing_car":"🏎","police_car":"🚓","ambulance":"🚑","fire_engine":"🚒","minibus":"🚐","truck":"🚚","articulated_lorry":"🚛","tractor":"🚜","kick_scooter":"🛴","bike":"🚲","motor_scooter":"🛵","motorcycle":"🏍","rotating_light":"🚨","oncoming_police_car":"🚔","oncoming_bus":"🚍","oncoming_automobile":"🚘","oncoming_taxi":"🚖","aerial_tramway":"🚡","mountain_cableway":"🚠","suspension_railway":"🚟","railway_car":"🚃","train":"🚋","mountain_railway":"🚞","monorail":"🚝","bullettrain_side":"🚄","bullettrain_front":"🚅","light_rail":"🚈","steam_locomotive":"🚂","train2":"🚆","metro":"🚇","tram":"🚊","station":"🚉","helicopter":"🚁","small_airplane":"🛩","airplane":"✈️","flight_departure":"🛫","flight_arrival":"🛬","rocket":"🚀","artificial_satellite":"🛰","seat":"💺","canoe":"🛶","boat":"⛵️","sailboat":"⛵️","motor_boat":"🛥","speedboat":"🚤","passenger_ship":"🛳","ferry":"⛴","ship":"🚢","anchor":"⚓️","construction":"🚧","fuelpump":"⛽️","busstop":"🚏","vertical_traffic_light":"🚦","traffic_light":"🚥","world_map":"🗺","moyai":"🗿","statue_of_liberty":"🗽","fountain":"⛲️","tokyo_tower":"🗼","european_castle":"🏰","japanese_castle":"🏯","stadium":"🏟","ferris_wheel":"🎡","roller_coaster":"🎢","carousel_horse":"🎠","parasol_on_ground":"⛱","beach_umbrella":"🏖","desert_island":"🏝","mountain":"⛰","mountain_snow":"🏔","mount_fuji":"🗻","volcano":"🌋","desert":"🏜","camping":"🏕","tent":"⛺️","railway_track":"🛤","motorway":"🛣","building_construction":"🏗","factory":"🏭","house":"🏠","house_with_garden":"🏡","houses":"🏘","derelict_house":"🏚","office":"🏢","department_store":"🏬","post_office":"🏣","european_post_office":"🏤","hospital":"🏥","bank":"🏦","hotel":"🏨","convenience_store":"🏪","school":"🏫","love_hotel":"🏩","wedding":"💒","classical_building":"🏛","church":"⛪️","mosque":"🕌","synagogue":"🕍","kaaba":"🕋","shinto_shrine":"⛩","japan":"🗾","rice_scene":"🎑","national_park":"🏞","sunrise":"🌅","sunrise_over_mountains":"🌄","stars":"🌠","sparkler":"🎇","fireworks":"🎆","city_sunrise":"🌇","city_sunset":"🌆","cityscape":"🏙","night_with_stars":"🌃","milky_way":"🌌","bridge_at_night":"🌉","foggy":"🌁","watch":"⌚️","iphone":"📱","calling":"📲","computer":"💻","keyboard":"⌨️","desktop_computer":"🖥","printer":"🖨","computer_mouse":"🖱","trackball":"🖲","joystick":"🕹","clamp":"🗜","minidisc":"💽","floppy_disk":"💾","cd":"💿","dvd":"📀","vhs":"📼","camera":"📷","camera_flash":"📸","video_camera":"📹","movie_camera":"🎥","film_projector":"📽","film_strip":"🎞","telephone_receiver":"📞","phone":"☎️","telephone":"☎️","pager":"📟","fax":"📠","tv":"📺","radio":"📻","studio_microphone":"🎙","level_slider":"🎚","control_knobs":"🎛","stopwatch":"⏱","timer_clock":"⏲","alarm_clock":"⏰","mantelpiece_clock":"🕰","hourglass":"⌛️","hourglass_flowing_sand":"⏳","satellite":"📡","battery":"🔋","electric_plug":"🔌","bulb":"💡","flashlight":"🔦","candle":"🕯","wastebasket":"🗑","oil_drum":"🛢","money_with_wings":"💸","dollar":"💵","yen":"💴","euro":"💶","pound":"💷","moneybag":"💰","credit_card":"💳","gem":"💎","balance_scale":"⚖️","wrench":"🔧","hammer":"🔨","hammer_and_pick":"⚒","hammer_and_wrench":"🛠","pick":"⛏","nut_and_bolt":"🔩","gear":"⚙️","chains":"⛓","gun":"🔫","bomb":"💣","hocho":"🔪","knife":"🔪","dagger":"🗡","crossed_swords":"⚔️","shield":"🛡","smoking":"🚬","coffin":"⚰️","funeral_urn":"⚱️","amphora":"🏺","crystal_ball":"🔮","prayer_beads":"📿","barber":"💈","alembic":"⚗️","telescope":"🔭","microscope":"🔬","hole":"🕳","pill":"💊","syringe":"💉","thermometer":"🌡","toilet":"🚽","potable_water":"🚰","shower":"🚿","bathtub":"🛁","bath":"🛀","bellhop_bell":"🛎","key":"🔑","old_key":"🗝","door":"🚪","couch_and_lamp":"🛋","bed":"🛏","sleeping_bed":"🛌","framed_picture":"🖼","shopping":"🛍","shopping_cart":"🛒","gift":"🎁","balloon":"🎈","flags":"🎏","ribbon":"🎀","confetti_ball":"🎊","tada":"🎉","dolls":"🎎","izakaya_lantern":"🏮","lantern":"🏮","wind_chime":"🎐","email":"✉️","envelope":"✉️","envelope_with_arrow":"📩","incoming_envelope":"📨","e-mail":"📧","love_letter":"💌","inbox_tray":"📥","outbox_tray":"📤","package":"📦","label":"🏷","mailbox_closed":"📪","mailbox":"📫","mailbox_with_mail":"📬","mailbox_with_no_mail":"📭","postbox":"📮","postal_horn":"📯","scroll":"📜","page_with_curl":"📃","page_facing_up":"📄","bookmark_tabs":"📑","bar_chart":"📊","chart_with_upwards_trend":"📈","chart_with_downwards_trend":"📉","spiral_notepad":"🗒","spiral_calendar":"🗓","calendar":"📆","date":"📅","card_index":"📇","card_file_box":"🗃","ballot_box":"🗳","file_cabinet":"🗄","clipboard":"📋","file_folder":"📁","open_file_folder":"📂","card_index_dividers":"🗂","newspaper_roll":"🗞","newspaper":"📰","notebook":"📓","notebook_with_decorative_cover":"📔","ledger":"📒","closed_book":"📕","green_book":"📗","blue_book":"📘","orange_book":"📙","books":"📚","book":"📖","open_book":"📖","bookmark":"🔖","link":"🔗","paperclip":"📎","paperclips":"🖇","triangular_ruler":"📐","straight_ruler":"📏","pushpin":"📌","round_pushpin":"📍","scissors":"✂️","pen":"🖊","fountain_pen":"🖋","black_nib":"✒️","paintbrush":"🖌","crayon":"🖍","memo":"📝","pencil":"📝","pencil2":"✏️","mag":"🔍","mag_right":"🔎","lock_with_ink_pen":"🔏","closed_lock_with_key":"🔐","lock":"🔒","unlock":"🔓","heart":"❤️","yellow_heart":"💛","green_heart":"💚","blue_heart":"💙","purple_heart":"💜","black_heart":"🖤","broken_heart":"💔","heavy_heart_exclamation":"❣️","two_hearts":"💕","revolving_hearts":"💞","heartbeat":"💓","heartpulse":"💗","sparkling_heart":"💖","cupid":"💘","gift_heart":"💝","heart_decoration":"💟","peace_symbol":"☮️","latin_cross":"✝️","star_and_crescent":"☪️","om":"🕉","wheel_of_dharma":"☸️","star_of_david":"✡️","six_pointed_star":"🔯","menorah":"🕎","yin_yang":"☯️","orthodox_cross":"☦️","place_of_worship":"🛐","ophiuchus":"⛎","aries":"♈️","taurus":"♉️","gemini":"♊️","cancer":"♋️","leo":"♌️","virgo":"♍️","libra":"♎️","scorpius":"♏️","sagittarius":"♐️","capricorn":"♑️","aquarius":"♒️","pisces":"♓️","id":"🆔","atom_symbol":"⚛️","accept":"🉑","radioactive":"☢️","biohazard":"☣️","mobile_phone_off":"📴","vibration_mode":"📳","eight_pointed_black_star":"✴️","vs":"🆚","white_flower":"💮","ideograph_advantage":"🉐","secret":"㊙️","congratulations":"㊗️","u6e80":"🈵","a":"🅰️","b":"🅱️","ab":"🆎","cl":"🆑","o2":"🅾️","sos":"🆘","x":"❌","o":"⭕️","stop_sign":"🛑","no_entry":"⛔️","name_badge":"📛","no_entry_sign":"🚫","anger":"💢","hotsprings":"♨️","no_pedestrians":"🚷","do_not_litter":"🚯","no_bicycles":"🚳","non-potable_water":"🚱","underage":"🔞","no_mobile_phones":"📵","no_smoking":"🚭","exclamation":"❗️","heavy_exclamation_mark":"❗️","grey_exclamation":"❕","question":"❓","grey_question":"❔","bangbang":"‼️","interrobang":"⁉️","low_brightness":"🔅","high_brightness":"🔆","part_alternation_mark":"〽️","warning":"⚠️","children_crossing":"🚸","trident":"🔱","fleur_de_lis":"⚜️","beginner":"🔰","recycle":"♻️","white_check_mark":"✅","chart":"💹","sparkle":"❇️","eight_spoked_asterisk":"✳️","negative_squared_cross_mark":"❎","globe_with_meridians":"🌐","diamond_shape_with_a_dot_inside":"💠","m":"Ⓜ️","cyclone":"🌀","zzz":"💤","atm":"🏧","wc":"🚾","wheelchair":"♿️","parking":"🅿️","sa":"🈂️","passport_control":"🛂","customs":"🛃","baggage_claim":"🛄","left_luggage":"🛅","mens":"🚹","womens":"🚺","baby_symbol":"🚼","restroom":"🚻","put_litter_in_its_place":"🚮","cinema":"🎦","signal_strength":"📶","koko":"🈁","symbols":"🔣","information_source":"ℹ️","abc":"🔤","abcd":"🔡","capital_abcd":"🔠","ng":"🆖","ok":"🆗","up":"🆙","cool":"🆒","new":"🆕","free":"🆓","zero":"0️⃣","one":"1️⃣","two":"2️⃣","three":"3️⃣","four":"4️⃣","five":"5️⃣","six":"6️⃣","seven":"7️⃣","eight":"8️⃣","nine":"9️⃣","keycap_ten":"🔟","hash":"#️⃣","asterisk":"*️⃣","arrow_forward":"▶️","pause_button":"⏸","play_or_pause_button":"⏯","stop_button":"⏹","record_button":"⏺","next_track_button":"⏭","previous_track_button":"⏮","fast_forward":"⏩","rewind":"⏪","arrow_double_up":"⏫","arrow_double_down":"⏬","arrow_backward":"◀️","arrow_up_small":"🔼","arrow_down_small":"🔽","arrow_right":"➡️","arrow_left":"⬅️","arrow_up":"⬆️","arrow_down":"⬇️","arrow_upper_right":"↗️","arrow_lower_right":"↘️","arrow_lower_left":"↙️","arrow_upper_left":"↖️","arrow_up_down":"↕️","left_right_arrow":"↔️","arrow_right_hook":"↪️","leftwards_arrow_with_hook":"↩️","arrow_heading_up":"⤴️","arrow_heading_down":"⤵️","twisted_rightwards_arrows":"🔀","repeat":"🔁","repeat_one":"🔂","arrows_counterclockwise":"🔄","arrows_clockwise":"🔃","musical_note":"🎵","notes":"🎶","heavy_plus_sign":"➕","heavy_minus_sign":"➖","heavy_division_sign":"➗","heavy_multiplication_x":"✖️","heavy_dollar_sign":"💲","currency_exchange":"💱","tm":"™️","copyright":"©️","registered":"®️","wavy_dash":"〰️","curly_loop":"➰","loop":"➿","end":"🔚","back":"🔙","on":"🔛","top":"🔝","soon":"🔜","heavy_check_mark":"✔️","ballot_box_with_check":"☑️","radio_button":"🔘","white_circle":"⚪️","black_circle":"⚫️","red_circle":"🔴","large_blue_circle":"🔵","small_red_triangle":"🔺","small_red_triangle_down":"🔻","small_orange_diamond":"🔸","small_blue_diamond":"🔹","large_orange_diamond":"🔶","large_blue_diamond":"🔷","white_square_button":"🔳","black_square_button":"🔲","black_small_square":"▪️","white_small_square":"▫️","black_medium_small_square":"◾️","white_medium_small_square":"◽️","black_medium_square":"◼️","white_medium_square":"◻️","black_large_square":"⬛️","white_large_square":"⬜️","speaker":"🔈","mute":"🔇","sound":"🔉","loud_sound":"🔊","bell":"🔔","no_bell":"🔕","mega":"📣","loudspeaker":"📢","eye_speech_bubble":"👁‍🗨","speech_balloon":"💬","thought_balloon":"💭","right_anger_bubble":"🗯","spades":"♠️","clubs":"♣️","hearts":"♥️","diamonds":"♦️","black_joker":"🃏","flower_playing_cards":"🎴","mahjong":"🀄️","clock1":"🕐","clock2":"🕑","clock3":"🕒","clock4":"🕓","clock5":"🕔","clock6":"🕕","clock7":"🕖","clock8":"🕗","clock9":"🕘","clock10":"🕙","clock11":"🕚","clock12":"🕛","clock130":"🕜","clock230":"🕝","clock330":"🕞","clock430":"🕟","clock530":"🕠","clock630":"🕡","clock730":"🕢","clock830":"🕣","clock930":"🕤","clock1030":"🕥","clock1130":"🕦","clock1230":"🕧","white_flag":"🏳️","black_flag":"🏴","checkered_flag":"🏁","triangular_flag_on_post":"🚩","rainbow_flag":"🏳️‍🌈","afghanistan":"🇦🇫","aland_islands":"🇦🇽","albania":"🇦🇱","algeria":"🇩🇿","american_samoa":"🇦🇸","andorra":"🇦🇩","angola":"🇦🇴","anguilla":"🇦🇮","antarctica":"🇦🇶","antigua_barbuda":"🇦🇬","argentina":"🇦🇷","armenia":"🇦🇲","aruba":"🇦🇼","australia":"🇦🇺","austria":"🇦🇹","azerbaijan":"🇦🇿","bahamas":"🇧🇸","bahrain":"🇧🇭","bangladesh":"🇧🇩","barbados":"🇧🇧","belarus":"🇧🇾","belgium":"🇧🇪","belize":"🇧🇿","benin":"🇧🇯","bermuda":"🇧🇲","bhutan":"🇧🇹","bolivia":"🇧🇴","caribbean_netherlands":"🇧🇶","bosnia_herzegovina":"🇧🇦","botswana":"🇧🇼","brazil":"🇧🇷","british_indian_ocean_territory":"🇮🇴","british_virgin_islands":"🇻🇬","brunei":"🇧🇳","bulgaria":"🇧🇬","burkina_faso":"🇧🇫","burundi":"🇧🇮","cape_verde":"🇨🇻","cambodia":"🇰🇭","cameroon":"🇨🇲","canada":"🇨🇦","canary_islands":"🇮🇨","cayman_islands":"🇰🇾","central_african_republic":"🇨🇫","chad":"🇹🇩","chile":"🇨🇱","cn":"🇨🇳","christmas_island":"🇨🇽","cocos_islands":"🇨🇨","colombia":"🇨🇴","comoros":"🇰🇲","congo_brazzaville":"🇨🇬","congo_kinshasa":"🇨🇩","cook_islands":"🇨🇰","costa_rica":"🇨🇷","cote_divoire":"🇨🇮","croatia":"🇭🇷","cuba":"🇨🇺","curacao":"🇨🇼","cyprus":"🇨🇾","czech_republic":"🇨🇿","denmark":"🇩🇰","djibouti":"🇩🇯","dominica":"🇩🇲","dominican_republic":"🇩🇴","ecuador":"🇪🇨","egypt":"🇪🇬","el_salvador":"🇸🇻","equatorial_guinea":"🇬🇶","eritrea":"🇪🇷","estonia":"🇪🇪","ethiopia":"🇪🇹","eu":"🇪🇺","european_union":"🇪🇺","falkland_islands":"🇫🇰","faroe_islands":"🇫🇴","fiji":"🇫🇯","finland":"🇫🇮","fr":"🇫🇷","french_guiana":"🇬🇫","french_polynesia":"🇵🇫","french_southern_territories":"🇹🇫","gabon":"🇬🇦","gambia":"🇬🇲","georgia":"🇬🇪","de":"🇩🇪","ghana":"🇬🇭","gibraltar":"🇬🇮","greece":"🇬🇷","greenland":"🇬🇱","grenada":"🇬🇩","guadeloupe":"🇬🇵","guam":"🇬🇺","guatemala":"🇬🇹","guernsey":"🇬🇬","guinea":"🇬🇳","guinea_bissau":"🇬🇼","guyana":"🇬🇾","haiti":"🇭🇹","honduras":"🇭🇳","hong_kong":"🇭🇰","hungary":"🇭🇺","iceland":"🇮🇸","india":"🇮🇳","indonesia":"🇮🇩","iran":"🇮🇷","iraq":"🇮🇶","ireland":"🇮🇪","isle_of_man":"🇮🇲","israel":"🇮🇱","it":"🇮🇹","jamaica":"🇯🇲","jp":"🇯🇵","crossed_flags":"🎌","jersey":"🇯🇪","jordan":"🇯🇴","kazakhstan":"🇰🇿","kenya":"🇰🇪","kiribati":"🇰🇮","kosovo":"🇽🇰","kuwait":"🇰🇼","kyrgyzstan":"🇰🇬","laos":"🇱🇦","latvia":"🇱🇻","lebanon":"🇱🇧","lesotho":"🇱🇸","liberia":"🇱🇷","libya":"🇱🇾","liechtenstein":"🇱🇮","lithuania":"🇱🇹","luxembourg":"🇱🇺","macau":"🇲🇴","macedonia":"🇲🇰","madagascar":"🇲🇬","malawi":"🇲🇼","malaysia":"🇲🇾","maldives":"🇲🇻","mali":"🇲🇱","malta":"🇲🇹","marshall_islands":"🇲🇭","martinique":"🇲🇶","mauritania":"🇲🇷","mauritius":"🇲🇺","mayotte":"🇾🇹","mexico":"🇲🇽","micronesia":"🇫🇲","moldova":"🇲🇩","monaco":"🇲🇨","mongolia":"🇲🇳","montenegro":"🇲🇪","montserrat":"🇲🇸","morocco":"🇲🇦","mozambique":"🇲🇿","myanmar":"🇲🇲","namibia":"🇳🇦","nauru":"🇳🇷","nepal":"🇳🇵","netherlands":"🇳🇱","new_caledonia":"🇳🇨","new_zealand":"🇳🇿","nicaragua":"🇳🇮","niger":"🇳🇪","nigeria":"🇳🇬","niue":"🇳🇺","norfolk_island":"🇳🇫","northern_mariana_islands":"🇲🇵","north_korea":"🇰🇵","norway":"🇳🇴","oman":"🇴🇲","pakistan":"🇵🇰","palau":"🇵🇼","palestinian_territories":"🇵🇸","panama":"🇵🇦","papua_new_guinea":"🇵🇬","paraguay":"🇵🇾","peru":"🇵🇪","philippines":"🇵🇭","pitcairn_islands":"🇵🇳","poland":"🇵🇱","portugal":"🇵🇹","puerto_rico":"🇵🇷","qatar":"🇶🇦","reunion":"🇷🇪","romania":"🇷🇴","ru":"🇷🇺","rwanda":"🇷🇼","st_barthelemy":"🇧🇱","st_helena":"🇸🇭","st_kitts_nevis":"🇰🇳","st_lucia":"🇱🇨","st_pierre_miquelon":"🇵🇲","st_vincent_grenadines":"🇻🇨","samoa":"🇼🇸","san_marino":"🇸🇲","sao_tome_principe":"🇸🇹","saudi_arabia":"🇸🇦","senegal":"🇸🇳","serbia":"🇷🇸","seychelles":"🇸🇨","sierra_leone":"🇸🇱","singapore":"🇸🇬","sint_maarten":"🇸🇽","slovakia":"🇸🇰","slovenia":"🇸🇮","solomon_islands":"🇸🇧","somalia":"🇸🇴","south_africa":"🇿🇦","south_georgia_south_sandwich_islands":"🇬🇸","kr":"🇰🇷","south_sudan":"🇸🇸","es":"🇪🇸","sri_lanka":"🇱🇰","sudan":"🇸🇩","suriname":"🇸🇷","swaziland":"🇸🇿","sweden":"🇸🇪","switzerland":"🇨🇭","syria":"🇸🇾","taiwan":"🇹🇼","tajikistan":"🇹🇯","tanzania":"🇹🇿","thailand":"🇹🇭","timor_leste":"🇹🇱","togo":"🇹🇬","tokelau":"🇹🇰","tonga":"🇹🇴","trinidad_tobago":"🇹🇹","tunisia":"🇹🇳","tr":"🇹🇷","turkmenistan":"🇹🇲","turks_caicos_islands":"🇹🇨","tuvalu":"🇹🇻","uganda":"🇺🇬","ukraine":"🇺🇦","united_arab_emirates":"🇦🇪","gb":"🇬🇧","uk":"🇬🇧","us":"🇺🇸","us_virgin_islands":"🇻🇮","uruguay":"🇺🇾","uzbekistan":"🇺🇿","vanuatu":"🇻🇺","vatican_city":"🇻🇦","venezuela":"🇻🇪","vietnam":"🇻🇳","wallis_futuna":"🇼🇫","western_sahara":"🇪🇭","yemen":"🇾🇪","zambia":"🇿🇲","zimbabwe":"🇿🇼"}')},function(e,t,n){"use strict";e.exports={angry:[">:(",">:-("],blush:[':")',':-")'],broken_heart:["</3","<\\3"],confused:[":/",":-/"],cry:[":'(",":'-(",":,(",":,-("],frowning:[":(",":-("],heart:["<3"],imp:["]:(","]:-("],innocent:["o:)","O:)","o:-)","O:-)","0:)","0:-)"],joy:[":')",":'-)",":,)",":,-)",":'D",":'-D",":,D",":,-D"],kissing:[":*",":-*"],laughing:["x-)","X-)"],neutral_face:[":|",":-|"],open_mouth:[":o",":-o",":O",":-O"],rage:[":@",":-@"],smile:[":D",":-D"],smiley:[":)",":-)"],smiling_imp:["]:)","]:-)"],sob:[":,'(",":,'-(",";(",";-("],stuck_out_tongue:[":P",":-P"],sunglasses:["8-)","B-)"],sweat:[",:(",",:-("],sweat_smile:[",:)",",:-)"],unamused:[":s",":-S",":z",":-Z",":$",":-$"],wink:[";)",";-)"]}},function(e,t,n){"use strict";e.exports=function(e,t){return e[t].content}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){var i=e.utils.arrayReplaceAt,a=e.utils.lib.ucmicro,c=new RegExp([a.Z.source,a.P.source,a.Cc.source].join("|"));function s(e,r,i){var a,s=0,l=[];return e.replace(o,(function(r,o,u){var f;if(n.hasOwnProperty(r)){if(f=n[r],o>0&&!c.test(u[o-1]))return;if(o+r.length<u.length&&!c.test(u[o+r.length]))return}else f=r.slice(1,-1);o>s&&((a=new i("text","",0)).content=e.slice(s,o),l.push(a)),(a=new i("emoji","",0)).markup=f,a.content=t[f],l.push(a),s=o+r.length})),s<e.length&&((a=new i("text","",0)).content=e.slice(s),l.push(a)),l}return function(e){var t,n,o,a,c,l=e.tokens,u=0;for(n=0,o=l.length;n<o;n++)if("inline"===l[n].type)for(t=(a=l[n].children).length-1;t>=0;t--)"link_open"!==(c=a[t]).type&&"link_close"!==c.type||"auto"===c.info&&(u-=c.nesting),"text"===c.type&&0===u&&r.test(c.content)&&(l[n].children=a=i(a,t,s(c.content,c.level,e.Token)))}}},function(e,t,n){"use strict";e.exports=function(e){var t,n=e.defs;e.enabled.length&&(n=Object.keys(n).reduce((function(t,r){return e.enabled.indexOf(r)>=0&&(t[r]=n[r]),t}),{})),t=Object.keys(e.shortcuts).reduce((function(t,r){return n[r]?Array.isArray(e.shortcuts[r])?(e.shortcuts[r].forEach((function(e){t[e]=r})),t):(t[e.shortcuts[r]]=r,t):t}),{});var r=Object.keys(n).map((function(e){return":"+e+":"})).concat(Object.keys(t)).sort().reverse().map((function(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")})).join("|"),o=RegExp(r),i=RegExp(r,"g");return{defs:n,shortcuts:t,scanRE:o,replaceRE:i}}},function(e,t,n){var r=n(282),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(605)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="RightOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r=n(300),o=n(611);n(301);function i(e){return null==e}function a(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,a=t.onIgnoreAttr,c=t.safeAttrValue;return o(e,(function(e,t,o,s,l){var u=n[o],f=!1;if(!0===u?f=u:"function"==typeof u?f=u(s):u instanceof RegExp&&(f=u.test(s)),!0!==f&&(f=!1),s=c(o,s)){var p,d={position:t,sourcePosition:e,source:l,isWhite:f};return f?i(p=r(o,s,d))?o+":"+s:p:i(p=a(o,s,d))?void 0:p}}))},e.exports=a},function(e,t,n){var r=n(301);e.exports=function(e,t){";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,o=!1,i=0,a=0,c="";function s(){if(!o){var n=r.trim(e.slice(i,a)),s=n.indexOf(":");if(-1!==s){var l=r.trim(n.slice(0,s)),u=r.trim(n.slice(s+1));if(l){var f=t(i,c.length,l,u,n);f&&(c+=f+"; ")}}}i=a+1}for(;a<n;a++){var l=e[a];if("/"===l&&"*"===e[a+1]){var u=e.indexOf("*/",a+2);if(-1===u)break;i=(a=u+1)+1,o=!1}else"("===l?o=!0:")"===l?o=!1:";"===l?o||s():"\n"===l&&s()}return r.trim(c)}},function(e,t,n){var r=n(212).FilterCSS,o=n(299),i=n(302),a=i.parseTag,c=i.parseAttr,s=n(213);function l(e){return null==e}function u(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList=e.whiteList||o.whiteList,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}u.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,i=t.onIgnoreTag,u=t.onTagAttr,f=t.onIgnoreTagAttr,p=t.safeAttrValue,d=t.escapeHtml,h=this.cssFilter;t.stripBlankChar&&(e=o.stripBlankChar(e)),t.allowCommentTag||(e=o.stripCommentTag(e));var m=!1;if(t.stripIgnoreTagBody){m=o.StripTagBody(t.stripIgnoreTagBody,i);i=m.onIgnoreTag}var v=a(e,(function(e,t,o,a,m){var v,y={sourcePosition:e,position:t,isClosing:m,isWhite:n.hasOwnProperty(o)};if(!l(v=r(o,a,y)))return v;if(y.isWhite){if(y.isClosing)return"</"+o+">";var g=function(e){var t=s.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=s.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=s.trim(e.slice(0,-1))),{html:e,closing:n}}(a),b=n[o],w=c(g.html,(function(e,t){var n,r=-1!==s.indexOf(b,e);return l(n=u(o,e,t,r))?r?(t=p(o,e,t,h))?e+'="'+t+'"':e:l(n=f(o,e,t,r))?void 0:n:n}));a="<"+o;return w&&(a+=" "+w),g.closing&&(a+=" /"),a+=">"}return l(v=i(o,a,y))?d(a):v}),d);return m&&(v=m.remove(v)),v},e.exports=u},function(e,t,n){"use strict";var r=n(614),o=n(615),i=n(303),a=n(616),c=n(617);function s(e){if(!(this instanceof s))return new s(e);var t=r(e);this.segments=t.segments,this.err=t.err,this.__stack=[]}s.from=function(e){if("string"==typeof e)return new s(e);if(e instanceof s){var t=new s("");return t.err=e.err,t.segments=e.segments.map((function(e){return e.slice()})),t.__stack=e.__stack.map((function(e){return i().matrix(e.toArray())})),t}throw new Error("SvgPath.from: invalid param type "+e)},s.prototype.__matrix=function(e){var t,n=this;e.queue.length&&this.iterate((function(r,o,i,a){var s,l,u,f;switch(r[0]){case"v":l=0===(s=e.calc(0,r[1],!0))[0]?["v",s[1]]:["l",s[0],s[1]];break;case"V":l=(s=e.calc(i,r[1],!1))[0]===e.calc(i,a,!1)[0]?["V",s[1]]:["L",s[0],s[1]];break;case"h":l=0===(s=e.calc(r[1],0,!0))[1]?["h",s[0]]:["l",s[0],s[1]];break;case"H":l=(s=e.calc(r[1],a,!1))[1]===e.calc(i,a,!1)[1]?["H",s[0]]:["L",s[0],s[1]];break;case"a":case"A":var p=e.toArray(),d=c(r[1],r[2],r[3]).transform(p);if(p[0]*p[3]-p[1]*p[2]<0&&(r[5]=r[5]?"0":"1"),s=e.calc(r[6],r[7],"a"===r[0]),"A"===r[0]&&r[6]===i&&r[7]===a||"a"===r[0]&&0===r[6]&&0===r[7]){l=["a"===r[0]?"l":"L",s[0],s[1]];break}l=d.isDegenerate()?["a"===r[0]?"l":"L",s[0],s[1]]:[r[0],d.rx,d.ry,d.ax,r[4],r[5],s[0],s[1]];break;case"m":f=o>0,l=["m",(s=e.calc(r[1],r[2],f))[0],s[1]];break;default:for(l=[u=r[0]],f=u.toLowerCase()===u,t=1;t<r.length;t+=2)s=e.calc(r[t],r[t+1],f),l.push(s[0],s[1])}n.segments[o]=l}),!0)},s.prototype.__evaluateStack=function(){var e,t;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(e=i(),t=this.__stack.length;--t>=0;)e.matrix(this.__stack[t].toArray());this.__matrix(e),this.__stack=[]}},s.prototype.toString=function(){var e,t,n=[];this.__evaluateStack();for(var r=0;r<this.segments.length;r++)t=this.segments[r][0],e=r>0&&"m"!==t&&"M"!==t&&t===this.segments[r-1][0],n=n.concat(e?this.segments[r].slice(1):this.segments[r]);return n.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},s.prototype.translate=function(e,t){return this.__stack.push(i().translate(e,t||0)),this},s.prototype.scale=function(e,t){return this.__stack.push(i().scale(e,t||0===t?t:e)),this},s.prototype.rotate=function(e,t,n){return this.__stack.push(i().rotate(e,t||0,n||0)),this},s.prototype.skewX=function(e){return this.__stack.push(i().skewX(e)),this},s.prototype.skewY=function(e){return this.__stack.push(i().skewY(e)),this},s.prototype.matrix=function(e){return this.__stack.push(i().matrix(e)),this},s.prototype.transform=function(e){return e.trim()?(this.__stack.push(o(e)),this):this},s.prototype.round=function(e){var t,n=0,r=0,o=0,i=0;return e=e||0,this.__evaluateStack(),this.segments.forEach((function(a){var c=a[0].toLowerCase()===a[0];switch(a[0]){case"H":case"h":return c&&(a[1]+=o),o=a[1]-a[1].toFixed(e),void(a[1]=+a[1].toFixed(e));case"V":case"v":return c&&(a[1]+=i),i=a[1]-a[1].toFixed(e),void(a[1]=+a[1].toFixed(e));case"Z":case"z":return o=n,void(i=r);case"M":case"m":return c&&(a[1]+=o,a[2]+=i),o=a[1]-a[1].toFixed(e),i=a[2]-a[2].toFixed(e),n=o,r=i,a[1]=+a[1].toFixed(e),void(a[2]=+a[2].toFixed(e));case"A":case"a":return c&&(a[6]+=o,a[7]+=i),o=a[6]-a[6].toFixed(e),i=a[7]-a[7].toFixed(e),a[1]=+a[1].toFixed(e),a[2]=+a[2].toFixed(e),a[3]=+a[3].toFixed(e+2),a[6]=+a[6].toFixed(e),void(a[7]=+a[7].toFixed(e));default:return t=a.length,c&&(a[t-2]+=o,a[t-1]+=i),o=a[t-2]-a[t-2].toFixed(e),i=a[t-1]-a[t-1].toFixed(e),void a.forEach((function(t,n){n&&(a[n]=+a[n].toFixed(e))}))}})),this},s.prototype.iterate=function(e,t){var n,r,o,i=this.segments,a={},c=!1,s=0,l=0,u=0,f=0;if(t||this.__evaluateStack(),i.forEach((function(t,n){var r=e(t,n,s,l);Array.isArray(r)&&(a[n]=r,c=!0);var o=t[0]===t[0].toLowerCase();switch(t[0]){case"m":case"M":return s=t[1]+(o?s:0),l=t[2]+(o?l:0),u=s,void(f=l);case"h":case"H":return void(s=t[1]+(o?s:0));case"v":case"V":return void(l=t[1]+(o?l:0));case"z":case"Z":return s=u,void(l=f);default:s=t[t.length-2]+(o?s:0),l=t[t.length-1]+(o?l:0)}})),!c)return this;for(o=[],n=0;n<i.length;n++)if(void 0!==a[n])for(r=0;r<a[n].length;r++)o.push(a[n][r]);else o.push(i[n]);return this.segments=o,this},s.prototype.abs=function(){return this.iterate((function(e,t,n,r){var o,i=e[0],a=i.toUpperCase();if(i!==a)switch(e[0]=a,i){case"v":return void(e[1]+=r);case"a":return e[6]+=n,void(e[7]+=r);default:for(o=1;o<e.length;o++)e[o]+=o%2?n:r}}),!0),this},s.prototype.rel=function(){return this.iterate((function(e,t,n,r){var o,i=e[0],a=i.toLowerCase();if(i!==a&&(0!==t||"M"!==i))switch(e[0]=a,i){case"V":return void(e[1]-=r);case"A":return e[6]-=n,void(e[7]-=r);default:for(o=1;o<e.length;o++)e[o]-=o%2?n:r}}),!0),this},s.prototype.unarc=function(){return this.iterate((function(e,t,n,r){var o,i,c,s=[],l=e[0];return"A"!==l&&"a"!==l?null:("a"===l?(i=n+e[6],c=r+e[7]):(i=e[6],c=e[7]),0===(o=a(n,r,i,c,e[4],e[5],e[1],e[2],e[3])).length?[["a"===e[0]?"l":"L",e[6],e[7]]]:(o.forEach((function(e){s.push(["C",e[2],e[3],e[4],e[5],e[6],e[7]])})),s))})),this},s.prototype.unshort=function(){var e,t,n,r,o,i=this.segments;return this.iterate((function(a,c,s,l){var u,f=a[0],p=f.toUpperCase();c&&("T"===p?(u="t"===f,"Q"===(n=i[c-1])[0]?(e=n[1]-s,t=n[2]-l):"q"===n[0]?(e=n[1]-n[3],t=n[2]-n[4]):(e=0,t=0),r=-e,o=-t,u||(r+=s,o+=l),i[c]=[u?"q":"Q",r,o,a[1],a[2]]):"S"===p&&(u="s"===f,"C"===(n=i[c-1])[0]?(e=n[3]-s,t=n[4]-l):"c"===n[0]?(e=n[3]-n[5],t=n[4]-n[6]):(e=0,t=0),r=-e,o=-t,u||(r+=s,o+=l),i[c]=[u?"c":"C",r,o,a[1],a[2],a[3],a[4]]))})),this},e.exports=s},function(e,t,n){"use strict";var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},o=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function i(e){return e>=48&&e<=57}function a(e){return e>=48&&e<=57||43===e||45===e||46===e}function c(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function s(e){for(;e.index<e.max&&(10===(t=e.path.charCodeAt(e.index))||13===t||8232===t||8233===t||32===t||9===t||11===t||12===t||160===t||t>=5760&&o.indexOf(t)>=0);)e.index++;var t}function l(e){var t=e.path.charCodeAt(e.index);return 48===t?(e.param=0,void e.index++):49===t?(e.param=1,void e.index++):void(e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")")}function u(e){var t,n=e.index,r=n,o=e.max,a=!1,c=!1,s=!1,l=!1;if(r>=o)e.err="SvgPath: missed param (at pos "+r+")";else if(43!==(t=e.path.charCodeAt(r))&&45!==t||(t=++r<o?e.path.charCodeAt(r):0),i(t)||46===t){if(46!==t){if(a=48===t,t=++r<o?e.path.charCodeAt(r):0,a&&r<o&&t&&i(t))return void(e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+n+")");for(;r<o&&i(e.path.charCodeAt(r));)r++,c=!0;t=r<o?e.path.charCodeAt(r):0}if(46===t){for(l=!0,r++;i(e.path.charCodeAt(r));)r++,s=!0;t=r<o?e.path.charCodeAt(r):0}if(101===t||69===t){if(l&&!c&&!s)return void(e.err="SvgPath: invalid float exponent (at pos "+r+")");if(43!==(t=++r<o?e.path.charCodeAt(r):0)&&45!==t||r++,!(r<o&&i(e.path.charCodeAt(r))))return void(e.err="SvgPath: invalid float exponent (at pos "+r+")");for(;r<o&&i(e.path.charCodeAt(r));)r++}e.index=r,e.param=parseFloat(e.path.slice(n,r))+0}else e.err="SvgPath: param should start with 0..9 or `.` (at pos "+r+")"}function f(e){var t,n;n=(t=e.path[e.segmentStart]).toLowerCase();var o=e.data;if("m"===n&&o.length>2&&(e.result.push([t,o[0],o[1]]),o=o.slice(2),n="l",t="m"===t?"l":"L"),"r"===n)e.result.push([t].concat(o));else for(;o.length>=r[n]&&(e.result.push([t].concat(o.splice(0,r[n]))),r[n]););}function p(e){var t,n,o,i,c,p=e.max;if(e.segmentStart=e.index,t=e.path.charCodeAt(e.index),n=97==(32|t),function(e){switch(32|e){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}(t))if(i=r[e.path[e.index].toLowerCase()],e.index++,s(e),e.data=[],i){for(o=!1;;){for(c=i;c>0;c--){if(!n||3!==c&&4!==c?u(e):l(e),e.err.length)return;e.data.push(e.param),s(e),o=!1,e.index<p&&44===e.path.charCodeAt(e.index)&&(e.index++,s(e),o=!0)}if(!o){if(e.index>=e.max)break;if(!a(e.path.charCodeAt(e.index)))break}}f(e)}else f(e);else e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")"}e.exports=function(e){var t=new c(e),n=t.max;for(s(t);t.index<n&&!t.err.length;)p(t);return t.err.length?t.result=[]:t.result.length&&("mM".indexOf(t.result[0][0])<0?(t.err="SvgPath: string should start with `M` or `m`",t.result=[]):t.result[0][0]="M"),{err:t.err,segments:t.result}}},function(e,t,n){"use strict";var r=n(303),o={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},i=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,a=/[\s,]+/;e.exports=function(e){var t,n,c=new r;return e.split(i).forEach((function(e){if(e.length)if(void 0===o[e])switch(n=e.split(a).map((function(e){return+e||0})),t){case"matrix":return void(6===n.length&&c.matrix(n));case"scale":return void(1===n.length?c.scale(n[0],n[0]):2===n.length&&c.scale(n[0],n[1]));case"rotate":return void(1===n.length?c.rotate(n[0],0,0):3===n.length&&c.rotate(n[0],n[1],n[2]));case"translate":return void(1===n.length?c.translate(n[0],0):2===n.length&&c.translate(n[0],n[1]));case"skewX":return void(1===n.length&&c.skewX(n[0]));case"skewY":return void(1===n.length&&c.skewY(n[0]))}else t=e})),c}},function(e,t,n){"use strict";var r=2*Math.PI;function o(e,t,n,r){var o=e*n+t*r;return o>1&&(o=1),o<-1&&(o=-1),(e*r-t*n<0?-1:1)*Math.acos(o)}function i(e,t){var n=4/3*Math.tan(t/4),r=Math.cos(e),o=Math.sin(e),i=Math.cos(e+t),a=Math.sin(e+t);return[r,o,r-o*n,o+r*n,i+a*n,a-i*n,i,a]}e.exports=function(e,t,n,a,c,s,l,u,f){var p=Math.sin(f*r/360),d=Math.cos(f*r/360),h=d*(e-n)/2+p*(t-a)/2,m=-p*(e-n)/2+d*(t-a)/2;if(0===h&&0===m)return[];if(0===l||0===u)return[];l=Math.abs(l),u=Math.abs(u);var v=h*h/(l*l)+m*m/(u*u);v>1&&(l*=Math.sqrt(v),u*=Math.sqrt(v));var y=function(e,t,n,i,a,c,s,l,u,f){var p=f*(e-n)/2+u*(t-i)/2,d=-u*(e-n)/2+f*(t-i)/2,h=s*s,m=l*l,v=p*p,y=d*d,g=h*m-h*y-m*v;g<0&&(g=0),g/=h*y+m*v;var b=(g=Math.sqrt(g)*(a===c?-1:1))*s/l*d,w=g*-l/s*p,k=f*b-u*w+(e+n)/2,x=u*b+f*w+(t+i)/2,O=(p-b)/s,C=(d-w)/l,_=(-p-b)/s,E=(-d-w)/l,j=o(1,0,O,C),S=o(O,C,_,E);return 0===c&&S>0&&(S-=r),1===c&&S<0&&(S+=r),[k,x,j,S]}(e,t,n,a,c,s,l,u,p,d),g=[],b=y[2],w=y[3],k=Math.max(Math.ceil(Math.abs(w)/(r/4)),1);w/=k;for(var x=0;x<k;x++)g.push(i(b,w)),b+=w;return g.map((function(e){for(var t=0;t<e.length;t+=2){var n=e[t+0],r=e[t+1],o=d*(n*=l)-p*(r*=u),i=p*n+d*r;e[t+0]=o+y[0],e[t+1]=i+y[1]}return e}))}},function(e,t,n){"use strict";var r=1e-10,o=Math.PI/180;function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);this.rx=e,this.ry=t,this.ax=n}i.prototype.transform=function(e){var t=Math.cos(this.ax*o),n=Math.sin(this.ax*o),i=[this.rx*(e[0]*t+e[2]*n),this.rx*(e[1]*t+e[3]*n),this.ry*(-e[0]*n+e[2]*t),this.ry*(-e[1]*n+e[3]*t)],a=i[0]*i[0]+i[2]*i[2],c=i[1]*i[1]+i[3]*i[3],s=((i[0]-i[3])*(i[0]-i[3])+(i[2]+i[1])*(i[2]+i[1]))*((i[0]+i[3])*(i[0]+i[3])+(i[2]-i[1])*(i[2]-i[1])),l=(a+c)/2;if(s<r*l)return this.rx=this.ry=Math.sqrt(l),this.ax=0,this;var u=i[0]*i[1]+i[2]*i[3],f=l+(s=Math.sqrt(s))/2,p=l-s/2;return this.ax=Math.abs(u)<r&&Math.abs(f-c)<r?90:180*Math.atan(Math.abs(u)>Math.abs(f-c)?(f-a)/u:u/(f-c))/Math.PI,this.ax>=0?(this.rx=Math.sqrt(f),this.ry=Math.sqrt(p)):(this.ax+=90,this.rx=Math.sqrt(p),this.ry=Math.sqrt(f)),this},i.prototype.isDegenerate=function(){return this.rx<r*this.ry||this.ry<r*this.rx},e.exports=i},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(622)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="BarsOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"}},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(624)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="LeftOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"}},function(e,t,n){var r=n(248);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(631)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="EllipsisOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"}},function(e,t,n){},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(634)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="CheckOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"}},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(636)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="DownOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n(44),n(647)},function(e,t,n){},function(e,t,n){},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return R()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=_(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=u(e,t,n);if("normal"===s.type){if(r=n.done?h:p,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",m={};function v(){}function y(){}function g(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,k=w&&w(w(P([])));k&&k!==n&&r.call(k,i)&&(b=k);var x=g.prototype=v.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,c){var s=u(e[o],e,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=x.constructor=g,g.constructor=y,y.displayName=s(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},O(C.prototype),C.prototype[a]=function(){return this},e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),s(x,c,"Generator"),x[i]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(651)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="PlusOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(659)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="UpOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n(44),n(663)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n(44),n(672)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(690),o=n(87),i=n(307),a=n(215),c=n(308),s=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=o.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===s.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,u)))throw new Error(a[n]);this._dict_set=!0}}function u(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}l.prototype.push=function(e,t){var n,a,c=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?c.input=i.string2buf(e):"[object ArrayBuffer]"===s.call(e)?c.input=new Uint8Array(e):c.input=e,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new o.Buf8(l),c.next_out=0,c.avail_out=l),1!==(n=r.deflate(c,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==c.avail_out&&(0!==c.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(c.output,c.next_out))):this.onData(o.shrinkBuf(c.output,c.next_out)))}while((c.avail_in>0||0===c.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),c.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=u,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},function(e,t,n){"use strict";var r,o=n(87),i=n(691),a=n(305),c=n(306),s=n(215),l=-2,u=258,f=262,p=103,d=113,h=666;function m(e,t){return e.msg=s[t],t}function v(e){return(e<<1)-(e>4?9:0)}function y(e){for(var t=e.length;--t>=0;)e[t]=0}function g(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(o.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,g(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function k(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function x(e,t){var n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,c=e.nice_match,s=e.strstart>e.w_size-f?e.strstart-(e.w_size-f):0,l=e.window,p=e.w_mask,d=e.prev,h=e.strstart+u,m=l[i+a-1],v=l[i+a];e.prev_length>=e.good_match&&(o>>=2),c>e.lookahead&&(c=e.lookahead);do{if(l[(n=t)+a]===v&&l[n+a-1]===m&&l[n]===l[i]&&l[++n]===l[i+1]){i+=2,n++;do{}while(l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&i<h);if(r=u-(h-i),i=h-u,r>a){if(e.match_start=t,a=r,r>=c)break;m=l[i+a-1],v=l[i+a]}}}while((t=d[t&p])>s&&0!=--o);return a<=e.lookahead?a:e.lookahead}function O(e){var t,n,r,i,s,l,u,p,d,h,m=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-f)){o.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=m?r-m:0}while(--n);t=n=m;do{r=e.prev[--t],e.prev[t]=r>=m?r-m:0}while(--n);i+=m}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,p=e.strstart+e.lookahead,d=i,h=void 0,(h=l.avail_in)>d&&(h=d),n=0===h?0:(l.avail_in-=h,o.arraySet(u,l.input,l.next_in,h,p),1===l.state.wrap?l.adler=a(l.adler,u,h,p):2===l.state.wrap&&(l.adler=c(l.adler,u,h,p)),l.next_in+=h,l.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+3-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<f&&0!==e.strm.avail_in)}function C(e,t){for(var n,r;;){if(e.lookahead<f){if(O(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-f&&(e.match_length=x(e,n)),e.match_length>=3)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function _(e,t){for(var n,r,o;;){if(e.lookahead<f){if(O(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-f&&(e.match_length=x(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function E(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function j(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(1146),this.dyn_dtree=new o.Buf16(122),this.bl_tree=new o.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(16),this.heap=new o.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function S(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,i._tr_init(t),0):m(e,l)}function P(e){var t,n=S(e);return 0===n&&((t=e.state).window_size=2*t.w_size,y(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function R(e,t,n,r,i,a){if(!e)return l;var c=1;if(-1===t&&(t=6),r<0?(c=0,r=-r):r>15&&(c=2,r-=16),i<1||i>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return m(e,l);8===r&&(r=9);var s=new j;return e.state=s,s.strm=e,s.wrap=c,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new o.Buf8(2*s.w_size),s.head=new o.Buf16(s.hash_size),s.prev=new o.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new o.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=a,s.method=n,P(e)}r=[new E(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(O(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-f&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new E(4,4,8,4,C),new E(4,5,16,8,C),new E(4,6,32,32,C),new E(4,4,16,16,_),new E(8,16,32,32,_),new E(8,16,128,128,_),new E(8,32,128,256,_),new E(32,128,258,1024,_),new E(32,258,258,4096,_)],t.deflateInit=function(e,t){return R(e,t,8,15,8,0)},t.deflateInit2=R,t.deflateReset=P,t.deflateResetKeep=S,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},t.deflate=function(e,t){var n,o,a,s;if(!e||!e.state||t>5||t<0)return e?m(e,l):l;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===h&&4!==t)return m(e,0===e.avail_out?-5:l);if(o.strm=e,n=o.last_flush,o.last_flush=t,42===o.status)if(2===o.wrap)e.adler=0,w(o,31),w(o,139),w(o,8),o.gzhead?(w(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),w(o,255&o.gzhead.time),w(o,o.gzhead.time>>8&255),w(o,o.gzhead.time>>16&255),w(o,o.gzhead.time>>24&255),w(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),w(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(w(o,255&o.gzhead.extra.length),w(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=c(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(w(o,0),w(o,0),w(o,0),w(o,0),w(o,0),w(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),w(o,3),o.status=d);else{var f=8+(o.w_bits-8<<4)<<8;f|=(o.strategy>=2||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(f|=32),f+=31-f%31,o.status=d,k(o,f),0!==o.strstart&&(k(o,e.adler>>>16),k(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(e.adler=c(e.adler,o.pending_buf,o.pending-a,a)),g(e),a=o.pending,o.pending!==o.pending_buf_size));)w(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(e.adler=c(e.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=c(e.adler,o.pending_buf,o.pending-a,a)),g(e),a=o.pending,o.pending===o.pending_buf_size)){s=1;break}s=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,w(o,s)}while(0!==s);o.gzhead.hcrc&&o.pending>a&&(e.adler=c(e.adler,o.pending_buf,o.pending-a,a)),0===s&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=c(e.adler,o.pending_buf,o.pending-a,a)),g(e),a=o.pending,o.pending===o.pending_buf_size)){s=1;break}s=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,w(o,s)}while(0!==s);o.gzhead.hcrc&&o.pending>a&&(e.adler=c(e.adler,o.pending_buf,o.pending-a,a)),0===s&&(o.status=p)}else o.status=p;if(o.status===p&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&g(e),o.pending+2<=o.pending_buf_size&&(w(o,255&e.adler),w(o,e.adler>>8&255),e.adler=0,o.status=d)):o.status=d),0!==o.pending){if(g(e),0===e.avail_out)return o.last_flush=-1,0}else if(0===e.avail_in&&v(t)<=v(n)&&4!==t)return m(e,-5);if(o.status===h&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==o.lookahead||0!==t&&o.status!==h){var x=2===o.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(O(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(o,t):3===o.strategy?function(e,t){for(var n,r,o,a,c=e.window;;){if(e.lookahead<=u){if(O(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=c[o=e.strstart-1])===c[++o]&&r===c[++o]&&r===c[++o]){a=e.strstart+u;do{}while(r===c[++o]&&r===c[++o]&&r===c[++o]&&r===c[++o]&&r===c[++o]&&r===c[++o]&&r===c[++o]&&r===c[++o]&&o<a);e.match_length=u-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=i._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(o,t):r[o.level].func(o,t);if(3!==x&&4!==x||(o.status=h),1===x||3===x)return 0===e.avail_out&&(o.last_flush=-1),0;if(2===x&&(1===t?i._tr_align(o):5!==t&&(i._tr_stored_block(o,0,0,!1),3===t&&(y(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),g(e),0===e.avail_out))return o.last_flush=-1,0}return 4!==t?0:o.wrap<=0?1:(2===o.wrap?(w(o,255&e.adler),w(o,e.adler>>8&255),w(o,e.adler>>16&255),w(o,e.adler>>24&255),w(o,255&e.total_in),w(o,e.total_in>>8&255),w(o,e.total_in>>16&255),w(o,e.total_in>>24&255)):(k(o,e.adler>>>16),k(o,65535&e.adler)),g(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==p&&t!==d&&t!==h?m(e,l):(e.state=null,t===d?m(e,-3):0):l},t.deflateSetDictionary=function(e,t){var n,r,i,c,s,u,f,p,d=t.length;if(!e||!e.state)return l;if(2===(c=(n=e.state).wrap)||1===c&&42!==n.status||n.lookahead)return l;for(1===c&&(e.adler=a(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===c&&(y(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new o.Buf8(n.w_size),o.arraySet(p,t,d-n.w_size,n.w_size,0),t=p,d=n.w_size),s=e.avail_in,u=e.next_in,f=e.input,e.avail_in=d,e.next_in=0,e.input=t,O(n);n.lookahead>=3;){r=n.strstart,i=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=2,O(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=f,e.avail_in=s,n.wrap=c,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(87);function o(e){for(var t=e.length;--t>=0;)e[t]=0}var i=256,a=286,c=30,s=15,l=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],p=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);o(d);var h=new Array(60);o(h);var m=new Array(512);o(m);var v=new Array(256);o(v);var y=new Array(29);o(y);var g,b,w,k=new Array(c);function x(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function O(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function C(e){return e<256?m[e]:m[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function E(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function j(e,t,n){E(e,n[2*t],n[2*t+1])}function S(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function P(e,t,n){var r,o,i=new Array(16),a=0;for(r=1;r<=s;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){var c=e[2*o+1];0!==c&&(e[2*o]=S(i[c]++,c))}}function R(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<c;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function T(e){e.bi_valid>8?_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function D(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function A(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&D(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!D(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function M(e,t,n){var r,o,a,c,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],o=e.pending_buf[e.l_buf+s],s++,0===r?j(e,o,t):(j(e,(a=v[o])+i+1,t),0!==(c=l[a])&&E(e,o-=y[a],c),j(e,a=C(--r),n),0!==(c=u[a])&&E(e,r-=k[a],c))}while(s<e.last_lit);j(e,256,t)}function N(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,c=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==i[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[o]=0,e.opt_len--,c&&(e.static_len-=a[2*o+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)A(e,i,n);o=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],A(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,A(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,o,i,a,c,l=t.dyn_tree,u=t.max_code,f=t.stat_desc.static_tree,p=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,m=t.stat_desc.max_length,v=0;for(i=0;i<=s;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(i=l[2*l[2*(r=e.heap[n])+1]+1]+1)>m&&(i=m,v++),l[2*r+1]=i,r>u||(e.bl_count[i]++,a=0,r>=h&&(a=d[r-h]),c=l[2*r],e.opt_len+=c*(i+a),p&&(e.static_len+=c*(f[2*r+1]+a)));if(0!==v){do{for(i=m-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[m]--,v-=2}while(v>0);for(i=m;0!==i;i--)for(r=e.bl_count[i];0!==r;)(o=e.heap[--n])>u||(l[2*o+1]!==i&&(e.opt_len+=(i-l[2*o+1])*l[2*o],l[2*o+1]=i),r--)}}(e,t),P(i,u,e.bl_count)}function I(e,t,n){var r,o,i=-1,a=t[1],c=0,s=7,l=4;for(0===a&&(s=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++c<s&&o===a||(c<l?e.bl_tree[2*o]+=c:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[32]++):c<=10?e.bl_tree[34]++:e.bl_tree[36]++,c=0,i=o,0===a?(s=138,l=3):o===a?(s=6,l=3):(s=7,l=4))}function L(e,t,n){var r,o,i=-1,a=t[1],c=0,s=7,l=4;for(0===a&&(s=138,l=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++c<s&&o===a)){if(c<l)do{j(e,o,e.bl_tree)}while(0!=--c);else 0!==o?(o!==i&&(j(e,o,e.bl_tree),c--),j(e,16,e.bl_tree),E(e,c-3,2)):c<=10?(j(e,17,e.bl_tree),E(e,c-3,3)):(j(e,18,e.bl_tree),E(e,c-11,7));c=0,i=o,0===a?(s=138,l=3):o===a?(s=6,l=3):(s=7,l=4)}}o(k);var F=!1;function z(e,t,n,o){E(e,0+(o?1:0),3),function(e,t,n,o){T(e),o&&(_(e,n),_(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){F||(!function(){var e,t,n,r,o,i=new Array(16);for(n=0,r=0;r<28;r++)for(y[r]=n,e=0;e<1<<l[r];e++)v[n++]=r;for(v[n-1]=r,o=0,r=0;r<16;r++)for(k[r]=o,e=0;e<1<<u[r];e++)m[o++]=r;for(o>>=7;r<c;r++)for(k[r]=o<<7,e=0;e<1<<u[r]-7;e++)m[256+o++]=r;for(t=0;t<=s;t++)i[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,i[8]++;for(;e<=255;)d[2*e+1]=9,e++,i[9]++;for(;e<=279;)d[2*e+1]=7,e++,i[7]++;for(;e<=287;)d[2*e+1]=8,e++,i[8]++;for(P(d,287,i),e=0;e<c;e++)h[2*e+1]=5,h[2*e]=S(e,5);g=new x(d,l,257,a,s),b=new x(h,u,0,c,s),w=new x(new Array(0),f,0,19,7)}(),F=!0),e.l_desc=new O(e.dyn_ltree,g),e.d_desc=new O(e.dyn_dtree,b),e.bl_desc=new O(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,R(e)},t._tr_stored_block=z,t._tr_flush_block=function(e,t,n,r){var o,a,c=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<i;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),c=function(e){var t;for(I(e,e.dyn_ltree,e.l_desc.max_code),I(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*p[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==t?z(e,t,n,r):4===e.strategy||a===o?(E(e,2+(r?1:0),3),M(e,d,h)):(E(e,4+(r?1:0),3),function(e,t,n,r){var o;for(E(e,t-257,5),E(e,n-1,5),E(e,r-4,4),o=0;o<r;o++)E(e,e.bl_tree[2*p[o]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),M(e,e.dyn_ltree,e.dyn_dtree)),R(e),r&&T(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(v[n]+i+1)]++,e.dyn_dtree[2*C(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){E(e,2,3),j(e,256,d),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r=n(693),o=n(87),i=n(307),a=n(309),c=n(215),s=n(308),l=n(696),u=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(c[n]);if(this.header=new l,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=i.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(c[n])}function p(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||c[n.err];return n.result}f.prototype.push=function(e,t){var n,c,s,l,f,p=this.strm,d=this.options.chunkSize,h=this.options.dictionary,m=!1;if(this.ended)return!1;c=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=i.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new o.Buf8(d),p.next_out=0,p.avail_out=d),(n=r.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&h&&(n=r.inflateSetDictionary(this.strm,h)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||c!==a.Z_FINISH&&c!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(s=i.utf8border(p.output,p.next_out),l=p.next_out-s,f=i.buf2string(p.output,s),p.next_out=l,p.avail_out=d-l,l&&o.arraySet(p.output,p.output,s,l,0),this.onData(f)):this.onData(o.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(c=a.Z_FINISH),c===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):c!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),p.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=p,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.ungzip=p},function(e,t,n){"use strict";var r=n(87),o=n(305),i=n(306),a=n(694),c=n(695),s=-2,l=12,u=30;function f(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):s}function h(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):s}function m(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?s:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,h(e))):s}function v(e,t){var n,r;return e?(r=new p,e.state=r,r.window=null,0!==(n=m(e,t))&&(e.state=null),n):s}var y,g,b=!0;function w(e){if(b){var t;for(y=new r.Buf32(512),g=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(c(1,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;c(2,e.lens,0,32,g,0,e.work,{bits:5}),b=!1}e.lencode=y,e.lenbits=9,e.distcode=g,e.distbits=5}function k(e,t,n,o){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),o>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>o&&(i=o),r.arraySet(a.window,t,n-o,i,a.wnext),(o-=i)?(r.arraySet(a.window,t,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}t.inflateReset=h,t.inflateReset2=m,t.inflateResetKeep=d,t.inflateInit=function(e){return v(e,15)},t.inflateInit2=v,t.inflate=function(e,t){var n,p,d,h,m,v,y,g,b,x,O,C,_,E,j,S,P,R,T,D,A,M,N,I,L=0,F=new r.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return s;(n=e.state).mode===l&&(n.mode=13),m=e.next_out,d=e.output,y=e.avail_out,h=e.next_in,p=e.input,v=e.avail_in,g=n.hold,b=n.bits,x=v,O=y,M=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}if(2&n.wrap&&35615===g){n.check=0,F[0]=255&g,F[1]=g>>>8&255,n.check=i(n.check,F,2,0),g=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&g)<<8)+(g>>8))%31){e.msg="incorrect header check",n.mode=u;break}if(8!=(15&g)){e.msg="unknown compression method",n.mode=u;break}if(b-=4,A=8+(15&(g>>>=4)),0===n.wbits)n.wbits=A;else if(A>n.wbits){e.msg="invalid window size",n.mode=u;break}n.dmax=1<<A,e.adler=n.check=1,n.mode=512&g?10:l,g=0,b=0;break;case 2:for(;b<16;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}if(n.flags=g,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=u;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=u;break}n.head&&(n.head.text=g>>8&1),512&n.flags&&(F[0]=255&g,F[1]=g>>>8&255,n.check=i(n.check,F,2,0)),g=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}n.head&&(n.head.time=g),512&n.flags&&(F[0]=255&g,F[1]=g>>>8&255,F[2]=g>>>16&255,F[3]=g>>>24&255,n.check=i(n.check,F,4,0)),g=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}n.head&&(n.head.xflags=255&g,n.head.os=g>>8),512&n.flags&&(F[0]=255&g,F[1]=g>>>8&255,n.check=i(n.check,F,2,0)),g=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}n.length=g,n.head&&(n.head.extra_len=g),512&n.flags&&(F[0]=255&g,F[1]=g>>>8&255,n.check=i(n.check,F,2,0)),g=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((C=n.length)>v&&(C=v),C&&(n.head&&(A=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,p,h,C,A)),512&n.flags&&(n.check=i(n.check,p,C,h)),v-=C,h+=C,n.length-=C),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break e;C=0;do{A=p[h+C++],n.head&&A&&n.length<65536&&(n.head.name+=String.fromCharCode(A))}while(A&&C<v);if(512&n.flags&&(n.check=i(n.check,p,C,h)),v-=C,h+=C,A)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break e;C=0;do{A=p[h+C++],n.head&&A&&n.length<65536&&(n.head.comment+=String.fromCharCode(A))}while(A&&C<v);if(512&n.flags&&(n.check=i(n.check,p,C,h)),v-=C,h+=C,A)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}if(g!==(65535&n.check)){e.msg="header crc mismatch",n.mode=u;break}g=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=l;break;case 10:for(;b<32;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}e.adler=n.check=f(g),g=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=m,e.avail_out=y,e.next_in=h,e.avail_in=v,n.hold=g,n.bits=b,2;e.adler=n.check=1,n.mode=l;case l:if(5===t||6===t)break e;case 13:if(n.last){g>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}switch(n.last=1&g,b-=1,3&(g>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,6===t){g>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=u}g>>>=2,b-=2;break;case 14:for(g>>>=7&b,b-=7&b;b<32;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}if((65535&g)!=(g>>>16^65535)){e.msg="invalid stored block lengths",n.mode=u;break}if(n.length=65535&g,g=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(C=n.length){if(C>v&&(C=v),C>y&&(C=y),0===C)break e;r.arraySet(d,p,h,C,m),v-=C,h+=C,y-=C,m+=C,n.length-=C;break}n.mode=l;break;case 17:for(;b<14;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}if(n.nlen=257+(31&g),g>>>=5,b-=5,n.ndist=1+(31&g),g>>>=5,b-=5,n.ncode=4+(15&g),g>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=u;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}n.lens[z[n.have++]]=7&g,g>>>=3,b-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},M=c(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,M){e.msg="invalid code lengths set",n.mode=u;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(L=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,P=65535&L,!((j=L>>>24)<=b);){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}if(P<16)g>>>=j,b-=j,n.lens[n.have++]=P;else{if(16===P){for(I=j+2;b<I;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}if(g>>>=j,b-=j,0===n.have){e.msg="invalid bit length repeat",n.mode=u;break}A=n.lens[n.have-1],C=3+(3&g),g>>>=2,b-=2}else if(17===P){for(I=j+3;b<I;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}b-=j,A=0,C=3+(7&(g>>>=j)),g>>>=3,b-=3}else{for(I=j+7;b<I;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}b-=j,A=0,C=11+(127&(g>>>=j)),g>>>=7,b-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=u;break}for(;C--;)n.lens[n.have++]=A}}if(n.mode===u)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=u;break}if(n.lenbits=9,N={bits:n.lenbits},M=c(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,M){e.msg="invalid literal/lengths set",n.mode=u;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},M=c(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,M){e.msg="invalid distances set",n.mode=u;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(v>=6&&y>=258){e.next_out=m,e.avail_out=y,e.next_in=h,e.avail_in=v,n.hold=g,n.bits=b,a(e,O),m=e.next_out,d=e.output,y=e.avail_out,h=e.next_in,p=e.input,v=e.avail_in,g=n.hold,b=n.bits,n.mode===l&&(n.back=-1);break}for(n.back=0;S=(L=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,P=65535&L,!((j=L>>>24)<=b);){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}if(S&&0==(240&S)){for(R=j,T=S,D=P;S=(L=n.lencode[D+((g&(1<<R+T)-1)>>R)])>>>16&255,P=65535&L,!(R+(j=L>>>24)<=b);){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}g>>>=R,b-=R,n.back+=R}if(g>>>=j,b-=j,n.back+=j,n.length=P,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=l;break}if(64&S){e.msg="invalid literal/length code",n.mode=u;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(I=n.extra;b<I;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}n.length+=g&(1<<n.extra)-1,g>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(L=n.distcode[g&(1<<n.distbits)-1])>>>16&255,P=65535&L,!((j=L>>>24)<=b);){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}if(0==(240&S)){for(R=j,T=S,D=P;S=(L=n.distcode[D+((g&(1<<R+T)-1)>>R)])>>>16&255,P=65535&L,!(R+(j=L>>>24)<=b);){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}g>>>=R,b-=R,n.back+=R}if(g>>>=j,b-=j,n.back+=j,64&S){e.msg="invalid distance code",n.mode=u;break}n.offset=P,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(I=n.extra;b<I;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}n.offset+=g&(1<<n.extra)-1,g>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=u;break}n.mode=25;case 25:if(0===y)break e;if(C=O-y,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=u;break}C>n.wnext?(C-=n.wnext,_=n.wsize-C):_=n.wnext-C,C>n.length&&(C=n.length),E=n.window}else E=d,_=m-n.offset,C=n.length;C>y&&(C=y),y-=C,n.length-=C;do{d[m++]=E[_++]}while(--C);0===n.length&&(n.mode=21);break;case 26:if(0===y)break e;d[m++]=n.length,y--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===v)break e;v--,g|=p[h++]<<b,b+=8}if(O-=y,e.total_out+=O,n.total+=O,O&&(e.adler=n.check=n.flags?i(n.check,d,O,m-O):o(n.check,d,O,m-O)),O=y,(n.flags?g:f(g))!==n.check){e.msg="incorrect data check",n.mode=u;break}g=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===v)break e;v--,g+=p[h++]<<b,b+=8}if(g!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=u;break}g=0,b=0}n.mode=29;case 29:M=1;break e;case u:M=-3;break e;case 31:return-4;case 32:default:return s}return e.next_out=m,e.avail_out=y,e.next_in=h,e.avail_in=v,n.hold=g,n.bits=b,(n.wsize||O!==e.avail_out&&n.mode<u&&(n.mode<27||4!==t))&&k(e,e.output,e.next_out,O-e.avail_out)?(n.mode=31,-4):(x-=e.avail_in,O-=e.avail_out,e.total_in+=x,e.total_out+=O,n.total+=O,n.wrap&&O&&(e.adler=n.check=n.flags?i(n.check,d,O,e.next_out-O):o(n.check,d,O,e.next_out-O)),e.data_type=n.bits+(n.last?64:0)+(n.mode===l?128:0)+(20===n.mode||15===n.mode?256:0),(0===x&&0===O||4===t)&&0===M&&(M=-5),M)},t.inflateEnd=function(e){if(!e||!e.state)return s;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?s:(n.head=t,t.done=!1,0):s},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?s:11===n.mode&&o(1,t,r,0)!==n.check?-3:k(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):s},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,c,s,l,u,f,p,d,h,m,v,y,g,b,w,k,x,O,C,_,E;n=e.state,r=e.next_in,_=e.input,o=r+(e.avail_in-5),i=e.next_out,E=e.output,a=i-(t-e.avail_out),c=i+(e.avail_out-257),s=n.dmax,l=n.wsize,u=n.whave,f=n.wnext,p=n.window,d=n.hold,h=n.bits,m=n.lencode,v=n.distcode,y=(1<<n.lenbits)-1,g=(1<<n.distbits)-1;e:do{h<15&&(d+=_[r++]<<h,h+=8,d+=_[r++]<<h,h+=8),b=m[d&y];t:for(;;){if(d>>>=w=b>>>24,h-=w,0===(w=b>>>16&255))E[i++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(d&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}k=65535&b,(w&=15)&&(h<w&&(d+=_[r++]<<h,h+=8),k+=d&(1<<w)-1,d>>>=w,h-=w),h<15&&(d+=_[r++]<<h,h+=8,d+=_[r++]<<h,h+=8),b=v[d&g];n:for(;;){if(d>>>=w=b>>>24,h-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=v[(65535&b)+(d&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&b,h<(w&=15)&&(d+=_[r++]<<h,(h+=8)<w&&(d+=_[r++]<<h,h+=8)),(x+=d&(1<<w)-1)>s){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=w,h-=w,x>(w=i-a)){if((w=x-w)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(O=0,C=p,0===f){if(O+=l-w,w<k){k-=w;do{E[i++]=p[O++]}while(--w);O=i-x,C=E}}else if(f<w){if(O+=l+f-w,(w-=f)<k){k-=w;do{E[i++]=p[O++]}while(--w);if(O=0,f<k){k-=w=f;do{E[i++]=p[O++]}while(--w);O=i-x,C=E}}}else if(O+=f-w,w<k){k-=w;do{E[i++]=p[O++]}while(--w);O=i-x,C=E}for(;k>2;)E[i++]=C[O++],E[i++]=C[O++],E[i++]=C[O++],k-=3;k&&(E[i++]=C[O++],k>1&&(E[i++]=C[O++]))}else{O=i-x;do{E[i++]=E[O++],E[i++]=E[O++],E[i++]=E[O++],k-=3}while(k>2);k&&(E[i++]=E[O++],k>1&&(E[i++]=E[O++]))}break}}break}}while(r<o&&i<c);r-=k=h>>3,d&=(1<<(h-=k<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<o?o-r+5:5-(r-o),e.avail_out=i<c?c-i+257:257-(i-c),n.hold=d,n.bits=h}},function(e,t,n){"use strict";var r=n(87),o=15,i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,u,f,p,d){var h,m,v,y,g,b,w,k,x,O=d.bits,C=0,_=0,E=0,j=0,S=0,P=0,R=0,T=0,D=0,A=0,M=null,N=0,I=new r.Buf16(16),L=new r.Buf16(16),F=null,z=0;for(C=0;C<=o;C++)I[C]=0;for(_=0;_<l;_++)I[t[n+_]]++;for(S=O,j=o;j>=1&&0===I[j];j--);if(S>j&&(S=j),0===j)return u[f++]=20971520,u[f++]=20971520,d.bits=1,0;for(E=1;E<j&&0===I[E];E++);for(S<E&&(S=E),T=1,C=1;C<=o;C++)if(T<<=1,(T-=I[C])<0)return-1;if(T>0&&(0===e||1!==j))return-1;for(L[1]=0,C=1;C<o;C++)L[C+1]=L[C]+I[C];for(_=0;_<l;_++)0!==t[n+_]&&(p[L[t[n+_]]++]=_);if(0===e?(M=F=p,b=19):1===e?(M=i,N-=257,F=a,z-=257,b=256):(M=c,F=s,b=-1),A=0,_=0,C=E,g=f,P=S,R=0,v=-1,y=(D=1<<S)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){w=C-R,p[_]<b?(k=0,x=p[_]):p[_]>b?(k=F[z+p[_]],x=M[N+p[_]]):(k=96,x=0),h=1<<C-R,E=m=1<<P;do{u[g+(A>>R)+(m-=h)]=w<<24|k<<16|x|0}while(0!==m);for(h=1<<C-1;A&h;)h>>=1;if(0!==h?(A&=h-1,A+=h):A=0,_++,0==--I[C]){if(C===j)break;C=t[n+p[_]]}if(C>S&&(A&y)!==v){for(0===R&&(R=S),g+=E,T=1<<(P=C-R);P+R<j&&!((T-=I[P+R])<=0);)P++,T<<=1;if(D+=1<<P,1===e&&D>852||2===e&&D>592)return 1;u[v=A&y]=S<<24|P<<16|g-f|0}}return 0!==A&&(u[g+A]=C-R<<24|64<<16|0),d.bits=S,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n(44),n(700)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r=n(257),o=n(707),i=n(711),a=n(258),c=n(712),s=n(197);e.exports=function(e,t,n){var l=-1,u=o,f=e.length,p=!0,d=[],h=d;if(n)p=!1,u=i;else if(f>=200){var m=t?null:c(e);if(m)return s(m);p=!1,u=a,h=new r}else h=t?[]:d;e:for(;++l<f;){var v=e[l],y=t?t(v):v;if(v=n||0!==v?v:0,p&&y==y){for(var g=h.length;g--;)if(h[g]===y)continue e;t&&h.push(y),d.push(v)}else u(h,y,n)||(h!==d&&h.push(y),d.push(v))}return d}},function(e,t,n){var r=n(708);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(296),o=n(709),i=n(710);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var r=n(263),o=n(713),i=n(197),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},function(e,t){e.exports=function(){}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(720)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="ClockCircleOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"}},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(722)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="CalendarOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"}},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(724)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="SwapRightOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(730)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="CheckCircleOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"}},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(732)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="InfoCircleOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"}},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(734)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="CloseCircleOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"}},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(736)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="ExclamationCircleOutlined";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r=n(130),o=n(752),i=n(753),a=n(110);e.exports=function(e,t){return t=r(t,e),null==(e=i(e,t))||delete e[a(o(t))]}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var r=n(200),o=n(754);e.exports=function(e,t){return t.length<2?e:r(e,o(t,0,-1))}},function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},function(e,t,n){var r=n(39);e.exports=function(e){return r(e)?void 0:e}},function(e,t,n){var r=n(757),o=n(280),i=n(281);e.exports=function(e){return i(o(e,void 0,r),e+"")}},function(e,t,n){var r=n(758);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){var r=n(198),o=n(759);e.exports=function e(t,n,i,a,c){var s=-1,l=t.length;for(i||(i=o),c||(c=[]);++s<l;){var u=t[s];n>0&&i(u)?n>1?e(u,n-1,i,a,c):r(c,u):a||(c[c.length]=u)}return c}},function(e,t,n){var r=n(108),o=n(140),i=n(47),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},function(e,t,n){},function(e,t,n){"use strict";var r=n(35),o=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=r(n(762)),c=r(n(40)),s=function(e,t){return i.createElement(c.default,Object.assign({},e,{ref:t,icon:a.default}))};s.displayName="CaretDownFilled";var l=i.forwardRef(s);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"}},function(e,t,n){},function(e,t,n){e.exports={default:n(765),__esModule:!0}},function(e,t,n){n(766),e.exports=n(71).Object.assign},function(e,t,n){var r=n(96);r(r.S+r.F,"Object",{assign:n(768)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(90),o=n(152),i=n(224),a=n(155),c=n(156),s=n(315),l=Object.assign;e.exports=!l||n(133)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=c(e),l=arguments.length,u=1,f=i.f,p=a.f;l>u;)for(var d,h=s(arguments[u++]),m=f?o(h).concat(f(h)):o(h),v=m.length,y=0;v>y;)d=m[y++],r&&!p.call(h,d)||(n[d]=h[d]);return n}:l},function(e,t,n){var r=n(115),o=n(316),i=n(770);e.exports=function(e){return function(t,n,a){var c,s=r(t),l=o(s.length),u=i(a,l);if(e&&n!=n){for(;l>u;)if((c=s[u++])!=c)return!0}else for(;l>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(220),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){"use strict";var r=n(772);e.exports=function(e,t,n){n=n||{},9===t.nodeType&&(t=r.getWindow(t));var o=n.allowHorizontalScroll,i=n.onlyScrollIfNeeded,a=n.alignWithTop,c=n.alignWithLeft,s=n.offsetTop||0,l=n.offsetLeft||0,u=n.offsetBottom||0,f=n.offsetRight||0;o=void 0===o||o;var p=r.isWindow(t),d=r.offset(e),h=r.outerHeight(e),m=r.outerWidth(e),v=void 0,y=void 0,g=void 0,b=void 0,w=void 0,k=void 0,x=void 0,O=void 0,C=void 0,_=void 0;p?(x=t,_=r.height(x),C=r.width(x),O={left:r.scrollLeft(x),top:r.scrollTop(x)},w={left:d.left-O.left-l,top:d.top-O.top-s},k={left:d.left+m-(O.left+C)+f,top:d.top+h-(O.top+_)+u},b=O):(v=r.offset(t),y=t.clientHeight,g=t.clientWidth,b={left:t.scrollLeft,top:t.scrollTop},w={left:d.left-(v.left+(parseFloat(r.css(t,"borderLeftWidth"))||0))-l,top:d.top-(v.top+(parseFloat(r.css(t,"borderTopWidth"))||0))-s},k={left:d.left+m-(v.left+g+(parseFloat(r.css(t,"borderRightWidth"))||0))+f,top:d.top+h-(v.top+y+(parseFloat(r.css(t,"borderBottomWidth"))||0))+u}),w.top<0||k.top>0?!0===a?r.scrollTop(t,b.top+w.top):!1===a?r.scrollTop(t,b.top+k.top):w.top<0?r.scrollTop(t,b.top+w.top):r.scrollTop(t,b.top+k.top):i||((a=void 0===a||!!a)?r.scrollTop(t,b.top+w.top):r.scrollTop(t,b.top+k.top)),o&&(w.left<0||k.left>0?!0===c?r.scrollLeft(t,b.left+w.left):!1===c?r.scrollLeft(t,b.left+k.left):w.left<0?r.scrollLeft(t,b.left+w.left):r.scrollLeft(t,b.left+k.left):i||((c=void 0===c||!!c)?r.scrollLeft(t,b.left+w.left):r.scrollLeft(t,b.left+k.left)))}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function i(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}function a(e){return i(e)}function c(e){return i(e,!0)}function s(e){var t=function(e){var t,n=void 0,r=void 0,o=e.ownerDocument,i=o.body,a=o&&o.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||i.clientLeft||0,top:r-=a.clientTop||i.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=a(r),t.top+=c(r),t}var l=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),u=/^(top|right|bottom|left)$/;var f=void 0;function p(e,t){for(var n=0;n<e.length;n++)t(e[n])}function d(e){return"border-box"===f(e,"boxSizing")}"undefined"!=typeof window&&(f=window.getComputedStyle?function(e,t,n){var r="",o=e.ownerDocument,i=n||o.defaultView.getComputedStyle(e,null);return i&&(r=i.getPropertyValue(t)||i[t]),r}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(l.test(n)&&!u.test(t)){var r=e.style,o=r.left,i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=o,e.runtimeStyle.left=i}return""===n?"auto":n});var h=["margin","border","padding"];function m(e,t,n){var r={},o=e.style,i=void 0;for(i in t)t.hasOwnProperty(i)&&(r[i]=o[i],o[i]=t[i]);for(i in n.call(e),t)t.hasOwnProperty(i)&&(o[i]=r[i])}function v(e,t,n){var r=0,o=void 0,i=void 0,a=void 0;for(i=0;i<t.length;i++)if(o=t[i])for(a=0;a<n.length;a++){var c=void 0;c="border"===o?o+n[a]+"Width":o+n[a],r+=parseFloat(f(e,c))||0}return r}function y(e){return null!=e&&e==e.window}var g={};function b(e,t,n){if(y(e))return"width"===t?g.viewportWidth(e):g.viewportHeight(e);if(9===e.nodeType)return"width"===t?g.docWidth(e):g.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.offsetWidth:e.offsetHeight,i=(f(e),d(e)),a=0;(null==o||o<=0)&&(o=void 0,(null==(a=f(e,t))||Number(a)<0)&&(a=e.style[t]||0),a=parseFloat(a)||0),void 0===n&&(n=i?1:-1);var c=void 0!==o||i,s=o||a;if(-1===n)return c?s-v(e,["border","padding"],r):a;if(c){var l=2===n?-v(e,["border"],r):v(e,["margin"],r);return s+(1===n?0:l)}return a+v(e,h.slice(n),r)}p(["Width","Height"],(function(e){g["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],g["viewport"+e](n))},g["viewport"+e]=function(t){var n="client"+e,r=t.document,o=r.body,i=r.documentElement[n];return"CSS1Compat"===r.compatMode&&i||o&&o[n]||i}}));var w={position:"absolute",visibility:"hidden",display:"block"};function k(e){var t=void 0,n=arguments;return 0!==e.offsetWidth?t=b.apply(void 0,n):m(e,w,(function(){t=b.apply(void 0,n)})),t}function x(e,t,n){var r=n;if("object"!==(void 0===t?"undefined":o(t)))return void 0!==r?("number"==typeof r&&(r+="px"),void(e.style[t]=r)):f(e,t);for(var i in t)t.hasOwnProperty(i)&&x(e,i,t[i])}p(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);g["outer"+t]=function(t,n){return t&&k(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];g[e]=function(t,r){if(void 0===r)return t&&k(t,e,-1);if(t){f(t);return d(t)&&(r+=v(t,["padding","border"],n)),x(t,e,r)}}})),e.exports=r({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return s(e);!function(e,t){"static"===x(e,"position")&&(e.style.position="relative");var n=s(e),r={},o=void 0,i=void 0;for(i in t)t.hasOwnProperty(i)&&(o=parseFloat(x(e,i))||0,r[i]=o+t[i]-n[i]);x(e,r)}(e,t)},isWindow:y,each:p,css:x,clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(e.overflow)for(var n in e)e.hasOwnProperty(n)&&(t.overflow[n]=e.overflow[n]);return t},scrollLeft:function(e,t){if(y(e)){if(void 0===t)return a(e);window.scrollTo(t,c(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(y(e)){if(void 0===t)return c(e);window.scrollTo(a(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},g)},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},function(e,t,n){n(775);var r=n(71).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(96);r(r.S+r.F*!n(90),"Object",{defineProperty:n(89).f})},function(e,t,n){e.exports={default:n(777),__esModule:!0}},function(e,t,n){n(318),n(783),e.exports=n(71).Array.from},function(e,t,n){var r=n(220),o=n(219);e.exports=function(e){return function(t,n){var i,a,c=String(o(t)),s=r(n),l=c.length;return s<0||s>=l?e?"":void 0:(i=c.charCodeAt(s))<55296||i>56319||s+1===l||(a=c.charCodeAt(s+1))<56320||a>57343?e?c.charAt(s):i:e?c.slice(s,s+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(225),o=n(134),i=n(226),a={};n(112)(a,n(72)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(89),o=n(113),i=n(152);e.exports=n(90)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),c=a.length,s=0;c>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(88).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(97),o=n(156),i=n(221)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=n(216),o=n(96),i=n(156),a=n(784),c=n(785),s=n(316),l=n(786),u=n(787);o(o.S+o.F*!n(789)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,f,p=i(e),d="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,y=0,g=u(p);if(v&&(m=r(m,h>2?arguments[2]:void 0,2)),null==g||d==Array&&c(g))for(n=new d(t=s(p.length));t>y;y++)l(n,y,v?m(p[y],y):p[y]);else for(f=g.call(p),n=new d;!(o=f.next()).done;y++)l(n,y,v?a(f,m,[o.value,y],!0):o.value);return n.length=y,n}})},function(e,t,n){var r=n(113);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(135),o=n(72)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){"use strict";var r=n(89),o=n(134);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(788),o=n(72)("iterator"),i=n(135);e.exports=n(71).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(218),o=n(72)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(72)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(791),o={};function i(e,t,n,r,o,i,a,c){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,c],u=0;(s=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}var a="mixins";e.exports=function(e,t,n){var c=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},l={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},u={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)p(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(i(!(n in u),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return i("DEFINE_MANY_MERGED"===(l.hasOwnProperty(n)?l[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=h(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function f(e,t){var n=s.hasOwnProperty(t)?s[t]:null;b.hasOwnProperty(t)&&i("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function p(e,n){if(n){i("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;for(var c in n.hasOwnProperty(a)&&u.mixins(e,n.mixins),n)if(n.hasOwnProperty(c)&&c!==a){var l=n[c],p=r.hasOwnProperty(c);if(f(p,c),u.hasOwnProperty(c))u[c](e,l);else{var d=s.hasOwnProperty(c);if("function"==typeof l&&!d&&!p&&!1!==n.autobind)o.push(c,l),r[c]=l;else if(p){var v=s[c];i(d&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,c),"DEFINE_MANY_MERGED"===v?r[c]=h(r[c],l):"DEFINE_MANY"===v&&(r[c]=m(r[c],l))}else r[c]=l}}}else;}function d(e,t){for(var n in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(i(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return d(o,n),d(o,r),o}}function m(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function v(e,t){return t.bind(e)}var y={componentDidMount:function(){this.__isMounted=!0}},g={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},w=function(){};return r(w.prototype,e.prototype,b),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=v(e,o)}}(this),this.props=e,this.context=r,this.refs=o,this.updater=a||n,this.state=null;var c=this.getInitialState?this.getInitialState():null;i("object"==typeof c&&!Array.isArray(c),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=c};for(var r in t.prototype=new w,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],c.forEach(p.bind(null,t)),p(t,y),p(t,e),p(t,g),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[r]||(t.prototype[r]=null);return t}}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,c,s=a(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))o.call(n,u)&&(s[u]=n[u]);if(r){c=r(n);for(var f=0;f<c.length;f++)i.call(n,c[f])&&(s[c[f]]=n[c[f]])}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(793)),o=y(n(799)),i=y(n(800)),a=y(n(801)),c=y(n(802)),s=y(n(803)),l=y(n(804)),u=y(n(805)),f=y(n(806)),p=y(n(807)),d=y(n(808)),h=y(n(809)),m=y(n(810)),v=y(n(811));function y(e){return e&&e.__esModule?e:{default:e}}t.default={string:r.default,method:o.default,number:i.default,boolean:a.default,regexp:c.default,integer:s.default,float:l.default,array:u.default,object:f.default,enum:p.default,pattern:d.default,date:h.default,url:v.default,hex:v.default,email:v.default,required:m.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(60),i=(r=o)&&r.__esModule?r:{default:r},a=n(50);t.default=function(e,t,n,r,o){var c=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,a.isEmptyValue)(t,"string")&&!e.required)return n();i.default.required(e,t,r,c,o,"string"),(0,a.isEmptyValue)(t,"string")||(i.default.type(e,t,r,c,o),i.default.range(e,t,r,c,o),i.default.pattern(e,t,r,c,o),!0===e.whitespace&&i.default.whitespace(e,t,r,c,o))}n(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(50));t.default=function(e,t,n,o,i){(/^\s+$/.test(t)||""===t)&&o.push(r.format(i.messages.whitespace,e.fullField))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(50)),a=n(321),c=(r=a)&&r.__esModule?r:{default:r};var s={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},l={integer:function(e){return l.number(e)&&parseInt(e,10)===e},float:function(e){return l.number(e)&&!l.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"===(void 0===e?"undefined":o(e))&&!l.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(s.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(s.url)},hex:function(e){return"string"==typeof e&&!!e.match(s.hex)}};t.default=function(e,t,n,r,a){if(e.required&&void 0===t)(0,c.default)(e,t,n,r,a);else{var s=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(s)>-1?l[s](t)||r.push(i.format(a.messages.types[s],e.fullField,e.type)):s&&(void 0===t?"undefined":o(t))!==e.type&&r.push(i.format(a.messages.types[s],e.fullField,e.type))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(50));t.default=function(e,t,n,o,i){var a="number"==typeof e.len,c="number"==typeof e.min,s="number"==typeof e.max,l=t,u=null,f="number"==typeof t,p="string"==typeof t,d=Array.isArray(t);if(f?u="number":p?u="string":d&&(u="array"),!u)return!1;d&&(l=t.length),p&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&o.push(r.format(i.messages[u].len,e.fullField,e.len)):c&&!s&&l<e.min?o.push(r.format(i.messages[u].min,e.fullField,e.min)):s&&!c&&l>e.max?o.push(r.format(i.messages[u].max,e.fullField,e.max)):c&&s&&(l<e.min||l>e.max)&&o.push(r.format(i.messages[u].range,e.fullField,e.min,e.max))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(50));t.default=function(e,t,n,o,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&o.push(r.format(i.messages.enum,e.fullField,e.enum.join(", ")))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(50));t.default=function(e,t,n,o,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||o.push(r.format(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||o.push(r.format(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(60),i=(r=o)&&r.__esModule?r:{default:r},a=n(50);t.default=function(e,t,n,r,o){var c=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,a.isEmptyValue)(t)&&!e.required)return n();i.default.required(e,t,r,c,o),void 0!==t&&i.default.type(e,t,r,c,o)}n(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(60),i=(r=o)&&r.__esModule?r:{default:r},a=n(50);t.default=function(e,t,n,r,o){var c=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),(0,a.isEmptyValue)(t)&&!e.required)return n();i.default.required(e,t,r,c,o),void 0!==t&&(i.default.type(e,t,r,c,o),i.default.range(e,t,r,c,o))}n(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(50),i=n(60),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n,r,i){var c=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,o.isEmptyValue)(t)&&!e.required)return n();a.default.required(e,t,r,c,i),void 0!==t&&a.default.type(e,t,r,c,i)}n(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(60),i=(r=o)&&r.__esModule?r:{default:r},a=n(50);t.default=function(e,t,n,r,o){var c=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,a.isEmptyValue)(t)&&!e.required)return n();i.default.required(e,t,r,c,o),(0,a.isEmptyValue)(t)||i.default.type(e,t,r,c,o)}n(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(60),i=(r=o)&&r.__esModule?r:{default:r},a=n(50);t.default=function(e,t,n,r,o){var c=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,a.isEmptyValue)(t)&&!e.required)return n();i.default.required(e,t,r,c,o),void 0!==t&&(i.default.type(e,t,r,c,o),i.default.range(e,t,r,c,o))}n(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(60),i=(r=o)&&r.__esModule?r:{default:r},a=n(50);t.default=function(e,t,n,r,o){var c=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,a.isEmptyValue)(t)&&!e.required)return n();i.default.required(e,t,r,c,o),void 0!==t&&(i.default.type(e,t,r,c,o),i.default.range(e,t,r,c,o))}n(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(60),i=(r=o)&&r.__esModule?r:{default:r},a=n(50);t.default=function(e,t,n,r,o){var c=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,a.isEmptyValue)(t,"array")&&!e.required)return n();i.default.required(e,t,r,c,o,"array"),(0,a.isEmptyValue)(t,"array")||(i.default.type(e,t,r,c,o),i.default.range(e,t,r,c,o))}n(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(60),i=(r=o)&&r.__esModule?r:{default:r},a=n(50);t.default=function(e,t,n,r,o){var c=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,a.isEmptyValue)(t)&&!e.required)return n();i.default.required(e,t,r,c,o),void 0!==t&&i.default.type(e,t,r,c,o)}n(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(60),i=(r=o)&&r.__esModule?r:{default:r},a=n(50);t.default=function(e,t,n,r,o){var c=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,a.isEmptyValue)(t)&&!e.required)return n();i.default.required(e,t,r,c,o),t&&i.default.enum(e,t,r,c,o)}n(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(60),i=(r=o)&&r.__esModule?r:{default:r},a=n(50);t.default=function(e,t,n,r,o){var c=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,a.isEmptyValue)(t,"string")&&!e.required)return n();i.default.required(e,t,r,c,o),(0,a.isEmptyValue)(t,"string")||i.default.pattern(e,t,r,c,o)}n(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(60),i=(r=o)&&r.__esModule?r:{default:r},a=n(50);t.default=function(e,t,n,r,o){var c=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,a.isEmptyValue)(t)&&!e.required)return n();if(i.default.required(e,t,r,c,o),!(0,a.isEmptyValue)(t)){var s=void 0;s="number"==typeof t?new Date(t):t,i.default.type(e,s,r,c,o),s&&i.default.range(e,s.getTime(),r,c,o)}}n(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(60),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n,r,i){var c=[],s=Array.isArray(t)?"array":void 0===t?"undefined":o(t);a.default.required(e,t,r,c,i,s),n(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(60),i=(r=o)&&r.__esModule?r:{default:r},a=n(50);t.default=function(e,t,n,r,o){var c=e.type,s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((0,a.isEmptyValue)(t,c)&&!e.required)return n();i.default.required(e,t,r,s,o,c),(0,a.isEmptyValue)(t,c)||i.default.type(e,t,r,s,o)}n(s)}},function(e,t,n){"use strict";function r(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.newMessages=r;t.messages=r()},function(e,t,n){var r=n(203),o=n(130),i=n(143),a=n(57),c=n(110);e.exports=function(e,t,n,s){if(!a(e))return e;for(var l=-1,u=(t=o(t,e)).length,f=u-1,p=e;null!=p&&++l<u;){var d=c(t[l]),h=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(l!=f){var m=p[d];void 0===(h=s?s(m,d,p):void 0)&&(h=a(m)?m:i(t[l+1])?[]:{})}r(p,d,h),p=p[d]}return e}},function(e,t,n){e.exports={default:n(815),__esModule:!0}},function(e,t,n){n(318),n(816),e.exports=n(227).f("iterator")},function(e,t,n){n(817);for(var r=n(88),o=n(112),i=n(135),a=n(72)("toStringTag"),c="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<c.length;s++){var l=c[s],u=r[l],f=u&&u.prototype;f&&!f[a]&&o(f,a,l),i[l]=i.Array}},function(e,t,n){"use strict";var r=n(818),o=n(819),i=n(135),a=n(115);e.exports=n(319)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(821),__esModule:!0}},function(e,t,n){n(822),n(827),n(828),n(829),e.exports=n(71).Symbol},function(e,t,n){"use strict";var r=n(88),o=n(97),i=n(90),a=n(96),c=n(320),s=n(823).KEY,l=n(133),u=n(222),f=n(226),p=n(154),d=n(72),h=n(227),m=n(228),v=n(824),y=n(825),g=n(113),b=n(114),w=n(156),k=n(115),x=n(217),O=n(134),C=n(225),_=n(826),E=n(323),j=n(224),S=n(89),P=n(152),R=E.f,T=S.f,D=_.f,A=r.Symbol,M=r.JSON,N=M&&M.stringify,I=d("_hidden"),L=d("toPrimitive"),F={}.propertyIsEnumerable,z=u("symbol-registry"),B=u("symbols"),V=u("op-symbols"),q=Object.prototype,H="function"==typeof A&&!!j.f,U=r.QObject,W=!U||!U.prototype||!U.prototype.findChild,K=i&&l((function(){return 7!=C(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=R(q,t);r&&delete q[t],T(e,t,n),r&&e!==q&&T(q,t,r)}:T,Y=function(e){var t=B[e]=C(A.prototype);return t._k=e,t},X=H&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},$=function(e,t,n){return e===q&&$(V,t,n),g(e),t=x(t,!0),g(n),o(B,t)?(n.enumerable?(o(e,I)&&e[I][t]&&(e[I][t]=!1),n=C(n,{enumerable:O(0,!1)})):(o(e,I)||T(e,I,O(1,{})),e[I][t]=!0),K(e,t,n)):T(e,t,n)},G=function(e,t){g(e);for(var n,r=v(t=k(t)),o=0,i=r.length;i>o;)$(e,n=r[o++],t[n]);return e},Z=function(e){var t=F.call(this,e=x(e,!0));return!(this===q&&o(B,e)&&!o(V,e))&&(!(t||!o(this,e)||!o(B,e)||o(this,I)&&this[I][e])||t)},J=function(e,t){if(e=k(e),t=x(t,!0),e!==q||!o(B,t)||o(V,t)){var n=R(e,t);return!n||!o(B,t)||o(e,I)&&e[I][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=D(k(e)),r=[],i=0;n.length>i;)o(B,t=n[i++])||t==I||t==s||r.push(t);return r},ee=function(e){for(var t,n=e===q,r=D(n?V:k(e)),i=[],a=0;r.length>a;)!o(B,t=r[a++])||n&&!o(q,t)||i.push(B[t]);return i};H||(c((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===q&&t.call(V,n),o(this,I)&&o(this[I],e)&&(this[I][e]=!1),K(this,e,O(1,n))};return i&&W&&K(q,e,{configurable:!0,set:t}),Y(e)}).prototype,"toString",(function(){return this._k})),E.f=J,S.f=$,n(322).f=_.f=Q,n(155).f=Z,j.f=ee,i&&!n(153)&&c(q,"propertyIsEnumerable",Z,!0),h.f=function(e){return Y(d(e))}),a(a.G+a.W+a.F*!H,{Symbol:A});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)d(te[ne++]);for(var re=P(d.store),oe=0;re.length>oe;)m(re[oe++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return o(z,e+="")?z[e]:z[e]=A(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?C(e):G(C(e),t)},defineProperty:$,defineProperties:G,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var ie=l((function(){j.f(1)}));a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return j.f(w(e))}}),M&&a(a.S+a.F*(!H||l((function(){var e=A();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!X(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!X(t))return t}),r[1]=t,N.apply(M,r)}}),A.prototype[L]||n(112)(A.prototype,L,A.prototype.valueOf),f(A,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(154)("meta"),o=n(114),i=n(97),a=n(89).f,c=0,s=Object.isExtensible||function(){return!0},l=!n(133)((function(){return s(Object.preventExtensions({}))})),u=function(e){a(e,r,{value:{i:"O"+ ++c,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&f.NEED&&s(e)&&!i(e,r)&&u(e),e}}},function(e,t,n){var r=n(152),o=n(224),i=n(155);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,c=n(e),s=i.f,l=0;c.length>l;)s.call(e,a=c[l++])&&t.push(a);return t}},function(e,t,n){var r=n(218);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(115),o=n(322).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t){},function(e,t,n){n(228)("asyncIterator")},function(e,t,n){n(228)("observable")},function(e,t,n){e.exports={default:n(831),__esModule:!0}},function(e,t,n){n(832),e.exports=n(71).Object.setPrototypeOf},function(e,t,n){var r=n(96);r(r.S,"Object",{setPrototypeOf:n(833).set})},function(e,t,n){var r=n(114),o=n(113),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(216)(Function.call,n(323).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){e.exports={default:n(835),__esModule:!0}},function(e,t,n){n(836);var r=n(71).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(96);r(r.S,"Object",{create:n(225)})},function(e,t,n){"use strict";n(44),n(838),n(304),n(214)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n(44),n(841)},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n(44),n(847)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"YuqueViewer",(function(){return eXe}));var r={};n.r(r),n.d(r,"getLocale",(function(){return hs}));var o={};n.r(o),n.d(o,"addImageProcess",(function(){return _s})),n.d(o,"tryAddWebpFormat",(function(){return Es})),n.d(o,"resizeImage",(function(){return js}));var i={};n.r(i),n.d(i,"getOssClient",(function(){return Ms})),n.d(i,"multipartUpload",(function(){return Is}));var a={};n.r(a),n.d(a,"getItem",(function(){return Fs})),n.d(a,"setItem",(function(){return zs}));var c={};n.r(c),n.d(c,"deepTreeTraversal",(function(){return Z_})),n.d(c,"deepTreeTraversalWithoutSelf",(function(){return J_})),n.d(c,"breadthTreeTraversal",(function(){return Q_})),n.d(c,"roughlyEqual",(function(){return CE})),n.d(c,"rectContainRect",(function(){return _E})),n.d(c,"pointInRect",(function(){return EE})),n.d(c,"rectIntersectRect",(function(){return jE})),n.d(c,"lineSlope",(function(){return SE})),n.d(c,"lineDistance",(function(){return PE})),n.d(c,"lineRadian",(function(){return RE})),n.d(c,"lineIntercept",(function(){return TE})),n.d(c,"lineIntersection",(function(){return DE})),n.d(c,"manhattanDistance",(function(){return AE})),n.d(c,"isBetween",(function(){return ME})),n.d(c,"isEqlPoint",(function(){return NE})),n.d(c,"lineSegmentIntersect",(function(){return IE})),n.d(c,"getLineEquation",(function(){return LE})),n.d(c,"lineSegmentIntersectRect",(function(){return FE})),n.d(c,"pointInLine",(function(){return zE})),n.d(c,"pointToPointDistance",(function(){return BE})),n.d(c,"isInRay",(function(){return VE})),n.d(c,"clockwiseAngle",(function(){return qE})),n.d(c,"radialQuadrantSegmentationGenerator",(function(){return HE})),n.d(c,"calculateLine",(function(){return aj})),n.d(c,"linesToGraph",(function(){return cj})),n.d(c,"snapPoint",(function(){return sj})),n.d(c,"pathFinding",(function(){return lj}));var s={};n.r(s),n.d(s,"Canvas",(function(){return Gj})),n.d(s,"Group",(function(){return Fj})),n.d(s,"FixedGroup",(function(){return sS})),n.d(s,"Shape",(function(){return mS})),n.d(s,"Path",(function(){return ZS})),n.d(s,"Html",(function(){return lP})),n.d(s,"Avatar",(function(){return yP})),n.d(s,"Image",(function(){return PP})),n.d(s,"Defs",(function(){return $R})),n.d(s,"LinearGradient",(function(){return fT})),n.d(s,"Rect",(function(){return zP})),n.d(s,"Ellipse",(function(){return $P})),n.d(s,"Marker",(function(){return xT})),n.d(s,"Use",(function(){return cR})),n.d(s,"Filter",(function(){return MT})),n.d(s,"FeDropShadow",(function(){return WT})),n.d(s,"ClipPath",(function(){return nD})),n.d(s,"Title",(function(){return yR})),n.d(s,"Text",(function(){return SR})),n.d(s,"Polygon",(function(){return FR}));var l={};n.r(l),n.d(l,"create",(function(){return Jq})),n.d(l,"fromMat4",(function(){return Qq})),n.d(l,"clone",(function(){return eH})),n.d(l,"copy",(function(){return tH})),n.d(l,"fromValues",(function(){return nH})),n.d(l,"set",(function(){return rH})),n.d(l,"identity",(function(){return oH})),n.d(l,"transpose",(function(){return iH})),n.d(l,"invert",(function(){return aH})),n.d(l,"adjoint",(function(){return cH})),n.d(l,"determinant",(function(){return sH})),n.d(l,"multiply",(function(){return lH})),n.d(l,"translate",(function(){return uH})),n.d(l,"rotate",(function(){return fH})),n.d(l,"scale",(function(){return pH})),n.d(l,"fromTranslation",(function(){return dH})),n.d(l,"fromRotation",(function(){return hH})),n.d(l,"fromScaling",(function(){return mH})),n.d(l,"fromMat2d",(function(){return vH})),n.d(l,"fromQuat",(function(){return yH})),n.d(l,"normalFromMat4",(function(){return gH})),n.d(l,"projection",(function(){return bH})),n.d(l,"str",(function(){return wH})),n.d(l,"frob",(function(){return kH})),n.d(l,"add",(function(){return xH})),n.d(l,"subtract",(function(){return OH})),n.d(l,"multiplyScalar",(function(){return CH})),n.d(l,"multiplyScalarAndAdd",(function(){return _H})),n.d(l,"exactEquals",(function(){return EH})),n.d(l,"equals",(function(){return jH})),n.d(l,"mul",(function(){return SH})),n.d(l,"sub",(function(){return PH}));var u={};n.r(u),n.d(u,"create",(function(){return RH})),n.d(u,"clone",(function(){return TH})),n.d(u,"fromValues",(function(){return DH})),n.d(u,"copy",(function(){return AH})),n.d(u,"set",(function(){return MH})),n.d(u,"add",(function(){return NH})),n.d(u,"subtract",(function(){return IH})),n.d(u,"multiply",(function(){return LH})),n.d(u,"divide",(function(){return FH})),n.d(u,"ceil",(function(){return zH})),n.d(u,"floor",(function(){return BH})),n.d(u,"min",(function(){return VH})),n.d(u,"max",(function(){return qH})),n.d(u,"round",(function(){return HH})),n.d(u,"scale",(function(){return UH})),n.d(u,"scaleAndAdd",(function(){return WH})),n.d(u,"distance",(function(){return KH})),n.d(u,"squaredDistance",(function(){return YH})),n.d(u,"length",(function(){return XH})),n.d(u,"squaredLength",(function(){return $H})),n.d(u,"negate",(function(){return GH})),n.d(u,"inverse",(function(){return ZH})),n.d(u,"normalize",(function(){return JH})),n.d(u,"dot",(function(){return QH})),n.d(u,"cross",(function(){return eU})),n.d(u,"lerp",(function(){return tU})),n.d(u,"random",(function(){return nU})),n.d(u,"transformMat2",(function(){return rU})),n.d(u,"transformMat2d",(function(){return oU})),n.d(u,"transformMat3",(function(){return iU})),n.d(u,"transformMat4",(function(){return aU})),n.d(u,"rotate",(function(){return cU})),n.d(u,"angle",(function(){return sU})),n.d(u,"zero",(function(){return lU})),n.d(u,"str",(function(){return uU})),n.d(u,"exactEquals",(function(){return fU})),n.d(u,"equals",(function(){return pU})),n.d(u,"len",(function(){return hU})),n.d(u,"sub",(function(){return mU})),n.d(u,"mul",(function(){return vU})),n.d(u,"div",(function(){return yU})),n.d(u,"dist",(function(){return gU})),n.d(u,"sqrDist",(function(){return bU})),n.d(u,"sqrLen",(function(){return wU})),n.d(u,"forEach",(function(){return kU}));var f={};n.r(f),n.d(f,"create",(function(){return xU})),n.d(f,"clone",(function(){return OU})),n.d(f,"length",(function(){return CU})),n.d(f,"fromValues",(function(){return _U})),n.d(f,"copy",(function(){return EU})),n.d(f,"set",(function(){return jU})),n.d(f,"add",(function(){return SU})),n.d(f,"subtract",(function(){return PU})),n.d(f,"multiply",(function(){return RU})),n.d(f,"divide",(function(){return TU})),n.d(f,"ceil",(function(){return DU})),n.d(f,"floor",(function(){return AU})),n.d(f,"min",(function(){return MU})),n.d(f,"max",(function(){return NU})),n.d(f,"round",(function(){return IU})),n.d(f,"scale",(function(){return LU})),n.d(f,"scaleAndAdd",(function(){return FU})),n.d(f,"distance",(function(){return zU})),n.d(f,"squaredDistance",(function(){return BU})),n.d(f,"squaredLength",(function(){return VU})),n.d(f,"negate",(function(){return qU})),n.d(f,"inverse",(function(){return HU})),n.d(f,"normalize",(function(){return UU})),n.d(f,"dot",(function(){return WU})),n.d(f,"cross",(function(){return KU})),n.d(f,"lerp",(function(){return YU})),n.d(f,"hermite",(function(){return XU})),n.d(f,"bezier",(function(){return $U})),n.d(f,"random",(function(){return GU})),n.d(f,"transformMat4",(function(){return ZU})),n.d(f,"transformMat3",(function(){return JU})),n.d(f,"transformQuat",(function(){return QU})),n.d(f,"rotateX",(function(){return eW})),n.d(f,"rotateY",(function(){return tW})),n.d(f,"rotateZ",(function(){return nW})),n.d(f,"angle",(function(){return rW})),n.d(f,"zero",(function(){return oW})),n.d(f,"str",(function(){return iW})),n.d(f,"exactEquals",(function(){return aW})),n.d(f,"equals",(function(){return cW})),n.d(f,"sub",(function(){return sW})),n.d(f,"mul",(function(){return lW})),n.d(f,"div",(function(){return uW})),n.d(f,"dist",(function(){return fW})),n.d(f,"sqrDist",(function(){return pW})),n.d(f,"len",(function(){return dW})),n.d(f,"sqrLen",(function(){return hW})),n.d(f,"forEach",(function(){return mW}));var p={};n.r(p),n.d(p,"Command",(function(){return GF})),n.d(p,"ContentEditor",(function(){return Az})),n.d(p,"Delegator",(function(){return Fz})),n.d(p,"Exporter",(function(){return oB})),n.d(p,"Highlight",(function(){return sB})),n.d(p,"Importer",(function(){return uB})),n.d(p,"Interaction",(function(){return zq})),n.d(p,"Paper",(function(){return Hq})),n.d(p,"Register",(function(){return Wq})),n.d(p,"Selector",(function(){return Xq})),n.d(p,"Viewport",(function(){return yW}));var d={};n.r(d),n.d(d,"Crud",(function(){return CW})),n.d(d,"Get",(function(){return PW})),n.d(d,"Change",(function(){return RW}));var h={};n.r(h),n.d(h,"map",(function(){return c0})),n.d(h,"addHashCdn",(function(){return s0})),n.d(h,"getHashCdn",(function(){return l0})),n.d(h,"generateHash",(function(){return u0})),n.d(h,"processImageModel",(function(){return p0})),n.d(h,"processData",(function(){return d0})),n.d(h,"exportData",(function(){return h0})),n.d(h,"uploadImage",(function(){return m0})),n.d(h,"onBeforeSave",(function(){return y0})),n.d(h,"executeCollapseExpand",(function(){return w0})),n.d(h,"enableCollapseExpand",(function(){return k0})),n.d(h,"collapseActive",(function(){return x0})),n.d(h,"mindmapInsertLine",(function(){return O0})),n.d(h,"getMindToolbarConfig",(function(){return C0})),n.d(h,"uploadMindmapImage",(function(){return _0}));var m={};n.r(m),n.d(m,"Mindmap",(function(){return R5})),n.d(m,"Flowchart",(function(){return V7})),n.d(m,"Show",(function(){return xee}));var v={};n.r(v),n.d(v,"Mind",(function(){return loe}));var y={};n.r(y),n.d(y,"Flowchart",(function(){return lse})),n.d(y,"Mindmap",(function(){return Nse})),n.d(y,"Show",(function(){return Hse}));var g={};n.r(g),n.d(g,"Editor",(function(){return $se})),n.d(g,"Reader",(function(){return Jse}));var b={};n.r(b),n.d(b,"Properties",(function(){return y})),n.d(b,"Note",(function(){return g})),n.d(b,"Toolbar",(function(){return lre})),n.d(b,"LinkEditor",(function(){return Ere})),n.d(b,"ShapeOverlay",(function(){return Sre})),n.d(b,"Dropdown",(function(){return ere})),n.d(b,"ZoomTool",(function(){return Bre})),n.d(b,"ContextMenu",(function(){return v}));for(var w=n(0),k=n.n(w),x=n(326),O=n.n(x),C=n(229),_=n.n(C),E=n(161),j=n.n(E),S=n(157),P=n.n(S),R=n(230),T=n.n(R),D=n(232),A=n.n(D),M=n(158),N=n.n(M),I=n(159),L=n.n(I),F=n(163),z=n.n(F),B=n(162),V=n.n(B),q=n(160),H=n.n(q),U=n(164),W=n.n(U),K=n(231),Y=n.n(K),X=n(234),$=n.n(X),G=n(233),Z=n.n(G),J=n(235),Q=n.n(J),ee="undefined"!=typeof navigator?navigator.userAgent:"",te=/edge/i.test(ee),ne=!te&&/chrome/i.test(ee),re=/firefox/i.test(ee),oe=!te&&!ne&&/safari/i.test(ee),ie=/mobile/i.test(ee),ae=/yuque-desktop\/[\d.]+/i.test(ee),ce=/os [\.\_\d]+ like mac os/i.test(ee),se=/android/i.test(ee),le=!ce&&/mac os x/i.test(ee),ue=/windows\s*(?:nt)?\s*[\.\_\d]+/i.test(ee),fe={edge:te,chrome:ne,firefox:re,safari:oe,mobile:ie,desktop:ae,ios:ce,android:se,macos:le,windows:ue},pe={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},de={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:le?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},he={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},me=1;20>me;me++)he["f"+me]=111+me;function ve(e,t,n){!t||"byKey"in t||(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return ye(e,t)})),o=function(e){return r.some((function(t){return ge(t,e)}))};return null==n?o:o(n)}function ye(e,t){var n=t&&t.byKey,r={},o=(e=e.replace("++","+add")).split("+"),i=o.length;for(var a in pe)r[pe[a]]=!1;var c=!0,s=!1,l=void 0;try{for(var u,f=o[Symbol.iterator]();!(c=(u=f.next()).done);c=!0){var p=u.value,d=p.endsWith("?");d&&(p=p.slice(0,-1));var h=we(p),m=pe[h];1!==i&&m||(n?r.key=h:r.which=be(p)),m&&(r[m]=!d||null),1===i&&!m&&n&&(r.shiftKey=null)}}catch(e){s=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(s)throw l}}return r}function ge(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&(null!=(o="key"===n?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r)return!1}return!0}function be(e){return e=we(e),he[e]||e.toUpperCase().charCodeAt(0)}function we(e){return e=e.toLowerCase(),de[e]||e}var ke=ve,xe=P.a.map((function(e){return e.substring(1)})),Oe=N.a.map((function(e){return e.substring(1)})),Ce=L.a.map((function(e){return e.substring(1)})),_e=z.a.map((function(e){return e.substring(1)})),Ee=V.a.map((function(e){return e.substring(1)})),je=H.a.map((function(e){return e.substring(1)})),Se=W.a.map((function(e){return e.substring(1)})),Pe=T.a.map((function(e){return e.substring(1)})),Re=A.a.map((function(e){return e.substring(1)})),Te=_.a.map((function(e){return e.substring(1)})),De=[".txt"].concat(j.a).map((function(e){return e.substring(1)})),Ae=Y.a.map((function(e){return e.substring(1)})),Me=$.a.map((function(e){return e.substring(1)})),Ne=Z.a.map((function(e){return e.substring(1)})),Ie=Q.a.map((function(e){return e.substring(1)})),Le={FILE_EXT:Te,FILE_EXT_STR:Fe(Te),IMAGE_EXT:xe,IMAGE_EXT_STR:Fe(xe),VIDEO_EXT:Oe,VIDEO_EXT_STR:Fe(Oe),OFFICE_EXT:Pe,OFFICE_EXT_STR:Fe(Pe),MAC_OFFICE_EXT:Re,MAC_OFFICE_STR:Fe(Re),DOC_MS_OFFICE_EXT:Ae,DOC_MS_OFFICE_STR:Fe(Ae),DOC_MAC_OFFICE_EXT:Me,DOC_MAC_OFFICE_STR:Fe(Me),DOC_DESIGN_EXT:Ne,DOC_DESIGN_STR:Fe(Ne),DOC_MIND_EXT:Ie,DOC_MIND_STR:Fe(Ie),TEXT_FILE_EXT:De,AUDIO_EXT:Ce,PRESENTATION_EXT:_e,SHEET_EXT:Ee,COMPRESS_EXT:je,MMAP_EXT:Se};function Fe(e){return e.map((function(e){return".".concat(e)})).join(", ")}var ze={"image/jpeg":["jpeg","jpg","jpe"],"image/png":["png"],"image/gif":["gif"],"image/vnd.wap.wbmp":["wbmp"],"image/tiff":["tiff","tiff"],"image/vnd.adobe.photoshop":["psd"],"image/svg+xml":["svg","svgz"],"text/jsx":["jsx"],"text/less":["less"],"text/css":["css"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/csv":["csv"],"text/xml":["xml"],"text/x-vcard":["vcf"],"text/x-vcalendar":["vcs"],"text/markdown":["md"],"text/plain":["txt"],"text/richtext":["rtx"],"text/rtf":["rtf"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/javascript":["js"],"text/yaml":["yaml","yml"],"audio/mp3":["mp3"],"audio/mp4":["mp4","mp4a"],"video/mp4":["mp4"],"audio/mpeg":["mpeg","mp2","mp3"],"audio/ogg":["oga"],"audio/wav":["wav"],"audio/wave":["wav"],"audio/webm":["weba"],"video/x-msvideo":["avi"],"video/quicktime":["mov","qt"],"video/ogg":["ogv"],"video/x-sgi-movie":["movie"],"application/rss+xml":["rss"],"application/json":["json"],"application/zip":["zip"],"application/gzip":["gzip"],"application/pdf":["pdf"],"application/postscript":["ai","eps","ps"],"application/msword":["doc","dot"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.ms-fontobject":["eot"],"application/vnd.android.package-archive":["apk"],"application/x-apple-diskimage":["dmg"],"application/x-iwork-keynote-sffkey":["key"],"application/x-iwork-pages-sffpages":["pages"],"application/x-iwork-keynote-sffnumbers":["numbers"],"application/x-iwork-numbers-sffnumbers":["numbers"]};function Be(e){if(!e)return"";var t;if(t="string"==typeof e?e:e.name){if((t=t.toLowerCase()).endsWith(".mindnode.zip"))return"mindnode.zip";if(t.endsWith(".xmind.zip"))return"xmind.zip";if(t.endsWith(".mmap.zip"))return"mmap.zip";if(t.endsWith(".mpp.zip"))return"mpp.zip"}var n=t&&t.split(".").pop()||"",r=e.type&&ze[e.type];return r?r.includes(n)?n:r[0]:n}var Ve={getFileExtname:Be,getFileSize:function(e,t){return t=t||(ue?2:10),O()(e,1048576>e?{base:t,exponent:1,round:0}:{base:t,exponent:2,round:1})},isSizeLimit:function(e,t){return{file:524288e3,video:209715200,image:10485760,previewOffice:104857600,previewMacOffice:209715200,previewPdf:104857600}[e]>t},isImage:function(e){var t=Be(e);return Le.IMAGE_EXT.includes(t)},isFile:function(e){var t=Be(e);return Le.FILE_EXT.includes(t)},isTextFile:function(e){var t=Be(e);return Le.TEXT_FILE_EXT.includes(t)},isVideo:function(e){var t=Be(e);return Le.VIDEO_EXT.includes(t)},isOffice:function(e){var t=Be(e);return Le.OFFICE_EXT.includes(t)},isMacOffice:function(e){var t=Be(e);return Le.MAC_OFFICE_EXT.includes(t)},isPdf:function(e){var t=Be(e);return["pdf"].includes(t)},isAudio:function(e){var t=Be(e);return Le.AUDIO_EXT.includes(t)},isPresentation:function(e){var t=Be(e);return Le.PRESENTATION_EXT.includes(t)},isSheet:function(e){var t=Be(e);return Le.SHEET_EXT.includes(t)},isMMap:function(e){var t=Be(e);return Le.MMAP_EXT.includes(t)},isCompressed:function(e){var t=Be(e);return Le.COMPRESS_EXT.includes(t)}},qe=n(8),He=n.n(qe),Ue=n(327),We=n.n(Ue),Ke=n(328),Ye=n.n(Ke);function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $e=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.object=t,this.listeners={}}var t,n,r;return t=e,(n=[{key:"on",value:function(e,t,n){this.listeners[e]&&!n||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=this.listeners[e];if(n)for(var r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1);break}}},{key:"trigger",value:function(){var e=Array.prototype.slice.call(arguments),t=e.shift(),n=this.listeners[t];if(n){for(var r,o=0;o<n.length&&!1!==(r=n[o].apply(this.object,e));o++);return r}}}])&&Xe(t.prototype,n),r&&Xe(t,r),e}();function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Je=fe.dingtalk;function Qe(e){var t=function(e){var t=parseInt(e,10).toString(16).toUpperCase();return t.length>1?t:"0"+t};return e.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/gi,(function(e,n,r,o){return"#"+t(n)+t(r)+t(o)}))}function et(e){return e.split("-").map((function(e,t){return t>0?e.charAt(0).toUpperCase()+e.substr(1):e})).join("")}function tt(e,t){return e.nodeType===Node.ELEMENT_NODE&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector).call(e,t)}function nt(e){return e?e.ownerDocument||e.document||e:document}function rt(e){if(!e)return window;var t=nt(e);return t.parentWindow||t.defaultView||window}function ot(e,t){if(t=t||document,!e)return[];if("string"==typeof e){var n=e.length;if("@"===e.charAt(0)&&(e=e.substr(1)),e.length!==n||/<.+>/.test(e)){var r,o=0===e.indexOf("<tr"),i=0===e.indexOf("<td");if(e=e.trim(),o&&(e="<table><tbody>".concat(e,"</tbody></table>")),i&&(e="<table><tbody><tr>".concat(e,"</tr></tbody></table>")),Je)(r=document.createElement("div")).innerHTML=e;else r=(new DOMParser).parseFromString(e,"text/html").body;return o?r.querySelector("tbody").childNodes:i?r.querySelector("tr").childNodes:r.childNodes}return t.querySelectorAll(e)}if(e.constructor===NodeList)return e;if(void 0!==e.length&&e.each){var a=[];return e.each((function(e){a.push(e)})),a}if(Array.isArray(e))return e;if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(var c=[],s=e.firstChild;s;)c.push(s),s=s.nextSibling;return c}return[e]}var it=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.nodeType&&(t=[t]),this.events=[];for(var r=0;r<t.length;r++)this[r]=t[r],this.events[r]=new $e;this.length=t.length,this.length>0&&(this.doc=nt(n),this.root=n,this.name=this[0].nodeName?this[0].nodeName.toLowerCase():"",this.type=this.length>0?this[0].nodeType:null,this.win=rt(this[0]))}var t,n,r;return t=e,(n=[{key:"attr",value:function(e,t){var n=this;return void 0===e?function(e){for(var t,n={},r=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g;t=r.exec(e);){var o=(t[1]||t[2]||t[4]||t[6]).toLowerCase(),i=(t[2]?t[3]:t[4]?t[5]:t[7])||"";n[o]=i}return n}(this.clone(!1)[0].outerHTML):"object"===Ge(e)?(Object.keys(e).forEach((function(t){var r=e[t];n.attr(t,r)})),this):void 0===t?this.length>0&&this.isElement()?this[0].getAttribute(e):"":(this.each((function(n){n.setAttribute(e,t)})),this)}},{key:"css",value:function(e,t){var n=this;return void 0===e?function(e){e=e.replace(/&quot;/g,'"');for(var t,n={},r=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g;t=r.exec(e);){var o=t[1].toLowerCase().trim(),i=Qe(t[2]).trim();n[o]=i}return n}(this.attr("style")||""):"object"===Ge(e)?(Object.keys(e).forEach((function(t){var r=e[t];n.css(t,r)})),this):void 0===t?0===this.length||this.isText()?"":this[0].style[et(e)]||function(e,t){var n=rt(e),r=et(t);return n.getComputedStyle(e,null)[r]}(this[0],e)||"":(this.each((function(n){n.style[et(e)]=t})),this)}},{key:"children",value:function(t){if(0===this.length)return new e([]);var n=this[0].childNodes;if(t){for(var r=[],o=0;o<n.length;o++){var i=n[o];tt(i,t)&&r.push(i)}return new e(r)}return new e(n)}},{key:"remove",value:function(){var e=this;return this.each((function(t,n){t.parentNode&&(t.parentNode.removeChild(t),delete e[n])})),this.length=0,this}},{key:"each",value:function(e){for(var t=0;t<this.length&&!1!==e(this[t],t);t++);return this}},{key:"isElement",value:function(){return this.type===Node.ELEMENT_NODE}},{key:"isText",value:function(){return this.type===Node.TEXT_NODE}},{key:"addClass",value:function(e){return this.each((function(t){t.classList.add(e)})),this}},{key:"removeClass",value:function(e){return this.each((function(t){t.classList.remove(e)})),this}},{key:"hasClass",value:function(e){return!(!this[0]||!this[0].classList)&&this[0].classList.contains(e)}},{key:"append",value:function(e){var t=this;return this.each((function(n){for(var r=ot(e,t.root),o=0;o<r.length;o++){var i=r[o];"string"==typeof e?n.appendChild(i.cloneNode(!0)):n.appendChild(i)}})),this}},{key:"text",value:function(){return this.length>0?this[0].textContent:""}},{key:"html",value:function(e){return void 0===e?this.length>0?this[0].innerHTML:"":(this.each((function(t){t.innerHTML=e})),this)}},{key:"find",value:function(t){var n=[];return this[0]&&this.isElement()&&(n=this[0].querySelectorAll(t)),new e(n)}},{key:"on",value:function(e,t){var n=this;return this.each((function(r,o){r.addEventListener(e,t,!1),n.events[o].on(e,t)})),this}},{key:"off",value:function(e,t){var n=this;return this.each((function(r,o){r.removeEventListener(e,t,!1),n.events[o].off(e,t)})),this}}])&&Ze(t.prototype,n),r&&Ze(t,r),e}();function at(e,t){var n=ot(e,t);return new it(n,t)}var ct=n(1),st=n.n(ct),lt=(n(183),n(6)),ut=n.n(lt),ft=n(41),pt=n.n(ft),dt=n(5),ht=n.n(dt),mt=n(21),vt=n(4),yt=n(17),gt=n(79),bt={adjustX:1,adjustY:1},wt=[0,0],kt={left:{points:["cr","cl"],overflow:bt,offset:[-4,0],targetOffset:wt},right:{points:["cl","cr"],overflow:bt,offset:[4,0],targetOffset:wt},top:{points:["bc","tc"],overflow:bt,offset:[0,-4],targetOffset:wt},bottom:{points:["tc","bc"],overflow:bt,offset:[0,4],targetOffset:wt},topLeft:{points:["bl","tl"],overflow:bt,offset:[0,-4],targetOffset:wt},leftTop:{points:["tr","tl"],overflow:bt,offset:[-4,0],targetOffset:wt},topRight:{points:["br","tr"],overflow:bt,offset:[0,-4],targetOffset:wt},rightTop:{points:["tl","tr"],overflow:bt,offset:[4,0],targetOffset:wt},bottomRight:{points:["tr","br"],overflow:bt,offset:[0,4],targetOffset:wt},rightBottom:{points:["bl","br"],overflow:bt,offset:[4,0],targetOffset:wt},bottomLeft:{points:["tl","bl"],overflow:bt,offset:[0,4],targetOffset:wt},leftBottom:{points:["br","bl"],overflow:bt,offset:[-4,0],targetOffset:wt}},xt=function(e){var t=e.overlay,n=e.prefixCls,r=e.id,o=e.overlayInnerStyle;return w.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:o},"function"==typeof t?t():t)},Ot=Object(w.forwardRef)((function(e,t){var n=e.overlayClassName,r=e.trigger,o=void 0===r?["hover"]:r,i=e.mouseEnterDelay,a=void 0===i?0:i,c=e.mouseLeaveDelay,s=void 0===c?.1:c,l=e.overlayStyle,u=e.prefixCls,f=void 0===u?"rc-tooltip":u,p=e.children,d=e.onVisibleChange,h=e.afterVisibleChange,m=e.transitionName,v=e.animation,y=e.placement,g=void 0===y?"right":y,b=e.align,k=void 0===b?{}:b,x=e.destroyTooltipOnHide,O=void 0!==x&&x,C=e.defaultVisible,_=e.getTooltipContainer,E=e.overlayInnerStyle,j=Object(yt.a)(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),S=Object(w.useRef)(null);Object(w.useImperativeHandle)(t,(function(){return S.current}));var P=Object(vt.a)({},j);"visible"in e&&(P.popupVisible=e.visible);var R=!1,T=!1;if("boolean"==typeof O)R=O;else if(O&&"object"===Object(mt.a)(O)){var D=O.keepParent;R=!0===D,T=!1===D}return w.createElement(gt.a,Object.assign({popupClassName:n,prefixCls:f,popup:function(){var t=e.arrowContent,n=void 0===t?null:t,r=e.overlay,o=e.id;return[w.createElement("div",{className:"".concat(f,"-arrow"),key:"arrow"},n),w.createElement(xt,{key:"content",prefixCls:f,id:o,overlay:r,overlayInnerStyle:E})]},action:o,builtinPlacements:kt,popupPlacement:g,ref:S,popupAlign:k,getPopupContainer:_,onPopupVisibleChange:d,afterPopupVisibleChange:h,popupTransitionName:m,popupAnimation:v,defaultPopupVisible:C,destroyPopupOnHide:R,autoDestroy:T,mouseLeaveDelay:s,popupStyle:l,mouseEnterDelay:a},P),p)})),Ct=n(2),_t=n.n(Ct),Et={adjustX:1,adjustY:1},jt={adjustX:0,adjustY:0},St=[0,0];function Pt(e){return"boolean"==typeof e?e?Et:jt:ht()(ht()({},jt),e)}var Rt=w.isValidElement;function Tt(e,t,n){return Rt(e)?w.cloneElement(e,"function"==typeof n?n():n):t}function Dt(e,t){return Tt(e,e,t)}var At=n(23),Mt=n.n(At),Nt=n(26),It=n.n(Nt),Lt=n(27),Ft=n.n(Lt),zt=n(28),Bt=n.n(zt),Vt={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},qt={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Ht={lang:ht()({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Vt),timePickerLocale:ht()({},qt)},Ut="${label} is not a valid ${type}",Wt={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},DatePicker:Ht,TimePicker:qt,Calendar:Ht,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click sort by descend",triggerAsc:"Click sort by ascend",cancelSort:"Click to cancel sort"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{defaultValidateMessages:{default:"Field validation error ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Ut,method:Ut,array:Ut,object:Ut,number:Ut,date:Ut,boolean:Ut,integer:Ut,float:Ut,regexp:Ut,email:Ut,url:Ut,hex:Ut},string:{len:"${label} must be ${len} characters",min:"${label} at least ${min} characters",max:"${label} up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} minimum value is ${min}",max:"${label} maximum value is ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}}},Kt=Wt,Yt=Object(w.createContext)(void 0),Xt=function(e){Ft()(n,e);var t=Bt()(n);function n(){return Mt()(this,n),t.apply(this,arguments)}return It()(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||Kt[t||"global"],r=this.context,o=t&&r?r[t]:{};return ht()(ht()({},"function"==typeof n?n():n),o||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?Kt.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(w.Component);Xt.defaultProps={componentName:"global"},Xt.contextType=Yt;var $t=function(){var e=(0,w.useContext(rn).getPrefixCls)("empty-img-default");return w.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},w.createElement("g",{fill:"none",fillRule:"evenodd"},w.createElement("g",{transform:"translate(24 31.67)"},w.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),w.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),w.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),w.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),w.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),w.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),w.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},w.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),w.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Gt=function(){var e=(0,w.useContext(rn).getPrefixCls)("empty-img-simple");return w.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},w.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},w.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),w.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},w.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),w.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},Zt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Jt=w.createElement($t,null),Qt=w.createElement(Gt,null),en=function(e){return w.createElement(on,null,(function(t){var n=t.getPrefixCls,r=t.direction,o=e.className,i=e.prefixCls,a=e.image,c=void 0===a?Jt:a,s=e.description,l=e.children,u=e.imageStyle,f=Zt(e,["className","prefixCls","image","description","children","imageStyle"]);return w.createElement(Xt,{componentName:"Empty"},(function(e){var t,a=n("empty",i),p=void 0!==s?s:e.description,d="string"==typeof p?p:"empty",h=null;return h="string"==typeof c?w.createElement("img",{alt:d,src:c}):c,w.createElement("div",ht()({className:_t()(a,(t={},ut()(t,"".concat(a,"-normal"),c===Qt),ut()(t,"".concat(a,"-rtl"),"rtl"===r),t),o)},f),w.createElement("div",{className:"".concat(a,"-image"),style:u},h),p&&w.createElement("p",{className:"".concat(a,"-description")},p),l&&w.createElement("div",{className:"".concat(a,"-footer")},l))}))}))};en.PRESENTED_IMAGE_DEFAULT=Jt,en.PRESENTED_IMAGE_SIMPLE=Qt;var tn=en,nn=function(e){return w.createElement(on,null,(function(t){var n=(0,t.getPrefixCls)("empty");switch(e){case"Table":case"List":return w.createElement(tn,{image:tn.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return w.createElement(tn,{image:tn.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return w.createElement(tn,null)}}))},rn=w.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:nn}),on=rn.Consumer;var an=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},cn=an("success","processing","error","default","warning"),sn=an("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),ln=new RegExp("^(".concat(sn.join("|"),")(-inverse)?$"));function un(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||!0===n.__ANT_SWITCH||!0===n.__ANT_CHECKBOX||"button"===e.type)&&e.props.disabled){var r=function(e,t){var n={},r=ht()({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),o=r.picked,i=r.omitted,a=ht()(ht()({display:"inline-block"},o),{cursor:"not-allowed",width:e.props.block?"100%":null}),c=Dt(e,{style:ht()(ht()({},i),{pointerEvents:"none"}),className:null});return w.createElement("span",{style:a,className:_t()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},c)}return e}var fn=w.forwardRef((function(e,t){var n,r=w.useContext(rn),o=r.getPopupContainer,i=r.getPrefixCls,a=r.direction,c=w.useState(!!e.visible||!!e.defaultVisible),s=pt()(c,2),l=s[0],u=s[1];w.useEffect((function(){"visible"in e&&u(e.visible)}),[e.visible]);var f=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},p=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?5:t,r=e.horizontalArrowShift,o=void 0===r?16:r,i=e.verticalArrowShift,a=void 0===i?8:i,c=e.autoAdjustOverflow,s={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(o+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+n)]},topRight:{points:["br","tc"],offset:[o+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+n)]},bottomRight:{points:["tr","bc"],offset:[o+n,4]},rightBottom:{points:["bl","cr"],offset:[4,a+n]},bottomLeft:{points:["tl","bc"],offset:[-(o+n),4]},leftBottom:{points:["br","cl"],offset:[-4,a+n]}};return Object.keys(s).forEach((function(t){s[t]=e.arrowPointAtCenter?ht()(ht()({},s[t]),{overflow:Pt(c),targetOffset:St}):ht()(ht()({},kt[t]),{overflow:Pt(c)}),s[t].ignoreShake=!0})),s}({arrowPointAtCenter:n,autoAdjustOverflow:r})},d=e.prefixCls,h=e.openClassName,m=e.getPopupContainer,v=e.getTooltipContainer,y=e.overlayClassName,g=e.color,b=e.overlayInnerStyle,k=e.children,x=i("tooltip",d),O=l;!("visible"in e)&&f()&&(O=!1);var C,_,E,j,S=un(Rt(k)?k:w.createElement("span",null,k),x),P=S.props,R=_t()(P.className,ut()({},h||"".concat(x,"-open"),!0)),T=_t()(y,(n={},ut()(n,"".concat(x,"-rtl"),"rtl"===a),ut()(n,"".concat(x,"-").concat(g),g&&ln.test(g)),n));return g&&!ln.test(g)&&(C=ht()(ht()({},b),{background:g}),_={background:g}),w.createElement(Ot,ht()({},e,{prefixCls:x,overlayClassName:T,getTooltipContainer:m||v||o,ref:t,builtinPlacements:p(),overlay:(E=e.title,j=e.overlay,0===E?E:j||E||""),visible:O,onVisibleChange:function(t){"visible"in e||u(!f()&&t),e.onVisibleChange&&!f()&&e.onVisibleChange(t)},onPopupAlign:function(e,t){var n=p(),r=Object.keys(n).filter((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}))[0];if(r){var o=e.getBoundingClientRect(),i={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?i.top="".concat(o.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(i.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?i.left="".concat(o.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(i.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(i.left," ").concat(i.top)}},overlayInnerStyle:C,arrowContent:w.createElement("span",{className:"".concat(x,"-arrow-content"),style:_})}),O?Dt(S,{className:R}):S)}));fn.displayName="Tooltip",fn.defaultProps={placement:"top",transitionName:"zoom-big-fast",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var pn=fn,dn=(n(384),pn),hn=(n(382),.05);function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn(e);if(t){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bn(this,n)}}function bn(e,t){return!t||"object"!==mn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kn,xn={"zh-cn":{next:"下一张",prev:"上一张",zoomIn:"放大",zoomOut:"缩小",originSize:"实际尺寸",bestSize:"适应屏幕"},en:{next:"Next",prev:"Previous",zoomIn:"Zoom In",zoomOut:"Zoom Out",originSize:"Origin Size",bestSize:"Best Size"}}[(kn=window.appData)&&"zh-cn"===kn.locale?"zh-cn":"en"],On=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(i,e);var t,n,r,o=gn(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).state={prevStatus:"default",nextStatus:"default",zoomInStatus:"default",zoomOutStatus:"default",originSizeStatus:"default",bestSizeStatus:"default"},e}return t=i,(n=[{key:"afterZoom",value:function(){var e,t=this.props.imageBrowser,n=t.getCurrentZoomLevel(),r=t.getInitialZoomLevel();n===r&&(e="activated"),1===r&&(e="disable"),this.setState({zoomOutStatus:n===hn?"disable":"default",zoomInStatus:5===n?"disable":"default",originSizeStatus:1===n?"activated":"default",bestSizeStatus:e})}},{key:"afterChange",value:function(){var e=this.props.imageBrowser.getCount();this.setState({nextStatus:1===e?"disable":"default",prevStatus:1===e?"disable":"default"})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.imageBrowser;t.on("afterzoom",(function(){e.afterZoom()})),t.on("afterchange",(function(){e.afterChange()})),t.on("resize",(function(){setTimeout((function(){e.afterChange(),e.afterZoom()}),333)})),this.setState({tooltipContainer:this.tooltipContainer})}},{key:"renderBtn",value:function(e,t,n,r){var o=this.state.tooltipContainer;return o?k.a.createElement(dn,{title:t,getPopupContainer:function(){return o},mouseEnterDelay:1},k.a.createElement("span",{className:"lake-pswp-".concat(e," btn ").concat(n),onClick:r})):""}},{key:"render",value:function(){var e=this,t=this.props,n=t.imageBrowser,r=t.shouldShowNavigation,o=this.state,i=o.prevStatus,a=o.nextStatus,c=o.zoomInStatus,s=o.zoomOutStatus,l=o.originSizeStatus,u=o.bestSizeStatus;return k.a.createElement("div",{className:"lake-pswp-tool-bar"},k.a.createElement("div",{ref:function(t){e.tooltipContainer=t}}),k.a.createElement("div",{className:"pswp-toolbar-content"},r&&k.a.createElement(k.a.Fragment,null,this.renderBtn("arrow-left",xn.prev,i,(function(){"disable"!==i&&n.prev()})),k.a.createElement("span",{className:"lake-pswp-counter"}),this.renderBtn("arrow-right",xn.next,a,(function(){"disable"!==a&&n.next()})),k.a.createElement("span",{className:"separation"})),this.renderBtn("zoom-in",xn.zoomIn,c,(function(){"disable"!==c&&n.zoomIn()})),this.renderBtn("zoom-out",xn.zoomOut,s,(function(){"disable"!==s&&n.zoomOut()})),this.renderBtn("origin-size",xn.originSize,l,(function(){"disable"!==l&&n.zoomToOriginSize()})),this.renderBtn("best-size",xn.bestSize,u,(function(){"disable"!==u&&n.zoomToBestSize()}))))}}])&&vn(t.prototype,n),r&&vn(t,r),i}(k.a.Component);On.propTypes={imageBrowser:st.a.object,shouldShowNavigation:st.a.bool};n(394);var Cn=n(22),_n=n.n(Cn);function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e,t){return(Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function An(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nn(e);if(t){var o=Nn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mn(this,n)}}function Mn(e,t){return!t||"object"!==En(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var In=ke,Ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}(i,e);var t,n,r,o=An(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Rn(this,i),e=o.call(this);var n=t.pswpOptions||{};return e.options=Sn(Sn(Sn({shouldToggleOnHover:!0,shouldShowNavigation:!0,closable:!0,container:at(document.body)},window.__imageBrowser_options||{}),t),{},{pswpOptions:Sn({shareEl:!1,fullscreenEl:!1,zoomEl:!1,history:!1,dragging:fe.mobile,closeOnScroll:!1,preloaderEl:!1,captionEl:!1,counterEl:!1,clickToCloseNonZoomable:!1,showAnimationDuration:0,hideAnimationDuration:0,closeOnVerticalDrag:fe.mobile,tapToClose:!0,barsSize:{top:44,bottom:80}},n)}),e.options.closable||(e.options.pswpOptions.escKey=!1,e.options.pswpOptions.closeElClasses=[]),e.images=[],e.pswpDestroy=!0,e.timeouts={},e._initRoot(),e}return t=i,(n=[{key:"_initRoot",value:function(){var e=this,t=this.options.closable?'<button class="pswp__button lake-pswp-button-close" title="Close (Esc)"></button>':"",n=at('\n    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n        <div class="pswp__bg"></div>\n        <div class="pswp__scroll-wrap">\n            <div class="pswp__container">\n                <div class="pswp__item"></div>\n                <div class="pswp__item"></div>\n                <div class="pswp__item"></div>\n            </div>\n            <div class="pswp__ui pswp__ui--hidden">\n                '.concat(t,'\n                <div class="lake-pswp-custom-top-bar"></div>\n            </div>\n        </div>\n    </div>\n    ')),r=n.find(".lake-pswp-custom-top-bar"),o=n.find(".lake-pswp-button-close");this.root=n,this.toolbarContainer=r,this.closeBtnContainer=o,fe.mobile?n.addClass("lake-pswp-mobile"):n.addClass("lake-pswp-pc"),this.options.container?at(this.options.container).append(n):at(document.body).append(n),He.a.render(k.a.createElement(On,{imageBrowser:this,shouldShowNavigation:this.options.shouldShowNavigation}),r[0],(function(){fe.mobile||(e.bindKeyboardEvnet(),e.bindClickEvent(),e.options.shouldToggleOnHover&&e.hoverControllerFadeInAndOut(r))}))}},{key:"hoverControllerFadeInAndOut",value:function(){var e=this,t=this.toolbarContainer,n=this.closeBtnContainer;t.on("mouseenter",(function(){e.removeFadeOut(t,"toolbarFadeInAndOut"),e.removeFadeOut(n,"closeFadeInAndOut")})),t.on("mouseleave",(function(){e.fadeOut(t,"toolbarFadeInAndOut"),e.fadeOut(n,"closeFadeInAndOut")})),n.on("mouseenter",(function(){e.removeFadeOut(t,"toolbarFadeInAndOut"),e.removeFadeOut(n,"closeFadeInAndOut")})),n.on("mouseleave",(function(){e.fadeOut(t,"toolbarFadeInAndOut"),e.fadeOut(n,"closeFadeInAndOut")}))}},{key:"removeFadeOut",value:function(e,t){var n=this.timeouts;n[t]&&clearTimeout(n[t]),e.removeClass("pswp-fade-out")}},{key:"fadeOut",value:function(e,t){var n=this.timeouts;n[t]&&clearTimeout(n[t]),n[t]=setTimeout((function(){e.addClass("pswp-fade-out")}),3e3)}},{key:"bindClickEvent",value:function(){var e=this,t=this.root,n=this.closeBtnContainer;t.on("click",(function(t){var n=t.target;(n=at(n)).hasClass("pswp__img")&&setTimeout((function(){e.currentZoom=null,e.afterZoom()}),366),(n.hasClass("pswp__bg")||n.hasClass("lake-pswp-tool-bar"))&&e.close()})),n.on("click",(function(){e.close()}))}},{key:"prev",value:function(){this.pswp.prev()}},{key:"next",value:function(){this.pswp.next()}},{key:"renderCounter",value:function(){var e=this.toolbarContainer,t=this.pswp;e.find(".lake-pswp-counter").html("".concat(t.getCurrentIndex()+1," / ").concat(t.items.length))}},{key:"getCurrentZoomLevel",value:function(){return this.currentZoom&&Number(this.currentZoom.toFixed(2))||this.pswp&&Number(this.pswp.getZoomLevel().toFixed(2))}},{key:"zoomTo",value:function(e){var t=this.pswp;t.zoomTo(e,{x:t.viewportSize.x/2,y:t.viewportSize.y/2},100),this.currentZoom=e,this.afterZoom()}},{key:"zoomIn",value:function(){var e=this.getCurrentZoomLevel(),t=e+.2;5!==e&&(t>5&&(t=5),this.zoomTo(t))}},{key:"zoomOut",value:function(){var e=this.getCurrentZoomLevel();if(e!==hn){var t=e-.2;t<hn&&(t=hn),this.zoomTo(t)}}},{key:"bindKeyboardEvnet",value:function(){var e=this;this.root.on("keydown",(function(t){(t.metaKey||t.ctrlKey)&&187===t.keyCode&&(t.preventDefault(),e.zoomIn()),In("mod+-",t)&&(t.preventDefault(),e.zoomOut())}))}},{key:"zoomToOriginSize",value:function(){this.zoomTo(1)}},{key:"zoomToBestSize",value:function(){var e=this.getInitialZoomLevel();this.zoomTo(e)}},{key:"updateCursor",value:function(){var e=this.root,t=this.getCurrentZoomLevel(),n=this.getInitialZoomLevel();1===t?e.addClass("pswp--zoomed-in"):t===n&&e.removeClass("pswp--zoomed-in")}},{key:"getInitialZoomLevel",value:function(){return Number(this.pswp.currItem.initialZoomLevel.toFixed(2))}},{key:"afterZoom",value:function(){this.updateCursor(),this.emit("afterzoom")}},{key:"getCount",value:function(){return this.pswp.items.length}},{key:"afterChange",value:function(){var e=this;if(!fe.mobile){var t=this.getInitialZoomLevel();this.renderCounter(),this.currentZoom=t,setTimeout((function(){e.afterZoom()}),100),this.emit("afterchange"),this.currentZoom=this.getInitialZoomLevel()}this.setWhiteBackground()}},{key:"bindPswpEvent",value:function(){var e=this,t=this.pswp;t.listen("afterChange",(function(){e.afterChange()})),t.listen("destroy",(function(){e.pswpDestroy=!0})),t.listen("resize",(function(){e.emit("resize")})),t.listen("imageLoadComplete",(function(){e.setWhiteBackground()}))}},{key:"setWhiteBackground",value:function(){var e=this.root,t=0===this.options.pswpOptions.bgOpacity?"0 2px 14px rgba(0, 0, 0, 0.25)":"0 0 10px rgba(0, 0, 0, 0.5)";e.find(".pswp__img").each((function(e){e.complete?(e.style.background="white",e.style["box-shadow"]=t):e.onload=function(){e.style.background="white",e.style["box-shadow"]=t}}))}},{key:"open",value:function(e,t){if(!0===this.pswpDestroy){var n=this.root,r=this.options.pswpOptions,o=n[0],i=new We.a(o,Ye.a,e,Sn({index:t},r));i.items=e,i.init(),this.pswp=i,this.pswpDestroy=!1,this.options.shouldToggleOnHover&&(fe.mobile||(this.toolbarContainer.removeClass("pswp-fade-out"),this.fadeOut(this.toolbarContainer,"toolbarFadeInAndOut"),this.closeBtnContainer.removeClass("pswp-fade-out"),this.fadeOut(this.closeBtnContainer,"closeFadeInAndOut")),n.removeClass("pswp-fade-in"),n.addClass("pswp-fade-in")),this.afterChange(),this.bindPswpEvent()}}},{key:"close",value:function(){this.options.closable&&this.pswp&&this.pswp.close()}},{key:"destroy",value:function(){this.close(),this.root.remove(),this.options=null}}])&&Tn(t.prototype,n),r&&Tn(t,r),i}(_n.a),Fn=n(46),zn=n.n(Fn),Bn=n(55),Vn=n.n(Bn),qn=n(137),Hn=n(24),Un=n.n(Hn),Wn=n(238);function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return($n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jn(e);if(t){var o=Jn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zn(this,n)}}function Zn(e,t){return!t||"object"!==Kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$n(e,t)}(i,e);var t,n,r,o=Gn(i);function i(){var e;Yn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).handleChange=Un()((function(t){var n=e.props,r=n.hsl;(0,n.onChange)(Wn.calculateChange(t,r,e.container),t)}),50),e.handleMouseDown=function(t){e.handleChange(t),window.addEventListener("mousemove",e.handleChange),window.addEventListener("mouseup",e.handleMouseUp)},e.handleMouseUp=function(t){e.handleChange(t),e.unbindEventListeners()},e}return t=i,(n=[{key:"componentWillUnmount",value:function(){this.unbindEventListeners(),this.handleChange.cancel()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,o=t.black,i=t.pointer,a=t.circle,c=Vn()({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl(".concat(this.props.hsl.h,",100%, 50%)"),borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:"".concat(-100*this.props.hsv.v+100,"%"),left:"".concat(100*this.props.hsv.s,"%"),cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:i,circle:a}},{custom:!!this.props.style});return k.a.createElement("div",{style:c.color,ref:function(t){e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},k.a.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),k.a.createElement("div",{style:c.white,className:"saturation-white"},k.a.createElement("div",{style:c.black,className:"saturation-black"}),k.a.createElement("div",{style:c.pointer},this.props.pointer?k.a.createElement(this.props.pointer,this.props):k.a.createElement("div",{style:c.circle}))))}}])&&Xn(t.prototype,n),r&&Xn(t,r),i}(w.PureComponent||w.Component);Qn.defaultProps={onChange:function(){}};var er=Qn,tr=n(237);function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sr(e);if(t){var o=sr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cr(this,n)}}function cr(e,t){return!t||"object"!==nr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sr(e){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(i,e);var t,n,r,o=ar(i);function i(){var e;rr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).handleChange=function(t){var n=tr.calculateChange(t,e.props.direction,e.props.hsl,e.container);n&&"function"==typeof e.props.onChange&&e.props.onChange(n,t)},e.handleMouseDown=function(t){e.handleChange(t),window.addEventListener("mousemove",e.handleChange),window.addEventListener("mouseup",e.handleMouseUp)},e.handleMouseUp=function(t){e.handleChange(t),e.unbindEventListeners()},e}return t=i,(n=[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=Vn()({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 3px",position:"relative",height:"100%",borderRadius:"2px"},pointer:{position:"absolute",left:"".concat(Math.min(this.props.hsl.h/3.6,97.25),"%")},slider:{width:"8px",borderRadius:"50%",border:"2px solid #fff",height:"8px",boxShadow:"0 0 1px 1px rgba(0, 0, 0, .3)",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:"".concat(-100*this.props.hsl.h/360+100,"%")}}},{vertical:"vertical"===n});return k.a.createElement("div",{style:r.hue},k.a.createElement("div",{className:"hue-".concat(n),style:r.container,ref:function(t){e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},k.a.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),k.a.createElement("div",{style:r.pointer},this.props.pointer?k.a.createElement(this.props.pointer,this.props):k.a.createElement("div",{style:r.slider}))))}}])&&or(t.prototype,n),r&&or(t,r),i}(w.PureComponent||w.Component),ur=n(236);function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t){return(hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yr(e);if(t){var o=yr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vr(this,n)}}function vr(e,t){return!t||"object"!==fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hr(e,t)}(i,e);var t,n,r,o=mr(i);function i(){var e;pr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).handleChange=function(t){var n=ur.calculateChange(t,e.props.hsl,e.props.direction,e.props.a,e.container);n&&"function"==typeof e.props.onChange&&e.props.onChange(n,t)},e.handleMouseDown=function(t){e.handleChange(t),window.addEventListener("mousemove",e.handleChange),window.addEventListener("mouseup",e.handleMouseUp)},e.handleMouseUp=function(t){e.handleChange(t),e.unbindEventListeners()},e.unbindEventListeners=function(){window.removeEventListener("mousemove",e.handleChange),window.removeEventListener("mouseup",e.handleMouseUp)},e}return t=i,(n=[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=Vn()({default:{alpha:{absolute:"0px 0px 0px 0px"},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,", 0) 0%,\n           rgba(").concat(t.r,",").concat(t.g,",").concat(t.b,", 1) 100%)"),boxShadow:this.props.shadow,borderRadius:"2px"},container:{position:"relative",height:"100%",margin:"0 3px",borderRadius:"2px"},pointer:{position:"absolute",left:"".concat(100*t.a,"%")},slider:{width:"8px",borderRadius:"50%",border:"2px solid #fff",height:"8px",boxShadow:"0 0 1px 1px rgba(0, 0, 0, .3)",transform:"translateX(-4px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,", 0) 0%, rgba(").concat(t.r,",").concat(t.g,",").concat(t.b,", 1) 100%)")},pointer:{left:0,top:"".concat(100*t.a,"%")}}},{vertical:"vertical"===this.props.direction});return k.a.createElement("div",{style:n.alpha},k.a.createElement("div",{style:n.checkboard},k.a.createElement(qn.Checkboard,{renderers:this.props.renderers,borderRadius:"2px"})),k.a.createElement("div",{style:n.gradient}),k.a.createElement("div",{style:n.container,ref:function(t){e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},k.a.createElement("div",{className:"alpha-container",style:n.pointer},this.props.pointer?k.a.createElement(this.props.pointer,this.props):k.a.createElement("div",{style:n.slider}))))}}])&&dr(t.prototype,n),r&&dr(t,r),i}(w.PureComponent||w.Component),br=(n(283),n(31)),wr=n(74),kr=n.n(wr),xr=an("text","input");function Or(e){return!!(e.prefix||e.suffix||e.allowClear)}var Cr=function(e){Ft()(n,e);var t=Bt()(n);function n(){var e;return Mt()(this,n),(e=t.apply(this,arguments)).containerRef=w.createRef(),e.onInputMouseUp=function(t){var n;(null===(n=e.containerRef.current)||void 0===n?void 0:n.contains(t.target))&&(0,e.props.triggerFocus)()},e}return It()(n,[{key:"renderClearIcon",value:function(e){var t=this.props,n=t.allowClear,r=t.value,o=t.disabled,i=t.readOnly,a=t.inputType,c=t.handleReset;if(!n)return null;var s=!o&&!i&&r,l=a===xr[0]?"".concat(e,"-textarea-clear-icon"):"".concat(e,"-clear-icon");return w.createElement(kr.a,{onClick:c,className:_t()(l,ut()({},"".concat(l,"-hidden"),!s)),role:"button"})}},{key:"renderSuffix",value:function(e){var t=this.props,n=t.suffix,r=t.allowClear;return n||r?w.createElement("span",{className:"".concat(e,"-suffix")},this.renderClearIcon(e),n):null}},{key:"renderLabeledIcon",value:function(e,t){var n,r=this.props,o=r.focused,i=r.value,a=r.prefix,c=r.className,s=r.size,l=r.suffix,u=r.disabled,f=r.allowClear,p=r.direction,d=r.style,h=r.readOnly,m=r.bordered,v=this.renderSuffix(e);if(!Or(this.props))return Dt(t,{value:i});var y=a?w.createElement("span",{className:"".concat(e,"-prefix")},a):null,g=_t()(c,"".concat(e,"-affix-wrapper"),(n={},ut()(n,"".concat(e,"-affix-wrapper-focused"),o),ut()(n,"".concat(e,"-affix-wrapper-disabled"),u),ut()(n,"".concat(e,"-affix-wrapper-sm"),"small"===s),ut()(n,"".concat(e,"-affix-wrapper-lg"),"large"===s),ut()(n,"".concat(e,"-affix-wrapper-input-with-clear-btn"),l&&f&&i),ut()(n,"".concat(e,"-affix-wrapper-rtl"),"rtl"===p),ut()(n,"".concat(e,"-affix-wrapper-readonly"),h),ut()(n,"".concat(e,"-affix-wrapper-borderless"),!m),n));return w.createElement("span",{ref:this.containerRef,className:g,style:d,onMouseUp:this.onInputMouseUp},y,Dt(t,{style:null,value:i,className:Dr(e,m,s,u)}),v)}},{key:"renderInputWithLabel",value:function(e,t){var n,r,o=this.props,i=o.addonBefore,a=o.addonAfter,c=o.style,s=o.size,l=o.className,u=o.direction;if(!i&&!a)return t;var f="".concat(e,"-group"),p="".concat(f,"-addon"),d=i?w.createElement("span",{className:p},i):null,h=a?w.createElement("span",{className:p},a):null,m=_t()("".concat(e,"-wrapper"),(n={},ut()(n,f,i||a),ut()(n,"".concat(f,"-rtl"),"rtl"===u),n)),v=_t()(l,"".concat(e,"-group-wrapper"),(r={},ut()(r,"".concat(e,"-group-wrapper-sm"),"small"===s),ut()(r,"".concat(e,"-group-wrapper-lg"),"large"===s),ut()(r,"".concat(e,"-group-wrapper-rtl"),"rtl"===u),r));return w.createElement("span",{className:v,style:c},w.createElement("span",{className:m},d,Dt(t,{style:null}),h))}},{key:"renderTextAreaWithClearIcon",value:function(e,t){var n,r=this.props,o=r.value,i=r.allowClear,a=r.className,c=r.style,s=r.direction,l=r.bordered;if(!i)return Dt(t,{value:o});var u=_t()(a,"".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),(n={},ut()(n,"".concat(e,"-affix-wrapper-rtl"),"rtl"===s),ut()(n,"".concat(e,"-affix-wrapper-borderless"),!l),n));return w.createElement("span",{className:u,style:c},Dt(t,{style:null,value:o}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.inputType,r=e.element;return n===xr[0]?this.renderTextAreaWithClearIcon(t,r):this.renderInputWithLabel(t,this.renderLabeledIcon(t,r))}}]),n}(w.Component),_r=w.createContext(void 0),Er=function(e){var t=e.children,n=e.size;return w.createElement(_r.Consumer,null,(function(e){return w.createElement(_r.Provider,{value:n||e},t)}))},jr=_r,Sr=n(16),Pr=function(e,t,n){Object(Sr.a)(e,"[antd: ".concat(t,"] ").concat(n))};function Rr(e){return null==e?"":e}function Tr(e,t,n){if(n){var r=t;if("click"===t.type){(r=Object.create(t)).target=e,r.currentTarget=e;var o=e.value;return e.value="",n(r),void(e.value=o)}n(r)}}function Dr(e,t,n,r,o){var i;return _t()(e,(i={},ut()(i,"".concat(e,"-sm"),"small"===n),ut()(i,"".concat(e,"-lg"),"large"===n),ut()(i,"".concat(e,"-disabled"),r),ut()(i,"".concat(e,"-rtl"),"rtl"===o),ut()(i,"".concat(e,"-borderless"),!t),i))}var Ar=function(e){Ft()(n,e);var t=Bt()(n);function n(e){var r;Mt()(this,n),(r=t.call(this,e)).direction="ltr",r.focus=function(){r.input.focus()},r.saveClearableInput=function(e){r.clearableInput=e},r.saveInput=function(e){r.input=e},r.onFocus=function(e){var t=r.props.onFocus;r.setState({focused:!0},r.clearPasswordValueAttribute),t&&t(e)},r.onBlur=function(e){var t=r.props.onBlur;r.setState({focused:!1},r.clearPasswordValueAttribute),t&&t(e)},r.handleReset=function(e){r.setValue("",(function(){r.focus()})),Tr(r.input,e,r.props.onChange)},r.renderInput=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.props,a=i.className,c=i.addonBefore,s=i.addonAfter,l=i.size,u=i.disabled,f=Object(br.a)(r.props,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","inputType","bordered"]);return w.createElement("input",ht()({autoComplete:o.autoComplete},f,{onChange:r.handleChange,onFocus:r.onFocus,onBlur:r.onBlur,onKeyDown:r.handleKeyDown,className:_t()(Dr(e,n,l||t,u,r.direction),ut()({},a,a&&!c&&!s)),ref:r.saveInput}))},r.clearPasswordValueAttribute=function(){r.removePasswordTimeout=setTimeout((function(){r.input&&"password"===r.input.getAttribute("type")&&r.input.hasAttribute("value")&&r.input.removeAttribute("value")}))},r.handleChange=function(e){r.setValue(e.target.value,r.clearPasswordValueAttribute),Tr(r.input,e,r.props.onChange)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,o=t.onKeyDown;13===e.keyCode&&n&&n(e),o&&o(e)},r.renderComponent=function(e){var t=e.getPrefixCls,n=e.direction,o=e.input,i=r.state,a=i.value,c=i.focused,s=r.props,l=s.prefixCls,u=s.bordered,f=void 0===u||u,p=t("input",l);return r.direction=n,w.createElement(jr.Consumer,null,(function(e){return w.createElement(Cr,ht()({size:e},r.props,{prefixCls:p,inputType:"input",value:Rr(a),element:r.renderInput(p,e,f,o),handleReset:r.handleReset,ref:r.saveClearableInput,direction:n,focused:c,triggerFocus:r.focus,bordered:f}))}))};var o=void 0===e.value?e.defaultValue:e.value;return r.state={value:o,focused:!1,prevValue:e.value},r}return It()(n,[{key:"componentDidMount",value:function(){this.clearPasswordValueAttribute()}},{key:"componentDidUpdate",value:function(){}},{key:"getSnapshotBeforeUpdate",value:function(e){return Or(e)!==Or(this.props)&&Pr(this.input!==document.activeElement,"Input","When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ"),null}},{key:"componentWillUnmount",value:function(){this.removePasswordTimeout&&clearTimeout(this.removePasswordTimeout)}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"setValue",value:function(e,t){void 0===this.props.value&&this.setState({value:e},t)}},{key:"render",value:function(){return w.createElement(on,null,this.renderComponent)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevValue,r={prevValue:e.value};return void 0===e.value&&n===e.value||(r.value=e.value),r}}]),n}(w.Component);Ar.defaultProps={type:"text"};var Mr,Nr=Ar,Ir=function(e){return w.createElement(on,null,(function(t){var n,r=t.getPrefixCls,o=t.direction,i=e.prefixCls,a=e.className,c=void 0===a?"":a,s=r("input-group",i),l=_t()(s,(n={},ut()(n,"".concat(s,"-lg"),"large"===e.size),ut()(n,"".concat(s,"-sm"),"small"===e.size),ut()(n,"".concat(s,"-compact"),e.compact),ut()(n,"".concat(s,"-rtl"),"rtl"===o),n),c);return w.createElement("span",{className:l,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)}))},Lr=n(42),Fr=n(102),zr=n.n(Fr),Br=n(64),Vr=n.n(Br),qr=n(56),Hr=n.n(qr),Ur=function e(t){return Mt()(this,e),new Error("unreachable case: ".concat(JSON.stringify(t)))},Wr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Kr=function(e){return w.createElement(on,null,(function(t){var n,r=t.getPrefixCls,o=t.direction,i=e.prefixCls,a=e.size,c=e.className,s=Wr(e,["prefixCls","size","className"]),l=r("btn-group",i),u="";switch(a){case"large":u="lg";break;case"small":u="sm";break;case"middle":case void 0:break;default:console.warn(new Ur(a))}var f=_t()(l,(n={},ut()(n,"".concat(l,"-").concat(u),u),ut()(n,"".concat(l,"-rtl"),"rtl"===o),n),c);return w.createElement("div",ht()({},s,{className:f}))}))},Yr=n(91),Xr=n.n(Yr),$r=n(70),Gr=n(36),Zr=n.n(Gr),Jr=0,Qr={};function eo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Jr++,r=t;function o(){(r-=1)<=0?(e(),delete Qr[n]):Qr[n]=Zr()(o)}return Qr[n]=Zr()(o),n}function to(e){return!e||null===e.offsetParent}function no(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}eo.cancel=function(e){void 0!==e&&(Zr.a.cancel(Qr[e]),delete Qr[e])},eo.ids=Qr;var ro=function(e){Ft()(n,e);var t=Bt()(n);function n(){var e;return Mt()(this,n),(e=t.apply(this,arguments)).animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){if(!(!t||to(t)||t.className.indexOf("-leave")>=0)){var r=e.props.insertExtraNode;e.extraNode=document.createElement("div");var o=Xr()(e).extraNode,i=e.context.getPrefixCls;o.className="".concat(i(""),"-click-animating-node");var a=e.getAttributeName();t.setAttribute(a,"true"),Mr=Mr||document.createElement("style"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&no(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n&&(e.csp&&e.csp.nonce&&(Mr.nonce=e.csp.nonce),o.style.borderColor=n,Mr.innerHTML="\n      [".concat(i(""),"-click-animating-without-extra-node='true']::after, .").concat(i(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),document.body.contains(Mr)||document.body.appendChild(Mr)),r&&t.appendChild(o),$r.a.addStartEventListener(t,e.onTransitionStart),$r.a.addEndEventListener(t,e.onTransitionEnd)}},e.onTransitionStart=function(t){if(!e.destroyed){var n=Object(qe.findDOMNode)(Xr()(e));t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!to(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),eo.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=eo((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,r=e.props.children;return e.csp=n,r},e}return It()(n,[{key:"componentDidMount",value:function(){var e=Object(qe.findDOMNode)(this);e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){if(e&&e!==this.extraNode&&e instanceof Element){var t=this.props.insertExtraNode,n=this.getAttributeName();e.setAttribute(n,"false"),Mr&&(Mr.innerHTML=""),t&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),$r.a.removeStartEventListener(e,this.onTransitionStart),$r.a.removeEndEventListener(e,this.onTransitionEnd)}}},{key:"render",value:function(){return w.createElement(on,null,this.renderWave)}}]),n}(w.Component);ro.contextType=rn;var oo=n(84),io=function(){return{width:0,opacity:0,transform:"scale(0)"}},ao=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}};function co(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?w.createElement("span",{className:"".concat(t,"-loading-icon")},w.createElement(Vr.a,null)):w.createElement(oo.b,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:io,onAppearActive:ao,onEnterStart:io,onEnterActive:ao,onLeaveStart:ao,onLeaveActive:io},(function(e,n){var r=e.className,o=e.style;return w.createElement("span",{className:"".concat(t,"-loading-icon"),style:o,ref:n},w.createElement(Vr.a,{className:_t()(r)}))}))}var so=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},lo=/^[\u4e00-\u9fa5]{2}$/,uo=lo.test.bind(lo);function fo(e){return"text"===e||"link"===e}function po(e,t){var n=!1,r=[];return w.Children.forEach(e,(function(e){var t=Hr()(e),o="string"===t||"number"===t;if(n&&o){var i=r.length-1,a=r[i];r[i]="".concat(a).concat(e)}else r.push(e);n=o})),w.Children.map(r,(function(e){return function(e,t){if(null!=e){var n=t?" ":"";return"string"!=typeof e&&"number"!=typeof e&&"string"==typeof e.type&&uo(e.props.children)?Dt(e,{children:e.props.children.split("").join(n)}):"string"==typeof e?(uo(e)&&(e=e.split("").join(n)),w.createElement("span",null,e)):e}}(e,t)}))}an("default","primary","ghost","dashed","link","text"),an("circle","circle-outline","round"),an("submit","button","reset");var ho=function(e,t){var n,r,o=e.loading,i=e.prefixCls,a=e.type,c=e.danger,s=e.shape,l=e.size,u=e.className,f=e.children,p=e.icon,d=e.ghost,h=e.block,m=so(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block"]),v=w.useContext(jr),y=w.useState(!!o),g=pt()(y,2),b=g[0],k=g[1],x=w.useState(!1),O=pt()(x,2),C=O[0],_=O[1],E=w.useContext(rn),j=E.getPrefixCls,S=E.autoInsertSpaceInButton,P=E.direction,R=t||w.createRef(),T=w.useRef(),D=function(){return 1===w.Children.count(f)&&!p&&!fo(a)};r="object"===Hr()(o)&&o.delay?o.delay||!0:!!o,w.useEffect((function(){clearTimeout(T.current),"number"==typeof r?T.current=window.setTimeout((function(){k(r)}),r):k(r)}),[r]),w.useEffect((function(){!function(){if(R&&R.current&&!1!==S){var e=R.current.textContent;D()&&uo(e)?C||_(!0):C&&_(!1)}}()}),[R]);var A=function(t){var n=e.onClick;b||n&&n(t)};Pr(!("string"==typeof p&&p.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(p,"` at https://ant.design/components/icon")),Pr(!(d&&fo(a)),"Button","`link` or `text` button can't be a `ghost` button.");var M=j("btn",i),N=!1!==S,I="";switch(l||v){case"large":I="lg";break;case"small":I="sm"}var L=b?"loading":p,F=_t()(M,u,(n={},ut()(n,"".concat(M,"-").concat(a),a),ut()(n,"".concat(M,"-").concat(s),s),ut()(n,"".concat(M,"-").concat(I),I),ut()(n,"".concat(M,"-icon-only"),!f&&0!==f&&L),ut()(n,"".concat(M,"-background-ghost"),d&&!fo(a)),ut()(n,"".concat(M,"-loading"),b),ut()(n,"".concat(M,"-two-chinese-chars"),C&&N),ut()(n,"".concat(M,"-block"),h),ut()(n,"".concat(M,"-dangerous"),!!c),ut()(n,"".concat(M,"-rtl"),"rtl"===P),n)),z=p&&!b?p:w.createElement(co,{existIcon:!!p,prefixCls:M,loading:!!b}),B=f||0===f?po(f,D()&&N):null,V=Object(br.a)(m,["htmlType","loading"]);if(void 0!==V.href)return w.createElement("a",ht()({},V,{className:F,onClick:A,ref:R}),z,B);var q=m,H=q.htmlType,U=so(q,["htmlType"]),W=w.createElement("button",ht()({},Object(br.a)(U,["loading"]),{type:H,className:F,onClick:A,ref:R}),z,B);return fo(a)?W:w.createElement(ro,null,W)},mo=w.forwardRef(ho);mo.displayName="Button",mo.defaultProps={loading:!1,ghost:!1,block:!1,htmlType:"button"},mo.Group=Kr,mo.__ANT_BUTTON=!0;var vo=mo,yo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},go=w.forwardRef((function(e,t){var n=w.useRef(null),r=function(t){var n=e.onChange,r=e.onSearch;t&&t.target&&"click"===t.type&&r&&r(t.target.value,t),n&&n(t)},o=function(e){var t;document.activeElement===(null===(t=n.current)||void 0===t?void 0:t.input)&&e.preventDefault()},i=function(t){var r,o=e.onSearch,i=e.loading,a=e.disabled;i||a||o&&o(null===(r=n.current)||void 0===r?void 0:r.input.value,t)},a=function(t){var n=e.enterButton,r=e.size;return n?w.createElement(jr.Consumer,{key:"enterButton"},(function(e){return w.createElement(vo,{className:"".concat(t,"-button"),type:"primary",size:r||e},w.createElement(Vr.a,null))})):w.createElement(Vr.a,{className:"".concat(t,"-icon"),key:"loadingIcon"})},c=function(t){var n=e.suffix,r=e.enterButton;if(e.loading&&!r)return[n,a(t)];if(r)return n;var o=w.createElement(zr.a,{className:"".concat(t,"-icon"),key:"searchIcon",onClick:i});return n?[Tt(n,null,{key:"suffix"}),o]:o},s=function(t,n){var r,c=e.enterButton,s=e.disabled,l=e.addonAfter,u=e.loading,f="".concat(t,"-button");if(u&&c)return[a(t),l];if(!c)return l;var p=c,d=p.type&&!0===p.type.__ANT_BUTTON;return r=d||"button"===p.type?Dt(p,ht()({onMouseDown:o,onClick:i,key:"enterButton"},d?{className:f,size:n}:{})):w.createElement(vo,{className:f,type:"primary",size:n,disabled:s,key:"enterButton",onMouseDown:o,onClick:i},!0===c?w.createElement(zr.a,null):c),l?[r,Tt(l,null,{key:"addonAfter"})]:r},l=function(o){var a=o.getPrefixCls,l=o.direction,u=e.prefixCls,f=e.inputPrefixCls,p=e.enterButton,d=e.className,h=e.size,m=yo(e,["prefixCls","inputPrefixCls","enterButton","className","size"]);delete m.onSearch,delete m.loading;var v=a("input-search",u),y=a("input",f),g=function(e){var t,n;p?t=_t()(v,d,(n={},ut()(n,"".concat(v,"-rtl"),"rtl"===l),ut()(n,"".concat(v,"-enter-button"),!!p),ut()(n,"".concat(v,"-").concat(e),!!e),n)):t=_t()(v,d,ut()({},"".concat(v,"-rtl"),"rtl"===l));return t};return w.createElement(jr.Consumer,null,(function(e){return w.createElement(Nr,ht()({ref:Object(Lr.a)(n,t),onPressEnter:i},m,{size:h||e,prefixCls:y,addonAfter:s(v,h||e),suffix:c(v),onChange:r,className:g(h||e)}))}))};return w.createElement(on,null,l)}));go.defaultProps={enterButton:!1},go.displayName="Search";var bo=go,wo=n(370),ko=function(e){Ft()(n,e);var t=Bt()(n);function n(e){var r;Mt()(this,n),(r=t.call(this,e)).focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(e){r.resizableTextArea=null==e?void 0:e.resizableTextArea},r.saveClearableInput=function(e){r.clearableInput=e},r.handleChange=function(e){r.setValue(e.target.value),Tr(r.resizableTextArea.textArea,e,r.props.onChange)},r.handleReset=function(e){r.setValue("",(function(){r.focus()})),Tr(r.resizableTextArea.textArea,e,r.props.onChange)},r.renderTextArea=function(e,t){return w.createElement(wo.a,ht()({},Object(br.a)(r.props,["allowClear","bordered"]),{className:_t()(r.props.className,ut()({},"".concat(e,"-borderless"),!t)),prefixCls:e,onChange:r.handleChange,ref:r.saveTextArea}))},r.renderComponent=function(e){var t=e.getPrefixCls,n=e.direction,o=r.state.value,i=r.props,a=i.prefixCls,c=i.bordered,s=void 0===c||c,l=t("input",a);return w.createElement(Cr,ht()({},r.props,{prefixCls:l,direction:n,inputType:"text",value:Rr(o),element:r.renderTextArea(l,s),handleReset:r.handleReset,ref:r.saveClearableInput,triggerFocus:r.focus,bordered:s}))};var o=void 0===e.value?e.defaultValue:e.value;return r.state={value:o},r}return It()(n,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return w.createElement(on,null,this.renderComponent)}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(w.Component),xo=n(330),Oo=n.n(xo),Co=n(331),_o=n.n(Co),Eo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},jo={click:"onClick",hover:"onMouseOver"},So=w.forwardRef((function(e,t){var n=Object(w.useState)(!1),r=pt()(n,2),o=r[0],i=r[1],a=function(){e.disabled||i(!o)},c=function(n){var r=n.getPrefixCls,i=e.className,c=e.prefixCls,s=e.inputPrefixCls,l=e.size,u=e.visibilityToggle,f=Eo(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),p=r("input",s),d=r("input-password",c),h=u&&function(t){var n,r=e.action,i=e.iconRender,c=jo[r]||"",s=(void 0===i?function(){return null}:i)(o),l=(n={},ut()(n,c,a),ut()(n,"className","".concat(t,"-icon")),ut()(n,"key","passwordIcon"),ut()(n,"onMouseDown",(function(e){e.preventDefault()})),ut()(n,"onMouseUp",(function(e){e.preventDefault()})),n);return w.cloneElement(w.isValidElement(s)?s:w.createElement("span",null,s),l)}(d),m=_t()(d,i,ut()({},"".concat(d,"-").concat(l),!!l)),v=ht()(ht()({},Object(br.a)(f,["suffix","iconRender"])),{type:o?"text":"password",className:m,prefixCls:p,suffix:h});return l&&(v.size=l),w.createElement(Nr,ht()({ref:t},v))};return w.createElement(on,null,c)}));So.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?w.createElement(Oo.a,null):w.createElement(_o.a,null)}},So.displayName="Password";var Po=So;Nr.Group=Ir,Nr.Search=bo,Nr.TextArea=ko,Nr.Password=Po;var Ro=Nr,To=n(52),Do=n.n(To),Ao=n(75),Mo=n.n(Ao),No=/\{(\w*)\}/g,Io=/\[(\w*):(\w*)\|(\w*)\]/g,Lo=/#\w*$/,Fo=window.__||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;n=(n=n.replace(Io,(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=t[n[1]],i=n[2],a=n[3];return o&&o>1?a:i}))).replace(Lo,"");var r=[],o=!1,i=0,a=n.length,c=n;return n=n.replace(No,(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];r.push(c.substring(i,n[2])),i=n[2]+n[0].length;var s=n[1].trim();if(!s)return"";s.match(/^\d+$/)&&(s=parseInt(s,10));var l=t[s];return void 0===l?(r.push(n[0]),n[0]):(r.push(l),k.a.isValidElement(l)?(o=!0,""):l)})),i<a&&r.push(c.substring(i)),o?r.map((function(e){return k.a.createElement(k.a.Fragment,null,e)})):n};n(519);function zo(e){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(n),!0).forEach((function(t){qo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ho(){return(Ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Uo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ko(e,t){return(Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$o(e);if(t){var o=$o(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xo(this,n)}}function Xo(e,t){return!t||"object"!==zo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $o(e){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ko(e,t)}(i,e);var t,n,r,o=Yo(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onClear=function(e){var n=t.props.onClear;t.input.focus(),t.setState({value:""}),n&&n(e)},t.onChange=function(e){var n=t.props.onChange,r=e.target.value;t.setState({value:r}),n&&n(e)},t.onSearch=function(e){var n=t.props.onSearch;n&&n(e.target.value,e)},t.focus=function(){t.input.focus()},t.state={value:""},t}return t=i,r=[{key:"getDerivedStateFromProps",value:function(e,t){return"value"in e&&e.value!==t.value?{value:e.value}:null}}],(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=(t.onSearch,t.onClear,t.allowClear),o=t.placeholder,i=void 0===o?Fo("搜索"):o,a=Uo(t,["className","onSearch","onClear","allowClear","placeholder"]),c=r&&this.state.value?k.a.createElement("span",{className:"larkui-input-search-close-icon",onClick:this.onClear},k.a.createElement(Mo.a,null)):null;return k.a.createElement(Ro,Ho({onPressEnter:this.onSearch,placeholder:i},a,{prefix:k.a.createElement(zr.a,null),suffix:c,onChange:this.onChange,value:this.state.value,ref:function(t){e.input=t},allowClear:!1,spellCheck:"true",autoComplete:"off",className:_t()("larkui-input-search",n)}))}}])&&Wo(t.prototype,n),r&&Wo(t,r),i}(w.Component);Go.defaultProps={allowClear:!0},Go.propTypes=Vo(Vo({},Ro.InputProps),{},{onSearch:st.a.func,onChange:st.a.func,onClear:st.a.func,className:st.a.string});var Zo=Go;n(505);function Jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jo(Object(n),!0).forEach((function(t){ei(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ti(){return(ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ni(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ri=k.a.forwardRef((function(e,t){var n=e.className,r=ni(e,["className"]);return k.a.createElement(Ro,ti({ref:t,className:_t()("larkui-input",n)},r))}));ri.propTypes=Qo(Qo({},Ro.InputProps),{},{className:st.a.string}),Do()(ri,Ro),ri.Search=Zo;var oi=ri;function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ci(e,t){return(ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ui(e);if(t){var o=ui(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return li(this,n)}}function li(e,t){return!t||"object"!==ii(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ci(e,t)}(i,e);var t,n,r,o=si(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onComplete=function(){var e,n,r;t.state.inputValue&&(t.setState({value:t.state.inputValue,inputValue:null}),t.props.onChange((e={},n=t.props.label.toLowerCase(),r=t.state.inputValue,n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e)))},t.state={value:String(e.value).toUpperCase(),inputValue:String(e.value).toUpperCase()},t}return t=i,(n=[{key:"componentWillReceiveProps",value:function(e){e.value!==this.state.value&&this.setState({value:e.value,inputValue:null})}},{key:"render",value:function(){var e=this;return k.a.createElement("div",{style:{width:this.props.width}},k.a.createElement(oi,{size:"small",value:null===this.state.inputValue?this.state.value:this.state.inputValue,onChange:function(t){e.setState({inputValue:t.target.value})},onBlur:this.onComplete,onPressEnter:this.onComplete,style:{fontSize:12,textAlign:"center",padding:"2px"},"data-testid":"field-input-".concat(this.props.label.toLowerCase())}),k.a.createElement("div",{className:"lake-input-label"},this.props.label))}}])&&ai(t.prototype,n),r&&ai(t,r),i}(k.a.Component);fi.propTypes={value:st.a.oneOfType([st.a.string,st.a.number]),width:st.a.number,label:st.a.string,percentage:st.a.bool,onChange:st.a.func};var pi=fi,di=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,i=e.disableAlpha,a=Vn()({default:{fields:{display:"flex",justifyContent:"space-between",marginTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"100%",padding:"2px 10% 2px",border:"1px solid rgba(0, 0, 0, .09)",borderRadius:"2px",fontSize:"12px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:i}),c=function(e,o){e.hex?zn()(e.hex).isValid()&&t({hex:e.hex,source:"hex"},o):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},o):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},o))};return k.a.createElement("div",{style:a.fields,className:"flexbox-fix lake-color-fields"},k.a.createElement(pi,{width:80,label:"HEX",value:o.toUpperCase(),onChange:c}),k.a.createElement(pi,{width:30,label:"R",value:n.r,onChange:c}),k.a.createElement(pi,{width:30,label:"G",value:n.g,onChange:c}),k.a.createElement(pi,{width:30,label:"B",value:n.b,onChange:c}),k.a.createElement(pi,{width:30,label:"A",percentage:!0,value:Math.round(100*n.a),onChange:c}))};di.propTypes={disableAlpha:st.a.bool,width:st.a.oneOfType([st.a.string,st.a.number]),rgb:st.a.object,hsv:st.a.object,hsl:st.a.object,hex:st.a.string,onChange:st.a.func,renderers:st.a.object};var hi=di,mi=function(e){var t=e.width,n=e.rgb,r=e.hsv,o=e.hsl,i=e.hex,a=e.onChange,c=e.disableAlpha,s=e.renderers,l=Vn()({default:{picker:{width:t,padding:0,background:"#fff"},Saturation:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)",circle:{width:"10px",height:"10px",border:"1px solid #fff"}},controls:{display:"flex"},sliders:{flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",background:"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(n.a,")")},Hue:{container:{radius:"2px",hadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},slider:{width:"8px",height:"8px",background:"transparent",border:"1px solid #fff"}},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}}},{disableAlpha:c});return k.a.createElement("div",{className:"lake-custom-picker"},k.a.createElement("div",{className:"lake-satuation-container"},k.a.createElement(er,{style:l.Saturation,hsl:o,hsv:r,onChange:a})),k.a.createElement("div",{style:l.controls,className:"flexbox-fix"},k.a.createElement("div",{style:l.sliders},k.a.createElement("div",{className:"lake-hue-container"},k.a.createElement(lr,{style:l.Hue,hsl:o,onChange:a})),k.a.createElement("div",{className:"lake-hue-container"},k.a.createElement(gr,{style:l.Alpha,rgb:n,hsl:o,renderers:s,onChange:a}))),k.a.createElement("div",{className:"lake-check-board-container"},k.a.createElement(qn.Checkboard,null),k.a.createElement("div",{style:l.activeColor}))),k.a.createElement(hi,{rgb:n,hsl:o,hex:i,onChange:a,disableAlpha:c}))};mi.propTypes={disableAlpha:st.a.bool,width:st.a.oneOfType([st.a.string,st.a.number]),rgb:st.a.object,hsv:st.a.object,hsl:st.a.object,hex:st.a.string,onChange:st.a.func,renderers:st.a.object},mi.defaultProps={disableAlpha:!1,width:216};var vi=Object(qn.ColorWrap)(mi);function yi(e){return(yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bi(e,t){return(bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xi(e);if(t){var o=xi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ki(this,n)}}function ki(e,t){return!t||"object"!==yi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xi(e){return(xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bi(e,t)}(i,e);var t,n,r,o=wi(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onChange=function(e,n){t.setState({color:e.rgb,hex:e.hex}),(!n||"mousemove"!==n.type&&"mousedown"!==n.type)&&t.props.onSelect("rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")"))};var n=e.color,r=null;if(0!==e.color.indexOf("#")){r={};var a=["r","g","b","a"];e.color.replace(/[0-9]+(\.[0-9]+)*/g,(function(e){r[a.shift()]=parseFloat(e)})),n=null}return t.state={color:r,hex:n},t}return t=i,(n=[{key:"render",value:function(){return He.a.createPortal(k.a.createElement("div",{style:this.props.position,className:"lake-rgbpicker-container","data-lake-editor-ui":"colorpicker","data-lake_prevent_click_unselect":"true"},k.a.createElement(vi,{color:this.state.color||this.state.hex,onChange:this.onChange,disableAlpha:!1})),this.props.container)}}])&&gi(t.prototype,n),r&&gi(t,r),i}(k.a.Component);Oi.propTypes={container:st.a.object,color:st.a.string,position:st.a.object,onSelect:st.a.func};var Ci=Oi,_i={colors:[["#000000","#262626","#595959","#8C8C8C","#BFBFBF","#D9D9D9","#E9E9E9","#F5F5F5","#FAFAFA","#FFFFFF"],["#F5222D","#FA541C","#FA8C16","#FADB14","#52C41A","#13C2C2","#1890FF","#2F54EB","#722ED1","#EB2F96"],["#FFE8E6","#FFECE0","#FFEFD1","#FCFCCA","#E4F7D2","#D3F5F0","#D4EEFC","#DEE8FC","#EFE1FA","#FAE1EB"],["#FFA39E","#FFBB96","#FFD591","#FFFB8F","#B7EB8F","#87E8DE","#91D5FF","#ADC6FF","#D3ADF7","#FFADD2"],["#FF4D4F","#FF7A45","#FFA940","#FFEC3D","#73D13D","#36CFC9","#40A9FF","#597EF7","#9254DE","#F759AB"],["#CF1322","#D4380D","#D46B08","#D4B106","#389E0D","#08979C","#096DD9","#1D39C4","#531DAB","#C41D7F"],["#820014","#871400","#873800","#614700","#135200","#00474F","#003A8C","#061178","#22075E","#780650"]]};_i._map=function(){for(var e={},t=_i.colors,n=0,r=t.length;n<r;n++)for(var o=0,i=t[n].length;o<i;o++){e[t[n][o]]={y:n,x:o}}return e}(),_i.getStroke=function(e){var t=_i._map[e];return t&&(2===t.y||3===t.y&&t.x>2&&t.x<5)?this.colors[4][t.x]:e},_i.getColors=function(){return this.colors};var Ei=_i;n(522);function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ri(e,t,n){return t&&Pi(e.prototype,t),n&&Pi(e,n),e}function Ti(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}function Di(e,t){return(Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ni(e);if(t){var o=Ni(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mi(this,n)}}function Mi(e,t){return!t||"object"!==ji(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ni(e){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ii={"zh-cn":{nonFillColor:"无填充色",defaultColor:"默认",moreColor:"更多颜色",usedColors:"最近使用自定义颜色",noColors:"暂无"},en:{nonFillColor:"无填充色",defaultColor:"默认",moreColor:"更多颜色",usedColors:"最近使用自定义颜色",noColors:"暂无"}},Li=function(e){Ti(n,e);var t=Ai(n);function n(){var e;Si(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).toState=function(e,t){var n=e.hex?zn()(e.hex):zn()(e),r=n.toHsl(),o=n.toHsv(),i=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:"transparent"===e?"transparent":"#".concat(a),rgb:i,hsv:o,oldHue:e.h||t||r.h,source:e.source}},e.getContrastingColor=function(e){return"transparent"===e.hex?"rgba(0,0,0,0.4)":(299*e.rgb.r+587*e.rgb.g+114*e.rgb.b)/1e3>=210?"#8C8C8C":"#FFFFFF"},e.onSelect=function(t,n){n.preventDefault(),n.stopPropagation(),e.props.onSelect&&e.props.onSelect(t)},e}return Ri(n,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.activeColors,r=this.toState(t||"#FFFFFF"),o=["#ffffff","#fafafa","transparent"].indexOf(r.hex)>=0,i=n.indexOf(t)>=0,a="transparent"===t,c={check:{fill:this.getContrastingColor(r),display:i?"block":"none"}};return k.a.createElement("span",{className:_t()("lake-colorboard-group-item",{"lake-colorboard-group-item-border":o,"lake-colorboard-group-item-active":i,"lake-colorboard-group-item-special":a}),onClick:this.onSelect.bind(this,t)},k.a.createElement("span",{style:{backgroundColor:"".concat(t)}},k.a.createElement("svg",{style:c.check,viewBox:"0 0 18 18"},k.a.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))}}]),n}(k.a.Component);Li.propTypes={color:st.a.string,activeColors:st.a.array,defaultColor:st.a.string,onSelect:st.a.func};var Fi=function(e){Ti(n,e);var t=Ai(n);function n(){return Si(this,n),t.apply(this,arguments)}return Ri(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=void 0===t?[]:t,r=e.activeColors,o=e.defaultColor,i=e.onSelect;return k.a.createElement("span",{className:"lake-colorboard-group"},n.map((function(e){return k.a.createElement(Li,{color:e,key:e,activeColors:r,defaultColor:o,onSelect:i})})))}}]),n}(k.a.Component);Fi.propTypes={activeColors:st.a.array,defaultColor:st.a.string,data:st.a.array,onSelect:st.a.func};var zi=function(e){Ti(n,e);var t=Ai(n);function n(e){var r;return Si(this,n),(r=t.call(this,e)).toggleRgbaPicker=function(e){e.stopPropagation();for(var t=e.target;t&&!t.classList.contains("lake-more-color");)t=t.parentNode;if(t){var n=!r.state.showPicker,o=null;if(n){var i=t.getBoundingClientRect();o={top:i.top-(r.props.container?249:192)};var a=i.left+i.width+4;a+240>document.body.clientWidth?o.right=document.body.clientWidth-i.left+4:o.left=a}r.setState({showPicker:n,position:o})}},r.onSelect=function(e){r.customColor=null,r.props.onSelect(e,!1)},r.onCustomSelect=function(e){r.customColor=e,r.props.onSelect(e,!0)},r.state={showPicker:!1,position:null},r}return Ri(n,[{key:"componentWillReceiveProps",value:function(e){e.show||(this.setState({showPicker:!1}),this.customColor&&(this.props.onSaveColor&&this.props.onSaveColor(this.customColor),delete this.customColor))}}]),Ri(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.activeColors,r=t.defaultColor,o=t.show,i=t.customColors,a=t.CustomPalette,c=a?a.getColors():Ei.getColors(),s=this.state.showPicker,l=Ii[this.props.lang||"zh-cn"];return k.a.createElement("div",{className:"lake-colorboard","data-lake-editor-ui":"colorpicker","data-lake_prevent_click_unselect":"true",onMouseDown:function(e){"INPUT"!==e.target.tagName&&e.preventDefault()}},r&&k.a.createElement("div",{className:"lake-colorboard-default",onClick:function(){return e.onSelect(r)}},k.a.createElement(Li,{onSelect:this.onSelect,color:r,defaultColor:"#FFFFFF",activeColors:[]}),k.a.createElement("span",{style:{marginLeft:8,lineHeight:2}},"transparent"===r?l.nonFillColor:l.defaultColor)),c.map((function(t,r){return k.a.createElement(Fi,{data:t,key:r,activeColors:n,onSelect:e.onSelect})})),k.a.createElement("div",{className:"lake-color-history"},l.usedColors),i&&i.length>0?k.a.createElement(Fi,{data:i.concat().reverse(),key:"customColors",activeColors:n,onSelect:this.onSelect}):k.a.createElement("div",{className:"lake-none-custom-color"},l.noColors),k.a.createElement("div",{className:"lake-more-color"},k.a.createElement("div",{className:"lake-more-color-container",onClick:this.toggleRgbaPicker},k.a.createElement("div",{className:"lake-more-color-preview"}),k.a.createElement("span",null,l.moreColor),k.a.createElement("span",{className:"lake-icon lake-icon-arrow-right"}))),o&&s&&k.a.createElement(Ci,{color:this.props.activeColors[0],position:this.state.position,onSelect:this.onCustomSelect,container:this.props.container||document.body}))}}]),n}(k.a.Component);zi.propTypes={activeColors:st.a.array,customColors:st.a.array,defaultColor:st.a.string,show:st.a.bool,lang:st.a.string,onSelect:st.a.func,onSaveColor:st.a.func,container:st.a.object,CustomPalette:st.a.object},zi.Palette=Ei;var Bi=zi;function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qi="ctoken",Hi=Array.isArray;function Ui(e){for(var t=e.document.cookie.split(/;\s/g),n=0,r=t.length;n<r;n++){var o=t[n].match(/([^=]+)=/i);if(o&&"yuque_ctoken"===o[1])return t[n].substring(o[1].length+1)}}function Wi(e,t,n,r){var o,i,a,c=/\[\]$/;if(Hi(t))for(i=0;t&&i<t.length;i++)a=t[i],n||c.test(e)?r(e,a):Wi(e+"["+("object"===Vi(a)?i:"")+"]",a,n,r);else if(t&&"[object Object]"===t.toString())for(o in t)t.hasOwnProperty(o)&&Wi(e+"["+o+"]",t[o],n,r);else r(e,t)}function Ki(e,t){return e+(/\?/.test(e)?"&":"?")+t}function Yi(e,t){var n,r,o=t||!1,i=[],a=encodeURIComponent;function c(e,t){var n=t;"function"==typeof t?n=t():null==t&&(n=""),i[i.length]=a(e)+"="+a(n)}if(Hi(e))for(r=0;e&&r<e.length;r++)c(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&Wi(n,e[n],o,c);return i.join("&").replace(/%20/g,"+")}function Xi(e){return"undefined"!=typeof FormData&&e instanceof FormData}function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(n),!0).forEach((function(t){Zi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ji,Qi=window,ea=document,ta=document.head,na=/^http/,ra=/(^\w+):\/\//,oa=/^20\d$/,ia="Content-Type",aa="X-Requested-With",ca="reqwest_"+ +new Date,sa=0;function la(){}var ua={traditional:!1,contentType:"application/x-www-form-urlencoded",requestedWith:"XMLHttpRequest",withCredentials:!0,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"},dataFilter:function(e){return e}};function fa(e,t,n){return function(){return e._aborted?n("Request is aborted",e.request):e._timedOut?n("Request is aborted: timeout",e.request):void(e.request&&4===e.request.readyState&&(e.request.onreadystatechange=la,!function(e){var t=ra.exec(e.url),n="";return t&&(n=t[1]),n||(n=(e.o.context||Qi).location.protocol),na.test(n)?oa.test(e.request.status):!!e.request.response}(e)?n(e.request.statusText,e.request):t(e.request)))}}function pa(e){Ji=e}function da(e,t,n,r){var o=r,i=sa++,a=e.jsonpCallback||"callback",c=e.jsonpCallbackName||function(e){return ca+"_"+e}(i),s=new RegExp("((^|\\?|&)"+a+")=([^&]+)"),l=o.match(s),u=ea.createElement("script"),f=0;return l?"?"===l[3]?o=o.replace(s,"$1="+c):c=l[3]:o=Ki(o,a+"="+c),Qi[c]=pa,u.type="text/javascript",u.src=o,u.async=!0,u.onload=u.onreadystatechange=function(){if(u.readyState&&"complete"!==u.readyState&&"loaded"!==u.readyState||f)return!1;u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(Ji),Ji=void 0,ta.removeChild(u),f=1},ta.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,n("Request is aborted: timeout"),Ji=void 0,ta.removeChild(u),f=1}}}function ha(e,t){var n=this.o,r=(n.method||"GET").toUpperCase(),o="string"==typeof n?n:n.url,i=!1!==n.processData&&n.data&&"string"!=typeof n.data&&!Xi(n.data)?Yi(n.data,n.traditional||ua.traditional):n.data||null;if("jsonp"!==n.type&&"GET"!==r||!i||(o=Ki(o,i),i=null),"jsonp"===n.type)return da(n,e,t,o);var a=n.xhr&&n.xhr(n)||function(e){var t=new XMLHttpRequest;if(!0===e.crossOrigin&&!("withCredentials"in t))throw new Error("Browser does not support cross-origin requests");return t}(n);return n.timeout&&(a.timeout=n.timeout),a.open(r,o,!1!==n.async),function(e,t){var n,r=t.headers||{};for(n in r.Accept=r.Accept||ua.accept[t.type]||ua.accept["*"],t.crossOrigin||r[aa]||(r[aa]=ua.requestedWith),r[ia]||Xi(t.data)||(r[ia]=t.contentType||ua.contentType),r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}(a,n),function(e,t){void 0!==t.withCredentials&&void 0!==e.withCredentials&&(e.withCredentials=!!t.withCredentials)}(a,n),a.onreadystatechange=fa(this,e,t),n.before&&n.before(a),a.send(i),a}function ma(){this.initPromise()}function va(){return new ma}function ya(e){var t=this;this.url="string"==typeof e?e:e.url,this.timeout&&clearTimeout(this.timeout),this.timeout=null,e.timeout&&(this.timeout=setTimeout((function(){t._timedOut=!0,t.request.abort()}),e.timeout)),this.request=ha.call(this,(function(e){t.triggerSuccess(e)}),(function(e,n){t.triggerError(e,n)}))}ma.prototype={triggerSuccess:function(e){var t=this.o,n=t.type,r=(t.dataFilter||ua.dataFilter)(e.responseText,n);if(n||(n=e&&function(e){if(e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}(e.getResponseHeader("Content-Type"))),e="jsonp"!==n?this.request:e,r)switch(n){case"json":try{e=Qi.JSON.parse(r)}catch(t){return this.triggerError("Could not parse JSON in response",e)}break;case"html":e=r;break;case"xml":e=e.responseXML&&e.responseXML.parseError&&e.responseXML.parseError.errorCode&&e.responseXML.parseError.reason?null:e.responseXML}t.success&&t.success(e),this.triggerComplete(e),this.__resolve(e)},triggerError:function(e,t){var n=this.o,r=new Error(e);r.xhr=t,n.error&&n.error(r),this.triggerComplete(r),this.__reject(r)},triggerComplete:function(e){var t=this.o;t.timeout&&clearTimeout(this.timeout),this.timeout=null,t.complete&&t.complete(e)},initPromise:function(){var e=this;e.promise=new Promise((function(t,n){e.__resolve=t,e.__reject=n}))},abort:function(){this._aborted=!0,this.request.abort()},retry:function(){this.initPromise(),ya.call(this,this.o)},then:function(e,t){return this.promise.then(e,t)},always:function(e){return this.promise.then(e,e)},fail:function(e){return this.promise.then(void 0,e)},catch:function(e){return this.fail(e)},setup:function(e){this.o=Gi(Gi({},ua),e)},start:function(e){this.setup(e),ya.call(this,this.o)}},va.ajaxSetup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)e.hasOwnProperty(t)&&ua.hasOwnProperty(t)&&(ua[t]=e[t])};var ga=va;function ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(n),!0).forEach((function(t){ka(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xa="_ts",Oa="_input_charset",Ca="utf-8",_a=wa({withCToken:!0,withInputCharset:!0,cache:!0},window.__ajax_global_setup_options);function Ea(e,t){var n;e=(n="string"==typeof e?{url:e,success:t}:e).url;var r=ga();return e.startsWith("//")&&(e=location.protocol+e),function(e){return!/^https?:\/\/\w+\.alipayobjects\.com\//g.test(e)}(e)&&(n=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=wa({},e),o=_a.cache||"post"===r.method,i=Ui(n),a=_a.withCToken,c=_a.withInputCharset,s=_a.withReferrerParam;r.data=r.data||{},Array.isArray(r.data)?(t=[],a&&i&&t.push({name:qi,value:encodeURIComponent(i)}),c&&t.push({name:Oa,value:Ca}),o||t.push({name:xa,value:Date.now()}),r.data=r.data.concat(t)):"string"==typeof r.data?(c&&-1===r.data.indexOf(Oa)&&(r.data+="&_input_charset=utf-8"),a&&i&&-1===r.data.indexOf(qi)&&(r.data+="&ctoken="+encodeURIComponent(i)),o||(r.data+="&_ts="+Date.now())):Xi(r.data)?(c&&!r.data.get(Oa)&&r.data.append(Oa,Ca),r.url&&a&&i&&(r.url=Ki(r.url,Yi(ka({},qi,i))))):(c&&(r.data[Oa]=Ca),o||(r.data._ts=Date.now()),a&&i&&!r.data.ctoken&&(r.data.ctoken=i));var l=navigator.userAgent;if(r.url&&s&&l.includes("Safari")&&!l.includes("Chrome")){var u=new URL(r.url),f=new URL(document.location.href);u.origin!==f.origin&&(u.searchParams.set("referer",f.pathname+f.search),r.url=u.toString())}return r}(n)),r.start(n),r}Ea.ajaxSetup=function(e){for(var t in e)e.hasOwnProperty(t)&&_a.hasOwnProperty(t)&&(_a[t]=e[t]);ga.ajaxSetup(e)};var ja=Ea;function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(n),!0).forEach((function(t){Ra(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ja.ajaxSetup({withInputCharset:!1});var Da=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=Pa({ajaxOptions:{progress:function(){},error:function(){},success:function(){},data:{},method:"post",url:""}},t)}var t,n,r;return t=e,(n=[{key:"ajax",value:function(e){var t=(e=Pa(Pa({},this.options.ajaxOptions),e)).success,n=e.error;if(!e.url)return!!n&&n(new Error("request options.url missing"));var r=new Promise((function(r){e.success=function(e){t(e),r(e)},e.error=function(e){n(e),r(e)}}));return{xhr:ja(e),promise:r}}}])&&Ta(t.prototype,n),r&&Ta(t,r),e}(),Aa=new Da,Ma=function(e){return Aa.ajax(e)};function Na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ia=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"check",value:function(e,t){if(!window.__member_message_ref)return null;var n;switch(e){case"image":n="max_single_image_size";break;case"video":n="max_single_video_size";break;default:n="max_single_file_size"}try{var r=window.__member_message_ref.current.getMessageWithFile({filesize:t},n)||null;if(r)return{level:r.level||"error",msg:r.msg||"unknown error",alwaysOpen:!!r.alwaysOpen,callback:r.callback||function(){},result:r}}catch(e){return console.log(e),null}return null}},{key:"getMessageByCode",value:function(e,t){if(!window.__member_message_ref)return null;try{var n=window.__member_message_ref.current.getMessage(e,{},t)||null;if(n)return{level:n.level||"error",msg:n.msg||"unknown error",alwaysOpen:!!n.alwaysOpen,callback:n.callback||function(){}}}catch(e){return console.log(e),null}return null}}],(n=null)&&Na(t.prototype,n),r&&Na(t,r),e}();function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fa(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?za(Object(n),!0).forEach((function(t){Va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t){return(Ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ka(e);if(t){var o=Ka(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wa(this,n)}}function Wa(e,t){return!t||"object"!==La(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ka(e){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ya={parallel:5},Xa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ha(e,t)}(i,e);var t,n,r,o=Ua(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._options={},t._taskIds=new Set,t._completedTasks=[],t._runningTasks=[],t._pendingTasks=[],t._failureTasks=[],t._options=Ba(Ba({},Ya),e),t}return t=i,(n=[{key:"hasTask",value:function(e){return this._taskIds.has(e)}},{key:"isCompleted",value:function(){return this._pendingTasks.length+this._runningTasks.length===0}},{key:"addTask",value:function(e){this._taskIds.add(e.id),this._pendingTasks.push(e),this._checkFinish()}},{key:"_checkFinish",value:function(){var e=this._pendingTasks.length,t=this._runningTasks.length;0!==e||0!==t?e>0&&t<this._options.parallel&&this._runTask(this._pendingTasks.shift()):this._finish()}},{key:"_runTask",value:function(e){var t,n=this;this._runningTasks.push(e),this._updateProgress(),(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.run();case 2:t.sent.success?n._handleSuccess(e):n._handleFailure(e);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Fa(i,r,o,a,c,"next",e)}function c(e){Fa(i,r,o,a,c,"throw",e)}a(void 0)}))})()}},{key:"_updateProgress",value:function(){var e=this._completedTasks.length,t=this._runningTasks.length,n=this._pendingTasks.length,r=this._failureTasks.length;this.emit("progress",{completed:e,running:t,pending:n,failure:r,total:e+t+n})}},{key:"_handleSuccess",value:function(e){var t=this._runningTasks.indexOf(e);-1!==t&&this._runningTasks.splice(t,1),this._completedTasks.push(e),this._updateProgress(),this._checkFinish()}},{key:"_handleFailure",value:function(e){var t=this._runningTasks.indexOf(e);-1!==t&&this._runningTasks.splice(t,1),this._failureTasks.push(e),this._updateProgress(),this._checkFinish()}},{key:"_finish",value:function(){this.emit("finished"),this._destroy()}},{key:"_destroy",value:function(){this.removeAllListeners()}}])&&qa(t.prototype,n),r&&qa(t,r),i}(_n.a);function $a(e){return($a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Za(e,t){return(Za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ja(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ec(e);if(t){var o=ec(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qa(this,n)}}function Qa(e,t){return!t||"object"!==$a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}(i,e);var t,n,r,o=Ja(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._thread=null,t._threadOptions=null,t._threadOptions=e,t}return t=i,(n=[{key:"hasTask",value:function(e){return!!this._thread&&this._thread.hasTask(e)}},{key:"addTask",value:function(e){var t=this;return this._thread||(this._thread=this._createThread()),Promise.resolve().then((function(){t._thread.addTask(e)})),e}},{key:"isCompleted",value:function(){return!this._thread||this._thread.isCompleted()}},{key:"_createThread",value:function(){var e=this,t=new Xa(this._threadOptions);return t.on("start",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["start"].concat(n))})),t.on("progress",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["progress"].concat(n))})),t.on("finished",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["finished"].concat(n)),e._thread=null})),t}}])&&Ga(t.prototype,n),r&&Ga(t,r),i}(_n.a);function nc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;("number"!=typeof e||e<5)&&(e=5);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function rc(e){return(rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oc(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function ic(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cc(e,t){return(cc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uc(e);if(t){var o=uc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lc(this,n)}}function lc(e,t){return!t||"object"!==rc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uc(e){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fc(e){return(fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(n),!0).forEach((function(t){hc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mc(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function vc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yc(e,t){return(yc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wc(e);if(t){var o=wc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bc(this,n)}}function bc(e,t){return!t||"object"!==fc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yc(e,t)}(c,e);var t,n,r,o,i,a=gc(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=a.call(this))._id=null,n._remoteURL=null,n._file=null,n._remoteURL=e,n._file=t,n}return t=c,(n=[{key:"run",value:(o=regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._file,(n=new FormData).append("file",t,t.name),e.abrupt("return",new Promise((function(e){r.emit("start"),Ma({method:"post",xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){if(e.lengthComputable){var t=parseInt(e.loaded/e.total*100,10);r.emit("progress",t)}}),!1),e},url:r._remoteURL,data:n,dataType:"json",success:function(t){t=dc({success:!0},t),r.emit("success",t),e(t)},error:function(t){var n=t&&400===t.status&&t.code&&Ia.getMessageByCode(t.code,t);t=dc(dc({success:!1},t),{},{fileSizeCheckResult:n}),r.emit("error",t),e(t)},processData:!0})})));case 4:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){mc(i,n,r,a,c,"next",e)}function c(e){mc(i,n,r,a,c,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&vc(t.prototype,n),r&&vc(t,r),c}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cc(e,t)}(c,e);var t,n,r,o,i,a=sc(c);function c(){var e;ic(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n)))._id=nc(24),e}return t=c,(n=[{key:"run",value:(o=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){oc(i,n,r,a,c,"next",e)}function c(e){oc(i,n,r,a,c,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&ac(t.prototype,n),r&&ac(t,r),c}(_n.a)),xc=(n(44),n(523),n(3)),Oc=n(11),Cc=n(12),_c=n(13),Ec=n(51),jc=n(30),Sc=n(180),Pc=n(118);function Rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(jc.a)(e);if(t){var o=Object(jc.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(Ec.a)(this,n)}}var Tc=function(e){Object(_c.a)(n,e);var t=Rc(n);function n(){var e;return Object(Oc.a)(this,n),(e=t.apply(this,arguments)).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props.onClose;n&&n()},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return Object(Cc.a)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.update)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,o=t.closable,i=t.closeIcon,a=t.style,c=t.onClick,s=t.children,l=t.holder,u="".concat(n,"-notice"),f=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),p=k.a.createElement("div",Object.assign({className:_t()(u,r,Object(xc.a)({},"".concat(u,"-closable"),o)),style:a,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:c},f),k.a.createElement("div",{className:"".concat(u,"-content")},s),o?k.a.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(u,"-close")},i||k.a.createElement("span",{className:"".concat(u,"-close-x")})):null);return l?He.a.createPortal(p,l):p}}]),n}(w.Component);Tc.defaultProps={onClose:function(){},duration:1.5,style:{right:"50%"}};var Dc=n(14),Ac=n(7);function Mc(e){var t=w.useRef({}),n=w.useState([]),r=Object(Ac.a)(n,2),o=r[0],i=r[1];return[function(n){e.add(n,(function(e,n){var r=n.key;if(e&&!t.current[r]){var o=w.createElement(Tc,Object.assign({},n,{holder:e}));t.current[r]=o,i((function(e){return[].concat(Object(Dc.a)(e),[o])}))}}))},w.createElement(w.Fragment,null,o)]}function Nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nc(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(jc.a)(e);if(t){var o=Object(jc.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(Ec.a)(this,n)}}var Fc=0,zc=Date.now();function Bc(){var e=Fc;return Fc+=1,"rcNotification_".concat(zc,"_").concat(e)}var Vc=function(e){Object(_c.a)(n,e);var t=Lc(n);function n(){var e;return Object(Oc.a)(this,n),(e=t.apply(this,arguments)).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){t.key=t.key||Bc();var r=t.key,o=e.props.maxCount;e.setState((function(e){var i=e.notices,a=i.map((function(e){return e.notice.key})).indexOf(r),c=i.concat();return-1!==a?c.splice(a,1,{notice:t,holderCallback:n}):(o&&i.length>=o&&(t.updateKey=c[0].notice.updateKey||c[0].notice.key,c.shift()),c.push({notice:t,holderCallback:n})),{notices:c}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){return e.notice.key!==t}))}}))},e}return Object(Cc.a)(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,o=n.className,i=n.closeIcon,a=n.style,c=t.map((function(n,o){var a=n.notice,c=n.holderCallback,s=Boolean(o===t.length-1&&a.updateKey),l=a.updateKey?a.updateKey:a.key,u=Object(Pc.a)(e.remove.bind(e,a.key),a.onClose),f=Ic(Ic(Ic({prefixCls:r,closeIcon:i},a),a.props),{},{key:l,update:s,onClose:u,onClick:a.onClick,children:a.content});return c?k.a.createElement("div",{key:l,className:"".concat(r,"-hook-holder"),ref:function(t){void 0!==l&&(t?(e.hookRefs.set(l,t),c(t,f)):e.hookRefs.delete(l))}}):k.a.createElement(Tc,Object.assign({},f))}));return k.a.createElement("div",{className:_t()(r,o),style:a},k.a.createElement(Sc.a,{transitionName:this.getTransitionName()},c))}}]),n}(w.Component);Vc.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},Vc.newInstance=function(e,t){var n=e||{},r=n.getContainer,o=Object(yt.a)(n,["getContainer"]),i=document.createElement("div");r?r().appendChild(i):document.body.appendChild(i);var a=!1;He.a.render(k.a.createElement(Vc,Object.assign({},o,{ref:function(e){a||(a=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){He.a.unmountComponentAtNode(i),i.parentNode&&i.parentNode.removeChild(i)},useNotification:function(){return Mc(e)}}))}})),i)};var qc,Hc=Vc,Uc=n(170),Wc=n.n(Uc),Kc=n(333),Yc=n.n(Kc),Xc=n(332);var $c,Gc,Zc,Jc=3,Qc=1,es="ant-message",ts="move-up",ns=!1;function rs(e,t){var n=e.prefixCls||es;qc?t({prefixCls:n,instance:qc}):Hc.newInstance({prefixCls:n,transitionName:ts,style:{top:$c},getContainer:Gc,maxCount:Zc},(function(e){qc?t({prefixCls:n,instance:qc}):(qc=e,t({prefixCls:n,instance:e}))}))}var os={info:n.n(Xc).a,success:Yc.a,error:kr.a,warning:Wc.a,loading:Vr.a};function is(e,t){var n,r=void 0!==e.duration?e.duration:Jc,o=os[e.type],i=_t()("".concat(t,"-custom-content"),(n={},ut()(n,"".concat(t,"-").concat(e.type),e.type),ut()(n,"".concat(t,"-rtl"),!0===ns),n));return{key:e.key,duration:r,style:e.style||{},className:e.className,content:w.createElement("div",{className:i},e.icon||o&&w.createElement(o,null),w.createElement("span",null,e.content)),onClose:e.onClose}}var as,cs,ss={open:function(e){var t=e.key||Qc++,n=new Promise((function(n){var r=function(){return"function"==typeof e.onClose&&e.onClose(),n(!0)};rs(e,(function(n){var o=n.prefixCls;n.instance.notice(is(ht()(ht()({},e),{key:t,onClose:r}),o))}))})),r=function(){qc&&qc.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&($c=e.top,qc=null),void 0!==e.duration&&(Jc=e.duration),void 0!==e.prefixCls&&(es=e.prefixCls),void 0!==e.getContainer&&(Gc=e.getContainer),void 0!==e.transitionName&&(ts=e.transitionName,qc=null),void 0!==e.maxCount&&(Zc=e.maxCount,qc=null),void 0!==e.rtl&&(ns=e.rtl)},destroy:function(){qc&&(qc.destroy(),qc=null)}};function ls(e,t){e[t]=function(n,r,o){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(ht()(ht()({},n),{type:t})):("function"==typeof r&&(o=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:o}))}}["success","info","warning","error","loading"].forEach((function(e){return ls(ss,e)})),ss.warn=ss.warning,ss.useMessage=(as=rs,cs=is,function(){var e,t=null,n=Mc({add:function(e,n){null==t||t.component.add(e,n)}}),r=pt()(n,2),o=r[0],i=r[1],a=w.useRef({});return a.current.open=function(n){var r=n.prefixCls,i=e("message",r),a=n.key||Qc++,c=new Promise((function(e){var r=function(){return"function"==typeof n.onClose&&n.onClose(),e(!0)};as(ht()(ht()({},n),{prefixCls:i}),(function(e){var i=e.prefixCls,c=e.instance;t=c,o(cs(ht()(ht()({},n),{key:a,onClose:r}),i))}))})),s=function(){t&&t.removeNotice(a)};return s.then=function(e,t){return c.then(e,t)},s.promise=c,s},["success","info","warning","error","loading"].forEach((function(e){return ls(a.current,e)})),[a.current,w.createElement(on,{key:"holder"},(function(t){return e=t.getPrefixCls,i}))]});var us=ss,fs=(n(524),us);function ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ds=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.needCloseCount=0}var t,n,r;return t=e,(n=[{key:"show",value:function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r||(this.needCloseCount++,!(this.needCloseCount>e.MaxCloseMessageCount)))return"error"===t||"warning"===t?fs[t](n,r?void 0:0):void 0}}])&&ps(t.prototype,n),r&&ps(t,r),e}();function hs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,t=new URLSearchParams(e),n=document.cookie.match(/(?:^|; ?)lang=([^;]+)(?:;|$)/),r=n?n[1]:t.get("language");return"en-us"===r?"en-us":"zh-cn"}ds.MaxCloseMessageCount=3;var ms={locale:hs(),translations:{"en-us":{"图片上传失败":"Image upload failed","图片上传超时":"Image upload timed out","上传图片前置校验失败":"Upload image pre-verification failed","请设置文档 ID ！":"Please set the document ID!"}}};function vs(e,t){if(!e)return e;var n=ms.locale,r=ms.translations[n]||{};return"zh-cn"!==n&&(e=r[e]||e),e.replace(/\{([^\}]+)\}/g,(function(e,n){return t[n]||n}))}function ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(n),!0).forEach((function(t){bs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ws(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xs=new ds,Os=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ws(this,e);var n=window.__global_uploader_options||{};this.searchParams=new URLSearchParams(window.location.search);var r=this._getCustom();if(Object.assign(this,gs(gs(gs({docId:null,host:"",imageBaseUrl:"/api/upload/attach",imageAction:null},n),r),t)),this.uploadManager=new tc,!this.docId)throw new Error(vs("请设置文档 ID ！"))}var t,n,r;return t=e,(n=[{key:"_getCustom",value:function(){var e=this.searchParams.get("upload_url"),t={};return e&&(t.imageBaseUrl=e),t}},{key:"_getCtokenField",value:function(){return this.searchParams.get("upload_csrf_token_field")||"ctoken"}},{key:"_getCtonkenValue",value:function(){var e=this.searchParams.get("upload_csrf_token_value")||Ui(window)||"";return e&&(e=encodeURIComponent(e)),e}},{key:"_addParams",value:function(e,t){var n=this.docId,r=this.docDomain,o=this.host,i=this._getCtokenField(),a=this._getCtonkenValue(),c="attachable_type=".concat(r||"Doc","&attachable_id=").concat(n,"&").concat(i,"=").concat(a,"&type=").concat(t);return(e=o+e).includes("?")?"".concat(e,"&").concat(c):"".concat(e,"?").concat(c)}},{key:"isCompleted",value:function(){return this.uploadManager.isCompleted()}},{key:"image",value:function(e){var t=this;return new Promise((function(n){if(e&&e.size){var r=Ia.check("image",e.size);null!==r&&(r.callback(xs.show(r.level,r.msg,!r.alwaysOpen)),n())}var o=t.imageBaseUrl,i=t.uploadManager,a=t.imageAction||t._addParams(o,"image"),c=new kc(a,e);i.addTask(c),c.on("success",(function(e){if(e&&e.success)n(e&&e.data&&e.data.url);else{if(e.fileSizeCheckResult){var t=e.fileSizeCheckResult,r=t.level,o=t.msg,i=t.alwaysOpen;fs[r](o,i?0:void 0)}else fs.error(e&&e.message||vs("图片上传失败"));n()}})),c.on("error",(function(e){fs.error(e&&e.message||vs("图片上传失败")),n()})),setTimeout((function(){fs.error(vs("图片上传超时")),n()}),6e5)}))}}])&&ks(t.prototype,n),r&&ks(t,r),e}();n(531);var Cs=[/^.*?\.yuque\.com$/i,"cdn.nlark.com","yuque.antfin.com","yuque.antfin-inc.com","intranetproxy.alipay.com",window.location.host];function _s(e,t,n){"string"==typeof e&&(e=new URL(e));var r=e.searchParams.get("x-oss-process");return r?r.includes("/".concat(t,","))||(r+="/".concat(t,",").concat(n)):r="image/".concat(t,",").concat(n),e.searchParams.set("x-oss-process",r),e.toString()}function Es(e,t,n){if(!e.startsWith("http")||t)return e;var r=new URL(e);return r.pathname&&!r.pathname.toLowerCase().endsWith(".webp")?e:Ss(e,n||Cs)?_s(r,"format","png"):null}function js(e){var t=e.maxWidth,n=e.src,r=e.data,o=e.ossProcessDomains;if(!(r.width&&r.originWidth&&r.originHeight&&n&&n.startsWith("http")))return null;if(r.originWidth>3e4||r.originHeight>3e4)return null;var i=parseInt(r.width);i>t?i=t:i<300&&r.originWidth>300&&(i=300);var a=Math.ceil(window.devicePixelRatio||1);i=parseInt(i*a);var c=n.toLowerCase();if(!Ss(c,o||Cs))return null;var s=i*(r.originHeight/r.originWidth);return i>0&&i*s<16777216&&i<4096&&s<4096&&i<r.originWidth&&!/^https?:\/\/\w+\.alipayobjects\.com\//i.test(c)&&!c.endsWith(".gif")&&!c.endsWith(".svg")?_s(n,"resize","w_".concat(i)):null}function Ss(e,t){var n=null;try{n=new URL(e).host}catch(e){}if(!n)return!1;for(var r=0,o=t.length;r<o;r++){var i=t[r];if("string"==typeof i){if(i===n)return!0}else if(i.test&&i.test(n))return!0}return!1}var Ps=n(334),Rs=n.n(Ps);var Ts=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;return new Promise((function(n,r){var o=document.createElement("script");o.src=e,o.onload=n,o.onerror=r,t.appendChild(o)}))};function Ds(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function As(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ds(i,r,o,a,c,"next",e)}function c(e){Ds(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Ms(e,t,n,r){return Ns.apply(this,arguments)}function Ns(){return(Ns=As(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,c,s,l,u,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ts("https://gw.alipayobjects.com/os/lib/ali-oss/6.12.0/dist/aliyun-oss-sdk.min.js");case 2:return i={ext:t.ext||t.name.split(".").pop(),filename:t.name,filesize:t.size,attachable_id:n,attachable_type:r,type:o},e.next=5,Ma({data:i,url:"/api/sts/video_upload"}).promise;case 5:return a=e.sent,c=a.data,s=c.filekey,l=c.filekey_digest,u="prod"===window.appData.env?"lark-assets-prod-aliyun":"lark-assets-dev-aliyun",f={region:"oss-cn-hangzhou",accessKeyId:c.AccessKeyId,accessKeySecret:c.AccessKeySecret,stsToken:c.SecurityToken,bucket:"video"===o?"lark-video":u},p=new window.OSS(f),e.abrupt("return",{ossClient:p,filekey:s,filekey_digest:l});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Is(e,t,n,r){return Ls.apply(this,arguments)}function Ls(){return(Ls=As(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.multipartUpload(r,t,{progress:function(e){o&&o(e)},meta:{uploadMethod:"directlyToOss"},mime:Rs.a.extension(t.ext)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fs(e){try{return localStorage.getItem(e)}catch(e){console.warn(e)}return null}function zs(e,t){try{return localStorage.setItem(e,t)}catch(e){console.warn(e)}}function Bs(){return window.__imageBrowser||(window.__imageBrowser=new Ln),window.__imageBrowser}n(208),n(535);var Vs=n(119),qs=n.n(Vs),Hs="data-lake-element",Us="anchor",Ws="focus",Ks="cursor",Ys="span[".concat(Hs,"=").concat(Us,"]"),Xs="span[".concat(Hs,"=").concat(Ws,"]"),$s="span[".concat(Hs,"=").concat(Ks,"]"),Gs="data-lake-card",Zs="data-ready-card",Js="data-card-type",Qs="data-card-alias",el="data-card-value",tl="data-card-element",nl="div[".concat(Gs,"],span[").concat(Gs,"]"),rl="div[".concat(Zs,"],span[").concat(Zs,"]"),ol="span[".concat(tl,"=left]"),il="div[".concat(tl,"=center],span[").concat(tl,"=center]"),al="span[".concat(tl,"=right]"),cl=["http:","https:","data:","dingtalk:","ftp:","mailto:","fleamarket:","alipays:"];function sl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;("number"!=typeof e||e<5)&&(e=5);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function ll(e,t){t=void 0===t?",":t;var n,r={},o=Array.isArray(e)?e:e.split(t);return Object.keys(o).forEach((function(e){var t=o[e];if(n=/^(\d+)\.\.(\d+)$/.exec(t))for(var i=parseInt(n[1],10);i<=parseInt(n[2],10);i++)r[i.toString()]=!0;else r[t]=!0})),r}function ul(e){return e.split("-").map((function(e,t){return t>0?e.charAt(0).toUpperCase()+e.substr(1):e})).join("")}function fl(e){var t=function(e){var t=parseInt(e,10).toString(16).toUpperCase();return t.length>1?t:"0"+t};return e.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/gi,(function(e,n,r,o){return"#"+t(n)+t(r)+t(o)}))}function pl(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function dl(e){return"string"!=typeof e?e:e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")}function hl(e){return"string"==typeof e&&(!(e=e.toLowerCase()).startsWith("data:text/html")&&(!!cl.some((function(t){return e.startsWith(t)}))||(!(!e.startsWith("./")&&!e.startsWith("/"))||e.indexOf(":")<0)))}function ml(e){var t;return e&&(t=/^(-?\d+)/.exec(e))?parseInt(t[1],10):0}function vl(e){for(var t,n={},r=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g;t=r.exec(e);){var o=(t[1]||t[2]||t[4]||t[6]).toLowerCase(),i=(t[2]?t[3]:t[4]?t[5]:t[7])||"";n[o]=i}return n}function yl(e){e=e.replace(/&quot;/g,'"');for(var t,n={},r=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g;t=r.exec(e);){var o=t[1].toLowerCase().trim(),i=fl(t[2]).trim();n[o]=i}return n}function gl(e){return e.replace(/<anchor\s*\/>/gi,"").replace(/<focus\s*\/>/gi,"").replace(/<cursor\s*\/>/gi,"")}function bl(e){return e.replace(/<anchor\s*\/>/gi,"<span ".concat(Hs,'="').concat(Us,'"></span>')).replace(/<focus\s*\/>/gi,"<span ".concat(Hs,'="').concat(Ws,'"></span>')).replace(/<cursor\s*\/>/gi,"<span ".concat(Hs,'="').concat(Ks,'"></span>')).replace(/(<card\s+[^>]+>).*?<\/card>/gi,(function(e,t){var n=vl(t),r=n.type,o=n.name,i=n.value,a="inline"===n.type?"span":"div",c=["<".concat(a)];return c.push(" ".concat(Js,'="').concat(r,'"')),c.push(" ".concat(Zs,'="').concat(o,'"')),void 0!==i&&c.push(" ".concat(el,'="').concat(i,'"')),c.push("></".concat(a,">")),c.join("")}))}function wl(e,t){var n=e.replace(/#.*$/,"").replace(/\/edit$/,"");return"".concat(n,"#").concat(t)}function kl(e){if(!e)return e;var t=e.replace(/<(anchor|focus|cursor)[^>]*?\/>/gi,"");return/^<p(\s[^>]*?)><br \/><\/p>$/i.test(t)?e.replace(RegExp.$1,""):e}function xl(e){try{e=encodeURIComponent(JSON.stringify(e))}catch(t){e=""}return"data:".concat(e)}function Ol(e){try{e.startsWith("data:")?(e=e.substr(5),e=JSON.parse(decodeURIComponent(e))):e=JSON.parse(e)}catch(t){e={}}return e}var Cl={md5:function(e){return qs()(e)},toMap:ll,toCamel:ul,toHex:fl,escape:pl,unescape:dl,escapeDots:function(e){return"string"!=typeof e?e:e.replace(/\./g,"&dot;")},unescapeDots:function(e){return"string"!=typeof e?e:e.replace(/&dot;/g,".")},validUrl:hl,sanitizeUrl:function(e){return hl(e)?e:""},addUnit:function(e,t){return t=t||"px",e&&/^-?\d+(?:\.\d+)?$/.test(e)?e+t:e},removeUnit:ml,getAttrMap:vl,getCssMap:yl,removeBookmarkTags:gl,transformCustomTags:bl,getAnchorUrl:wl,isCurrentPageUrl:function(e,t){if(t.startsWith("#"))return!0;var n=e.replace(/#.*$/,"").replace(/\/edit$/,"");return!!t.startsWith(n)&&(""===(t=t.substr(n.length))||t.startsWith("#"))},encodeCardValue:xl,decodeCardValue:Ol,escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},protocols:cl,randomId:sl,formatEngineValue:kl},_l=ll("html,head,body,h1,h2,h3,h4,h5,h6,p,div,pre,blockquote,hr,ul,ol,li,table,thead,tbody,colgroup,col,tr,td,th,video,iframe"),El=ll("a,br,img"),jl=ll("b,strong,i,em,u,del,s,strike,code,mark,span,sub,sup"),Sl=ll("br,hr,img,col,anchor,focus,cursor"),Pl=ll("table,thead,tbody,colgroup,col,tr,td,th,ul,ol,li"),Rl=ll("h1,h2,h3,h4,h5,h6,p"),Tl=ll("h1,h2,h3,h4,h5,h6"),Dl=ll("h1,h2,h3,h4,h5,h6,p,blockquote,ul,ol"),Al=ll("table,thead,tbody,tr,td,th"),Ml="data-lake-element",Nl="root",Il="[".concat(Ml,"=").concat(Nl,"]");function Ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fl=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.engine=t,this.listeners={}}var t,n,r;return t=e,(n=[{key:"on",value:function(e,t,n){this.listeners[e]&&!n||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=this.listeners[e];if(n)for(var r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1);break}}},{key:"trigger",value:function(){var e=Array.prototype.slice.call(arguments),t=e.shift(),n=this.listeners[t];if(n){for(var r,o=0;o<n.length&&!1!==(r=n[o].apply(this.engine,e));o++);return r}}}])&&Ll(t.prototype,n),r&&Ll(t,r),e}(),zl="data-lake-id",Bl={p:!0,ol:!0,ul:!0,li:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0};function Vl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ql(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ql(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hl(e,t){var n=t.nodeName,r=t.getAttribute(zl);if(r)return r;for(var o=e.querySelectorAll(n),i=0,a=o.length;i<a;i++)if(o[i]===t)return Xl(t,i);return null}function Ul(e){Object.keys(Bl).forEach((function(t){for(var n=e.querySelectorAll(t),r=0,o=n.length;r<o;r++){var i=n[r];i.getAttribute(zl)||Xl(i,r)}}))}function Wl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var n=e.getAttribute(zl);if(n)return n}var r=qs()("".concat(Math.random(),"_").concat(Date.now()));return e.setAttribute(zl,r),r}function Kl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.nodeType!==Node.ELEMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||Object.keys(Bl).forEach((function(n){for(var r=e.querySelectorAll(n),o=0,i=r.length;o<i;o++)Wl(r[o],t)}))}function Yl(e){return!!Bl[e.toLowerCase()]}function Xl(e,t){var n=e.nodeName.toLowerCase(),r=qs()("".concat(n,"_").concat(t,"_").concat(e.innerText))+"_"+n+"_"+t;return e.setAttribute(zl,r),r}var $l={generateElementID:Hl,generateElementIDForDescendant:Ul,generateRandomID:Wl,needMarkElementID:Yl,generateRandomIDForDescendant:Kl};function Gl(e){return(Gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jl(e){return e?e.ownerDocument||e.document||e:document}function Ql(e){if(!e)return window;var t=Jl(e);return t.parentWindow||t.defaultView||window}function eu(e,t){return e.nodeType===Node.ELEMENT_NODE&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector).call(e,t)}var tu=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.nodeType&&(t=[t]),this.events=[];for(var r=0;r<t.length;r++)this[r]=t[r],this.events[r]=new Fl;this.length=t.length,this.length>0&&(this.doc=Jl(n),this.root=n,this.name="string"==typeof this[0].nodeName?this[0].nodeName.toLowerCase():"",this.type=this.length>0?this[0].nodeType:null,this.win=Ql(this[0]))}var t,n,r;return t=e,(n=[{key:"toArray",value:function(){var e=[];return this.each((function(t){e.push(t)})),e}},{key:"removeFontSize",value:function(){var e=this.attr("class");e&&this.attr("class",e.replace(/lake-fontsize-[\d]{1,2}/,""))}},{key:"isElement",value:function(){return this.type===Node.ELEMENT_NODE}},{key:"isText",value:function(){return this.type===Node.TEXT_NODE}},{key:"isBlock",value:function(){return"inline"!==this.attr(Js)&&!!_l[this.name]}},{key:"isInline",value:function(){return!!El[this.name]}},{key:"isRootBlock",value:function(){return!!Dl[this.name]}},{key:"isSimpleBlock",value:function(){if(!this.isBlock())return!1;for(var e=this.first();e;){if(e.isBlock())return!1;e=e.next()}return!0}},{key:"isMark",value:function(){return!!jl[this.name]}},{key:"isCard",value:function(){return!!this.attr(Js)}},{key:"isBlockCard",value:function(){return"block"===this.attr(Js)}},{key:"isVoid",value:function(){return!!Sl[this.name]}},{key:"isSolid",value:function(){return!!Pl[this.name]}},{key:"isHeading",value:function(){return!!Rl[this.name]}},{key:"isTitle",value:function(){return!!Tl[this.name]}},{key:"isTable",value:function(){return!!Al[this.name]}},{key:"isRoot",value:function(){return this.attr(Ml)===Nl}},{key:"isEditable",value:function(){return!this.isRoot()&&this.closest(Il).length>0}},{key:"each",value:function(e){for(var t=0;t<this.length&&!1!==e(this[t],t);t++);return this}},{key:"eq",value:function(t){return this[t]?new e(this[t]):void 0}},{key:"index",value:function(){for(var e=this[0].previousSibling,t=0;e&&e.nodeType===Node.ELEMENT_NODE;)t++,e=e.previousSibling;return t}},{key:"parent",value:function(){var t=this[0].parentNode;return t?new e(t):void 0}},{key:"children",value:function(t){if(0===this.length)return new e([]);var n=this[0].childNodes;if(t){for(var r=[],o=0;o<n.length;o++){var i=n[o];eu(i,t)&&r.push(i)}return new e(r)}return new e(n)}},{key:"first",value:function(){if(0!==this.length){var t=this[0].firstChild;return t?new e(t):void 0}}},{key:"last",value:function(){if(0!==this.length){var t=this[0].lastChild;return t?new e(t):void 0}}},{key:"prev",value:function(){if(0!==this.length){var t=this[0].previousSibling;return t?new e(t):void 0}}},{key:"next",value:function(){if(0!==this.length){var t=this[0].nextSibling;return t?new e(t):void 0}}},{key:"prevElement",value:function(){if(0!==this.length){var t=this[0].previousElementSibling;return t?new e(t):void 0}}},{key:"nextElement",value:function(){if(0!==this.length){var t=this[0].nextElementSibling;return t?new e(t):null}}},{key:"contains",value:function(e){if(0!==this.length)return function(e,t){if(9===e.nodeType&&9!==t.nodeType)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1}(this[0],e[0]?e[0]:e)}},{key:"find",value:function(t){var n=[];return this[0]&&this.isElement()&&(n=this[0].querySelectorAll(t)),new e(n)}},{key:"closest",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.parentNode},r=[],o=this[0];o;){if(eu(o,t))return r.push(o),new e(r);o=n(o)}return new e(r)}},{key:"on",value:function(e,t,n){var r=this;return this.each((function(o,i){o.addEventListener(e,t,n||!1),r.events[i].on(e,t)})),this}},{key:"getBoundingClientRect",value:function(e){var t=this[0];if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect(),r=document.documentElement.clientTop,o=document.documentElement.clientLeft;return{top:n.top-r,bottom:n.bottom-r,left:n.left-o,right:n.right-o}}return e||null}},{key:"off",value:function(e,t){var n=this;return this.each((function(r,o){r.removeEventListener(e,t,!1),n.events[o].off(e,t)})),this}},{key:"removeAllEvents",value:function(){var e=this;return this.each((function(t,n){e.events[n]&&Object.keys(e.events[n].listeners).forEach((function(r){for(var o=e.events[n].listeners[r],i=0;i<o.length;i++)t.removeEventListener(r,o[i],!1)}))})),this.events=[],this}},{key:"offset",value:function(){var e=this[0].getBoundingClientRect();return{top:e.top,left:e.left}}},{key:"attr",value:function(e,t){var n=this;return void 0===e?vl(this[0].cloneNode(!1).outerHTML):"object"===Gl(e)?(Object.keys(e).forEach((function(t){var r=e[t];n.attr(t,r)})),this):void 0===t?this.length>0&&this.isElement()?this[0].getAttribute(e):"":(this.each((function(n){n.setAttribute(e,t)})),this)}},{key:"removeAttr",value:function(e){return this.each((function(t){t.removeAttribute(e)})),this}},{key:"hasClass",value:function(e){if(this[0]&&this[0].classList)for(var t=0;t<this[0].classList.length;t++)if(this[0].classList[t]===e)return!0;return!1}},{key:"addClass",value:function(e){return this.each((function(t){t.classList.add(e)})),this}},{key:"removeClass",value:function(e){return this.each((function(t){t.classList.remove(e)})),this}},{key:"css",value:function(e,t){var n=this;return void 0===e?yl(this.attr("style")||""):"object"===Gl(e)?(Object.keys(e).forEach((function(t){var r=e[t];n.css(t,r)})),this):void 0===t?0===this.length||this.isText()?"":this[0].style[ul(e)]||function(e,t){var n=Ql(e),r=ul(t);return n.getComputedStyle(e,null)[r]}(this[0],e)||"":(this.each((function(n){n.style[ul(e)]=t})),this)}},{key:"width",value:function(){var e=this.css("width");return"auto"===e&&(e=this[0].offsetWidth),parseFloat(e)||0}},{key:"height",value:function(){var e=this.css("height");return"auto"===e&&(e=this[0].offsetHeight),parseFloat(e)||0}},{key:"html",value:function(e){return void 0===e?this.length>0?this[0].innerHTML:"":(this.each((function(t){t.innerHTML=e,Kl(t)})),this)}},{key:"htmlKeepID",value:function(e){return void 0===e?this.length>0?this[0].innerHTML:"":(this.each((function(t){t.innerHTML=e})),this)}},{key:"text",value:function(e){return void 0===e?this.length>0?this[0].textContent:"":(this.each((function(t){t.textContent=e})),this)}},{key:"show",value:function(e){return void 0===e&&(e=this._originDisplay||""),"none"===e&&(e=""),"none"!==this.css("display")?this:this.css("display",e)}},{key:"hide",value:function(){return this[0]?(this._originDisplay=this[0].style.display,this.css("display","none")):self}},{key:"remove",value:function(){var e=this;return this.each((function(t,n){t.parentNode&&(t.parentNode.removeChild(t),delete e[n])})),this.length=0,this}},{key:"empty",value:function(){return this.each((function(e){for(var t=e.firstChild;t;){if(!e.parentNode)return;var n=t.nextSibling;t.parentNode.removeChild(t),t=n}})),this}},{key:"clone",value:function(t){var n=this[0].cloneNode(t);return Kl(n,!0),Yl(n.nodeName)&&Wl(n,!0),new e(n)}},{key:"cloneKeepID",value:function(t){return new e(this[0].cloneNode(t))}},{key:"prepend",value:function(e){var t=this;return this.each((function(n){var r=nu(e,t.root);n.firstChild?n.insertBefore(r[0],n.firstChild):n.appendChild(r[0])})),this}},{key:"append",value:function(e){var t=this;return this.each((function(n){for(var r=nu(e,t.root),o=0;o<r.length;o++){var i=r[o];"string"==typeof e?n.appendChild(i.cloneNode(!0)):n.appendChild(i)}})),this}},{key:"before",value:function(e){var t=this;return this.each((function(n){var r=nu(e,t.root);n.parentNode.insertBefore(r[0],n)})),this}},{key:"after",value:function(e){var t=this;return this.each((function(n){var r=nu(e,t.root);n.nextSibling?n.parentNode.insertBefore(r[0],n.nextSibling):n.parentNode.appendChild(r[0])})),this}},{key:"replaceWith",value:function(t){var n=this,r=[];return this.each((function(e){var o=nu(t,n.root)[0];e.parentNode.replaceChild(o,e),r.push(o)})),new e(r)}}])&&Zl(t.prototype,n),r&&Zl(t,r),e}();function nu(e,t){if(t=t||document,!e)return[];if("string"==typeof e){var n=e.length;if("@"===e.charAt(0)&&(e=e.substr(1)),e.length!==n||/<.+>/.test(e)){var r=0===e.indexOf("<tr"),o=0===e.indexOf("<td");e=(e=e.trim()).replace(/<!--[^>]*-->/g,""),r&&(e="<table><tbody>".concat(e,"</tbody></table>")),o&&(e="<table><tbody><tr>".concat(e,"</tr></tbody></table>"));var i=document.createElement("div");return i.innerHTML=e,Kl(i),r?i.querySelector("tbody").childNodes:o?i.querySelector("tr").childNodes:i.childNodes}return t.querySelectorAll(e)}if(e.constructor===NodeList)return e;if(void 0!==e.length&&e.each){var a=[];return e.each((function(e){a.push(e)})),a}if(Array.isArray(e))return e;if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(var c=[],s=e.firstChild;s;)c.push(s),s=s.nextSibling;return c}return[e]}function ru(e,t){var n=nu(e,t);return new tu(n,t)}var ou=function(e,t){e=ru(e),t=ru(t).clone(!1);for(var n=e.first();n;){var r=n.next();t.append(n),n=r}return e.replaceWith(t)},iu="data-lake-indent",au={blockquote:3,h1:2,h2:2,h3:2,h4:2,h5:2,h6:2,ul:2,ol:2,li:2,p:1};function cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(n),!0).forEach((function(t){lu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uu(e){return e?e.ownerDocument||e.document||e:document}function fu(e){if(!e)return window;var t=uu(e);return t.parentWindow||t.defaultView||window}function pu(e,t,n){e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=ru(e)[0]),n=void 0===n||n;t(e),function e(r){for(var o=n?r.firstChild:r.lastChild;o;){var i=n?o.nextSibling:o.previousSibling,a=t(o);if(!1===a)return;ru(o).attr(Gs)||ru(o).attr(Zs)||!0===a||e(o),o=i}}(e)}function du(e){var t=[];return pu(e,(function(e){return t.push(e)})),t.shift(),t}function hu(e,t){return e?t?e.trim().replace(/\blake-fontsize-\d+/g,"lake-fontsize").split(/\s+/):e.trim().split(/\s+/):[]}function mu(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e=ru(e),t=ru(t),e.name!==t.name)return!1;var r=e.attr();delete r.style;var o=t.attr();delete o.style;var i=e.css(),a=t.css();delete r.class;var c=hu(e[0].className,!n);delete o.class;var s=hu(t[0].className,!n);return 0===Object.keys(r).length&&0===Object.keys(o).length&&0===Object.keys(i).length&&0===Object.keys(a).length&&0===c.length&&0===s.length||Object.keys(r).length===Object.keys(o).length&&Object.keys(i).length===Object.keys(a).length&&c.length===s.length&&(!!Object.keys(r).every((function(e){return o[e]}))&&(!!Object.keys(i).every((function(e){return n?a[e]===i[e]:a[e]}))&&c.every((function(e){return-1!==s.indexOf(e)}))))}function vu(e,t){if((e=ru(e)).isElement()){if(e.attr(Gs)||e.find(nl).length>0)return!1;if(e.attr(Zs)||e.find(rl).length>0)return!1;if("br"!==e.name&&e.isVoid())return!1;if(e.find("hr,img,table").length>0)return!1;if(e.find("br").length>1)return!1}var n=e.isText()?e[0].nodeValue:e.text();return n=(n=n.replace(/\u200B/g,"")).replace(/\r\n|\n/,""),t&&(n=n.trim()),""===n}function yu(e){var t=e.childNodes;if(0===t.length)return!0;for(var n=0,r=t.length;n<r;n++){var o=t[n];if(o.nodeType===Node.TEXT_NODE){if(""!==o.data.replace(/\u200b/g,""))return!1}else if(o.nodeType===Node.ELEMENT_NODE){if(o.hasAttribute(Gs))return!1;if(!yu(o))return!1}}return!0}function gu(e){return vu(e,!0)}function bu(e){pu(e,(function(e){if(e.nodeType===Node.TEXT_NODE){var t=e.nodeValue;if(2===t.length&&!(8203===t.charCodeAt(1)&&e.nextSibling&&e.nextSibling.nodeType===Node.ELEMENT_NODE&&[Us,Ws,Ks].indexOf(e.nextSibling.getAttribute(Hs))>=0)&&8203===t.charCodeAt(0)){var n=e.splitText(1);n.parentNode.removeChild(n.previousSibling)}}}))}function wu(e){var t=e.first();t&&"br"===t.name&&e.children().length>1&&t.remove();var n=e.last();n&&"br"===n.name&&e.children().length>1&&n.remove()}function ku(e){e.normalize()}function xu(e){return!(!e||!e[0])&&(e.isCard()&&("checkbox"===e.attr("data-lake-card")||"checkbox"===e.attr("data-ready-card")))}function Ou(e){switch(e.name){case"li":return xu(e.first())||e.hasClass("lake-list-task");case"ul":return e.hasClass("lake-list");default:return!1}}function Cu(e,t){return e.name===t.name&&(Ou(e)===Ou(t)&&(parseInt(e.attr(iu),10)||0)===(parseInt(t.attr(iu),10)||0))}function _u(e,t){if(!au[e.name]||!au[t.name])return t;if(au[e.name]>au[t.name])return e;if(["ul","ol"].includes(e.name)&&["ul","ol"].includes(t.name)){var n=parseInt(t.attr(iu),10)||0,r=parseInt(e.attr(iu),10)||0,o=r?r+1:n+1;t.attr(iu,o)}return t}function Eu(e,t){for(var n,r,o,i,a=e[0].parentNode;a!==t;){if(a=ru(a),e.isCard())a.before(e);else if(n=a.name,r=e.name,["ol","ul"].includes(n)&&"li"===r||"blockquote"===n&&Dl[r]&&"blockquote"!==r){var c=a.clone(!1);c.append(e),e=c,a.before(e)}else{var s=_u(a,e);e=ou(e,s.clone(!1)),a.before(e)}a.first()||a.remove(),a=e[0].parentNode}"pre"===e.name&&(i=(o=e).first())&&"code"!==i.name&&(o.html().split(/\r?\n/).forEach((function(e){""===(e=e.replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;").trim())&&(e="<br />"),o.before("<p>".concat(e,"</p>"))})),o.remove())}function ju(e,t){t=t||e;for(var n=(e.type||e.nodeType)===Node.DOCUMENT_FRAGMENT_NODE,r=n?ru(e.firstChild):e.first(),o=n?ru("<p />"):e.clone(!1);r;){var i=r.next();if(r.isBlockCard()||r.isTable()||r.isSimpleBlock())Eu(r,t);else if(r.isBlock())ju(r,t);else{var a=o.clone(!1),c="li"===a.name;for(r.before(a);r;){i=r.next();var s="br"===r.name&&!c;if(a.append(r),s||!i||i.isBlock())break;r=i}wu(a),Eu(a,t)}r=i}(e.first?e.first():e.firstChild)||e.remove()}function Su(e,t){for(var n=t.first();n;){var r=n.next();e.append(n),n=r}t.remove()}function Pu(e){for(var t=e.firstChild;t;){for(var n=(t=ru(t)).next();n&&t.name===n.name&&("blockquote"===t.name||["ul","ol"].includes(t.name)&&Cu(t,n));){var r=n.next();Su(t,n),Pu(t[0]),n=r}t=n}}function Ru(e,t){if(!t||e===t)return e.cloneNode(!0);for(var n=e.cloneNode(!1),r=t;r&&r.parentNode!==e;)r=r.parentNode;if(!r)return n;for(var o=r.previousSibling;o;)n.insertBefore(o.cloneNode(!0),n.firstChild),o=o.previousSibling;var i=Ru(r,t);return i&&n.appendChild(i),n}function Tu(e,t){for(var n=e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1}function Du(e){var t=0;if(e){var n=e.parentNode;Array.from(n.childNodes).forEach((function(n,r){n===e&&(t=r)}))}return t}function Au(e,t){for(var n=0,r=e;void 0!==t[n]&&r.childNodes[t[n]];)r=r.childNodes[t[n]],n++;return r}function Mu(e,t){if(!e||!e.parentNode)return null;for(;e.parentNode!==t;){if(!e.parentNode)return null;e=e.parentNode}return e}var Nu={getDocument:uu,getWindow:fu,walkTree:pu,fetchAllChildren:du,equalNode:mu,isEmptyNode:vu,isEmptyNodeWithTrim:gu,isLikeEmptyNode:yu,removeZeroWidthSpace:bu,removeSideBr:wu,isCheckbox:xu,isTaskListBlock:Ou,isSameList:Cu,flatten:ju,join:Pu,normalize:function(e){ju(e),Pu(e)},removeMinusStyle:function(e,t){e.isBlock()&&(parseInt(e.css(t),10)||0)<0&&e.css(t,"")},inside:Tu,getIndex:Du,getParentInContainer:Mu,combinTextNode:ku,getChildByPath:Au},Iu=n(45),Lu=n.n(Iu),Fu=Lu()("engine:common"),zu={log:function(){var e=Array.prototype.slice.call(arguments);if(e[0]&&e[0].editArea){var t=e.shift(),n=t.editArea.closest("[data-lake-card]").length>0?"sub engine":"main engine";e.unshift(n)}Fu.apply(this,e)}},Bu=fe.edge,Vu=fe.safari;function qu(e){return!(!e||"[object Function]"!==Object.prototype.toString.call(e))}function Hu(e){return"inline"===e.attr(Js)&&"block"===e.css("display")}function Uu(e){var t=e.getClientRects().item(0);return t||(t=e.getBoundingClientRect()),t}function Wu(e){var t=function(t,n,r){3===t.nodeType&&(0===n?r?e.setStartBefore(t):e.setEndBefore(t):n===t.nodeValue.length&&(r?e.setStartAfter(t):e.setEndAfter(t)))};t(e.startContainer,e.startOffset,!0),t(e.endContainer,e.endOffset,!1)}function Ku(e){var t=function(t,n,r){if(1===t.nodeType){var o,i,a,c,s=t.childNodes;if(0!==s.length)n>0&&(o=s[n-1]),n<s.length&&(i=s[n]),o&&3===o.nodeType&&(c=(a=o).nodeValue.length),i&&3===i.nodeType&&(a=i,c=0),a&&(r?e.setStart(a,c):e.setEnd(a,c))}};t(e.startContainer,e.startOffset,!0),t(e.endContainer,e.endOffset,!1)}function Yu(e,t){Wu(e);var n=function(n,r,o){var i;if(!((n=ru(n)).type===Node.TEXT_NODE||n.isSolid()||!t&&n.isBlock())&&!n.isRoot())if(0===r){for(;!n.prev()&&(i=n.parent())&&!i.isSolid()&&(t||!i.isBlock())&&i.isEditable();)n=i;o?e.setStartBefore(n[0]):e.setEndBefore(n[0])}else if(r===n.children().length){for(;!n.next()&&(i=n.parent())&&!i.isSolid()&&(t||!i.isBlock())&&i.isEditable();)n=i;o?e.setStartAfter(n[0]):e.setEndAfter(n[0])}};n(e.startContainer,e.startOffset,!0),n(e.endContainer,e.endOffset,!1)}function Xu(e){for(var t;e.startContainer.nodeType===Node.ELEMENT_NODE&&(t=e.startContainer.childNodes[e.startOffset])&&t.nodeType===Node.ELEMENT_NODE&&!ru(t).isVoid()&&!ru(t).attr(Gs)&&!ru(t).attr(Zs);)e.setStart(t,0);for(;e.endContainer.nodeType===Node.ELEMENT_NODE&&e.endOffset>0&&(t=e.endContainer.childNodes[e.endOffset-1])&&t.nodeType===Node.ELEMENT_NODE&&!ru(t).isVoid()&&!ru(t).attr(Gs)&&!ru(t).attr(Zs);)e.setEnd(t,t.childNodes.length)}function $u(e){var t=ru(e.commonAncestorContainer);if(t.isRoot()||t.isEditable()){var n=t.doc,r=t.closest(Il);r.find(Ys).remove(),r.find(Xs).remove(),r.find($s).remove();var o=ru(e.startContainer).closest(nl);if(o.length>0&&!Hu(o))ru(e.startContainer).closest(ol).length>0&&e.setStartBefore(o[0]),ru(e.startContainer).closest(al).length>0&&e.setStartAfter(o[0]);if(e.startContainer!==e.endContainer){var i=ru(e.endContainer).closest(nl);if(i.length>0&&!Hu(i))ru(e.endContainer).closest(ol).length>0&&e.setEndBefore(i[0]),ru(e.endContainer).closest(al).length>0&&e.setEndAfter(i[0])}if(e.collapsed){var a=n.createElement("span");return ru(a).attr(Hs,Ks),e.insertNode(a),zu.log("createBookmark",!0),{anchor:a,focus:a}}var c=e.cloneRange();c.collapse(!0);var s=n.createElement("span");ru(s).attr(Hs,Us),c.insertNode(s),e.setStartAfter(s);var l=e.cloneRange();l.collapse(!1);var u=n.createElement("span");return ru(u).attr(Hs,Ws),l.insertNode(u),zu.log("createBookmark",!1),{anchor:s,focus:u}}}function Gu(e,t){if(t){if(zu.log("moveToBookmark",t.anchor===t.focus),t.anchor===t.focus){var n=ru(t.anchor),r=n.parent();bu(r),r[0].normalize();var o=!1,i=n.prev(),a=n.next();if(i&&i.isCard()&&!Hu(i)){var c=i.find(al);c.length>0&&(e.selectNodeContents(c[0]),e.collapse(!1),o=!0)}else if(a&&a.isCard()&&!Hu(a)){var s=a.find(ol);s.length>0&&(e.selectNodeContents(s[0]),e.collapse(!1),o=!0)}o||(e.setStartBefore(n[0]),e.collapse(!0)),Bu?(r[0].normalize(),n.remove()):(n.remove(),r[0].normalize())}else{var l=ru(t.anchor),u=l.parent();bu(u),e.setStartBefore(l[0]),l.remove(),u[0].normalize();var f=ru(t.focus);bu(u=f.parent()),e.setEndBefore(f[0]),f.remove(),u[0].normalize()}if(Vu){var p=window.getSelection();p.removeAllRanges(),p.addRange(e)}}}function Zu(e){Wu(e);var t=ru(e.startContainer),n=e.startOffset;if(!t.isText()){var r=t.children();if(0!==r.length)return r.eq(n-1)}}function Ju(e){Wu(e);var t=ru(e.endContainer),n=e.endOffset;if(!t.isText()){var r=t.children();if(0!==r.length)return r.eq(n)}}function Qu(e){if(e.collapsed||e.extractContents(),!ru(e.startContainer).isRoot()){var t=ru(e.startContainer);if(!t.isRoot()){for(var n=t.parent();!n.isRoot();)t=n,n=n.parent();e.setEndAfter(t[0]);var r=e.extractContents();e.insertNode(r),e.collapse(!0)}}}function ef(e){var t=ru(e.startContainer);if(t.isRoot())return ru(t.children()[e.startOffset]);for(var n=t;!n.parent().isRoot();)n=n.parent();return n}function tf(e){fe.mobile&&e&&e.endContainer.scrollIntoView&&e.endContainer.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}function nf(e,t,n){if(e.collapsed)cf(t,n,rf(e.endContainer,e.endOffset));else{var r=rf(e.startContainer,e.startOffset),o=rf(e.endContainer,e.endOffset);cf(t,n,r),af(t,n,o)||cf(t,n,o)}}function rf(e,t){return e.nodeType===Node.ELEMENT_NODE&&(e.childNodes[t]||e.childNodes[t-1])||e}function of(e,t){var n=fu(e),r=n.innerHeight,o=n.innerWidth,i={},a=i.top,c=i.left,s=i.bottom,l=i.right;if(t){var u=t.getBoundingClientRect();a=u.top,c=u.left,s=u.bottom,l=u.right}else{var f=e.getBoundingClientRect();a=f.top,c=f.left,s=f.bottom,l=f.right}return{top:a,left:c,bottom:Math.min(s,r),right:Math.min(l,o)}}function af(e,t,n){var r;n.nodeType!==Node.ELEMENT_NODE&&(r=uu(n).createElement("span"),n.nextSibling?n.parentNode.insertBefore(r,n.nextSibling):n.parentNode.appendChild(r),n=r);var o=n.getBoundingClientRect(),i=o.top,a=o.left,c=o.right,s=o.bottom,l=of(e,t);return r&&r.parentNode.removeChild(r),!(i<l.top||s>l.bottom||a<l.left||c>l.right)}function cf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"nearest";if(qu(uu(n).body.scrollIntoView)){var o=null;n.nodeType===Node.ELEMENT_NODE&&"BR"!==n.nodeName||((o=uu(n).createElement("span")).innerHTML="&nbsp;",n.parentNode.insertBefore(o,n),n=o),af(e,t,n)||n.scrollIntoView({block:r,inline:r}),o&&o.parentNode.removeChild(o)}}function sf(e){var t=e.startContainer,n=e.endContainer,r=e.collapsed,o=[];if(t!==n||!0===r||t.nodeType===Node.TEXT_NODE)return o;for(var i=t.childNodes,a=e.startOffset,c=e.endOffset,s=a;s<c;s++)o.push(i[s]);return o}function lf(e){var t=ru(e.startContainer).closest("[data-lake-card]");return!(!t||!t[0])}function uf(e,t){return!(!e||!t)&&(e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset)}var ff={getClientRect:Uu,upRange:Wu,downRange:Ku,enlargeRange:Yu,shrinkRange:Xu,createBookmark:$u,moveToBookmark:Gu,getPrevNode:Zu,getNextNode:Ju,deepCut:Qu,getRootBlock:ef,scrollIntoView:tf,findElementsInSimpleRange:sf,getSubRanges:function(e){var t=[];return pu(e.commonAncestorContainer,(function(n){if(n.nodeType===Node.TEXT_NODE){var r=n.nodeValue.length,o=e.comparePoint(n,0),i=e.comparePoint(n,r),a=document.createRange();if(o<0){if(i<0)return;0===i?(a.setStart(n,e.startOffset),a.setEnd(n,r)):(a.setStart(n,e.startOffset),a.setEnd(n,e.endOffset))}else{if(0!==o)return;if(i<0)return;0===i?(a.setStart(n,0),a.setEnd(n,r)):(a.setStart(n,0),a.setEnd(n,e.endOffset))}t.push(a)}})),t},isInViewport:af,getViewPort:of,scrollIntoViewIfNeeded:nf,isFunction:qu,isInCard:lf,isSameRange:uf,scrollRangeIntoView:function(e){var t=rf(e.endContainer,e.endOffset),n=t.nodeType===Node.TEXT_NODE?t.parentNode:t,r=e.collapsed?n.getBoundingClientRect():Uu(e),o=window.innerHeight;r.bottom<o&&r.bottom>0||n.scrollIntoView({block:"center"})}},pf=n(335),df=n.n(pf);function hf(e){for(var t=e=ru(e);e;){if(e.isRoot()||e.isBlock())return e;e=e.parent()}return t}function mf(e,t){var n=ru(e["".concat(t,"Container")]),r=e["".concat(t,"Offset")],o=e.cloneRange(),i=hf(n);o.selectNodeContents(i[0]),o.setEnd(n[0],r);var a=o.cloneContents();if(!a.firstChild)return!0;if(1===a.childNodes.length&&"br"===ru(a.firstChild).name)return!0;var c=ru("<div />");return c.append(a),!!vu(c[0])}function vf(e,t){var n=ru(e["".concat(t,"Container")]),r=e["".concat(t,"Offset")],o=e.cloneRange(),i=hf(n);o.selectNodeContents(i[0]),o.setStart(n[0],r);var a=o.cloneContents();if(!a.firstChild)return!0;var c=ru("<div />");return c.append(a),!(c.find("br").length>0)&&!!vu(c[0])}function yf(e){var t=e.cloneRange();Xu(t),Ku(t);var n=hf(t.startContainer),r=hf(t.endContainer),o=hf(t.commonAncestorContainer),i=[],a=!1;return pu(o[0],(function(e){if((e=ru(e))[0]===n[0]&&(a=!0),a&&e.isBlock()&&!e.isCard()&&e.isEditable()&&i.push(e),e[0]===r[0])return a=!1,!1})),i.length>1&&mf(t,"end")&&i.pop(),i}function gf(e){var t=e.block,n=e.range,r=e.isLeft,o=e.clone,i=e.keepID,a=(t=ru(t)).doc.createRange();r?(a.selectNodeContents(t[0]),a.setEnd(n.startContainer,n.startOffset)):(a.selectNodeContents(t[0]),a.setStart(n.endContainer,n.endOffset));var c=o?a.cloneContents():a.extractContents(),s=i?t.cloneKeepID(!1):t.clone(!1);return s.append(c),o&&s.find(nl).each((function(e){var t=(e=ru(e)).attr(Gs);e.attr(Zs,t),e.removeAttr(Gs)})),s}function bf(e,t){var n=hf(e.commonAncestorContainer);n.find("br").each((function(e){if((!(e=ru(e)).prev()||"checkbox"===e.prev().attr(Gs))&&e.next()&&"br"!==e.next().name&&!["cursor","anchor","focus"].includes(e.next().attr(Hs))||!e.next()&&e.prev()&&"br"!==e.prev().name){if("left"===t&&e.prev()&&"checkbox"!==e.prev().attr(Gs))return;e.remove()}})),!n.first()||1===n.children().length&&"checkbox"===n.first().attr(Gs)?n.append("<br />"):2===n.children().length&&"checkbox"===n.first().attr(Gs)&&["cursor","anchor","focus"].includes(n.last().attr(Hs))&&n.first().after("<br />")}function wf(e){var t;if(["ol","ul"].includes(e.name))t=e;else{var n=yf(e);if(0===n.length)return e;if(!(t=n[0].closest("ul,ol"))[0])return e}for(var r=[],o=parseInt(t.attr(iu),10)||0,i=t.prev();i&&["ol","ul"].includes(i.name);){if("ol"===i.name){var a=parseInt(i.attr(iu),10)||0,c=parseInt(i.attr("start"),10)||1,s=i.find("li").length;if(0===a){r[a]=c+s;break}a<=o&&(o=a,r[a]=r[a]||c+s)}else o=parseInt(i.attr(iu),10)||0;i=i.prev()}for(var l=t;l;){if(["ol","ul"].includes(l.name)){var u=parseInt(l.attr(iu),10)||0,f=parseInt(l.attr("start"),10),p=l.find("li").length;if("ol"===l.name){var d=r[u];u>0?((d=d||1)>1?l.attr("start",d):l.removeAttr("start"),r[u]=d+p):d&&d!==f?(d>1?l.attr("start",d):l.removeAttr("start"),r[u]=d+p):r[u]=(f||1)+p,r=r.slice(0,u+1)}}else r=[];l=l.next()}}var kf=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e=ru(e),(t=ru(t)).isText())e.append(t);else{var r=t,o=["ul","ol"].includes(e.name),i=["ul","ol"].includes(t.name);if(o&&!i){var a=e.find("li");if(0===a.length)return;e=ru(a[a.length-1])}if(!o&&i){var c=t.find("li");c.length>0&&(t=ru(c[0])),c[1]&&(r=ru(c[0]))}for(var s=e.last(),l=t.first();l;){var u=l.next();e.isTitle()&&l.removeFontSize(),e.append(l),l=u}if(n&&r.remove(),s&&"br"===s.name)for(var f=s.next();f;){if(-1===[Us,Ws,Ks].indexOf(f.attr(Hs))){s.remove();break}f=f.next()}}},xf=function(e){for(var t=(e=ru(e)[0]).firstChild;t;){var n=t.nextSibling;e.parentNode.insertBefore(t,e),t=n}e.parentNode.removeChild(e)};function Of(e){return function(e){if(Array.isArray(e))return Cf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Cf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _f(e){for(e=ru(e);e&&(e.isMark()||e.isText())&&!e.isRoot();)e=e.parent();return e}function Ef(e){var t=ru(e);if(!t.length)return null;for(;t&&!t.isRoot();)t=t.parent();return t}function jf(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.collapsed){var r=t.startContainer,o=t.startOffset,i=Ef(r);if(i){var a=t.cloneRange();if(a.selectNodeContents(i[0]),n){a.setEnd(r,o),Wu(a),Yu(a,!0);var c=a.endContainer,s=a.endOffset;if(!e&&c.nodeType===Node.ELEMENT_NODE&&c.childNodes[s]&&ru(c.childNodes[s]).isBlock()&&(r.nodeType!==Node.ELEMENT_NODE||!ru(r.childNodes[o]||r.childNodes[o-1]).isBlock()))return;a.selectNodeContents(i[0]),a.setStart(c,s),Xu(a),Ku(a),t.setStart(a.startContainer,a.startOffset),t.collapse(!0)}else{a.setStart(r,o),Wu(a),Yu(a,!0);var l=a.startContainer,u=a.startOffset;if(!e&&l.nodeType===Node.ELEMENT_NODE&&l.childNodes[u]&&ru(l.childNodes[u]).isBlock()&&(r.nodeType!==Node.ELEMENT_NODE||!ru(r.childNodes[o]||r.childNodes[o-1]).isBlock()))return;a.selectNodeContents(i[0]),a.setEnd(l,u),Xu(a),Ku(a),t.setEnd(a.endContainer,a.endOffset),t.collapse(!1)}}}}function Sf(e){var t=function(e){if(!e.collapsed){var t=e.cloneRange(),n=e.cloneRange();t.collapse(!0),n.collapse(!1),jf(!0,t,!0),jf(!0,n),e.setStart(t.startContainer,t.startOffset),e.setEnd(n.startContainer,n.startOffset)}return jf(!1,e),e}(e.cloneRange()),n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=n,c=o;n.nodeType===Node.ELEMENT_NODE&&n.childNodes[r]&&(a=n.childNodes[r]||n),o.nodeType===Node.ELEMENT_NODE&&i>0&&o.childNodes[i-1]&&(c=o.childNodes[i-1]||n),e.collapsed&&(a=c);var s=function(e){e=ru(e);for(var t=[];e&&(e.type!==Node.ELEMENT_NODE||e.attr(Ml)!==Nl);)!e.isMark()||e.attr(Gs)||e.attr(tl)||t.push(e),e=e.parent();return t},l=s(a);return e.collapsed||(l=[].concat(Of(l),Of(s(c)),Of(function(e,t,n){var r=!1,o=!1,i=[];if(t===n)return i;return pu(e,(function(e){if(o)return!1;if(e!==t){if(r){if(e===n)return o=!0,!1;var a=ru(e);!a.isMark()||a.attr(Gs)||a.attr(tl)||i.push(a)}}else r=!0})),i}(e.commonAncestorContainer,a,c))).filter((function(e){return!e[0].finded&&(e[0].finded=!0,!0)})).map((function(e){return delete e[0].finded,e}))),l}function Pf(e,t){if(!e||!e.length)return t;var n=ru(t)[0];return e.forEach((function(e){(e=ru(e)[0].cloneNode(!1)).appendChild(n),n=e})),n.outerHTML}function Rf(e,t){du(e).forEach((function(e){vu(e)&&ru(e).isMark()&&(!t||t(e))&&xf(e)}))}function Tf(e,t){if(e.isCard())return!1;if(!t)return!0;var n=Df(e[0]);return Df(ru(t)[0])===n&&mu(e,t)}function Df(e){return!(!e.className||-1===e.className.indexOf("lake-fontsize-"))}function Af(e,t,n,r){if(t.isBlock()&&!t.isVoid()&&!t.isCard()){e.selectNodeContents(t[0]),e.collapse(!1);var o=$u(e);kf(t,n),Gu(e,o),t=Zu(e),n=Ju(e);var i=ru(e.startContainer);t||n||!i.isBlock()||(i.append(Pf(r,"<br />")),e.selectNodeContents(i.find("br")[0]),e.collapse(!1)),t&&n&&!t.isCard()&&!n.isCard()&&Af(e,t,n,r)}}function Mf(e,t){if(e.collapsed)return e;var n=e.cloneRange();n.collapse(!0);var r=Sf(n);Yu(e);var o=hf(e.startContainer);if(!o.isRoot()&&!o.isEditable())return e;e.extractContents(),e.collapse(!0);var i=ru(e.startContainer),a=e.startOffset;if(i.isText())return e;var c=i[0].childNodes[a-1],s=i[0].childNodes[a],l=0===i[0].childNodes.length;if(!l){var u=i[0].firstChild;1===i[0].childNodes.length&&u.nodeType===Node.ELEMENT_NODE&&"LI"===i[0].nodeName&&"checkbox"===u.getAttribute("data-lake-card")&&(l=!0)}if(l&&i.isBlock()){var f=Pf(r,"<br />");return i.isRoot()&&(f="<p>".concat(f,"</p>")),i.append(f),e.selectNode(i.find("br")[0]),e.collapse(!1),e}return c&&s&&ru(c).isBlock()&&ru(s).isBlock()&&!t&&Af(e,ru(c),ru(s),r),i.children().each((function(e){(e=ru(e)).isVoid()||e.isElement()&&""===e.html()&&e.remove()})),e}var Nf=function(e,t){return Mf(e,t)};function If(e){return(If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lf(e,t,n){if("class"===t){var r=e[t].split(" "),o=[];return r.forEach((function(e){n(e)&&o.push(e)})),void(o.length>0?e[t]=o.join(" "):delete e[t])}}function Ff(e,t,n){if(t[n]){if("string"==typeof t[n]&&"@"===t[n].charAt(0))switch(t[n]){case"@number":t[n]=/^-?\d+(\.\d+)?$/;break;case"@length":t[n]=/^-?\d+(\.\d+)?(\w*|%)$/;break;case"@color":t[n]=/^(rgb(.+?)|#\w{3,6}|\w+)$/i;break;case"@url":t[n]=hl}if("string"==typeof t[n]){if("*"===t[n])return;return"class"===n?void Lf(e,n,(function(e){return t[n]===e})):void(t[n]!==e[n]&&delete e[n])}return Array.isArray(t[n])?"class"===n?void Lf(e,n,(function(e){return t[n].indexOf(e)>=0})):void(t[n].indexOf(e[n])<0&&delete e[n]):"object"===If(t[n])&&"function"==typeof t[n].test?"class"===n?void Lf(e,n,(function(e){return t[n].test(e)})):void(t[n].test(e[n])||delete e[n]):void("function"!=typeof t[n]||t[n](e[n])||delete e[n])}delete e[n]}var zf=function(e,t,n,r){if(!e)return!1;if(["anchor","focus","cursor","card"].indexOf(t)>=0)return!1;if(!e[t])return!0;if(!n)return!1;Object.keys(n).forEach((function(r){Ff(n,e[t],r)}));var o=e[t].style||{};return Object.keys(r).forEach((function(e){Ff(r,o,e)})),!1};function Bf(e){return(Bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Vf=function(e,t,n,r,o){if("div"===t&&(t="p"),!e)return t;if("card"===t||o)return t;for(var i=0;i<e.length;i++){var a=e[i],c=a[0],s=a[1];if("string"==typeof c&&t===c)return s;if("object"===Bf(c)){var l=Object.keys(c)[0];if(t!==l)continue;for(var u=c[l],f=Object.keys(n),p=0;p<f.length;p++){var d=f[p];if(u[d]){if("string"==typeof u[d]&&u[d]===n[d])return delete n[d],s;if(Array.isArray(u[d])&&u[d].indexOf(n[d])>=0)return delete n[d],s}}for(var h=u.style||{},m=Object.keys(r),v=0;v<m.length;v++){var y=m[v];if(h[y]){if("string"==typeof h[y]&&h[y]===r[y])return delete r[y],s;if(Array.isArray(h[y])&&h[y].indexOf(r[y])>=0)return delete r[y],s}}}}return t};function qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Hf=/[\u00a0 ]+/g,Uf="a".charCodeAt(0)-1;function Wf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(t=+t))return"•";switch(e.toLowerCase()){case"disc":return"•";case"circle":return"◦";case"square":return"◼";case"lower-alpha":return String.fromCharCode(Uf+t);case"lower-roman":return String.fromCharCode(8559+t);case"decimal":default:return t}}function Kf(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=e.first();i;){if(i.isElement()){var a=i.name,c=i.attr(),s=i.css();if(delete c.style,c[Hs]&&(a=c[Hs].toLowerCase(),c={},s={}),["left","right"].indexOf(c[tl])>=0){i=i.next();continue}if(c[Gs]||c[Zs]){a="card";var l=c[el],u=c[Qs];c={type:c[Js],name:(c[Gs]||c[Zs]).toLowerCase()},u&&(c.alias=u),void 0!==l&&(c.value=l),s={}}a=Vf(t,a,c,s,r),"center"!==c[tl]&&(n.onOpenTag&&n.onOpenTag(a,c,s),n.onOpenNode&&n.onOpenNode(i)),("card"!==a||o)&&Kf(i,t,n,r,o),"center"===c[tl]||Sl[a]||(n.onCloseTag&&n.onCloseTag(a,c,s),n.onCloseNode&&n.onCloseNode(i))}if(i.isText()){var f=pl(i[0].nodeValue);""===f.trim()&&i.parent().isBlock()&&(i.prev()||(f=f.replace(/^[ \n]+/,"")),i.next()||(f=f.replace(/[ \n]+$/,""))),i.prev()&&i.prev().isBlock()&&i.next()&&i.next().isBlock()&&""===f.trim()&&(f=f.trim()),f=f.replace(/\u200B/g,""),n.onText&&n.onText(f),n.onTextNode&&n.onTextNode(i)}i=i.next()}}function Yf(e){var t="";return Object.keys(e).forEach((function(n){if("style"!==n){var r=e[n].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");t+=" ".concat(n,'="').concat(r,'"')}})),t.trim()}function Xf(e){var t="";return Object.keys(e).forEach((function(n){var r=pl(e[n]);/^(padding|margin|text-indent)/.test(n)&&0===ml(r)||(/[^a-z]color$/.test(n)&&(r=fl(r)),t+=" ".concat(n,": ").concat(r,";"))})),t.trim()}var $f=function(){function e(t,n,r,o){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemaRules=n?n.getValue():null,this.conversionRules=r?r.getValue():null,"string"==typeof t){t=(t=t.replace(/<a\s{0,1000}\/>/gi,"<a></a>")).replace(/<a(\s[^>]+?)\/>/gi,(function(e,t){return"<a".concat(t,"></a>")})),t=t.replace(/<p(>|\s+[^>]*>)/gi,"<div$1").replace(/<\/p>/gi,"</div>"),this.source=bl(t);var i=(new DOMParser).parseFromString(this.source,"text/html");this.root=ru(i.body)}else this.root=ru(t);o&&o(this.root)}var t,n,r;return t=e,(n=[{key:"toValue",value:function(){return this._toValue(!1)}},{key:"_toValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[],r=0;return Kf(this.root,this.conversionRules,{onOpenTag:function(t,o,i){if(!zf(e.schemaRules,t,o,i)){if("pre"===t&&r++,n.push("<"),n.push(t),Object.keys(o).length>0&&n.push(" "+Yf(o)),Object.keys(i).length>0){var a=Xf(i);""!==a&&(n.push(' style="'),n.push(a),n.push('"'))}Sl[t]?n.push(" />"):n.push(">")}},onText:function(e){0===r&&(e=(e=e.replace(/^\n|\n$/g,"")).replace(/\n+/g," ")),t&&e.length>1&&(e=e.replace(Hf,(function(e){for(var t=[],n=0,r=(e=e.replace(/\u00a0/g," ")).length;n<r;n++)t[n]=n%2==0?e[n]:" ";return t.join("")}))),n.push(e)},onCloseTag:function(t,o,i){zf(e.schemaRules,t,o,i)||("pre"===t&&--r<0&&(r=0),n.push("</".concat(t,">")))}}),n.join("")}},{key:"toDOM",value:function(){for(var e=bl(this.toValue()),t=(new DOMParser).parseFromString(e,"text/html"),n=t.createDocumentFragment(),r=t.body.childNodes;r.length>0;)n.appendChild(r[0]);return n}},{key:"toLowerValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return bl(this._toValue(e))}},{key:"toText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeCard,n=[];return Kf(this.root,this.conversionRules,{onOpenTag:function(e){"br"===e&&n.push("\n")},onText:function(e){e=(e=dl(e)).replace(/\u00a0/g," "),n.push(e)},onOpenNode:function(e){var t=e[0];if("li"===e.name){if(e.hasClass("lake-list-task"))return;var r=e.parent(),o=r.css("listStyleType");if("ol"===r.name){for(var i=r[0].start,a=void 0===i?1:i,c=r[0].childNodes,s=-1,l=0,u=c.length;l<u&&("LI"===c[l].nodeName&&s++,c[l]!==t);l++);n.push("".concat(Wf(o,a+s),". "))}else"ul"===r.name&&n.push(Wf(o)+" ")}},onCloseNode:function(e){e.isBlock()&&n.push("\n")}},!1,t),n.join("").replace(/\n{2,}/g,"\n").trim()}}])&&qf(t.prototype,n),r&&qf(t,r),e}();function Gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gf(Object(n),!0).forEach((function(t){Jf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ep=/(?:^|\s)lake-lineheight-(\d+)(?:\s|$)/,tp={"lake-lineheight-1":1,"lake-lineheight-115":1.15,"lake-lineheight-15":1.5,"lake-lineheight-17":1.74,"lake-lineheight-2":2,"lake-lineheight-25":2.5,"lake-lineheight-3":3};var np=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=Zf({callback:function(){},cards:null,typography:null},t),this.initCardParses()}var t,n,r;return t=e,(n=[{key:"before",value:function(){}},{key:"after",value:function(){}},{key:"getDefaultCardParsers",value:function(){return{hr:function(e){var t=e.find("hr");t.css({"background-color":"#e8e8e8",border:"1px solid transparent",margin:"18px 0"}),e.empty(),e.append(t)},checkbox:function(e){var t="checked"===e.find("input").attr("checked"),n=ru("<span>".concat(t?"✅":"🔲","<span/>"));n.css({margin:"3px 0.5ex","vertical-align":"middle",width:"16px",height:"16px",color:"color: rgba(0, 0, 0, 0.65)"}),e.empty(),e.append(n)}}}},{key:"initCardParses",value:function(){this.cardParsers=this.getDefaultCardParsers(),this.options.cards&&(this.cardParsers=Zf(Zf({},this.cardParsers),this.options.cards))}},{key:"transAttrsToStyle",value:function(e){e.find("h1,h2,h3,h4,h5,h6").css({padding:"7px 0",margin:"0","font-weight":"700"}).each((function(e){"H1"===e.tagName?(e.style["font-size"]="28px",e.style["line-height"]="36px"):"H2"===e.tagName?(e.style["font-size"]="24px",e.style["line-height"]="32px"):"H3"===e.tagName?(e.style["font-size"]="20px",e.style["line-height"]="28px"):"H4"===e.tagName?(e.style["font-size"]="16px",e.style["line-height"]="24px"):"H5"===e.tagName?(e.style["font-size"]="14px",e.style["line-height"]="24px"):"H6"===e.tagName&&(e.style["font-size"]="14px",e.style["line-height"]="24px",e.style["font-weight"]="400")})),e.find(".lake-fontsize-9").css({"font-size":"12px"}).attr("data-mce-style","font-size: 9px"),e.find(".lake-fontsize-10").css({"font-size":"13px"}).attr("data-mce-style","font-size: 10px"),e.find(".lake-fontsize-11").css({"font-size":"14px"}).attr("data-mce-style","font-size: 11px"),e.find(".lake-fontsize-1515").css({"font-size":"15px"}).attr("data-mce-style","font-size: 15px"),e.find(".lake-fontsize-12").css({"font-size":"16px"}).attr("data-mce-style","font-size: 12px"),e.find(".lake-fontsize-14").css({"font-size":"19px"}).attr("data-mce-style","font-size: 14px"),e.find(".lake-fontsize-16").css({"font-size":"22px"}).attr("data-mce-style","font-size: 16px"),e.find(".lake-fontsize-18").css({"font-size":"24px"}).attr("data-mce-style","font-size: 18px"),e.find(".lake-fontsize-22").css({"font-size":"29px"}).attr("data-mce-style","font-size: 22px"),e.find(".lake-fontsize-24").css({"font-size":"32px"}).attr("data-mce-style","font-size: 24px"),e.find(".lake-fontsize-30").css({"font-size":"40px"}).attr("data-mce-style","font-size: 30px"),e.find(".lake-fontsize-36").css({"font-size":"48px"}).attr("data-mce-style","font-size: 36px"),e.find("p").each((function(e){e.style.lineHeight=function(e){var t=ep.exec(e.className);return t&&tp[t[0]]||1.74}(e),e.style.margin=0})),e.find(".lake-list-task").css({"list-style":"none"}),e.find("#article-title").css({"font-size":"36px","line-height":"1.389","font-weight":"700",color:"#262626"}),e.find("blockquote").each((function(e){(e=ru(e)).css({"margin-top":"5px","margin-bottom":"5px","padding-left":"1em","margin-left":"0px","border-left":"3px solid #eee",opacity:"0.6"}),e.hasClass("lake-alert")&&(e.css({margin:0,padding:"10px","border-radius":"3px",color:"#262626",opacity:1}),e.hasClass("lake-alert-info")?e.css({border:"1px solid #abd2da","background-color":"#e8f7ff"}):e.hasClass("lake-alert-warning")?e.css({border:"1px solid #e0d1b1","background-color":"#fffbe6"}):e.hasClass("lake-alert-danger")?e.css({border:"1px solid #deb8be","background-color":"#fff3f3"}):e.hasClass("lake-alert-success")?e.css({border:"1px solid #c2d2b5","background-color":"#edf9e8"}):e.hasClass("lake-alert-tips")&&e.css({border:"1px solid #c3c3c3","background-color":"#fff6b6"}))})),e.find("code").css({"font-family":"monospace","font-size":"inherit","background-color":"rgba(0,0,0,.06)",padding:"0 2px",border:"1px solid rgba(0,0,0,.08)","border-radius":"2px 2px","line-height":"inherit","overflow-wrap":"break-word","text-indent":"0"})}},{key:"parseCard",value:function(e){var t=this.cardParsers;e.find("[data-lake-card]").each((function(e){var n=(e=ru(e)).attr("data-lake-card"),r=t[n];r?r(e):e.empty()}))}},{key:"parseLink",value:function(e){e.find("a").each((function(e){e.setAttribute("href",e.href)}))}},{key:"parseLists",value:function(e,t){e.find("ul,ol").each((function(e){e=ru(e);var n,r=parseInt(e.attr("data-lake-indent"),10)||0,o=e.name,i={ul:["disc","circle","square"],ol:["decimal","lower-alpha","lower-roman"]}[o];e[0].removeAttribute("data-lake-indent");for(var a=0;a<=r;a++){if(0===a)n=e,e.css({"list-style-type":i[r%3]});else{var c=ru("<".concat(o,"></").concat(o,">"));n.before(c),c.append(n),(n=c).css({"list-style-type":"none"})}n.attr("lake-indent",a),n.css({margin:0,"padding-left":"23px"}),a===r&&n.css(t)}}))}},{key:"standardizeDel",value:function(e){e.find("del").each((function(e){var t=document.createElement("span");t.style["text-decoration"]="line-through",e.parentNode.insertBefore(t,e),t.innerHTML=e.innerHTML,e.parentNode.removeChild(e)}))}},{key:"standardizeTaskList",value:function(e){e.find(".lake-list-task").each((function(e){var t=(e=ru(e))[0].childNodes,n=t[0];if(0===t.length||1===t.length&&n.nodeType===Node.ELEMENT_NODE&&"checkbox"===n.getAttribute("data-lake-card"))e.append(ru("<br/>"));else{var r=e.find('[data-lake-card="checkbox"]');if(r.length>1)for(var o=1;o<r.length;o++)r[o].remove();if(0===r.length){var i="true"===e.attr("data-lake-checked")?"true":"false";e.prepend('\n        <span data-card-type="inline" data-lake-card="checkbox" contenteditable="false" data-card-value="data:'.concat(i,'">\n          <span data-card-element="body">\n            <span data-card-element="center">\n              <span class="lake-checkbox">\n                <input type="checkbox" class="lake-checkbox-input" value="" ').concat("true"===i?'checked="checked"':"",'>\n                <span class="lake-checkbox-inner"></span>\n              </span>\n            </span>\n          </span>\n        </span>\n      '))}}}))}},{key:"filter",value:function(e){pu(e,(function(e){e&&e.nodeType===Node.ELEMENT_NODE&&"none"===e.style["user-select"]&&e.parentNode&&e.parentNode.removeChild(e)}))}},{key:"isClassicTypography",value:function(e){return this.options.typography?"classic"===this.options.typography:ru(e).hasClass("lake-typography-classic")}},{key:"parse",value:function(e,t,n){var r=this.options.callback,o=ru(document.createElement("div")),i=this.isClassicTypography(),a={"font-size":i?"15px":"14px",color:i?"#404040":"#262626","line-height":"1.74","letter-spacing":i?"0.008em":".05em","outline-style":"none","overflow-wrap":"break-word"};return t?(t.appendChild(e),ru(t).css(a),o.append(n)):o.append(e),this.before(o),this.filter(o),this.standardizeTaskList(o),this.standardizeDel(o),this.parseLists(o,a),this.parseCard(o),this.parseLink(o),o.find("p").css(a),this.transAttrsToStyle(o),this.after(o),r(o),{html:o.html(),text:new $f(o).toText({includeCard:!0})}}}])&&Qf(t.prototype,n),r&&Qf(t,r),e}();function rp(e){return function(e){if(Array.isArray(e))return op(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return op(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ip(e){var t=e.cloneRange();if(!e.collapsed){var n=e.cloneRange();Xu(n),t.setEnd(n.endContainer,n.endOffset)}var r=t.startContainer,o=t.startOffset,i=t.endContainer,a=t.endOffset,c=r,s=i;r.nodeType===Node.ELEMENT_NODE&&r.childNodes[o]&&(c=r.childNodes[o]||r),i.nodeType===Node.ELEMENT_NODE&&a>0&&i.childNodes[a-1]&&(s=i.childNodes[a-1]||r),e.collapsed&&(c=s);var l=function(e){e=ru(e);for(var t=[];e&&!e.isRoot();)e.isInline()&&t.push(e),e=e.parent();return t},u=l(c);return e.collapsed||(u=[].concat(rp(u),rp(l(s)),rp(function(e,t,n){var r=!1,o=!1,i=[];return t===n||pu(e,(function(e){if(o)return!1;if(e!==t){if(r){if(e===n)return o=!0,!1;var a=ru(e);a.isInline()&&i.push(a)}}else r=!0})),i}(e.commonAncestorContainer,c,s))).filter((function(e){return!e[0].finded&&(e[0].finded=!0,!0)})).map((function(e){return delete e[0].finded,e}))),u}function ap(e){return du(e).forEach((function(t){if((t=ru(t)).isMark()){var n=function(e,t){var n=e.css(),r=t.css(),o=e.attr("class"),i=t.attr("class"),a={},c={};return Object.keys(n).length<Object.keys(r).length?Object.keys(n).forEach((function(e){r[e]&&(a[e]=!0)})):Object.keys(r).forEach((function(e){n[e]&&(a[e]=!0)})),o&&i&&o.indexOf("lake-fontsize-")>-1&&i.indexOf("lake-fontsize-")>-1&&(c["font-size"]=!0),su(su({},a),c)}(t,e);Object.keys(n).forEach((function(e){!function(e,t){if("font-size"!==t)e[0].style[t]="";else{var n=e.attr("class");e.attr("class",n.replace(/lake-fontsize-[0-9]{1,5}/,""))}}(t,e)}))}})),e}var cp=function(e,t){if(e=ru(e),t=(t=ru(t)).clone(!1),e.isText())return t.append(e.clone(!1)),e.replaceWith(t);if(t.isMark()){var n;if("span"===e.name&&"span"===t.name){var r=t.attr();delete r.style,Object.keys(r).forEach((function(t){e.attr(t,r[t])}));var o=t.css();Object.keys(o).forEach((function(t){e.css(t,o[t])})),n=e}else n=function(e,t){return t.append(e.clone(!0)),du(t).forEach((function(e){(e=ru(e)).isMark()&&mu(e,t)&&xf(e)})),e.replaceWith(t)}(e,t);return ap(n)}var i=e.clone(!1);return e.after(i),t.append(e),i.replaceWith(t)},sp=function(e,t){e=ru(e);var n=t||{},r=n.style||{};return Object.keys(n).forEach((function(t){var r=n[t];"style"!==t&&e.attr(t,r)})),Object.keys(r).forEach((function(t){var n=r[t];/^0(px|em)?$/.test(n)&&(n=""),e.css(t,n)})),e},lp={getClosest:_f,getActiveMarks:Sf,removeEmptyMarks:Rf,canRemoveMark:Tf,removeEmptyMarksAndAddBr:function e(t,n){if(t&&!t.isRoot()&&!t.isCard()&&!t.attr(Hs)&&!t.attr(Hs)){var r=t.parent();if(1===t.children().length&&t.first().attr(Hs))return void(t.isMark()?(t.before(t.first()),t.remove(),e(r,!0)):n&&t.isBlock()&&t.prepend("<br />"));var o=t.html();""!==o&&"​"!==o||(t.isMark()?(t.remove(),e(r,!0)):n&&t.isBlock()&&t.html("<br />"))}},getActiveInlines:ip,getClosestBlock:hf,getRangeBlocks:yf,getActiveBlocks:function(e){Xu(e=e.cloneRange());var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset,i=t,a=r;t.nodeType===Node.ELEMENT_NODE&&t.childNodes[n]&&(i=t.childNodes[n]||t),r.nodeType===Node.ELEMENT_NODE&&o>0&&r.childNodes[o-1]&&(a=r.childNodes[o-1]||t),e.collapsed&&(i=a);var c=function(e,t,n){e.some((function(e){return e[0]===t[0]}))||(n?e.unshift(t):e.push(t))},s=function(e){e=ru(e);for(var t=[];e&&!e.isRoot();)e.isBlock()&&t.push(e),e=e.parent();return t},l=yf(e);return s(i).forEach((function(e){return c(l,e,!0)})),e.collapsed||s(a).forEach((function(e){return c(l,e)})),l},isBlockFirstOffset:mf,isBlockLastOffset:vf,getBlockLeftText:function(e,t){return gf({block:e,range:t,isLeft:!0,clone:!0}).text().trim()},removeBlockLeftText:function(e,t){e=ru(e),$u(t);var n=e.find($s),r=!1;pu(e[0],(function(e){if((e=ru(e))[0]===n[0])return n.remove(),void(r=!0);r&&e.isText()&&e.remove()}),!1)},addOrRemoveBr:bf,addListStartNumber:wf,brToParagraph:function(e){if(e.first()&&1!==e.children().length&&!e.isTable()&&"li"!==e.name&&(2!==e.children().length||"cursor"!==e.first().attr(Hs))&&"cursor"!==e.last().attr(Hs)){for(var t,n,r=e.first();r;){var o=r.next();t&&"br"!==r.name||(n=t,t=e.clone(!1),e.before(t)),"br"!==r.name&&t.append(r),"br"!==r.name&&o||!n||n.first()||n.append("<br />"),r=o}t&&!t.first()&&t.remove(),e.remove()}},wrapNode:cp,unwrapNode:xf,setNode:ou,setNodeProps:sp,mergeNode:kf},up=Nu.isCheckbox,fp={orderedlist:"ol",unorderedlist:"ul",tasklist:"ul"},pp={ol:"orderedlist",ul:"unorderedlist"};function dp(e,t){return Nu.isSameList(e,t)}function hp(e,t){var n=fp[t],r=!0;return e.forEach((function(e){switch(e.name){case"li":r="tasklist"===t?r&&yp(e):r&&!yp(e);break;case"p":e.parent()&&"li"!==e.parent().name&&(r=!1);break;case n:case"blockquote":break;default:r=!1}})),r}function mp(e){var t=e.name;if(yp(e))return"tasklist";"li"===t&&e.parent()&&(t=e.parent().name);var n=pp[t];return n||""}function vp(e){for(var t="",n=0;n<e.length;n++){var r=e[n].name,o=e[n].parent(),i=void 0;switch(r){case"li":case"ul":case"ol":i=mp(e[n]);break;case"p":if(!o||"li"!==o.name)return"";i=mp(o);break;case"blockquote":break;default:return""}if(t&&i&&t!==i)return"";t=i}return t}function yp(e){return Nu.isTaskListBlock(e)}function gp(e){var t=0,n=ru("<p />");e.forEach((function(e){if(xp(e),["ul","ol"].includes(e.name)&&(t=parseInt(e.attr(iu),10)||0,lp.unwrapNode(e)),"li"===e.name){var r=n.clone(!1);0!==t&&r.css("padding-left",2*t+"em"),lp.setNode(e,r)}}))}function bp(e,t,n){e.forEach((function(e){!function(e,t,n){var r,o=fp[t];xp(e);var i=ru("<".concat(o," />")),a=ru("<li />");switch(e.name){case"li":case o:return e;case"ol":case"ul":return i.attr(e.attr()),e=lp.setNode(e,i);case"p":return"li"===e.parent().name?void(e=lp.unwrapNode(e,"<p />")):(r=Cl.removeUnit(e.css("padding-left"))/2,e=lp.setNode(e,a),r&&i.attr(iu,r),n&&i.attr("start",n),e=lp.wrapNode(e,i));case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return e=lp.setNode(e,a),e=lp.wrapNode(e,i);default:;}}(e,t,n)}))}function wp(e,t){var n=this;e.forEach((function(e){yp(e)||kp.call(n,e,t)}))}function kp(e,t){var n,r=ru('<ul class="lake-list"/>'),o=ru('<li class="lake-list-node lake-list-task"/>');switch(e.name){case"li":return e.addClass("lake-list-node"),e.addClass("lake-list-task"),Op.call(this,e,t),e;case"ul":return e.addClass("lake-list"),e;case"ol":return r.attr(e.attr()),e=lp.setNode(e,r);case"p":return n=Cl.removeUnit(e.css("padding-left"))/2,e=lp.setNode(e,o),Op.call(this,e,t),n&&r.attr(iu,n),e=lp.wrapNode(e,r);case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return e=lp.setNode(e,o),Op.call(this,e,t),e=lp.wrapNode(e,r);default:return e}}function xp(e){switch(e.name){case"li":return e.removeClass("lake-list-node"),e.removeClass("lake-list-task"),(t=e).find("[data-lake-card=checkbox]").remove(),t.find("[data-ready-card=checkbox]").remove(),e;case"ul":return e.removeClass("lake-list"),e;default:return e}var t}function Op(e,t){if(e=ru(e),!up(e.first())){var n=this.card.createComponent({name:"checkbox",value:!!t,engine:this}),r=document.createRange();r.selectNodeContents(e[0]),r.collapse(!0),this.card.insertNode(r,n)}}function Cp(e,t){var n=[];e.forEach((function(e,t){var r=e.parent();if("p"===e.name){if("li"===r.name)return 0===t&&n.push(r),void lp.unwrapNode(e,"<p />");if(["ul","ol"].includes(r.name))return e=lp.setNode(e,"<li />"),void n.push(e)}if("li"===e.name&&"li"===r.name)return 0===t&&n.push(r),void lp.unwrapNode(e,"<li />");["ul","ol"].includes(e.name)&&"li"===r.name?lp.unwrapNode(e,"<".concat(e.name," />")):n.push(e)}));var r=ru(t.endContainer).closest("li");return n.some((function(e){return e[0]===r[0]}))||n.push(r),n}function _p(e,t){e&&0!==e.length&&e.forEach((function(e){"li"===e.name&&("left"===t?e.css("list-style-position","outside"):e.css("list-style-position","inside"))}))}function Ep(e,t){if(e&&"li"===e.name)if(t&&Op.call(this,e),e.first()){var n=e.first();if(up(n)){var r=n.next();r&&""!==r[0].nodeValue||e.append("<br />")}}else e.append("<br />")}function jp(e){var t=ru(e.startContainer),n=e.startOffset,r=e.cloneRange(),o="li"===t.name?t:t.closest("li");if(!o[0])return!1;r.selectNodeContents(o[0]),r.setEnd(t[0],n);var i=r.cloneContents();if(!i.firstChild)return!0;if(1===i.childNodes.length&&"br"===ru(i.firstChild).name)return!0;if(1===i.childNodes.length&&up(ru(i.firstChild)))return!0;if(2===i.childNodes.length&&up(ru(i.firstChild))&&Nu.isEmptyNode(i.lastChild))return!0;var a=ru("<div />");return a.append(i),!!Nu.isEmptyNode(a[0])}function Sp(e){var t=ru(e.endContainer),n=e.endOffset,r=e.cloneRange(),o="li"===t.name?t:t.closest("li");if(!o[0])return!1;r.selectNodeContents(o[0]),r.setStart(t[0],n);var i=r.cloneContents();if(!i.firstChild)return!0;if(1===i.childNodes.length&&"br"===ru(i.firstChild).name)return!0;var a=ru("<div />");return a.append(i),!!Nu.isEmptyNode(a[0])}function Pp(e){return"li"===e.name&&(!!Nu.isEmptyNode(e)||(1===e.children().length?up(e.first())||"br"===e.first().name:2===e.children().length&&(up(e.first())&&"br"===e.last().name)))}var Rp={exportParser:new np};function Tp(e,t){var n,r=window.getSelection(),o=(n=r.rangeCount>0?r.getRangeAt(0):document.createRange()).cloneRange(),i=ru('<div class="lake-engine-view">&#8203;</div>');i.css({position:"fixed",top:0,clip:"rect(0, 0, 0, 0)"}),i.on("copy",(function(e){Ap(e)})),ru(document.body).append(i),i.append(ru(e).clone(!0)),t&&Nu.fetchAllChildren(i).forEach((function(e){e=ru(e),t.trigger("copy:each",e)})),i.append("@&#8203;"),n.selectNodeContents(i[0]),r.removeAllRanges(),r.addRange(n);var a=!1;try{if(!(a=document.execCommand("copy")))throw"copy command was unsuccessful"}catch(e){zu.log("unable to copy using execCommand: ",e)}finally{i.remove(),r.removeAllRanges(),r.addRange(o)}return a}function Dp(e){var t=e.dataTransfer||e.clipboardData,n=t.getData("text/html"),r=t.getData("text"),o=[];try{t.items&&t.items.length>0?o=Array.from(t.items).map((function(e){var t="file"===e.kind?e.getAsFile():null;return null!==t&&(t.type&&t.type.indexOf("image/png")>-1&&!t.lastModified&&(t=new File([t],"image.png",{type:t.type})),t.ext=r.split(".").pop()),t})).filter((function(e){return e})):t.files&&t.files.length>0&&(o=Array.from(t.files))}catch(e){zu.log(e),t.files&&t.files.length>0&&(o=Array.from(t.files))}return""===n&&/^.+\.\w+$/.test(r)&&o.length>0?r="":""===r&&/^(<meta.+?>)?<img.+?>$/.test(n)&&o.length>0?n="":(n||r)&&o.length&&(n.startsWith("<img")||!n&&/^http(s)?:/.test(r)||(o=[])),{html:n,text:r,files:o}}function Ap(e,t,n){if(void 0===t&&(t=Rp.exportParser),null!==t){var r=window.getSelection().getRangeAt(0);if(Rp.preventCopySwitch&&Rp.preventCopyContainer&&(Rp.preventCopyContainer.contains(r.startContainer)||Rp.preventCopyContainer.contains(r.endContainer)||r.commonAncestorContainer.contains(Rp.preventCopyContainer)))return Rp.preventCopyMessage(),void e.preventDefault();var o=ru((r=r.cloneRange()).startContainer).closest("[data-lake-card]",(function(e){return ru(e).isRoot()?null:e.parentNode}));if(o.length&&!r.collapsed&&0===r.endOffset&&(r.endContainer.previousSibling&&r.setEndAfter(r.endContainer.previousSibling),!r.collapsed&&r.endOffset>0&&r.endContainer.childNodes[r.endOffset-1]===o[0])){var i=ru(r.startContainer).closest('[data-card-element="center"]',(function(e){return ru(e).isRoot()?null:e.parentNode}));i.length?r.setEnd(i[0],i[0].childNodes.length):r.setEnd(o[0],o[0].childNodes.length)}var a=ru(r.commonAncestorContainer),c=a.closest("[data-lake-card]",(function(e){return ru(e).isRoot()?null:e.parentNode}));if(c.length)a.closest('[data-card-element="center"]',(function(e){return ru(e).isRoot()?null:e.parentNode})).length||(r.selectNode(c[0]),a=ru(r.commonAncestorContainer));var s="#text"===a.name?[document.createElement("span")]:[],l=a.closest("[data-lake-card]",(function(e){if(ru(e).isRoot())return null;e.nodeType===Node.ELEMENT_NODE&&("inline"===window.getComputedStyle(e).getPropertyValue("display")&&s.push(e.cloneNode()));return e.parentNode})),u=a.find(".lake-engine-view").length>0||a.find(".lake-engine").length>0,f=a.closest(".lake-engine-view").length>0||a.closest(".lake-engine").length>0;if(!(l.length>0||!u&&!f)){if(f&&!a.isRoot()){var p=hf(a),d=p.name;["h1","h2","h3","h4","h5","h6"].indexOf(d)>-1&&s.push(p[0].cloneNode())}if(e.preventDefault(),r.collapsed)e.clipboardData.setData("text/html",""),e.clipboardData.setData("text","");else{var h=r.cloneContents(),m=function(e){if(0===e.length)return{};for(var t=e.length-1;t>0;t--)e[t].appendChild(e[t-1]);return{inner:e[0],outter:e[e.length-1]}}(s),v=(b=r.commonAncestorContainer,w=ru(b),(k=w.closest(".lake-engine")).length||(k=w.closest(".lake-engine-view")),k.length||(k=w.find(".lake-engine")),k.length||(k=w.find(".lake-engine-view")),k.length?ru(k).hasClass("lake-typography-classic")?"classic":"traditional":"classic"),y=t.options.typography;t.options.typography=v;var g=t.parse(h,m.inner,m.outter);t.options.typography=y,g.html&&(g.html='<meta name="source" content="lake"/>'+g.html),n&&n(),e.clipboardData.setData("text/html",g.html),e.clipboardData.setData("text",g.text)}var b,w,k}}}function Mp(){ru(document).on("copy",(function(e){Ap(e)}))}function Np(){var e,t=window.getSelection().getRangeAt(0),n=ru(t.commonAncestorContainer);Nf(t),e=-1!==["ul","ol"].indexOf(n.name)?n:n.find("ul,ol");for(var r=0;r<e.length;r++){var o=ru(e[r]);o.find("li").each((function(e){(""===e.innerText||fe.safari&&"\n"===e.innerText)&&e.parentNode.removeChild(e)})),0===o.children().length&&o.remove()}if(n[0].isConnected){var i=n.closest("li.lake-list-task");i.length&&function(e){for(var t=(e=ru(e)[0]).childNodes.length-1;t>=0;t--){var n=e.childNodes[t];if(n.nodeType!==Node.TEXT_NODE||""!==n.textContent)break;e.removeChild(n)}if(1===e.childNodes.length){var r=ru(e.firstChild);r.isCard()&&"checkbox"===r.attr(Gs)&&r.after("<br/>")}}(i)}}Rp.writeClipboard=Ap,Rp.customClipboard=Mp,Rp.copyText=function(e){return df()(e)},Rp.copyNode=Tp,Rp.getClipboardData=Dp,Rp.preventCopySwitch=!1,Rp.preventCopyContainer=null,Rp.preventCopyMessage=function(){console.log("禁止复制")},window.hasRegisterLakeDocClipboard||(Mp(),window.hasRegisterLakeDocClipboard=!0);var Ip=Rp;var Lp={dataURIToFile:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([r],{type:n})}};function Fp(e){if(!e)return 0;var t=parseInt(e.percent,10);return 100===t&&(t=99),t}function zp(e,t,n){e.history.hold(),e.change.updateCard(t,n)}function Bp(e,t,n,r){var o=new Image;o.src=n.src,o.onload=function(){zp(e,t,n)},o.onerror=function(){r<=3?setTimeout((function(){r++,Bp(e,t,n,r)}),500*r):zp(e,t,n)}}var Vp={getUploadPercent:Fp,insertCard:function(e,t,n){return t.indexOf(":")>=0&&(t=t.split(":")[1]),"image"!==t&&(n.src=""),n.status="uploading",n.percent=Fp(n.progress),e.change.insertCard(t,n)},updateCardProgress:function(e,t){t.status="uploading";var n=Fp(t.progress);e.find("[data-role=percent]").html("".concat(n,"%"))},updateCard:function(e,t,n){var r=t.attr("data-lake-card");if("done"===n.status){var o=e.card.getValue(t);return o.status="done",o.src=n.src,o.message=n.message,o.size=o.size||0,void("image"===r?(o.ocrLocations=n.ocrLocations,Bp(e,t,o,0)):zp(e,t,o))}if("error"===n.status){var i=e.card.getValue(t);i.status="error",i.src="",i.message=n.message,i.size=i.size||0,e.history.hold(),e.change.updateCard(t,i)}},updateImage:Bp},qp=n(104),Hp=n.n(qp),Up=n(59),Wp=n.n(Up),Kp=0,Yp=1,Xp=2;function $p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zp(e,t){return Math.floor(e+Math.random()*(t-e))}function Jp(e){if((e=ru(e)).isElement()){if(["cursor","anchor","focus"].includes(e.attr("data-lake-element")))return!0;if(e.attr("data-transient"))return!0;if(!e.isCard()&&e.closest(nl).length>0)return!0;if(e.isCard()&&e.parent()&&e.parent().closest(nl).length>0)return!0}return!1}function Qp(e,t){return!(!(e=ru(e)).isRoot()||/^data-selection-/.test(t))||!(!e.isCard()||!["id","class","style"].includes(t))}function ed(e){return td(e.cloneRange())}function td(e){var t=ru(e.commonAncestorContainer);if(!t.isRoot()&&!t.isEditable())return[];ff.downRange(e);var n=function(e,t){for(var n=e,r=[];n&&!ru(n).isRoot();){for(var o=n.previousSibling,i=0;o;)ru(o).attr("data-transient")||i++,o=o.previousSibling;r.unshift(i),n=n.parentNode}return r.push(t),r};return[n(e.startContainer,e.startOffset),n(e.endContainer,e.endOffset)]}function nd(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];od(r,e[n+1])?n++:t.push(r)}return t}function rd(e){return(e.oi||e.od)&&e.p&&2===e.p.length&&1===e.p[0]&&e.p[1].startsWith("data-selection-")}function od(e,t){return!(!e||!t)&&(!!(e.li&&t.ld&&Wp()(e.li,t.ld)&&(Wp()(e.p,t.p)||id(e.p,t.p)||id(t.p,e.p)))||(!!(e.ld&&t.li&&Wp()(e.ld,t.li)&&Wp()(e.p,t.p))||(!!(e.si&&t.sd&&Wp()(e.si,t.sd)&&(Wp()(e.p,t.p)||id(e.p,t.p,e.si.length)||id(t.p,e.p,e.si.length)))||!!(e.sd&&t.si&&Wp()(e.sd,t.si)&&Wp()(e.p,t.p)))))}function id(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e.length!==t.length)return!1;var r=t.slice();return r[r.length-1]-=n,Wp()(e,r)}function ad(e,t){var n=[];return t.forEach((function(e){n.push(e.ops)})),n.forEach((function(t){e=Hp.a.type.transform(e,t,"left")})),e}function cd(e,t){if(ld(t.p,e))if("li"in t)e[t.p.length-1]+=1;else if("ld"in t){e[t.p.length-1]-=1}else if("si"in t){e[t.p.length-1]+=t.si.length}else if("sd"in t){var n=t.p.length;e[n-1]-=t.sd.length,e[n-1]=Math.max(t.p[n-1],e[n-1])}return e}function sd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=$p(e,2),r=n[0],o=n[1];if(!r||!o)return e;var i=r.map((function(e){return e+2})),a=o.map((function(e){return e+2})),c=[];return t.forEach((function(e){c=c.concat(e.ops)})),c.forEach((function(e){cd(i,e),cd(a,e)})),[i.map((function(e){return e-2})),a.map((function(e){return e-2}))]}function ld(e,t){for(var n=0;void 0!==e[n];){if(!t[n])return!1;if(e[n]===t[n])n++;else{if(e[n]>t[n])return!1;if(e[n]<t[n])return void 0===e[n+1]}}return!0}function ud(e,t){var n=e;return t.forEach((function(t){t.p[t.p.length-1]-Xp<=e&&("li"in t?n-=1:"ld"in t&&(n+=1))})),n}var fd={random:Zp,randomString:function(){for(var e=8,t="23456789abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",n=t.length,r="";e--;)r+=t[Zp(0,n)];return r},isTransientElement:Jp,isTransientAttribute:Qp,toPath:td,fromPath:function(e,t){var n=t[0].pop(),r=t[1].pop(),o=function(t){for(var n=ru(e)[0],r=0;r<t.length;r++){var o=t[r];o<0&&(o=0);for(var i=void 0,a=n.firstChild,c=0;a;)if(ru(a).attr("data-transient"))a=a.nextSibling;else{if(c===o||!a.nextSibling){i=a;break}c++,a=a.nextSibling}if(!i)break;n=i}return n},i=function(e,t,n,r){n&&(r<0&&(r=0),n.nodeType===Node.ELEMENT_NODE&&r>n.childNodes.length&&(r=n.childNodes.length),n.nodeType===Node.TEXT_NODE&&r>n.nodeValue.length&&(r=n.nodeValue.length),t[e](n,r))},a=o(t[0]),c=o(t[1]),s=document.createRange();return i("setStart",s,a,n),i("setEnd",s,c,r),s},reduceOperations:nd,isCursorOp:rd,isReverseOp:od,transformOp:ad,transformPath:sd,affectPath:ld,getRangePath:ed,getOldIndex:ud};function pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pd(Object(n),!0).forEach((function(t){hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function md(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vd=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t.container)throw new Error("please set a dom cantainer!");this.options=dd({container:null,limitHeight:5e3,canvasCache:[],canvasCount:0},t),t.container.style["line-height"]="0px"}var t,n,r;return t=e,(n=[{key:"_removeCanvas",value:function(){var e=this.options;e.canvasCache.forEach((function(e){e.parentElement.removeChild(e)})),e.canvasCache=[]}},{key:"_getCanvas",value:function(e){return e=e>0?e-1:e,this.options.canvasCache[e]}},{key:"resize",value:function(e,t){var n=this.options,r=n.limitHeight,o=n.canvasCount,i=n.container,a=Math.ceil(t/r),c=n.canvasCache;if(a!==o){this._removeCanvas(),c=[];for(var s=0;s<a;s++){var l=document.createElement("canvas");l.style["vertical-align"]="bottom",l.setAttribute("width",e),s===a-1?l.setAttribute("height",t%r):l.setAttribute("height",r),i.appendChild(l),c.push(l)}n.canvasCache=c}else{var u=this._getCanvas(a);c.forEach((function(t){t.setAttribute("width",e)})),u&&u.setAttribute("height",t%r)}}},{key:"_handleSingleRect",value:function(e){var t=e.x,n=e.y,r=e.index,o=e.width,i=e.height,a=e.callback,c=this.options.limitHeight,s=this._getCanvas(r);s&&a({x:t,y:n-c*(r-1),width:o,height:i,context:s.getContext("2d")})}},{key:"_drawRect",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.fill,a=void 0===i?"#FFEC3D":i,c=e.stroke,s=void 0===c?"#FFEC3D":c;this._handleRect({x:t,y:n,width:r,height:o,callback:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.context;i.fillStyle=a,i.strokeStyle=s,i.fillRect(t,n,r,o)}})}},{key:"_handleRect",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.callback,a=this.options.limitHeight,c={x:t,y:n},s=n+o,l=Math.ceil(c.y/a),u=Math.ceil(s/a);l===u?this._handleSingleRect(dd(dd({},c),{},{index:l,width:r,height:o,callback:i})):(this._handleSingleRect(dd(dd({},c),{},{index:l,width:r,height:o,callback:i})),this._handleSingleRect(dd(dd({},c),{},{index:u,width:r,height:o,callback:i})))}},{key:"getImageData",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=this.options.limitHeight,a=Math.ceil(n/i);return this._getCanvas(a).getContext("2d").getImageData(t,n,r,o)}},{key:"draw",value:function(e,t){this["_draw"+e](t)}},{key:"clearRect",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height;this._handleRect({x:t,y:n,width:r,height:o,callback:function(e){var t=e.x,n=e.y,r=e.width,o=e.height;e.context.clearRect(t,n,r,o)}})}},{key:"clear",value:function(){this.options.canvasCache.forEach((function(e){var t=e.getContext("2d"),n=Number(e.getAttribute("width")),r=Number(e.getAttribute("height"));t.clearRect(0,0,n,r)}))}},{key:"destroy",value:function(){this._removeCanvas()}}])&&md(t.prototype,n),r&&md(t,r),e}(),yd=n(15),gd=n.n(yd);function bd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wd(e,t){Object.keys(t).forEach((function(n){"style"!==n&&(e[n]=t[n])})),t.style&&(e.style||(e.style={}),Object.keys(t.style).forEach((function(n){e.style[n]=t.style[n]})))}var kd=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={blocks:[],inlines:[],marks:[],globals:{}}}var t,n,r;return t=e,(n=[{key:"add",value:function(e){var t=this;e=gd()(e),Array.isArray(e)||(e=[e]),e.forEach((function(e){return function(e,t){var n;if("string"==typeof t?(n=t,(t={})[n]={}):n=Object.keys(t)[0],"div"===n)throw"setting div is not allowed";_l[n]?e.blocks.push(t):El[n]?e.inlines.push(t):(jl[n]&&e.marks.push(t),["block","inline","mark"].indexOf(n)>=0&&(e.globals[n]||(e.globals[n]={}),wd(e.globals[n],t[n])))}(t.data,e)}))}},{key:"clone",value:function(){var t=gd()(this.data),n=new e;return n.data=t,n}},{key:"getValue",value:function(){var e=this;Object.keys(this.data.globals).forEach((function(t){var n=e.data.globals[t];e.data[t+"s"].forEach((function(e){wd(e[Object.keys(e)[0]],n)}))}));var t={};return Object.keys(this.data).forEach((function(n){"globals"!==n&&e.data[n].forEach((function(e){var n=Object.keys(e)[0],r=e[n];t[n]?wd(t[n],r):t[n]=r}))})),t}}])&&bd(t.prototype,n),r&&bd(t,r),e}();function xd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Od=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.source=t}var t,n,r;return t=e,(n=[{key:"toHTML",value:function(){var e=pl(this.source);return(e=e.replace(/\n/g,"</p><p>").replace(/<p><\/p>/g,"<p><br /></p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>=0&&(e="<p>".concat(e,"</p>")),e}}])&&xd(t.prototype,n),r&&xd(t,r),e}(),Cd=n(336),_d=n.n(Cd),Ed=n(337),jd=n.n(Ed),Sd=n(338),Pd=n.n(Sd),Rd=n(339),Td=n.n(Rd),Dd=n(340),Ad=n.n(Dd),Md=n(341),Nd=n.n(Md),Id=n(342),Ld=n.n(Id),Fd=n(343),zd=n.n(Fd),Bd=n(344),Vd=n.n(Bd),qd={text:"plain",sh:"bash",ts:"typescript",js:"javascript",py:"python",puml:"plantuml",vb:"basic"},Hd=function(e){e.renderer.rules.fence=function(t,n){var r=t[n],o=r.info?e.utils.unescapeAll(r.info).trim():"",i="";return"mermaid"===o?'<div class="mermaid" data-source="'.concat(encodeURIComponent(r.content),'"></div>\n'):"flow"===o?'<div class="flowchart" data-source="'.concat(encodeURIComponent(r.content),'"></div>\n'):"graphviz"===o?'<div class="graphviz" data-source="'.concat(encodeURIComponent(r.content),'"></div>\n'):"plantuml"===o?'<p><img src="https://g.yuque.com/g?'.concat(encodeURIComponent(r.content),'"></p>'):(o&&(i=o.split(/\s+/g)[0]).replace(/=$|=\d+$|=\+$|!$|=!$/,""),'<pre data-syntax="'.concat(i=qd[i]||i,'"><code>').concat(r.content,"</code></pre>"))}};function Ud(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wd=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this.md=new _d.a({html:!0,linkify:!0,breaks:!0});t.use(jd.a),t.use(Pd.a),t.use(Td.a),t.use(Ad.a),t.use(Nd.a),t.use(Ld.a),t.use(zd.a),t.use(Vd.a),t.use(Hd)}var t,n,r;return t=e,(n=[{key:"toHTML",value:function(e){return this.md.render(e)}}])&&Ud(t.prototype,n),r&&Ud(t,r),e}(),Kd=function(e,t){return t=ru(t),e.insertNode(t[0]),e.selectNodeContents(t[0]),Xu(e),e.collapse(!1),e};function Yd(e,t){for(var n=[],r=t.first();r;){var o=r.next();n.push(r),e.append(r),r=o}return n}function Xd(e,t,n){var r=e.clone(!0),o=ru("[".concat(Hs,"=").concat(t,"]"),r[0]),i=!1;return pu(r[0],(function(e){if((e=ru(e))[0]===o[0])return o.remove(),void(i=!0);i&&e.remove()}),n),r}function $d(e,t){Wu(e);var n=ru(e.startContainer),r=n.isCard()?n:n.closest(nl);if(!(r.length>0&&"inline"===r.attr(Js))&&(n.isMark()||n.parent().isMark())){var o=_f(n);$u(e);var i=Xd(o.clone(!0),"cursor",!0),a=Xd(o.clone(!0),"cursor",!1);Rf(i[0]),Rf(a[0],(function(e){return e=ru(e),!t||Tf(e,t)})),o.empty();var c=Yd(o,i),s=Yd(o,a),l=ru("@​");if(s.length>0){var u=s[0];if(vu(u[0])){for(;u.first()&&!u.first().isText();)u=u.first();u.isText()?u.before(l):u.prepend(l)}else u.before(l);e.selectNode(l[0]),e.collapse(!1)}else if(c.length>0){c[c.length-1].after(l),e.selectNode(l[0]),e.collapse(!1)}else e.selectNodeContents(o[0]),e.collapse(!0);var f=!1;o.children().each((function(e){var t=ru(e);if(t.isText()){var n=e.textContent,r=n.replace(/\u200b+/g,"​");r!==n&&(e.textContent=r),f&&(r.startsWith("​")?(r=r.substring(1))?e.textContent=r:t.remove():f=!1),r.endsWith("​")&&(f=!0)}else f=!1})),l[0].parentNode&&function(e){if(e.nodeType===Node.TEXT_NODE){var t=e.textContent,n=t.length;r(e.previousSibling,!0),r(e.nextSibling,!1)}function r(r,o){function i(e){return o?e.previousSibling:e.nextSibling}for(;r;){if(r.nodeType!==e.nodeType)return;if(r.textContent===t){var a=i(r);r.parentNode.removeChild(r),r=a}else{if(o)for(;r.textContent.endsWith(t);)r.textContent=r.textContent.substring(0,r.textContent.length-n);else for(;r.textContent.startsWith(t);)r.textContent=r.textContent.substring(t.length);if(0!==r.textContent.length)return;var c=i(r);r.parentNode.removeChild(r),r=c}}}}(l[0])}}function Gd(e,t){Yu(e);var n=ru(e.startContainer),r=ru(e.endContainer),o=n.isCard()?n:n.closest(nl),i=r.isCard()?r:r.closest(nl);if(!(o.length>0&&"inline"===o.attr(Js)||i.length>0&&"inline"===i.attr(Js))){if(_f(n)[0]!==_f(r)[0]){var a=e.cloneRange();a.collapse(!0),$d(a,t),e.setStart(a.startContainer,a.startOffset);var c=e.cloneRange();return c.collapse(!1),$d(c,t),void e.setEnd(c.startContainer,c.startOffset)}var s=n.isMark()||n.parent().isMark(),l=r.isMark()||r.parent().isMark();if(s||l){var u=ru(e.commonAncestorContainer);u.isText()&&(u=u.parent());var f=_f(u);$u(e);var p=Xd(f.clone(!0),"anchor",!0),d=function(e){var t=e.clone(!0),n=ru(Ys,t[0]),r=ru(Xs,t[0]),o=!1;return pu(t[0],(function(e){if((e=ru(e))[0]===r[0])return r.remove(),void(o=!0);o&&e.remove()}),!0),o=!1,pu(t[0],(function(e){if((e=ru(e))[0]===n[0])return n.remove(),void(o=!0);o&&e.remove()}),!1),t}(f.clone(!0)),h=Xd(f.clone(!0),"focus",!1);Rf(p[0]),Rf(h[0]),f.empty(),Yd(f,p);var m=Yd(f,d);Yd(f,h),e.setStartBefore(m[0][0]),e.setEndAfter(m[m.length-1][0])}}}var Zd=function(e,t){var n=uu(e.startContainer);return"string"==typeof t&&(t=ru(t,n)),e.collapsed?($d(e,t),e):(Gd(e,t),e)};function Jd(e,t){e=ru(e)[0],t&&e&&e.parentNode&&ru(e).before(t.cloneNode(!0)).after(t.cloneNode(!0))}var Qd=function(e){var t=Sf(e);if(0===t.length)return e;var n=[t[0]];return t.length>1&&n.push(t.pop()),n.forEach((function(t){var n=t.prev(),r=t.next();if(n&&mu(n[0],t[0],!0)){Xu(e);var o=$u(e);kf(n,t),Gu(e,o),t=n}if(r&&mu(r[0],t[0],!0)){Xu(e);var i=$u(e);kf(t,r),Gu(e,i)}})),bf(e),e};var eh=function(e,t){var n=uu(e.startContainer);return"string"==typeof t&&(t=ru(t,n)),e.collapsed||Nf(e),Kd(e,t),e.selectNode(t[0]),e.collapse(!1),"br"!==t.name&&bf(e),e};function th(e){return(th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nh(e){return e=ru(e)[0],!!Bl[e.nodeName.toLowerCase()]&&(0===e.childNodes.length||""===e.innerText)}var rh=function(e,t,n){var r=uu(e.startContainer);"string"==typeof t&&(t=ru(t,r)),e.collapsed||Nf(e);var o=hf(e.startContainer);if(!o.isRoot()&&!o.isEditable())return e;if(o.isRoot())return(e=Kd(e,t)).collapse(!1),e;1===o.children().length&&"br"===o.first().name&&(e.selectNodeContents(o[0]),e.collapse(!1)),Yu(e);var i=$u(e);if(!i)return e;for(var a=o.clone(!1),c=o.first(),s=!0;c;){var l=c.next();c[0]!==i.anchor?(s||a.append(c),c=l):(s=!1,c=l)}return vu(a[0])||o.after(a),Gu(e,i),e.setStartAfter(o[0]),e.collapse(!0),!vu(o[0])||o.isTitle()||n||o.remove(),Kd(e,t),e};function oh(e,t){for(var n=hf(e);n;){var r=n.parent();if(!r)break;if(!n.isEditable())break;if(n.text().trim()!==r.text().trim())break;if(r.name===t)break;n=r}return n}var ih=function(e,t){var n=uu(e.startContainer);"string"==typeof t&&(t=ru(t,n));var r=function(e,t){for(var n=[],r=oh(e.startContainer,t.name),o=oh(e.endContainer,t.name),i="left",a=r.parent().first();a;){if(!(a=ru(a)).isBlock())return n;if(!a.isEditable())return n;a[0]===r[0]&&(i="center"),n.push({status:i,node:a}),a[0]===o[0]&&(i="right"),a=a.next()}return n}(e,t);if(0===r.length)return e;var o=r[0].node.parent();if(!o.isEditable())return e;if(o.isTable())return e;var i,a,c=r.some((function(e){return"left"===e.status})),s=r.some((function(e){return"right"===e.status}));if(c){var l=o;i=l.clone(!1),l.before(i)}if(s){var u=r[r.length-1].node.parent();a=u.clone(!1),u.after(a)}var f=$u(e);return r.forEach((function(e){var n=e.status,r=e.node,o=r.parent();"left"===n&&i.append(r),"center"===n&&o.name===t.name&&o.isEditable()&&xf(o),"right"===n&&a.append(r)})),i&&"ol"===i.name&&a&&"ol"===a.name&&a.attr("start",(parseInt(i.attr("start"),10)||1)+i.find("li").length),Gu(e,f),e},ah=function(e){var t=yf(e);return 0===t.length||(t.forEach((function(t){if("ol"===(t=t.closest("ul,ol")).name||"ul"===t.name){var n=t.prev(),r=t.next();if(n&&dp(n,t)){var o=$u(e);kf(n,t),Gu(e,o),t=n}if(r&&dp(r,t)){var i=$u(e);kf(t,r),Gu(e,i)}}})),wf(e)),e},ch=function(e){var t=yf(e);if(0===t.length)return e;var n=t[0].closest(".lake-engine").find("blockquote");if(n[0]){for(var r=$u(e),o=ru(n[0]).next();o;){var i=o.prev();"blockquote"===o.name&&o.name===i.name&&o.attr("class")===i.attr("class")&&kf(i,o),o=o.next()}return Gu(e,r),e}};function sh(e){var t=e.firstChild;if(!ru(t).isBlock())return e;for(;["blockquote","ul","ol"].includes(ru(t).name);)t=t.firstChild;return t}function lh(e){var t=e.lastChild;if(!ru(t).isBlock())return e;for(;["blockquote","ul","ol"].includes(ru(t).name);)t=t.lastChild;return t}function uh(e,t){return"p"===t.name||e.name===t.name&&!("li"===e.name&&!dp(e.parent(),t.parent()))}function fh(e){for(e=ru(e);!e.isRoot();){var t=e.parent();if(e.remove(),!vu(t))break;e=t}}var ph={insertText:function(e,t){var n=uu(e.startContainer);e.collapsed||Nf(e);var r=n.createTextNode(t);return bf(e=Kd(e,r)),e},addMark:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=uu(e.startContainer);if("string"==typeof t&&(t=ru(t,r)),e.collapsed){var o=r.createTextNode("​");return t.append(o),Kd(e,t[0]),Jd(t[0],n),bf(e),e}Zd(e);var i=e.commonAncestorContainer;i.nodeType===Node.TEXT_NODE&&(i=i.parentNode);var a=$u(e);if(!a)return e;var c=!1;return pu(i,(function(e){if((e=ru(e))[0]!==a.anchor){if(c){if(e[0]===a.focus)return c=!1,!1;if(e.isMark()&&!e.isCard()){if(!vu(e[0]))return Jd(cp(e,t),n),!0;e.name!==t.name&&e.remove()}if(e.isText()&&!vu(e[0])&&Jd(cp(e,t),n),e.isBlock()&&!e.isTable()&&vu(e[0])){e.find("br").remove();var o=t.clone(),i=r.createTextNode("​");o.prepend(i),e.append(o),Jd(o,n)}}}else c=!0})),Gu(e,a),e},splitMark:Zd,removeMark:function(e,t){var n=uu(e.startContainer);if(t&&"string"==typeof t&&(t=ru(t,n)),Zd(e,t),e.collapsed)return e;var r=e.commonAncestorContainer;r.nodeType===Node.TEXT_NODE&&(r=r.parentNode);var o=$u(e);if(!o)return e;var i=[],a=!1;return pu(r,(function(t){if((t=ru(t))[0]!==o.anchor){if(a)return t[0]!==o.focus&&void(t.isMark()&&!t.isCard()&&e.isPointInRange(t[0],0)&&i.push(t))}else a=!0})),i.forEach((function(e){var n,r;if(Tf(e,t))xf(e[0]);else if(t){var o=t.css();Object.keys(o).forEach((function(t){e.css(t,"")})),-1!==t[0].className.indexOf("lake-fontsize")&&(r=(n=e)[0].className.split(/\s+/).filter((function(e){return-1===e.indexOf("lake-fontsize")})),n[0].className=r.join(" "))}else e.removeAttr("class"),e.removeAttr("style")})),Gu(e,o),Qd(e),e},insertMark:function(e,t){var n=uu(e.startContainer);return"string"==typeof t&&(t=ru(t,n)),e.collapsed||Nf(e),Kd(e,t),bf(e),e.selectNode(t[0]),e.collapse(!1),e},mergeMark:Qd,insertInline:eh,wrapInline:function(e,t){if(!t)return e;if(e.collapsed)return e;t=ru(t,uu(e.startContainer)),Zd(e);var n=e.commonAncestorContainer;n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);var r=$u(e);if(!r)return e;var o=!1,i=t.clone(!1);pu(n,(function(e){if((e=ru(e))[0]!==r.anchor){if(o)return e[0]===r.focus?(o=!1,!1):e.isMark()&&!e.isCard()||e.isText()?vu(e[0])?(e.remove(),!0):(i.parent()||e.before(i),i.append(e),!0):void(0!==i[0].childNodes.length&&(i=i.clone(!1)))}else o=!0}));var a=ru(r.anchor);!a.parent().isHeading()||a.prev()||a.next()||a.after("<br />");var c=ru(r.focus);return a[0]!==c[0]&&(!c.parent().isHeading()||c.prev()||c.next()||c.before("<br />")),Gu(e,r),e},unwrapInline:function(e){Zd(e);var t=ip(e),n=$u(e);return t.forEach((function(e){xf(e[0])})),Gu(e,n),Qd(e),e},setBlocks:function(e,t){var n,r=uu(e.startContainer);"object"===th(t)?(n=t,t=null):(t=ru(t,r),(n=t.attr()).style=t.css());var o=yf(e),i=ru(e.startContainer);if(i.isRoot()&&0===o.length){var a=t||ru("<p></p>");sp(a,n);var c=$u(e);return i.children().each((function(e){a.append(e)})),i.append(a),Gu(e,c),e}var s=$u(e);return o.forEach((function(e){e.attr(Gs)||(t&&e.name!==t.name?ou(e,t):sp(e,n))})),Gu(e,s),e},splitBlock:function(e){e.collapsed||Nf(e);var t=hf(e.startContainer);if(!t.isRoot()&&!t.isEditable())return e;if(t.isRoot()){var n=e.startContainer.childNodes[e.startOffset];return n&&(e.selectNodeContents(n),Xu(e),e.collapse(!0)),e}var r=e.cloneRange();Xu(r),Ku(r),r.collapse(!0);var o=Sf(r),i=gf({block:t,range:e,isLeft:!1,keepID:!0});return pu(i[0],(function(e){!(e=ru(e)).isVoid()&&(e.isInline()||e.isMark())&&vu(e[0])&&e.remove()}),!0),nh(t)&&!nh(i)?Wl(t[0],!0):Wl(i[0],!0),t.after(i),vu(t[0])&&t.html(Pf(o,"<br />")),vu(i[0])&&i.html(Pf(o,"<br />")),e.selectNodeContents(i[0]),Xu(e),1===i.children().length&&"br"===i.first().name?e.collapse(!1):e.collapse(!0),e},insertBlock:rh,wrapBlock:function(e,t){var n=uu(e.startContainer);"string"==typeof t&&(t=ru(t,n));var r=yf(e),o=[];if(0===(r=r.map((function(e){var t=e.parent();return"li"===e.name&&t&&["ol","ul"].indexOf(t.name)>=0?function(e,t){for(var n=0;n<e.length;n++)if(e[n][0]===t[0])return!0;return!1}(o,t)?null:(o.push(t),t):e})).filter((function(e){return e}))).length||r[0].isTable()){var i=hf(e.startContainer),a=$u(e);return i.children().each((function(e){t.append(e)})),i.append(t),Gu(e,a),e}var c=$u(e);return r[0].before(t),r.forEach((function(e){t.append(e)})),Gu(e,c),e},unwrapBlock:ih,insertFragment:function(e,t,n,r){var o=hf(e.startContainer),i=hf(e.endContainer)[0]===o[0],a=vf(e,"end"),c=o.closest("blockquote"),s=e.collapsed,l=n.childNodes,u=ru(n.firstChild);s||Nf(e,i||!a);if(!u[0])return e;if(!u.isBlock()&&!u.isCard())return Xu(e),e.insertNode(n),e.collapse(!1),e;Qu(e);var f=e.startContainer.childNodes[e.startOffset-1],p=e.startContainer.childNodes[e.startOffset];if(c[0]&&l.forEach((function(e){"blockquote"!==ru(e).name&&cp(ru(e),c.clone(!1))})),function(e,t,n){if(0!==t.length){var r=uu(e.startContainer),o=ru(t[t.length-1]);"br"===o.name&&(o.remove(),o=ru(t[t.length-1]));for(var i=r.createDocumentFragment(),a=t[0];a;){a=ru(a),Nu.removeSideBr(a);var c=a.next();c||(o=a),i.appendChild(a[0]),a=c}e.insertNode(i),Xu(e),e.collapse(!1),function(e,t){var n=t.closest(e.startContainer);n&&t&&t.focus(e,n,!1)}(e,n)}}(e,l,t),f){var d=ru(sh(f.nextSibling)),h=ru(lh(f));uh(h,d)?(!function(e,t){if(e.name===t.name&&"p"===e.name){var n=t.attr();n.hasOwnProperty(zl)&&delete n["data-lake-id"],e.attr(n)}yu(e[0])&&!yu(t[0])&&(e[0].innerHTML=""),yp(e)===yp(t)&&xp(t)}(h,d),kf(h,d,!1),fh(d)):(vu(h)||Pp(h))&&fh(h)}if(p){var m=ru(lh(p.previousSibling)),v=ru(sh(p));e.selectNodeContents(m[0]),Xu(e),e.collapse(!1),vu(v)?fh(v):uh(m,v)&&(kf(m,v,!1),fh(v))}return ch(e),ah(e),r&&r(e),e},deleteContent:Nf,mergeAdjacentList:ah,mergeAdjacentBlockquote:ch,separateBlocks:function(e){var t=lp.getRangeBlocks(e);if(0===t.length)return e;var n,r,o,i,a=$u(e),c=(t=Cp(t,e))[0],s=t[t.length-1],l=[],u=[];if("li"===c.name&&c.prev()){n=c.parent();for(var f=0;t[f]&&"li"===t[f].name;)l.push(t[f]),f+=1}if("li"===s.name&&s.next()){r=s.parent();for(var p=s.next();p&&"li"===p.name;)u.push(p),p=p.next()}if(u.length>0&&(o=r.clone(!1),u.forEach((function(e){o.append(e[0])})),r.after(o)),l.length>0&&(i=n.clone(!1),l.forEach((function(e){i.append(e[0])})),n.after(i)),n&&r&&r[0]===n[0]&&"ol"===n.name){var d=(parseInt(n.attr("start"),10)||1)+n.find("li").length;o.attr("start",d)}return Gu(e,a),e}};var dh={show:function(e,t,n){n=n||{placement:"top"},this.hide();var r=ru(function(e){return'\n  <div data-lake-element="embed-tooltip" class="lake-tooltip lake-tooltip-placement-'.concat(e.placement,' lake-embed-tooltip" style="transform-origin: 50% 45px 0px;">\n    <div class="lake-tooltip-content">\n      <div class="lake-tooltip-arrow"></div>\n      <div class="lake-tooltip-inner" data-role="tooltip"></div>\n    </div>\n  </div>\n  ')}(n));t=pl(t),r.find("[data-role=tooltip]").html(t),ru(document.body).append(r);var o=r[0].clientWidth,i=r[0].clientHeight,a=e[0].clientWidth,c=e.offset(),s=Math.round(window.pageXOffset+c.left+a/2-o/2),l=Math.round(window.pageYOffset+c.top-i-2);r.css({left:s+"px",top:l+"px"}),r.addClass("lake-embed-tooltip-active")},hide:function(){ru("div[data-lake-element=embed-tooltip]").remove()}};function hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mh=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.root=ru(function(e){var t="lake-embed-toolbar-btn ".concat(e.text?"with-text":"");return'\n  <span class="lake-embed-toolbar-item lake-embed-toolbar-item-'.concat(pl(e.iconName),'" ').concat(e.disabled?'disabled="disabled"':"",'>\n    <a class="').concat(t,'" data-aspm-click="').concat(e.name||"unknown",'" data-aspm-param="').concat(e.cardName||"unknown",'" ').concat(e.disabled?'disabled="disabled"':""," ").concat(e.link?'href="'.concat(encodeURI(e.link),'" target="_blank"'):"",'>\n      <span class="lake-icon lake-icon-').concat(pl(e.iconName),'"></span>\n      ').concat(e.text?'<span class="lake-embed-toolbar-btn-text">'.concat(pl(e.text),"</span>"):"","\n    </a>\n  </span>\n  ")}(t))}var t,n,r;return t=e,(n=[{key:"render",value:function(e){var t=this,n=this.config;e.append(this.root),n.title&&(this.root.on("mouseenter",(function(){dh.show(t.root,n.title)})),this.root.on("mouseleave",(function(){dh.hide()})),this.root.on("mousedown",(function(){dh.hide()}))),!0!==n.disabled&&this.root.find("a").on("click",(function(e){e.stopPropagation(),n.onClick&&(e.preventDefault(),n.onClick())}))}}])&&hh(t.prototype,n),r&&hh(t,r),e}();function vh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yh=ke;var gh=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.root=ru('\n  <span class="lake-embed-toolbar-item lake-embed-toolbar-item-input">\n    <input data-role="input" placeholder="'.concat(pl((n=t).placeholder),'" class="lake-embed-toolbar-linkinput" type="input" value="').concat(pl(n.url),'" />\n  </span>\n  ')),this.onEnter=t.onEnter||function(){},this.onInput=t.onInput||function(){},this.onChange=t.onChange||function(){}}var t,n,r;return t=e,(n=[{key:"find",value:function(e){var t="[data-role=".concat(e,"]");return this.root.find(t)}},{key:"render",value:function(e){var t=this,n=this.config,r=this.find("input");r[0].value=void 0!==n.url?n.url:"",r.on("keydown",(function(e){e.stopPropagation(),yh("enter",e)&&(e.preventDefault(),r[0].blur(),t.onEnter(r[0].value))})),r.on("input",(function(){t.onInput(r[0].value)})),r.on("change",(function(){setTimeout((function(){t.onChange(r[0].value)}),10)})),e.append(this.root)}}])&&vh(t.prototype,n),r&&vh(t,r),e}();function bh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wh=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=null,this.$rootNode=null,this.$switch=null,this.config=t}var t,n,r;return t=e,(n=[{key:"renderTo",value:function(e){var t,n,r=this;return this.$rootNode=ru((t=this.config,n=!!t.checked,"function"==typeof t.getState&&(n=t.getState()),'\n    <div class="lake-embed-toolbar-item lake-embed-toolbar-dropdown-item lake-embed-toolbar-dropdown-switch" data-aspm-click="'.concat(t.name||"unknown",'" data-aspm-param="').concat(t.cardName||"unknown",'" accessbilityid="').concat(t.name,'">\n        <span class="text-content">').concat(pl(t.title||""),'</span>\n        <button type="button" role="switch" aria-checked="true" class="ant-switch ant-switch-small ').concat(n?"ant-switch-checked":"",'"><div class="ant-switch-handle"></div><span class="ant-switch-inner"></span></button>\n    </div>\n  '))),this.$switch=this.$rootNode.find(".ant-switch"),e.append(this.$rootNode),this.$rootNode.on("mousedown",(function(e){e.preventDefault()})),this.$rootNode.on("click",(function(e){e.stopPropagation(),r.config.onClick&&(r.config.onClick(),r.updateSwitch())})),this}},{key:"updateSwitch",value:function(){"function"==typeof this.config.getState&&(this.config.getState()?this.$switch.addClass("ant-switch-checked"):this.$switch.removeClass("ant-switch-checked"))}}])&&bh(t.prototype,n),r&&bh(t,r),e}();function kh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xh=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=null,this.$rootNode=null,this.config=t}var t,n,r;return t=e,(n=[{key:"renderTo",value:function(e){var t,n=this;return this.$rootNode=ru((t=this.config,'<div class="lake-embed-toolbar-item lake-embed-toolbar-dropdown-item lake-embed-toolbar-dropdown-btn" accessbilityid="'.concat(t.name,'" data-aspm-click="').concat(t.name||"unknown",'" data-aspm-param="').concat(t.cardName||"unknown",'">\n    <span class="lake-embed-toolbar-btn-text">').concat(pl(t.title),"</span>\n  </div>"))),e.append(this.$rootNode),this.config.onClick&&this.$rootNode.on("click",(function(){n.config.onClick()})),this}}])&&kh(t.prototype,n),r&&kh(t,r),e}();function Oh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ch=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$rootNode=null,this.$dropdown=null,this.documentMouseDown=function(e){n.$rootNode[0].contains(e.target)||n.$dropdown.hasClass("show")&&n.hideDropdown()},this.config=t}var t,n,r;return t=e,(n=[{key:"render",value:function(e){var t,n;this.$rootNode=ru((t=this.config,n="lake-embed-toolbar-btn lake-embed-toolbar-dropdown-btn ".concat(t.text?"with-text":""),'\n  <span class="lake-embed-toolbar-item lake-embed-toolbar-dropdown">\n    <a class="'.concat(n,'" data-aspm-click="').concat(t.name||"unknown",'" data-aspm-param="').concat(t.cardName||"unknown",'">\n      <span class="lake-icon lake-icon-').concat(pl(t.iconName),'"></span>\n      ').concat(t.text?'<span class="lake-embed-toolbar-btn-text">'.concat(pl(t.text),"</span>"):"",'\n    </a>\n    <div class="dropdown-container"></div>\n  </span>\n  '))),e.append(this.$rootNode),this.initToggleEvent(),this.renderTooltip(),this.renderDropdown(e)}},{key:"destroy",value:function(){document.removeEventListener("mousedown",this.documentMouseDown,!0)}},{key:"initToggleEvent",value:function(){var e=this,t=this.$rootNode.find(".lake-embed-toolbar-dropdown-btn");t.on("mousedown",(function(e){e.preventDefault(),e.stopPropagation()})),t.on("click",(function(t){t.stopPropagation(),e.toggleDropdown()})),document.addEventListener("mousedown",this.documentMouseDown,!0)}},{key:"renderTooltip",value:function(){var e=this,t=this.config;if(t.title){var n=this.$rootNode;n.on("mouseenter",(function(){dh.show(e.$rootNode,t.title)})),n.on("mouseleave",(function(){dh.hide()})),n.on("mousedown",(function(){dh.hide()}))}}},{key:"renderDropdown",value:function(e){var t=this,n=this.config;this.$dropdown=e.find(".dropdown-container"),n.items.forEach((function(e){switch(e.type){case"switch":return new wh(e).renderTo(t.$dropdown);case"button":default:return new xh(e).renderTo(t.$dropdown)}})),this.$dropdown.on("click",(function(e){e.stopPropagation(),t.hideDropdown()}))}},{key:"toggleDropdown",value:function(){this.$dropdown.hasClass("show")?this.hideDropdown():this.showDropdown()}},{key:"showDropdown",value:function(){this.$dropdown.addClass("show")}},{key:"hideDropdown",value:function(){this.$dropdown.removeClass("show")}}])&&Oh(t.prototype,n),r&&Oh(t,r),e}();function _h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Eh=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[],this.addItems=function(e){n.config.list.forEach((function(t){var r=null;"button"===t.type&&(r=new mh(t)).render(e),"url"===t.type&&(r=new gh(t)).render(e),"dropdown"===t.type&&(r=new Ch(t)).render(e),"node"===t.type&&(r=t.node,e.append(r)),r&&n.items.push(r)}))},this.setPosition=function(){var e=n.config.range;if(e){var t=e.getBoundingClientRect(),r=Math.round(window.pageXOffset+t.left),o=Math.round(window.pageYOffset+t.top+t.height)+5,i=n.root[0].clientWidth,a=document.body.clientWidth;r+i>a-10&&(r=a-i-10),n.root.css({left:r+"px",top:o+"px"})}},this.config=t,this.root=ru('<div class="lake-embed-toolbar lake-embed-toolbar-active" contenteditable="false"></div>'),this.image=this.find("image")}var t,n,r;return t=e,(n=[{key:"find",value:function(e){var t="[data-role=".concat(e,"]");return this.root.find(t)}},{key:"destroy",value:function(){this.root.remove(),this.items.forEach((function(e){e.destroy&&e.destroy()}))}},{key:"hide",value:function(){this.root.removeClass("lake-embed-toolbar-active")}},{key:"show",value:function(){this.root.addClass("lake-embed-toolbar-active"),this.config&&this.config.automaticPositioning&&this._autoPositioning()}},{key:"_autoPositioning",value:function(){if(this.config.scrollNode){var e=this.root.closest("[data-lake-card]");if(e&&e.length){var t=e.getBoundingClientRect(),n=this.config.scrollNode.getBoundingClientRect(),r=this.root[0].getBoundingClientRect(),o=Math.min(n.bottom,window.innerHeight||n.bottom);t.top-10-r.height<=n.top&&t.bottom+10+r.height<=o?this.root.css({top:"100%",marginTop:"10px"}):this.root.css({top:"",marginTop:""})}}}},{key:"render",value:function(e){e.find(".lake-embed-toolbar").remove();var t=this.config,n=ru('<div class="lake-embed-toolbar-group" data-aspm="card-toolbar"></div>');this.root.append(n),this.addItems(n),e.append(this.root),this.setPosition(),"inline"===t.type?this.root.addClass("lake-embed-toolbar-inline"):this.root.addClass("lake-embed-toolbar-block"),["center","right"].indexOf(t.align)>=0&&this.root.addClass("lake-embed-toolbar-".concat(t.align)),this.root.on("click",(function(e){e.preventDefault(),e.stopPropagation()}))}}])&&_h(t.prototype,n),r&&_h(t,r),e}();Eh.Button=mh,Eh.InputUrl=gh;var jh=Eh,Sh=n(76),Ph=["p","br",{img:{src:"@url",width:"@number",height:"@number",style:{width:"@length",height:"@length"}}},{a:{href:"@url",target:["_blank","_parent","_top"]}}],Rh=[["b","strong"],[{span:{style:{"font-weight":["bold","700"]}}},"strong"],["i","em"],[{span:{style:{"font-style":"italic"}}},"em"],[{span:{style:{"text-decoration":"underline"}}},"u"],["s","del"],["strike","del"],[{span:{style:{"text-decoration":"line-through"}}},"del"],["th","td"]];function Th(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Dh=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=Rh}var t,n,r;return t=e,(n=[{key:"getValue",value:function(){return this.data}},{key:"clone",value:function(){var t=gd()(this.data),n=new e;return n.data=t,n}}])&&Th(t.prototype,n),r&&Th(t,r),e}();function Ah(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mh=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.change=t,this.engine=t.engine,this.doc=this.change.doc,this.data={}}var t,n,r;return t=e,(n=[{key:"add",value:function(e,t){this.data[e]=t}},{key:"queryEnabled",value:function(e){return!!this.data[e]}}])&&Ah(t.prototype,n),r&&Ah(t,r),e}();function Nh(e){for(e=ru(e);e;){if(e.isRoot())return;if(e.attr(Gs))return e;e=e.parent()}}["queryState","execute"].forEach((function(e){Mh.prototype[e]=function(){var t=Array.prototype.slice.call(arguments),n=t[0];if(n&&this.data[n]&&this.data[n][e]){t.shift();var r=t.slice(1);"execute"===e&&(this.change.cacheRangeBeforeCommand(),this.engine.event.trigger("beforeCommandExecute",n,r));try{var o=this.data[n][e].apply(this,t);return"execute"===e&&(this.change.combinTextNode(),this.change.onSelect(),this.engine.event.trigger("afterCommandExecute",n,r)),o}catch(e){console.log(e)}}}}));var Ih=n(18),Lh=n.n(Ih);function Fh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bh(e,t,n){return t&&zh(e.prototype,t),n&&zh(e,n),e}function Vh(e){return e.engine||e.contentView}function qh(e){return!!(e&&(e.engine||e.contentView)&&e.cardRoot&&e.cardRoot[0]&&e.cardRoot[0].parentNode)}var Hh=function(){function e(t,n,r){var o,i=this;Fh(this,e),this.cardManager=null,this.record=null,this.engineContentView=null,this.screenHeight=0,this._disabled=!1,this.engineContentView=t,this.cardManager=n,this.record=r,this.screenHeight=(window.screen&&(o=window.screen.height),"number"==typeof o?o:Math.max(document.documentElement.clientHeight,document.body.clientHeight));var a=this.tryRender;this.tryRender=Un()((function(){a.call(i)}),32)}return Bh(e,[{key:"start",value:function(){var e=this;this.render(),requestAnimationFrame((function(){var t=e.engineContentView,n=t.getScrollNode,r=t.scrollNode,o=t.editArea,i=r||(n?n(o[0]):document.body),a=Un()((function(){e.render()}),32);ru(i).on("scroll",a,{passive:!0}),e.cancelListenHandler=function(){ru(i).off("scroll",a,{passive:!0})},e.render()}))}},{key:"disable",value:function(){this._disabled||(this._disabled=!0,this.cancelListenHandler&&this.cancelListenHandler(),this._forceRender())}},{key:"isDisabled",value:function(){return this._disabled}},{key:"render",value:function(){for(var e=this.record.queue;e[this.record.index];){var t=this.record.index,n=e[t],r=n.cardRoot;if(this.isOutOfScreen(r,2))return!0;this.record.index++,qh(n)&&this.eat(n,t)}return!1}},{key:"tryRender",value:function(){this.render()}},{key:"_forceRender",value:function(){for(var e=this.record.queue;e[this.record.index];){var t=this.record.index,n=e[t];this.record.index++,qh(n)&&this.eat(n,t)}}},{key:"isOutOfScreen",value:function(e,t){if(!e||!e[0])return!1;var n=e.getBoundingClientRect().top;if(n<this.screenHeight*t)return!1;var r=window.location.hash;if(!r)return!0;try{var o=ru('[id="'.concat(r.substring(1),'"]'))[0];return!o||n>o.getBoundingClientRect().bottom}catch(e){return console.warn(e),!0}}},{key:"eat",value:function(e,t){var n=this.record.operations[t],r=Vh(e);n&&r&&(this.cardManager.render(e.container,e),n.inserted&&e.didInsert&&e.didInsert(e.value),n.updated&&e.didUpdate&&e.didUpdate(e.value))}}]),e}(),Uh=function(){function e(t){Fh(this,e),this.cardManager=null,this.rootNode=null,this.consumer=null,this.refs=new WeakMap,this.cardManager=t}return Bh(e,[{key:"insert",value:function(e,t){if(!this.allowDeferredRendering(t))return this.cardManager.render(t.container,t),void(t.didInsert&&t.didInsert(t.value));qh(t)&&this.recordComponentOperation(t,"inserted")}},{key:"update",value:function(e,t){if(!this.allowDeferredRendering(t))return this.cardManager.render(e,t),void(t.didUpdate&&t.didUpdate(t.value));qh(t)&&this.recordComponentOperation(t,"updated")}},{key:"run",value:function(e){if(e){var t=this.getRecord(e);t.running||0===t.queue.length||(t.running=!0,t.consumer=new Hh(e,this.cardManager,t),t.consumer.start())}}},{key:"disable",value:function(e){if(e){var t=this.getRecord(e);t.consumer&&t.consumer.disable()}}},{key:"allowDeferredRendering",value:function(e){var t=Vh(e);if(!t)return!1;if(!t.isDeferredRendering()||!this._allowCard(e.name))return!1;var n=this.getRecord(t);return!n.running||!n.consumer.isDisabled()}},{key:"getRecord",value:function(e){return this.refs.has(e)||this.refs.set(e,{running:!1,queue:[],rootNodes:[],operations:{},index:0}),this.refs.get(e)}},{key:"recordComponentOperation",value:function(e,t){var n=Vh(e),r=this.getRecord(n),o=r.rootNodes.indexOf(e.cardRoot[0]);-1===o?(r.rootNodes.push(e.cardRoot[0]),o=r.rootNodes.length-1,r.queue.push(e),r.operations[o]={}):(r.queue[o]=e,r.operations[o]={}),r.operations[o][t]=!0,r.running&&r.consumer.tryRender()}},{key:"_allowCard",value:function(e){var t=Lh()(window,"appData.settings.enable_lazyload_card","").split(",");return!t.length&&fe.desktop&&(t=["codeblock","image","table"]),-1!==t.indexOf(e)}}]),e}();function Wh(e){return(Wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yh=window.location.search.indexOf("view=doc_embed")>0;function Xh(e){return ru(e)[0].getAttribute("data-lake-card")||"unknown"}var $h=!0;function Gh(e,t,n,r,o){var i=this;if("separator"===e.type)return{type:"node",node:ru('<span class="lake-embed-toolbar-item-split"></span>')};var a=Xh(r);return"copy"===e.type?{type:"button",name:"copy",cardName:a,iconName:"copy",title:o.copy.tips,onClick:function(){Tp(r,t.event)?t.messageSuccess(o.copy.success):t.messageError(o.copy.error)}}:"delete"===e.type?{type:"button",cardName:a,name:"delete",iconName:"delete",title:e.title||t.lang.delete.tips,onClick:function(){t.change.removeCard(r)}}:"maximize"===e.type?{type:"button",cardName:a,name:"maximize",iconName:"maximize",title:t.lang.maximize.tips,onClick:function(){i.maximize({cardRoot:r,engine:t,contentView:n})}}:"collapse"===e.type?{type:"button",cardName:a,name:"collapse",iconName:"compact-display",title:t.lang.collapse.tips,onClick:function(){i.collapse({cardRoot:r,engine:t,contentView:n})}}:"expand"===e.type?{type:"button",name:"expand",cardName:a,iconName:"embedded-preview",title:t.lang.expand.tips,onClick:function(){i.expand({cardRoot:r,engine:t,contentView:n})}}:"preferences"===e.type?{type:"button",name:"preferences",cardName:a,iconName:"preferences",title:t.lang.preferences.tips,onClick:function(){e.onClick&&e.onClick()}}:"download"===e.type?{type:"button",name:"download",cardName:a,iconName:"download",title:t.lang.download.tips,onClick:function(){e.onClick&&e.onClick()}}:"copyCardLink"===e.type?{type:"button",name:"copyCardLink",cardName:a,iconName:"link",title:t.lang.copyCardLink.tips,onClick:function(){e.onClick&&e.onClick()}}:"gotolink"===e.type?{type:"button",name:"gotolink",cardName:a,iconName:"gotolink",title:e.title||t.lang.gotoLink.tips,link:e.link,onClick:e.onClick}:"preview"===e.type?{type:"button",name:"preview",cardName:a,iconName:"preview",title:t.lang.preview.tips,onClick:function(){e.onClick&&e.onClick()}}:"doc-title"===e.type?{type:"button",name:"docTitle",cardName:a,iconName:"doc-title",title:e.title||t.lang.docTitle.tips,text:e.text,onClick:function(){e.onClick&&e.onClick()}}:"doc-card"===e.type?{type:"button",name:"docCard",cardName:a,iconName:"doc-card",title:t.lang.docCard.tips,onClick:function(){e.onClick&&e.onClick()}}:"doc-embed"===e.type?{type:"button",name:"docEmbed",cardName:a,iconName:"doc-embed",title:t.lang.docEmbed.tips,onClick:function(){e.onClick&&e.onClick()}}:"more"===e.type?{type:"dropdown",name:"more",cardName:a,iconName:"more",title:e.title||o.more.tips,items:e.items.map((function(e){return Gh.call(i,e,t,n,r,o)}))}:"height-mode-default"===e.type?{type:"button",name:"heightModeDefault",cardName:a,iconName:"height-mode-default",title:t.lang.heightMode.default,disabled:e.disabled,onClick:function(){e.onClick&&e.onClick()}}:"height-mode-adaptive"===e.type?{type:"button",name:"heightModeAdaptive",cardName:a,iconName:"height-mode-adaptive",title:t.lang.heightMode.adaptive,disabled:e.disabled,onClick:function(){e.onClick&&e.onClick()}}:(e.cardName=a,e)}var Zh=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.componentClasses={},this.components=[],this.idCache={},this.renderController=new Uh(this)}var t,n,r;return t=e,(n=[{key:"openId",value:function(e){$h=e}},{key:"getLang",value:function(e){var t=e.engine,n=e.contentView;return t&&t.lang||n&&n.lang}},{key:"getEditArea",value:function(e){var t=e.engine,n=e.contentView;return t&&t.editArea||n&&n.editArea}},{key:"add",value:function(e,t){this.componentClasses[e]=t}},{key:"getId",value:function(e,t){var n=this.idCache;for(e||(e=sl());n[e]&&n[e].component!==t;)e=sl();return e}},{key:"setId",value:function(e){var t=e.value;if(t&&"object"===Wh(t)){var n=this.getId(t.id,e),r=this.idCache;t.id=n,r[n]={component:e}}}},{key:"create",value:function(e){var t=e.component,n=e.engine,r=e.contentView,o=e.cardRoot,i=t.type,a=t.name,c=t.value,s=t.container,l=t.state.readonly,u=void 0===t.hasFocus?!l:t.hasFocus;if(["inline","block"].indexOf(i)<0)throw"".concat(a,': the type of card must be "inline", "block"');var f="inline"===i?"span":"div";o?o.empty():o=ru("<".concat(f," />")),this.components.push({node:o,component:t}),o.attr(Js,i),o.attr(Gs,a),u?s.attr("contenteditable","false"):o.attr("contenteditable","false"),this.setValue(o,c);var p=ru("<".concat(f," ").concat(tl,'="body" />'));if(u){var d=ru("<span ".concat(tl,'="left">&#8203;</span>')),h=ru("<span ".concat(tl,'="right">&#8203;</span>'));p.append(d),p.append(s),p.append(h)}else p.append(s);return o.append(p),t.embedToolbar&&this.setToolbar({cardRoot:o,component:t,engine:n,contentView:r}),t.cardRoot=o,o}},{key:"showToolbar",value:function(e,t){this.find(e,".lake-card-dnd").addClass("lake-card-dnd-active"),t?this.showCardToolbar(e,t.clientX):this.showCardToolbar(e)}},{key:"getComponentsByName",value:function(e){return this.gc(),this.components.filter((function(t){return t.component.name===e})).map((function(e){return e.component}))}},{key:"getCardRootByName",value:function(e){return this.components.filter((function(t){return t.component.name===e})).map((function(e){return e.node[0]}))}},{key:"showCardToolbar",value:function(e,t){var n=ru(e),r=this.find(e,".lake-card-toolbar");if(r.length&&(r[0].style.left="0px",n.addClass("lake-card-embed-toolbar-active"),r[0]._toolbar&&r[0]._toolbar.show(),r.addClass("lake-embed-toolbar-active"),0===t||t)){var o=r[0].firstChild;if(o){var i=n[0].getBoundingClientRect();if(!(t<i.left||t>i.right)){var a=o.getBoundingClientRect(),c=i.width-a.width;if(!(c<=0)){var s=t-i.left-a.width/2;r[0].style.left=Math.max(Math.min(s,c),0)+"px"}}}}}},{key:"hideToolbar",value:function(e){this.find(e,".lake-card-dnd").removeClass("lake-card-dnd-active"),this.hideCardToolbar(e)}},{key:"hideCardToolbar",value:function(e){this.find(e,".lake-card-toolbar").removeClass("lake-embed-toolbar-active"),e.removeClass("lake-card-embed-toolbar-active")}},{key:"setToolbar",value:function(e){var t=this,n=e.cardRoot,r=e.component,o=e.engine,i=e.contentView,a=r.embedToolbar();if(Array.isArray(a)){var c=n.first(),s=this.getLang({engine:o,contentView:i}),l=this.getEditArea({engine:o,contentView:i});if(o){if(a.find((function(e){return"dnd"===e.type}))){var u=ru(function(e){var t=Xh(e);return'\n    <div class="lake-card-dnd" draggable="true" contenteditable="false">\n      <div class="lake-card-dnd-trigger" data-aspm-click="dnd" data-aspm-param="'.concat(t,'">\n        <span class="lake-icon lake-icon-drag"></span>\n      </div>\n    </div>\n  ')}(n));u.on("mouseenter",(function(){dh.show(u,s.dnd.tips)})),u.on("mouseleave",(function(){dh.hide()})),u.on("mousedown",(function(e){e.stopPropagation(),dh.hide(),t.hideCardToolbar(n)})),u.on("mouseup",(function(){t.showCardToolbar(n)})),c.append(u),a=a.filter((function(e){return"dnd"!==e.type}))}if((a=a.map((function(e){return Gh.call(t,e,o,i,n,s)}))).length){var f=new jh({scrollNode:o?Lh()(o,"options.scrollNode"):null,automaticPositioning:Lh()(o,"options.automaticPositioning"),list:a});f.root.addClass("lake-card-toolbar"),f.root[0]._toolbar=f,f.render(c),f.hide(),r&&(r.embedToolbarInstance=f)}}else{if(Yh||!l||0!==l.closest(nl).length)return;var p=["maximize","copyContent","download","copyCardLink","button"],d=a.filter((function(e){return-1!==p.indexOf(e.type)})).map((function(e){var r=e.type;if("button"===r)return e;var a={type:"button",name:r,iconName:r,title:e.tips||s[e.type].tips,onClick:function(){e.onClick?e.onClick():t[r]&&(t[r]({cardRoot:n,engine:o,contentView:i}),t.hideCardToolbar(n))}};return"copyCardLink"===r&&(a.iconName="link"),a}));if(d&&d.length>0){var h=new jh({automaticPositioning:Lh()(o,"options.automaticPositioning"),list:d});h.root.addClass("lake-card-toolbar"),h.root[0]._toolbar=h,h.render(c),fe.mobile?n.on("mousedown",(function(){h.show()})):n.on("mouseenter",(function(){h.show()})),n.on("mouseleave",(function(){h.hide()})),h.hide()}}}}},{key:"updateToolbar",value:function(e){this.setToolbar({cardRoot:e.cardRoot,component:e,engine:e.engine,contentView:e.contentView})}},{key:"copyContent",value:function(e){var t=e.cardRoot,n=this.getComponent(t);n.copyContent&&n.copyContent()}},{key:"getOptions",value:function(e){var t=e.engine,n=e.contentView;return t?t.options:n?n.options:void 0}},{key:"collapse",value:function(e){var t=e.cardRoot,n=this.getComponent(t);!1===n.state.collapsed&&(n.state.collapsed=!0,n.collapse&&n.collapse())}},{key:"expand",value:function(e){var t=e.cardRoot,n=this.getComponent(t);!0===n.state.collapsed&&(n.state.collapsed=!1,n.expand&&n.expand())}},{key:"defalutMaximize",value:function(e){var t,n,r=this,o=e.cardRoot,i=e.engine,a=e.contentView,c=this.getLang({engine:i,contentView:a}),s=this.getComponent(o),l=this.findByKey(o,"body"),u=ru((t=c.maximize,n=t.back,'\n    <div class="header clearfix" data-transient="true">\n      <div class="header-crumb header-crumb-sm">\n        <a class="split">\n          <span class="lake-icon lake-icon-arrow-left"></span>\n        </a>\n        <a>'.concat(n,"</a>\n      </div>\n    </div>\n  "))),f=u.find(".header-crumb");u.on("click",(function(e){return e.stopPropagation()})),o.addClass("lake-card-block-max"),f.on("click",(function(){r.restore({cardRoot:o,engine:i,contentView:a})})),l.prepend(u),i&&(this.findByKey(o,"center").addClass("edit"),i.event.trigger("maximizecard"),i.history.reset()),s.maximize&&s.maximize()}},{key:"maximize",value:function(e){var t=this,n=e.cardRoot,r=e.engine,o=e.contentView,i=this.getComponent(n),a=this.getOptions({engine:r,contentView:o}).customMaximize,c=function(){t.defalutMaximize({cardRoot:n,engine:r,contentView:o})};i.state.maximize=!0,a&&"function"==typeof a?a({cardRoot:n,engine:r,contentView:o,defalutMaximize:c}):c()}},{key:"defalutRestore",value:function(e){var t=e.cardRoot,n=e.engine,r=this.getComponent(t);t.removeClass("lake-card-block-max"),t.find(".header").remove(),r.state.maximize=!1,r.restore&&r.restore(),n&&(this.findByKey(t,"center").removeClass("edit"),n.event.trigger("restorecard"),n.history.reset())}},{key:"restore",value:function(e){var t=this,n=e.cardRoot,r=e.engine,o=e.contentView,i=this.getOptions({engine:r,contentView:o}).customMaximizeRestore,a=function(){t.defalutRestore({cardRoot:n,engine:r,contentView:o})};i&&"function"==typeof i?i({cardRoot:n,engine:r,contentView:o,defalutRestore:a}):a()}},{key:"closest",value:function(e){return Nh(e)}},{key:"getBlockCardRoot",value:function(e){if(e=ru(e),!ru(e)[0])return null;var t=e[0].parentNode;if(!t)return null;var n=this.closest(t);return n?this.isBlock(n)?n:this.getBlockCardRoot(n):null}},{key:"isInline",value:function(e){return!(!e||0===e.length)&&"inline"===e.attr(Js)}},{key:"isBlock",value:function(e){return!(!e||0===e.length)&&"block"===e.attr(Js)}},{key:"getName",value:function(e){return e&&0!==e.length&&e.attr(Gs)||""}},{key:"getCenter",value:function(e){return e.find(il)}},{key:"isCenter",value:function(e){return"center"===e.attr(tl)}},{key:"isCursor",value:function(e){return this.isLeftCursor(e)||this.isRightCursor(e)}},{key:"isLeftCursor",value:function(e){return ru(e).closest(ol).length>0}},{key:"isRightCursor",value:function(e){return ru(e).closest(al).length>0}},{key:"getComponent",value:function(e){var t=this.components.filter((function(t){return t.node[0]===e[0]}));if(0!==t.length)return t[0].component}},{key:"removeComponent",value:function(e){var t=this;this.components.forEach((function(n,r){if(n.node[0]===e[0])return t.components.splice(r,1),!1}))}},{key:"find",value:function(e,t){var n=this,r=e.find(t),o=[];return r.each((function(t){var r=n.closest(t);r&&r[0]===e[0]&&o.push(t)})),ru(o)}},{key:"findByKey",value:function(e,t){return this.find(e,"[".concat(tl,"=").concat(t,"]"))}},{key:"getSingleCardRoot",value:function(e){var t=this.closest(e.commonAncestorContainer);return t||(t=this.getSingleSelectedCard(e))||null}},{key:"getSingleSelectedCard",value:function(e){var t=sf(e),n=t[0];return!(1!==t.length||!n||!(n=ru(n)).isCard())&&n}},{key:"focus",value:function(e,t,n){var r=this.findByKey(t,"left"),o=this.findByKey(t,"right");0!==r.length&&0!==o.length&&(e.selectNodeContents(n?r[0]:o[0]),e.collapse(!1))}},{key:"setValue",value:function(e,t){if(null!=t){var n=this.getComponent(e);if(n){var r=n.constructor,o=n.value;"object"===Wh(o)&&o.id&&(t.id=o.id),r.uid&&$h&&this.setId(n),n.value=t}t=xl(t),e.attr(el,t)}}},{key:"getValue",value:function(e){var t=e.attr(el);if(t)return t=Ol(t)}},{key:"focusPrevBlock",value:function(e,t,n){var r;if("inline"===t.attr(Js)){var o=hf(t);r=o.isRoot()?t.prevElement():o.prevElement()}else r=t.prevElement();if(n){if(!r||r.attr(Gs)){var i=ru("<p><br /></p>");return t.before(i),e.selectNodeContents(i[0]),void e.collapse(!1)}}else{if(!r)return;if(r.attr(Gs))return void this.focus(e,r,!1)}e.selectNodeContents(r[0]),Xu(e),e.collapse(!1)}},{key:"focusNextBlock",value:function(e,t,n){var r;if("inline"===t.attr(Js)){var o=hf(t);r=o.isRoot()?t.nextElement():o.nextElement()}else r=t.nextElement();if(n){if(!r||r.attr(Gs)){var i=ru("<p><br /></p>");return t.after(i),e.selectNodeContents(i[0]),void e.collapse(!1)}}else{if(!r)return;if(r.attr(Gs))return void this.focus(e,r,!1)}e.selectNodeContents(r[0]),Xu(e),e.collapse(!0)}},{key:"insertNode",value:function(e,t,n){var r="inline"===t.type;e.collapsed||Nf(e),this.gc();var o=this.create({component:t,engine:n});return r?eh(e,o):rh(e,o),this.focus(e,o),["ol","ul","blockquote"].indexOf(o.parent().name)>=0&&ih(e,o.parent()),this.renderController.insert(t.container,t),o}},{key:"removeNode",value:function(e,t){var n=this.getComponent(e);n&&(this.destroyComponent(n),"block"===n.type&&t&&t.readonly(!1),this.removeComponent(e),e.remove())}},{key:"destroyComponent",value:function(e){e.destroy&&e.destroy(),e.embedToolbarInstance&&e.embedToolbarInstance.destroy();var t=e.value;if(t&&"object"===Wh(t)){var n=t.id,r=this.idCache;n&&r[n]&&delete r[n]}}},{key:"updateNode",value:function(e,t){var n=t.value;this.destroyComponent(t),this.findByKey(e,"center").empty(),this.setValue(e,n),this.renderController.update(t.container,t)}},{key:"replaceNode",value:function(e,t,n){var r=this.componentClasses[t].type,o=ru(bl('<card type="'.concat(r,'" name="').concat(t,'"></card>')));this.setValue(o,n),e.before(o),o.append(e)}},{key:"gc",value:function(){for(var e=0;e<this.components.length;e++){var t=this.components[e].node,n=this.components[e].component;t[0]&&t.closest("body").length>0||(this.destroyComponent(n),this.components.splice(e,1),e--)}}},{key:"render",value:function(e,t){try{var n=t.value,r=t.cardRoot;n&&"object"===Wh(n)&&n.id&&r.attr("id",n.id),t.render(e,t.value)}catch(e){console.error("render error: ",e)}}},{key:"createComponent",value:function(e){var t=this.componentClasses[e.name];return this._createComponentByClass(t,e)}},{key:"createFallbackComponent",value:function(e,t){var n=this.getFallbackClass(e);return this._createComponentByClass(n,t)}},{key:"_createComponentByClass",value:function(e,t){var n=t.name,r=t.engine,o=t.contentView,i=t.value;if("block"===e.type&&$h&&(e.uid=!0),e){var a=new e(r,o);a.engine=r,a.contentView=o,a.state={readonly:!r,collapsed:!1},a.type=e.type,a.name=n,a.value=i;var c=ru("inline"===a.type?"<span />":"<div />");return c.attr(tl,"center"),a.container=c,"function"==typeof a.init&&a.init(),a}return null}},{key:"reRenderAll",value:function(e,t,n){var r=this,o=(e=ru(e)).isCard()?e:e.find(nl);this.gc(),o.each((function(e){var o=ru(e),i=o.attr(Gs),a=r.componentClasses[i];if(a||fe.desktop){var c=r.getComponent(o);c&&r.destroyComponent(c),r.removeComponent(o);var s=r.getValue(o);c=a?r.createComponent({name:i,engine:t,contentView:n,value:s}):r.createFallbackComponent(o,{name:i,engine:t,contentView:n,value:s}),r.create({component:c,engine:t,cardRoot:o}),r.renderController.insert(c.container,c)}}))}},{key:"renderAll",value:function(e,t,n){var r=this,o=(e=ru(e)).find(rl);this.gc(),o.each((function(e){var o=(e=ru(e)).attr(Zs),i=r.componentClasses[o],a=r.getValue(e),c=null;if(i)c=r.createComponent({name:o,engine:t,contentView:n,value:a});else{if(!fe.desktop)return;c=r.createFallbackComponent(e,{name:o,engine:t,contentView:n,value:a})}var s=r.create({component:c,engine:t,contentView:n});e.replaceWith(s),r.renderController.insert(c.container,c)}))}},{key:"getFallbackClass",value:function(e){return"block"===e.attr(Js)?this.componentClasses.blockfallback:this.componentClasses.inlinefallback}}])&&Kh(t.prototype,n),r&&Kh(t,r),e}(),Jh=["undo","paste","drop","selectall"];function Qh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var em=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={}}var t,n,r;return t=e,(n=[{key:"add",value:function(e,t){var n=this;this.data[e]={},Object.keys(t).forEach((function(r){n.data[e][r]=t[r]}))}},{key:"execute",value:function(){var e=this,t=Array.prototype.slice.call(arguments),n=t.shift(),r=t.shift();Object.keys(this.data).forEach((function(o){if(!(Jh.indexOf(o)<0&&n.options.plugins&&n.options.plugins.indexOf(o)<0)&&!1!==n.options[o])return e.data[o][r]?(zu.log("".concat(r," ").concat(o," plugin")),e.data[o][r].apply(n,t)):void 0}))}},{key:"executePluginMethod",value:function(e,t,n){if(!1!==e.options[t]&&this.data[t]&&this.data[t][n]){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];return this.data[t][n].apply(e,o)}}}])&&Qh(t.prototype,n),r&&Qh(t,r),e}(),tm=n(29),nm=n.n(tm),rm=n(242),om=n.n(rm);function im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var am=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.change=t,this.engine=t.engine,this.reset(),this.lazySaveOp=nm()((function(){n.saveOp()}),200)}var t,n,r;return t=e,(n=[{key:"reset",value:function(){this.totalOps=[],this.actionOps=[],this.currentAction={},this.currentActionIndex=0}},{key:"hasUndo",value:function(){return!!this.getUndoOp()}},{key:"hasRedo",value:function(){return!!this.getRedoOp()}},{key:"undo",value:function(){this.saveOp();var e=this.getUndoOp();if(e){var t;this.engine.ot.stopMutation();try{this.engine.ot.submitOps(e.ops),this.engine.ot.applier.applySelfOperations(e.ops);var n=this.totalOps[this.totalOps.length-1];n&&n.uid===e.uid&&"undo"!==n.status?this.totalOps.pop():this.totalOps.push(e),this.currentActionIndex--,t=!0}catch(e){this.reset(),console.log(e)}this.engine.ot.startMutation(),t&&(this.engine.ot.applier.setRangeByPath(e.startRangePath),this.change.change())}}},{key:"redo",value:function(){this.saveOp();var e=this.getRedoOp();if(e){var t;this.engine.ot.stopMutation();try{this.engine.ot.submitOps(e.ops),this.engine.ot.applier.applySelfOperations(e.ops);var n=this.totalOps[this.totalOps.length-1];n&&n.uid===e.uid&&"undo"===n.status?this.totalOps.pop():this.totalOps.push(e),this.currentActionIndex++,t=!0}catch(e){this.reset(),console.log(e)}this.engine.ot.startMutation(),t&&(this.engine.ot.applier.setRangeByPath(e.rangePath),this.change.change())}}},{key:"hold",value:function(){var e=this;this.holded=!0,this.holdTimer&&clearTimeout(this.holdTimer),this.holdTimer=setTimeout((function(){e.release()}),10)}},{key:"release",value:function(){this.holded=!1}},{key:"clear",value:function(){var e=this;setTimeout((function(){e.reset()}),10)}},{key:"saveOp",value:function(){this.currentAction&&this.currentAction.ops&&this.currentAction.ops.length>0&&(this.totalOps.push(this.currentAction),this.currentAction.self&&(this.currentAction.rangePath=this.getCurrentRangePath(),this.currentAction.uid=sl(8),this.actionOps.splice(this.currentActionIndex),this.actionOps.push(this.currentAction),this.currentActionIndex=this.actionOps.length,this.change.change()),this.currentAction={})}},{key:"collectSelfOps",value:function(e){var t=this;this.currentAction.self||this.saveOp();var n=!1;e.forEach((function(e){if(!rd(e))if(n=!0,t.holded&&t.actionOps.length>0)t.actionOps[t.actionOps.length-1].ops.push(e);else{t.currentAction.self=!0,t.currentAction.ops||(t.currentAction.ops=[]),t.currentAction.startRangePath||(t.currentAction.startRangePath=t.getRangePathBeforeCommand());var r=t.currentAction.ops[t.currentAction.ops.length-1];r&&od(e,r)?t.currentAction.ops.pop():t.currentAction.ops.push(e)}})),n&&this.lazySaveOp()}},{key:"collectRemoteOps",value:function(e){var t=this;this.currentAction.self&&this.saveOp(),e.forEach((function(e){if(!rd(e)){t.currentAction.ops||(t.currentAction.ops=[]);var n=t.currentAction.ops[t.currentAction.ops.length-1];n&&od(e,n)?t.currentAction.ops.pop():t.currentAction.ops.push(e)}}))}},{key:"getUndoOp",value:function(){var e=this.currentActionIndex-1;if(this.actionOps[e]){var t=gd()(this.actionOps[e]),n=om()(this.totalOps,(function(e){return e.uid===t.uid}));-1!==n?t=this.totalOps[n]:n=e;var r=Hp.a.type.invert(t.ops),o=this.totalOps.slice(n+1);try{var i=ad(r,o);if(0===i.length)return;return{self:!0,ops:i,uid:t.uid,status:"undo",rangePath:sd(t.rangePath,o),startRangePath:sd(t.startRangePath,o)}}catch(e){console.log(e)}}}},{key:"getRedoOp",value:function(){var e=this.currentActionIndex;if(this.actionOps[e]){var t=gd()(this.actionOps[e]),n=om()(this.totalOps,(function(e){return e.uid===t.uid}));-1!==n?t=this.totalOps[n]:n=e;var r="undo"===t.status?Hp.a.type.invert(t.ops):t.ops,o=this.totalOps.slice(n+1);try{var i=ad(r,o);if(0===i.length)return;return{self:!0,ops:i,status:"redo",uid:t.uid,rangePath:sd(t.rangePath,o),startRangePath:sd(t.startRangePath,o)}}catch(e){console.log(e)}}}},{key:"getCurrentRangePath",value:function(){var e=this.engine.ot.selectionData.currentRangePath;return 0!==e.length?e:ed(this.engine.change.getRange())}},{key:"getRangePathBeforeCommand",value:function(){return this.engine.change.getRangePathBeforeCommand()||this.getCurrentRangePath()}}])&&im(t.prototype,n),r&&im(t,r),e}();function cm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sm=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"_getCurrentCardRoot",value:function(){return Nh(this.target)}},{key:"_getCaretRange",value:function(){var e=this.doc,t=this.x,n=this.y;if(e.caretRangeFromPoint&&e.caretRangeFromPoint(t,n))return e.caretRangeFromPoint(t,n);if(event.rangeParent){var r=e.createRange();return r.setStart(event.rangeParent,event.rangeOffset),r.collapse(!0),r}}},{key:"_getCardRoot",value:function(){return this.currentCardRoot?this.currentCardRoot:this.caretCardRoot}},{key:"parseEvent",value:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="move",this.rangeParent=e.rangeParent,this.rangeOffset=e.rangeOffset,this.x=e.clientX,this.y=e.clientY,this.target=e.target,this.doc=uu(e.target),this.currentCardRoot=this._getCurrentCardRoot(),this.caretRange=this._getCaretRange(),this.caretCardRoot=Nh(this.caretRange.commonAncestorContainer)}},{key:"getRange",value:function(){var e,t=this.caretRange,n=this.doc,r=this.x,o=this._getCardRoot();if(o){e=n.createRange();var i=o.getBoundingClientRect(),a=(i.left+i.right)/2;e.selectNode(o[0]),a<r?(e.collapse(!1),this.isCardLeftRange=!1):(e.collapse(!0),this.isCardLeftRange=!0)}return this.range=e||t,this.range}},{key:"getCursor",value:function(){var e=this.isCardLeftRange,t=this.range;if(this._getCardRoot()&&t){if(e){t.setEnd(t.commonAncestorContainer,t.endOffset+1);var n=t.getBoundingClientRect();return t.setEnd(t.commonAncestorContainer,t.endOffset-1),{x:n.left-2,y:n.top,height:n.bottom-n.top}}t.setStart(t.commonAncestorContainer,t.startOffset-1);var r=t.getBoundingClientRect();return t.setStart(t.commonAncestorContainer,t.startOffset+1),{x:r.right-2,y:r.top,height:r.bottom-r.top}}var o=this.range.getBoundingClientRect();return 0===o.height&&(o=this.range.startContainer.getBoundingClientRect()),{x:o.left,y:o.top,height:o.bottom-o.top}}}])&&cm(t.prototype,n),r&&cm(t,r),e}();function lm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var um=ke,fm=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=[],this.change=t,this.engine=t.engine,this.editArea=t.editArea,this.card=t.card,this.isComposing=!1,this.isSelecting=!1,this.dragoverHelper=new sm}var t,n,r;return t=e,(n=[{key:"isCardInput",value:function(e){for(var t=ru(e.target);t;){if(t.isRoot())return!1;if("center"===t.attr(tl))return!0;if(t.hasClass("lake-embed-toolbar"))return!0;t=t.parent()}return!1}},{key:"onInput",value:function(e){var t=this;this.editArea.on("compositionstart",(function(){t.engine&&t.engine.isReadonly||(zu.log(t.engine,"compositionstart"),t.isComposing=!0)})),this.editArea.on("compositionend",(function(){t.engine&&t.engine.isReadonly||(zu.log(t.engine,"compositionend"),t.isComposing=!1)})),this.editArea.on("input",(function(n){t.engine&&t.engine.isReadonly||t.isCardInput(n)||window.setTimeout((function(){!t.isComposing&&e(n)}),10)}))}},{key:"onSelect",value:function(e){var t=this;this.editArea.on("mousedown",(function(e){e.target.isConnected&&!t.isCardInput(e)&&(zu.log(t.engine,"mousedown: selection start"),t.isSelecting=!0)})),this.onDocument("mouseup",(function(n){t.isSelecting&&(zu.log(t.engine,"mouseup: selection end"),t.isSelecting=!1,window.setTimeout((function(){return e(n)}),10))})),this.editArea.on("keydown",(function(){var e=window.getSelection();e.rangeCount>0&&(t.keydownRange=e.getRangeAt(0))})),this.editArea.on("keyup",(function(n){if((!t.engine||!t.engine.isReadonly)&&!t.isCardInput(n)&&(um("left",n)||um("right",n)||um("up",n)||um("down",n)||"Meta"===n.key||um("shift+left",n)||um("shift+right",n)||um("shift+up",n)||um("shift+down",n)||um("ctrl+b",n)||um("ctrl+f",n)||um("ctrl+n",n)||um("ctrl+p",n)||um("ctrl+a",n)||um("ctrl+e",n)||um("home",n)||um("end",n))){var r=window.getSelection();if(r.rangeCount>0){var o=r.getRangeAt(0);if(t.keydownRange&&uf(o,t.keydownRange))return}if(t.isComposing)return;e(n)}}))}},{key:"onPaste",value:function(e){var t=this,n=!1;this.editArea.on("keydown",(function(e){t.engine&&t.engine.isReadonly||(um("mod",e)&&um("shift",e)&&um("v",e)||(n=!1),(um("mod+shift+v",e)||um("mod+alt+shift+v",e))&&(n=!0))})),this.editArea.on("paste",(function(r){if(!(t.engine&&t.engine.isReadonly||t.isCardInput(r))){r.preventDefault();var o=Dp(r);o.isPasteText=n,n=!1,e(o)}}))}},{key:"onDrop",value:function(e){var t=this;if(!this.engine||!this.engine.isSub()){var n,r,o,i=function(){ru("body > div.lake-drop-cursor").remove()},a=function(){i();var e=ru('<div class="lake-drop-cursor" />');ru(document.body).append(e)};this.editArea.on("dragstart",(function(e){a(),(n=t.card.closest(e.target))&&(zu.log("drag card"),t.card.hideCardToolbar(n),(r=n.find("img.lake-drag-image")).length>0?r=r.clone():(r=ru('<div class="lake-drag-image" />')).css({width:n[0].clientWidth+"px",height:n[0].clientHeight+"px"}),r.css({position:"absolute",top:"-10000px",right:"-10000px"}),ru(document.body).append(r),e.dataTransfer.setDragImage(r[0],0,0))})),this.editArea.on("dragover",(function(e){var n=t.dragoverHelper,r=ru("body > div.lake-drop-cursor");if(0!==r.length){n.parseEvent(e),o=n.getRange();var i=n.getCursor();r.css({height:i.height+"px",top:Math.round(window.pageYOffset+i.y)+"px",left:Math.round(window.pageXOffset+i.x)+"px"})}else a()})),this.editArea.on("dragleave",(function(){i()})),this.editArea.on("dragend",(function(){i(),r&&(r.remove(),r=void 0)})),this.editArea.on("drop",(function(a){a.preventDefault(),n&&t.card.showCardToolbar(n),i(),r&&(r.remove(),r=void 0);var c=a.dataTransfer,s=[];try{c.items&&c.items.length>0?s=Array.from(c.items).map((function(e){return"file"===e.kind?e.getAsFile():null})).filter((function(e){return e})):c.files&&c.files.length>0&&(s=Array.from(c.files))}catch(e){c.files&&c.files.length>0&&(s=Array.from(c.files))}e({e:a,dropRange:o,cardRoot:n,files:s}),n=void 0}))}}},{key:"onDocument",value:function(e,t,n){n=void 0!==n&&n,document.addEventListener(e,t,n),this.data.push({type:"document",eventType:e,listener:t,useCapture:n})}},{key:"onWindow",value:function(e,t,n){n=void 0!==n&&n,window.addEventListener(e,t,n),this.data.push({type:"window",eventType:e,listener:t,useCapture:n})}},{key:"destroy",value:function(){this.data.forEach((function(e){"window"===e.type&&window.removeEventListener(e.eventType,e.listener,e.useCapture),"document"===e.type&&document.removeEventListener(e.eventType,e.listener,e.useCapture)}))}}])&&lm(t.prototype,n),r&&lm(t,r),e}(),pm="tasklist",dm={orderedlist:"ol",unorderedlist:"ul",tasklist:"ul"};function hm(e){e=ru(e);var t=ru("<span />");e.prepend(t),this.card.replaceNode(t,"checkbox",!1)}function mm(e){if(e.collapsed){var t=ru(e.startContainer).closest("ul");if(!yp(t))return;vm(t[0])}else{var n=ru(e.startContainer).closest("ul"),r=ru(e.startContainer).closest("ul");if(!yp(n)&&!yp(r))return;vm(n[0]),n[0]!==r[0]&&vm(r[0])}}function vm(e){ru(e).find("ul>li").each((function(e){for(var t=e.lastChild;t;){var n=ru(t);if(Nu.isCheckbox(n))return void ru(e).append("<br />");if(t.nodeType===Node.TEXT_NODE){if(""!==t.textContent)return;t=t.previousSibling}else if(t.nodeType===Node.ELEMENT_NODE){if(!n.isMark()||""!==t.textContent)return;t=t.previousSibling}else t=t.previousSibling}}))}function ym(e){var t=this.change.getRange();Xu(t);var n=lp.getClosestBlock(t.startContainer),r=lp.getClosestBlock(t.endContainer);if("li"===n.name||"li"===r.name){if(!t.collapsed){var o=n.name!==r.name;gm.call(this,e,o),t=this.change.getRange()}if(e.preventDefault(),Sp(t)&&jp(t)){var i=vp(lp.getActiveBlocks(t));this.command.execute("tasklist",i)}else{var a=yp(n);this.change.splitBlock();var c=$u(t=this.change.getRange()),s=lp.getClosestBlock(t.endContainer),l=s.prev(),u=s.next();Ep.call(this,l,a),Ep.call(this,s,a),Ep.call(this,u,a),Gu(t,c),t.collapse(!1),this.change.select(t),this.change.mergeAdjacentList(),a&&mm(this.change.getRange())}return tf(t),!1}}function gm(e,t){var n=this.change.getRange();if(n.collapsed){if("li"===lp.getClosestBlock(n.startContainer).name&&jp(n)){if(e.preventDefault(),this.command.queryState("indent"))return this.command.execute("outdent"),!1;var r=vp(lp.getActiveBlocks(n));if(r)return this.command.execute("tasklist",r),!1}}else{var o=lp.getClosestBlock(n.startContainer),i=lp.getClosestBlock(n.endContainer);if("li"===o.name||"li"===i.name){e.preventDefault();var a=n.cloneRange();return this.change.deleteContent(t),Ep(o),Ep(i),n.setStart(a.startContainer,a.startOffset),n.collapse(!0),this.change.mergeAdjacentList(),this.change.select(n),!1}}}function bm(e){var t=this.change.getRange();if(t.collapsed&&jp(t))return e.preventDefault(),this.command.execute("indent"),!1}var wm={initialize:function(){var e,t=this;this.schema.add([{ul:{class:["lake-list"]}},{li:{class:["lake-list-node","lake-list-task"]}}]),this.command.add(pm,{sideEffect:!0,queryState:function(){return vp(t.change.blocks)},execute:function(e,n){if(dm[e])if("tasklist"===e){t.change.separateBlocks();var r=t.change.getRange(),o=lp.getActiveBlocks(r);if(o){var i=$u(r);if(hp(o,e)?gp(o):wp.call(t,o,n),Gu(r,i),r.collapsed&&r.startContainer.nodeType===Node.ELEMENT_NODE&&0===r.startContainer.childNodes.length&&r.startContainer.parentNode){var a=document.createElement("br");ru(r.startContainer).before(a),r.startContainer.parentNode.removeChild(r.startContainer),r.selectNode(a),r.collapse(!1)}t.change.select(r),t.change.mergeAdjacentList()}}else t.command.execute("list",e,n)}}),this.on("keydown:enter",(function(e){return ym.call(t,e)})),this.on("keydown:backspace",(function(e){return gm.call(t,e)})),this.on("keydown:tab",(function(e){return bm.call(t,e)})),this.on("paste:before",(function(n){var r=Nu.fetchAllChildren(n);r.forEach((function(e){"li"===(e=ru(e)).name&&e.hasClass("lake-list-task")&&(e.closest("ul").addClass("lake-list"),0===e.find("[data-ready-card=checkbox]").length&&hm.call(t,e))})),e=r.some((function(e){return"li"===e.name}))})),this.on("paste:insert",(function(){var e=ef(t.change.getRange()).next();e&&e.find("li.lake-list-task").length>0&&e.find("li.lake-list-task").each((function(e){0===(e=ru(e)).find("[data-lake-card=checkbox],[data-ready-card=checkbox]").length&&hm.call(t,e)}))})),this.on("paste:after",(function(){e&&t.change.mergeAdjacentList()})),this.hotkey.set("mod+opt+t",pm,"tasklist")},repairTaskList:function(e){mm(e)}};function km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xm(e){var t=ru(e.startContainer),n=e.startOffset,r=this.card.closest(t);if(r){var o=r.find(il)[0];if(o&&(!t.isElement()||t[0].parentNode!==r[0]||t.attr(tl))){var i=function(){var e=document.createRange();return e.selectNodeContents(o),e.comparePoint(t[0],n)<0};if("inline"===r.attr(Js))return e.selectNode(r[0]),void e.collapse(i());i()?this.card.focusPrevBlock(e,r,!0):this.card.focusNextBlock(e,r,!0)}}}function Om(e){var t=ru(e.commonAncestorContainer);t.isRoot()||t.isEditable()||(e.selectNodeContents(this.editArea[0]),Xu(e),e.collapse(!1));var n=e.cloneRange();if(n.collapse(!0),xm.call(this,n),e.setStart(n.startContainer,n.startOffset),(n=e.cloneRange()).collapse(!1),xm.call(this,n),e.setEnd(n.endContainer,n.endOffset),e.collapsed){Wu(n=e.cloneRange());var r=ru(n.startContainer),o=n.startOffset;"a"===r.name&&0===o&&e.setStartBefore(r[0]),"a"===r.name&&o===r[0].childNodes.length&&e.setStartAfter(r[0]),e.collapse(!0)}}function Cm(e){var t=ru(e.commonAncestorContainer),n=this.card.closest(t);if(n&&"inline"===n.attr(Js))if(this.card.isLeftCursor(t)){var r=t.closest(ol),o=r.text().replace(/\u200B/g,"");if(o)return o=pl(o),e.setStartBefore(n[0]),e.collapse(!0),this.select(e),r.html("&#8203;"),this.insertMark("<span>".concat(o,"</span>")),void this.mergeMark()}else if(this.card.isRightCursor(t)){var i=t.closest(al),a=i.text().replace(/\u200B/g,"");if(a)return a=pl(a),e.setEndAfter(n[0]),e.collapse(!1),this.select(e),i.html("&#8203;"),this.insertMark("<span>".concat(a,"</span>")),void this.mergeMark()}else Om.call(this,e)}function _m(e,t){e&&e.state.readonly||e.state.activatedByOther||(t?e.state.selected||(e.cardRoot.addClass("lake-selected"),e.select&&e.select(),e.state.selected=t):e.state.selected&&(e.cardRoot.removeClass("lake-selected"),e.unselect&&e.unselect(),e.state.selected=t))}function Em(){var e=this;this.editArea.on("keydown",(function(t){e.engine.isReadonly||e.card.closest(t.target)})),this.domEvent.onInput((function(t){zu.log("input",t.data);var n=e.getRange();Cm.call(e,n),e.select(n),e.onSelect(),e.change()})),this.domEvent.onDocument("selectionchange",(function(){var t=e.win.getSelection(),n=e.card.components;if(t.anchorNode){for(var r=t.getRangeAt(0),o=0;o<n.length;o++){var i=n[o],a=i.component,c=i.node.find(il)[0];c&&a&&(t.containsNode(c)?_m(a,!0):_m(a,!1))}var s=e.card.getSingleSelectedCard(r);if(s){var l=e.card.getComponent(s);l&&_m(l,!0)}}else n.forEach((function(e){_m(e.component,!1)}))})),this.domEvent.onSelect((function(){var t=e.getRange();(function(e){return!e.collapsed&&(3!==e.commonAncestorContainer.nodeType&&ru(e.commonAncestorContainer).find(nl).length>0||ru(e.commonAncestorContainer).closest(nl).length>0)})(t)&&Om.call(e,t),e.select(t),e.activateCard(t.commonAncestorContainer,"custom_select"),e.onSelect()})),0===this.editArea.closest(nl).length&&this.domEvent.onWindow("beforeunload",(function(){e.engine&&e.engine.event.trigger("save:before")})),this.domEvent.onDocument("click",(function(t){var n=e.card.closest(t.target);if(n){var r=e.card.getComponent(n);r&&"inline"===r.type&&(r.allowToolbarFollowUser?e.activateCard(t.target,"click",t):e.activateCard(t.target,"click"))}})),this.domEvent.onDocument("mousedown",(function(t){var n=ru(t.target),r=e.card.closest(t.target);if(r){var o=e.card.getComponent(r);if(o&&"inline"===o.type)return}if(0!==n.closest("body").length&&!(n.closest(".lake-engine-view").length>0)){for(var i=n;i;){var a=i.attr(Hs);if(a&&"root"!==a)return;i=i.parent()}n.closest("[data-lake_prevent_click_unselect]").length>0||e.activateCard(t.target,"mousedown")}}))}var jm=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._backupRange=null,n=n||{},this.editArea=ru(t),this.engine=n.engine,this.schema=n.schema,this.conversion=n.conversion,this.card=n.card||new Zh,this.domEvent=new fm(this),this.onChange=n.onChange||function(){},this.onSelect=n.onSelect||function(){},this.onSetValue=n.onSetValue||function(){},this.win=fu(this.editArea[0]),this.doc=this.win.document,this.value="",this.marks=[],this.blocks=[],this.cache={},this.history=new am(this),this.change=function(){r.clearChangeTimer(),r.changeTimer=setTimeout((function(){r._change()}),200)},Em.call(this)}var t,n,r;return t=e,(n=[{key:"_change",value:function(){if(!this.domEvent.isComposing){this.card.gc();var e=this.getValue({ignoreCursor:!0});this.valueCached&&e===this.valueCached||(this.onChange(e),this.engine&&this.engine.setUserChanged(),this.valueCached=e)}}},{key:"clearChangeTimer",value:function(){this.changeTimer&&clearTimeout(this.changeTimer)}},{key:"getSelectionRange",value:function(){var e,t=this.win.getSelection();return t.rangeCount>0?e=t.getRangeAt(0):((e=this.doc.createRange()).selectNodeContents(this.editArea[0]),Xu(e),e.collapse(!1)),e}},{key:"getRange",value:function(){return this.getSelectionRange()}},{key:"cacheRangeBeforeCommand",value:function(){this.rangePathBeforeCommand=ed(this.getSelectionRange())}},{key:"getRangePathBeforeCommand",value:function(){var e=this.rangePathBeforeCommand;return this.rangePathBeforeCommand=null,e}},{key:"select",value:function(e){var t=this.win.getSelection();return uf(e,t.rangeCount>0&&t.getRangeAt(0))&&!e.collapsed||(t.removeAllRanges(),t.addRange(e)),this.marks=lp.getActiveMarks(e),this.blocks=lp.getActiveBlocks(e),this}},{key:"activateCard",value:function(e,t,n){if(!((e=ru(e)).closest(".lake-prevent-card-activated").length>0)){var r=e.closest(Il);if(!r[0]||this.editArea[0]===r[0]){var o=this.card.closest(e),i=this.card.getBlockCardRoot(o);i&&(o=i),(this.card.isLeftCursor(e)||this.card.isRightCursor(e))&&(o=void 0);var a=o&&this.activeCard&&o[0]===this.activeCard[0];if(["updateCard"].indexOf(t)>=0&&(a=!1),this.activeCard&&!a){this.card.hideToolbar(this.activeCard);var c=this.card.getComponent(this.activeCard);c&&(c.unactivate&&(c.cardRoot.removeClass("lake-activated"),c.unactivate(this.activeCard),c.state.activated=!1),"block"===c.type&&this.engine.readonly(!1))}if(o){var s=this.card.getComponent(o);if(s){if(s.state.activatedByOther)return;if(!a){this.card.showToolbar(o,n);var l=s.constructor.autoSelected;"inline"===s.type&&!1!==l&&("click"!==t||s.state&&!s.state.readonly)&&this.selectCard(o),s.activate&&(s.cardRoot.addClass("lake-activated"),s.activate(o),s.state.activated=!0)}"block"===s.type&&(_m(s,!1),this.engine.readonly(!0)),a||"mousedown"===t&&this.engine.event.trigger("focus")}}this.activeCard=o,o&&this.onSelect()}}}},{key:"selectCard",value:function(e){var t=this.card.getComponent(e);if(!1!==t.constructor.singleSelectable&&("block"!==t.type||!t.state.activated)&&(e=e[0])){var n=this.getRange(),r=e.parentNode,o=Array.prototype.slice.call(r.childNodes).indexOf(e);n.setStart(r,o),n.setEnd(r,o+1),this.select(n)}}},{key:"focusCard",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getRange();this.card.focus(n,e,t),this.select(n),this.engine.readonly(!1),this.activateCard(ru(n.startContainer),"mousedown"),this.onSelect(),nf(this.getRange(),this.editArea[0],this.engine.scrollNode)}},{key:"focus",value:function(){var e=this.getRange();return this.select(e),this.editArea[0].focus(),this}},{key:"focusToStart",value:function(){var e=this.getRange();return e.selectNodeContents(this.editArea[0]),Xu(e),e.collapse(!0),this.select(e),this.editArea[0].focus(),this}},{key:"focusToEnd",value:function(){var e=this.getRange();return e.selectNodeContents(this.editArea[0]),Xu(e),e.collapse(!1),this.select(e),this.editArea[0].focus(),this}},{key:"clearBackupRange",value:function(){this._backupRange=null}},{key:"blur",value:function(){return this.editArea[0].blur(),this}},{key:"setValue",value:function(e,t){var n,r='change.setValue("'.concat((e=e||"").length,' chars")'),o=this.getRange();if(""===e)o.setStart(this.editArea[0],0),o.collapse(!0),this.select(o);else{var i=new $f(e,this.schema,this.conversion,(function(e){du(e).forEach((function(e){"A"===e.tagName&&function(e){e&&e.parentNode&&0===e.childNodes.length&&e.parentNode.removeChild(e)}(e),lp.removeEmptyMarksAndAddBr(ru(e)),t&&t(e)}))}));this.editArea.htmlKeepID(i.toLowerValue()),(n=this.engine)&&Ul(n.editArea[0]),this.card.renderAll(this.editArea,this.engine);var a,c=this.editArea.find($s);c.length>0&&(a={anchor:c[0],focus:c[0]});var s=this.editArea.find(Ys),l=this.editArea.find(Xs);s.length>0&&l.length>0&&(a={anchor:s[0],focus:l[0]}),a&&(Gu(o,a),this.select(o),this.onSelect())}this.onSetValue(),this.history&&this.history.clear(),zu.log(r)}},{key:"getOriginValue",value:function(){return new $f(this.editArea[0],this.schema).toValue()}},{key:"combinTextNode",value:function(){ku(this.editArea[0])}},{key:"getValue",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.ignoreCursor||this.domEvent.isComposing)e=this.getOriginValue();else{var n,r=this.getRange();lf(r)||(n=$u(r)),e=this.getOriginValue(),n&&Gu(r,n)}return kl(e)}},{key:"isEmpty",value:function(){return gu(this.editArea[0])}},{key:"insertCard",value:function(e,t){!this.engine.isFocus()&&this._backupRange&&this.select(this._backupRange),zu.log("change.insertCard()");var n=this.card.createComponent({name:e,value:t,engine:this.engine}),r=n.constructor,o=this.getRange();Om.call(this,o);var i=this.card.insertNode(o,n,this.engine);return"inline"===n.type&&this.card.focus(o,i,!1),this.select(o),"block"===n.type&&!1!==r.autoActivate&&this.activateCard(i,"insertCard"),this.change(),i}},{key:"updateCard",value:function(e,t){zu.log("change.updateCard()");var n=this.card.getComponent(e);n&&(n.value=t,this.card.updateNode(e,n)),this.change()}},{key:"removeCard",value:function(e){zu.log("change.removeCard()");var t=this.getRange(),n=t.cloneRange();this.card.isInline(e)?(t.setEndAfter(e[0]),t.collapse(!1)):this.card.focusPrevBlock(t,e,!0);var r=e.parent();this.card.removeNode(e,this.engine),mm(n),vu(r)&&(r.isRoot()?(r.html("<p><br /></p>"),t.selectNodeContents(r[0]),Xu(t),t.collapse(!1)):(r.html("<br />"),t.selectNodeContents(r[0]),t.collapse(!1))),this.select(t),this.change()}}])&&km(t.prototype,n),r&&km(t,r),e}();Object.keys(ph).forEach((function(e){jm.prototype[e]=function(){zu.log("change.".concat(e,"()"));var t=Array.prototype.slice.call(arguments),n=this.getRange();return Om.call(this,n),["insertFragment"].includes(e)&&t.unshift(this.card),t.unshift(n),["splitBlock"].includes(e)&&t.push(this.engine),ph[e]&&(n=ph[e].apply(ph,t),this.combinTextNode(),this.select(n),this.change()),this}}));var Sm=jm;function Pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Rm=ke,Tm=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleKeydown=function(e){for(var t=Object.keys(n.data),r=0,o=t.length;r<o;r++){var i=t[r],a=n.data[i];if(Rm(i,e))return e.preventDefault(),void(n.disabled||a&&a())}},this.data={},this.command=t,this.editArea=t.change.editArea,this.disabled=!1,this.editArea.on("keydown",this.handleKeydown)}var t,n,r;return t=e,(n=[{key:"set",value:function(){var e=this,t=Array.prototype.slice.call(arguments),n=t.shift();this.data[n]=function(){e.command.execute.apply(e.command,t)}}},{key:"enable",value:function(){this.disabled=!1,zu.log("enable hotkey")}},{key:"disable",value:function(){this.disabled=!0,zu.log("disable hotkey")}},{key:"destroy",value:function(){this.editArea.off("keydown",this.handleKeydown)}}])&&Pm(t.prototype,n),r&&Pm(t,r),e}();function Dm(e,t){t=ru(t);var n=this.change.blocks||[],r=this.change.marks||[];if(this.change.insertBlock(t,!0),n[0]){var o=n[0].css();t.css(o)}var i=t.find("br");r.forEach((function(e){"code"!==e.name&&(e=e.clone(),i.before(e),e.append(i),i=e)})),e.selectNode(t.find("br")[0]),e.collapse(!1),ff.scrollIntoView(e)}function Am(e,t,n){e.selectNode(t[0]),e.collapse(!!n),this.change.select(e);var r=ru("<p><br /></p>");this.change.insertBlock(r,!0),n?this.card.focus(e,t,!0):(e.selectNodeContents(r[0]),e.collapse(!1)),this.change.select(e)}function Mm(e,t,n){if("inline"===n.attr(Js)){ru(t.startContainer).closest(ol).length>0&&(t.selectNode(n[0]),t.collapse(!0),this.change.select(t)),ru(t.startContainer).closest(al).length>0&&(t.selectNode(n[0]),t.collapse(!1),this.change.select(t))}else{if(ru(t.startContainer).closest(ol).length>0)return e.preventDefault(),Am.call(this,t,n,!0),!1;if(ru(t.startContainer).closest(al).length>0)return e.preventDefault(),Am.call(this,t,n,!1),!1}}function Nm(e,t){var n=e.cloneRange();Wu(n),lp.isBlockLastOffset(e,"end")||n.endContainer.nodeType===Node.ELEMENT_NODE&&t.children().length>0&&n.endContainer.childNodes[n.endOffset]===t.last()[0]&&"br"===t.last().name?"p"===t.name&&t[0].className?Dm.call(this,e,'<p class="'.concat(t[0].className,'"><br /></p>')):Dm.call(this,e,"<p><br /></p>"):this.change.splitBlock()}function Im(e){var t=this.change.getRange(),n=this.card.closest(t.startContainer);if(n&&!1===Mm.call(this,e,t,n))return!1;var r=lp.getClosestBlock(t.endContainer);(r.isRoot()||r.isTable())&&(this.change.wrapBlock("<p />"),r=lp.getClosestBlock(t.endContainer));var o=r.parent();if(o&&o.isEditable()&&o.isBlock()){if("blockquote"===o.name&&"p"===r.name&&r.nextElement())return e.preventDefault(),Nm.call(this,t,r),!1;if("li"===o.name&&"p"===r.name){1===r.children().length&&"br"===r.first().name&&r.first().remove();var i=ff.createBookmark(t);lp.unwrapNode(r),ff.moveToBookmark(t,i),r=lp.getClosestBlock(t.endContainer)}if(t.collapsed&&lp.isBlockLastOffset(t,"end")&&lp.isBlockFirstOffset(t,"end"))return e.preventDefault(),["li","td","th"].indexOf(o.name)>=0?(this.change.unwrapBlock("<".concat(o.name," />")),this.change.setBlocks("<".concat(o.name," />"))):(this.change.unwrapBlock("<".concat(o.name," />")),this.change.setBlocks("<p />")),!1}if(r.isHeading())return e.preventDefault(),Nm.call(this,t,r),!1;if("li"===r.name){if(r.find("[data-lake-card=checkbox]").length>0)return;if(e.preventDefault(),lp.isBlockLastOffset(t,"end"))if(t.collapsed&&lp.isBlockFirstOffset(t,"end")){var a=r.closest("ul,ol");this.change.unwrapBlock("<".concat(a.name," />")),this.change.setBlocks("<p />")}else{var c=ru("<li><br /></li>");c.attr(r.attr()),Dm.call(this,t,c)}else this.change.splitBlock();return this.change.mergeAdjacentList(),ff.scrollIntoView(t),!1}}function Lm(e){e.preventDefault();var t=this.change.getRange(),n=ru("<br />");this.change.insertInline(n),lp.isBlockLastOffset(t,"end")&&(n.next()&&"br"===n.next().name||n.after("<br />"))}var Fm=/^<p(\s[^>]*?)?><br><\/p>$/i;function zm(e,t){var n=t.parent();t.remove(),vu(n)&&(n.isRoot()?(n.html("<p><br /></p>"),e.selectNodeContents(n[0]),Xu(e),e.collapse(!1)):(n.html("<br />"),e.selectNodeContents(n[0]),e.collapse(!1)),this.change.select(e))}function Bm(e,t){if(t.isEditable()&&!t.isTable()){var n=$u(e);lp.unwrapNode(t),Gu(e,n),this.change.select(e)}}function Vm(e,t){if(t.children().length>1&&"br"===t.first().name)return t.first().remove(),!1;var n,r=t.prev();if(!r)return t.parent().isTable()&&(n=t.parent(),Fm.test(n.html().trim()))||t.parent().isEditable()&&Bm.call(this,e,t),!1;if(r.attr(Gs))return this.card.focus(e,r),this.change.select(e),!1;if(r.isVoid())return r.remove(),!1;if(r.isHeading()&&vu(r))return r.remove(),!1;if(r.isText()){var o=ru("<p />");r.before(o),o.append(r),r=o}if(["ol","ul"].indexOf(r.name)>=0&&(r=r.last()),1===t.children().length&&"br"===t.first().name?t.first().remove():r&&1===r.children().length&&"br"===r.first().name&&r.first().remove(),!r||r.isText())Bm.call(this,e,t);else{var i=$u(e);lp.mergeNode(r,t),Gu(e,i),this.change.select(e),this.change.mergeMark(),this.change.mergeAdjacentList()}return!1}function qm(e,t,n){var r=t.prev();r&&(r.attr(Gs)?this.card.focus(e,r):(["ol","ul"].indexOf(r.name)>=0&&(r=r.last()),r&&(n&&gu(r[0])?r.remove():(e.selectNodeContents(r[0]),e.collapse(!1),this.change.select(e)))))}function Hm(e,t,n){if("inline"===n.attr(Js)){if(ru(t.startContainer).closest(ol).length>0&&(t.selectNode(n[0]),t.collapse(!0),this.change.select(t)),ru(t.startContainer).closest(al).length>0)return e.preventDefault(),this.change.removeCard(n),lp.addOrRemoveBr(t),!1}else{if(ru(t.startContainer).closest(ol).length>0)return e.preventDefault(),n.parent().isEditable()?Bm.call(this,t,n.parent()):qm.call(this,t,n,!0),!1;if(ru(t.startContainer).closest(al).length>0)return e.preventDefault(),qm.call(this,t,n,!1),this.change.removeCard(n),!1}}function Um(e){var t=this.change.getRange(),n=this.card.closest(t.startContainer);if(n){if(!1===Hm.call(this,e,t,n))return!1;if(!1===this.event.trigger("keydown:backspace",e))return}if(this.change.isEmpty())return e.preventDefault(),this.change.setValue("<p><br /><cursor /></p>"),!1;var r=lp.getClosestBlock(t.startContainer);if(r.isTable()&&gu(r))return e.preventDefault(),r.html("<p><br /></p>"),t.selectNode(r[0]),Xu(t),t.collapse(!1),this.change.select(t),!1;if(!t.collapsed)return e.preventDefault(),this.change.deleteContent(),!1;var o=Zu(t);if(o&&o.attr(Gs)&&"checkbox"!==o.attr(Gs))return e.preventDefault(),this.change.removeCard(o),!1;if(o&&o.isBlock()&&gu(o))return e.preventDefault(),zm.call(this,t,o),!1;if(!lp.isBlockFirstOffset(t,"start")){var i=t.cloneRange();return Xu(i),Ku(i),void(i.startContainer.nodeType===Node.TEXT_NODE&&function(e){var t=e.commonAncestorContainer;return!(!e.collapsed||1!==e.startOffset||e.startContainer!==t||t.nodeType!==Node.TEXT_NODE||(e=e.cloneRange(),t.parentNode.childNodes.length>1||1!==t.textContent.length||(e.selectNodeContents(t),Mf(e,!1),0)))}(i)&&e.preventDefault())}var a=ru(t.startContainer),c=t.startOffset;if(a.isRoot()){var s=a[0].childNodes[c-1];if(s&&"br"===ru(s).name)return e.preventDefault(),ru(s).remove(),!1}var l=this.command.queryState("alignment");if("center"===l)return e.preventDefault(),this.command.execute("alignment","left"),!1;if("right"===l)return e.preventDefault(),this.command.execute("alignment","center"),!1;if(this.command.queryState("indent"))return e.preventDefault(),this.command.execute("outdent"),!1;if(["ol","ul"].indexOf(r.name)>=0){var u=r.first();if(!u||u.isText())return e.preventDefault(),Vm.call(this,t,r);r=u,t.setStart(r[0],0),t.collapse(!0),this.change.select(t)}if("li"===r.name){if(r.find("[data-lake-card=checkbox]").length>0)return;e.preventDefault();var f=r.closest("ul,ol");return r.parent().isRoot()?Vm.call(this,t,r):(f.length>0?this.command.execute("list","ol"===f.name?"orderedlist":"unorderedlist"):Bm.call(this,t,r),!1)}var p=r.parent();return p&&"blockquote"===p.name&&r.isHeading()?(e.preventDefault(),r.prevElement()?Vm.call(this,t,r):(this.change.unwrapBlock("<blockquote />"),!1)):r.isTitle()&&gu(r)?(e.preventDefault(),this.change.setBlocks("<p />"),!1):r.isHeading()?(e.preventDefault(),Vm.call(this,t,r)):["li","td","th"].indexOf(r.name)<0?(e.preventDefault(),this.change.setBlocks("<p />"),!1):void 0}function Wm(e,t){if(e){var n=this.change.getRange();if(n.collapsed){var r=this.card.closest(n.startContainer);r&&Hm.call(this,t,n,r)}}}function Km(e){var t=this.change.getRange();return!t.collapsed||lp.isBlockFirstOffset(t,"start")?(e.preventDefault(),this.command.execute("indent",!0),!1):(e.preventDefault(),this.change.insertText("    "),!1)}var Ym=ke,Xm=function(e,t){var n=this.change.getRange(),r=this.card.getComponent(e).constructor.singleSelectable;if(Ym("up",t)||Ym("ctrl+p",t))return t.preventDefault(),this.card.focusPrevBlock(n,e,!1),this.change.select(n),!1;if(Ym("down",t)||Ym("ctrl+n",t))return t.preventDefault(),this.card.focusNextBlock(n,e,!1),this.change.select(n),!1;if(ru(n.commonAncestorContainer).closest(ol).length>0)return Ym("right",t)||Ym("ctrl+e",t)||Ym("ctrl+f",t)?(t.preventDefault(),!1!==r?this.change.selectCard(e):(this.card.focus(n,e,!1),this.change.select(n)),!1):void((Ym("left",t)||Ym("ctrl+a",t)||Ym("ctrl+b",t))&&(n.setStartBefore(e[0]),n.collapse(!0),this.change.select(n)));if(ru(n.commonAncestorContainer).closest(al).length>0){if(Ym("left",t)||Ym("ctrl+a",t)||Ym("ctrl+b",t))return t.preventDefault(),!1!==r?this.change.selectCard(e):(this.card.focus(n,e,!0),this.change.select(n)),!1;if(Ym("right",t)||Ym("ctrl+e",t)||Ym("ctrl+f",t))return e.next()&&e.next().isCard()?(t.preventDefault(),this.change.selectCard(e.next()),!1):(n.setEndAfter(e[0]),n.collapse(!1),void this.change.select(n))}},$m=ke,Gm=function(e,t){var n=this.change.getRange();if($m("up",t)||$m("ctrl+p",t))return t.preventDefault(),this.card.focusPrevBlock(n,e,!1),this.change.select(n),!1;if($m("down",t)||$m("ctrl+n",t))return t.preventDefault(),this.card.focusNextBlock(n,e,!1),this.change.select(n),!1;if(ru(n.commonAncestorContainer).closest(ol).length>0)return $m("left",t)||$m("ctrl+a",t)||$m("ctrl+b",t)?(t.preventDefault(),this.card.focusPrevBlock(n,e,!1),this.change.select(n),!1):$m("right",t)||$m("ctrl+e",t)||$m("ctrl+f",t)?(t.preventDefault(),this.change.selectCard(e),!1):void(t.metaKey||t.ctrlKey||(this.card.focusPrevBlock(n,e,!0),this.change.select(n)));if(ru(n.commonAncestorContainer).closest(al).length>0){if($m("left",t)||$m("ctrl+a",t)||$m("ctrl+b",t))return t.preventDefault(),this.change.selectCard(e),!1;if($m("right",t)||$m("ctrl+e",t)||$m("ctrl+f",t))return t.preventDefault(),this.card.focusNextBlock(n,e,!1),this.change.select(n),!1;t.metaKey||t.ctrlKey||(this.card.focusNextBlock(n,e,!0),this.change.select(n))}if(this.card.getSingleSelectedCard(n)){if($m("left",t)||$m("ctrl+a",t)||$m("ctrl+b",t))return t.preventDefault(),this.card.focus(n,e,!0),this.change.select(n),!1;if($m("right",t)||$m("ctrl+e",t)||$m("ctrl+f",t))return t.preventDefault(),this.card.focus(n,e,!1),this.change.select(n),!1}};function Zm(e){return e.preventDefault(),this.command.execute("outdent"),!1}function Jm(e){var t=this.change.getRange();if(!t.collapsed)return e.preventDefault(),void this.change.deleteContent();var n=!1,r=this.card.closest(t.startContainer),o=null;if(r){if(ev(t.startContainer,"left"))return e.preventDefault(),this.change.selectCard(r),void this.change.deleteContent();if(!ev(t.startContainer,"right"))return;o=r[0]}else if(t.endContainer.nodeType===Node.TEXT_NODE){if(t.endContainer.data.length>t.endOffset){e.preventDefault();var i=t.cloneRange();return i.setEnd(t.endContainer,t.endOffset+1),this.change.select(i),void this.change.deleteContent()}o=t.endContainer}else{if(t.endContainer.nodeType!==Node.ELEMENT_NODE)return;0===t.endContainer.childNodes.length?o=t.endContainer:0===t.endOffset?(1===t.endContainer.childNodes.length&&"BR"===t.endContainer.firstChild.nodeName||(n=!0),o=t.endContainer.childNodes[t.endOffset]):o=t.endContainer.childNodes[t.endOffset-1]}var a=Qm(o,n);if(a){e.preventDefault();var c=t.startOffset;1===c&&1===t.startContainer.childNodes.length&&"BR"===t.startContainer.childNodes[0].nodeName&&(c=0),a.setStart(t.startContainer,c),this.change.select(a),this.change.deleteContent()}}function Qm(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ru(e).isRoot())return null;if(t||(e=tv(e)),!e)return null;for(;e;){if(ru(e).attr(Gs)){var n=e.ownerDocument.createRange();return n.setStartAfter(e),n.collapse(!0),n}if(ru(e).isBlock()){var r=e.ownerDocument.createRange();return r.selectNodeContents(e),r.collapse(!0),r}if("BR"===e.nodeName){if(1===e.parentNode.childNodes.length)return null;var o=e.ownerDocument.createRange();return o.setStartAfter(e),o.collapse(!0),o}if(e.nodeType===Node.TEXT_NODE){if(0===e.data.length)return Qm(e);var i=e.ownerDocument.createRange();return i.setStart(e,1),i.collapse(!0),i}if(0===e.childNodes.length)return Qm(e);e=e.childNodes[0]}}function ev(e,t){return ru(e).closest('[data-card-element="'.concat(t,'"]'),(function(e){return ru(e).isRoot()?null:e.parentNode})).length>0}function tv(e){return ru(e).isRoot()?null:e.nextSibling?e.nextSibling:tv(e.parentNode)}var nv=ke,rv=function(e){if(this.isReadonly)nv("mod+a",e)&&e.preventDefault();else if(!this.card.closest(e.target)){if(nv("enter",e))return!1!==this.event.trigger("keydown:enter",e)&&Im.call(this,e),void nf(this.change.getRange(),this.editArea[0],this.scrollNode);if(nv("shift+enter",e))return Lm.call(this,e),void nf(this.change.getRange(),this.editArea[0],this.scrollNode);if(nv("backspace",e))!1!==this.event.trigger("keydown:backspace",e)&&Um.call(this,e);else if(nv("delete",e))!1!==this.event.trigger("keydown:delete",e)&&Jm.call(this,e);else if(nv("mod+backspace",e))Wm.call(this,fe.safari,e);else if(nv("tab",e))!1!==this.event.trigger("keydown:tab",e)&&Km.call(this,e);else if(nv("shift+tab",e))Zm.call(this,e);else{var t=this.change.getRange(),n=this.card.getSingleCardRoot(t);if(n)if(!1===("inline"===n.attr(Js)?Xm.call(this,n,e):Gm.call(this,n,e)))return;" "!==e.key?"@"===e.key||e.shiftKey&&229===e.keyCode&&"Digit2"===e.code?this.event.trigger("keydown:at",e):"/"===e.key||nv("/",e)||229===e.keyCode&&"Slash"===e.code?this.event.trigger("keydown:slash",e):nv("mod+a",e)&&this.event.trigger("keydown:selectall",e):this.event.trigger("keydown:space",e)}}},ov=ke,iv=function(e){this.isReadonly||this.card.closest(e.target)||(ov("enter",e)?this.event.trigger("keyup:enter",e):ov("backspace",e)?this.event.trigger("keyup:backspace",e):ov("tab",e)?this.event.trigger("keyup:tab",e):ov("space",e)&&this.event.trigger("keyup:space",e))},av=n(47),cv=n.n(av);function sv(e){if(!fd.isTransientElement(e)){var t;if(e.nodeType===Node.ELEMENT_NODE){t=[e.nodeName.toLowerCase()];for(var n=e.attributes,r={},o=0;n&&o<n.length;o++){var i=n[o].name;n[o].specified&&!fd.isTransientAttribute(e,i)&&("style"===i?r.style=Cl.toHex(e.style.cssText||n[o].value):"string"==typeof n[o].value&&(r[i]=n[o].value))}return t.push(r),function(e,t){var n=e.childNodes;if(0!==n.length)for(var r=0;r<n.length;r++){var o=sv(n[r]);o&&t.push(o)}}(e,t),t}return e.nodeType===Node.TEXT_NODE?String(e.nodeValue):void 0}}var lv={toDOM:function e(t){var n,r,o=document.createDocumentFragment(),i=0,a=null;for("string"==typeof t[0]&&(a=t[0],i=1);i<t.length;i++)if(Array.isArray(t[i]))o.appendChild(e(t[i]));else if(r=t[i],"[object Object]"===Object.prototype.toString.call(r)){if(a)for(var c in n=document.createElement(a),t[i]){var s=Cl.unescapeDots(c),l=Cl.unescape(t[i][c]);n.setAttribute(s,l)}}else if("number"==typeof t[i]||"string"==typeof t[i]){var u=document.createTextNode(t[i]);o.appendChild(u)}return!n&&a&&(n=document.createElement(a)),n?(n.appendChild(o),n):o.childNodes},fromDOM:sv,removePath:function(e,t){if(0!==t.length){for(var n=0,r=e;n<t.length-1;)r=r[t[n]],n++;cv()(r)?r.splice(t[n],1):delete r[t[n]]}},setPathValue:function(e,t,n){if(0!==t.length){for(var r=0,o=e;r<t.length-1;)o=o[t[r]],r++;cv()(o)?o.splice(t[r],1,n):o[t[r]]=n}},addPathValue:function(e,t,n){if(0!==t.length){for(var r=0,o=e;r<t.length-1;)o=o[t[r]],r++;cv()(o)&&o.splice(t[r],0,n)}},getPathValue:function(e,t){if(0===t.length)return e;for(var n=0,r=e;n<t.length&&void 0!==r;)r=r[t[n]],n++;return r},pushAndRepair:function(e,t){e.forEach((function(e){var n=t.newPath[t.newPath.length-1],r=e.newPath[e.newPath.length-1];t.ld&&("ld"in e&&(r<=n?t.oldPath[t.oldPath.length-1]+=1:(e.oldPath[e.oldPath.length-1]+=1,e.p[e.p.length-1]+=1)),"li"in e&&(r>=n?e.p[e.p.length-1]+=1:t.oldPath[t.oldPath.length-1]-=1)),t.li&&("ld"in e&&r>n&&(e.oldPath[e.oldPath.length-1]-=1,e.p[e.p.length-1]-=1),"li"in e&&r>n&&(e.p[e.p.length-1]-=1))})),e.push(t)}},uv=n(138),fv=n.n(uv);function pv(e){return(pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dv(e){return function(e){if(Array.isArray(e))return vv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||mv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||mv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mv(e,t){if(e){if("string"==typeof e)return vv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vv(e,t):void 0}}function vv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gv(e,t){return(gv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kv(e);if(t){var o=kv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wv(this,n)}}function wv(e,t){return!t||"object"!==pv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kv(e){return(kv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gv(e,t)}(i,e);var t,n,r,o=bv(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).patchesToOps=function(e,t,r){var o=[],i=n.dmp.patch_make(t,r);return Object.keys(i).forEach((function(t){var n=i[t],r=n.start1;n.diffs.forEach((function(t){var n=hv(t,2),i=n[0],a=n[1];i!==fv.a.DIFF_DELETE?i!==fv.a.DIFF_INSERT?i!==fv.a.DIFF_EQUAL||(r+=a.length):o.push({si:a,p:[].concat(dv(e),[r])}):o.push({sd:a,p:[].concat(dv(e),[r])})}))})),o},n.cacheAddedNode=function(e){n.addedNodes.push(e)},n.clearAddedNodeCache=function(){n.addedNodes=[]},n.inAddedCache=function(e){return n.addedNodes.find((function(t){return Tu(e,t)||e===t}))},n.isTransientMutation=function(e){var t=e.addedNodes,n=e.removedNodes,r=e.target,o=e.type,i=e.attributeName;if("childList"===o){if(t[0]&&Jp(t[0]))return!0;if(n[0]&&Jp(n[0]))return!0;if(Jp(r))return!0}return!("attributes"!==o||!Jp(r)&&!Qp(r,i))||!("characterData"!==o||!Jp(r))},n.makeOpsFromMutations=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0;o=o||n.engine.editArea[0];for(var i=[],a=[],c=0,s=[],l=[],u=[],f=function(e,t){null==e||s.includes(e)||(u.includes(e)||u.push(e),e.mutations=e.mutations||[],e.mutations.push(t))},p=!1,d=function(){var u=e[c],d=u.target,h=u.addedNodes,m=u.removedNodes,v=u.type;if(n.inAddedCache(d))return c++,"continue";if("childList"===v)if(d===o){if(m[0]){var y=n.getRemoveNodeIndex(u,e);Array.from(m).forEach((function(e){if(!l.find((function(t){return t===e}))){var n=[].concat(dv(t),[y+Xp]),o=[].concat(dv(r),[y+Xp]),a={ld:!0,p:n,newPath:n.slice(),oldPath:o};lv.pushAndRepair(i,a)}}))}h[0]&&Array.from(h).forEach((function(e){var r=lv.fromDOM(e);if(e.parentNode===o){var a=[].concat(dv(t),[Du(e)+Xp]),c={li:r,p:a,newPath:a.slice()};lv.pushAndRepair(i,c),s.push(e),n.cacheAddedNode(e)}else if(null!==e.parentNode){var p=Mu(e,o);f(p,u),l.push(e)}else l.push(e)}))}else{var g=Mu(d,o);f(g,u)}else if("characterData"===v)if(d===o){if(!p)"string"==typeof lv.getPathValue(n.doc.data,t)&&a.push({path:t,newValue:d.data}),p=!0}else{var b=Mu(d,o);f(b,u)}else if("attributes"===v)if(d===o){var w=u.oldValue,k=Cl.escape(d.getAttribute(u.attributeName));if(w!==k){var x={};w&&(x.od=w),k&&(x.oi=k),x.p=[].concat(dv(t),[Yp,Cl.escapeDots(u.attributeName)]),a.push(x)}}else{var O=Mu(d,o);f(O,u)}c++};e[c];)d();var h=[];return i.forEach((function(e){if(e.ld){var t=lv.getPathValue(n.doc.data,e.oldPath);void 0!==t&&h.push({ld:t,p:e.p})}"li"in e&&h.push({li:e.li,p:e.p})})),h=h.concat(a),u.forEach((function(e){var o=e.mutations;if(delete e.mutations,null!=e){var a=Du(e),c=ud(a,i);h=h.concat(n.makeOpsFromMutations(o,[].concat(dv(t),[a+Xp]),[].concat(dv(r),[c+Xp]),e))}})),h},n.getRemoveNodeIndex=function(e,t){var r,o=e.target,i=e.nextSibling,a=e.previousSibling,c=e.addedNodes,s=Array.from(o.childNodes).indexOf(c[0]),l=Array.from(o.childNodes).indexOf(a),u=Array.from(o.childNodes).indexOf(i);return-1!==l?r=l+1:-1!==u?r=u:-1!==s?r=s:a?i?a&&(r=n.getRemoveNodeIndexFromMutation(a,o,t)):r=o.childNodes.length:r=0,void 0!==r?r:0},n.getRemoveNodeIndexFromMutation=function(e,t,r){var o=r.find((function(n){return n.target===t&&n.removedNodes[0]===e}));if(o)return n.getRemoveNodeIndex(o,r)},n.handleMutations=function(e){e=e.filter((function(e){return!n.isTransientMutation(e)})),n.clearAddedNodeCache();var t=n.makeOpsFromMutations(e);0!==(t=nd(t)).length&&n.normalizeOps(t)},n.normalizeOps=function(e){if(n.engine.domEvent.isComposing){if(2===e.length&&e[1].ld&&"br"===e[1].ld[0]&&e[0].li&&"string"==typeof e[0].li)return n.lineStart=!0,e[0].li="",void n.readyToEmitOps(e);if(1===e.length&&fd.isCursorOp(e[0]))return;return 2===e.length&&e[0].si&&Wp()(e[0],e[1])&&e.splice(1,1),n.laterOps=e,n.timer&&clearTimeout(n.timer),void(n.timer=setTimeout((function(){n.engine.domEvent.isComposing||(n.lineStart&&(n.engine.history.hold(),n.lineStart=!1),n.laterOps&&(n.readyToEmitOps(n.laterOps),n.laterOps=null),n.timer=null)}),0))}if(n.laterOps){var t=Wp()(n.laterOps,e);if(n.readyToEmitOps(n.laterOps),n.laterOps=null,t)return}n.readyToEmitOps(e)},n.engine=e,n.doc=t.doc,n.dmp=new fv.a,n}return t=i,(n=[{key:"setDoc",value:function(e){this.doc=e}},{key:"readyToEmitOps",value:function(e){var t=this,n=[];e.forEach((function(e){if(e.path&&void 0!==e.newValue){var r=lv.getPathValue(t.doc.data,e.path);n=n.concat(t.patchesToOps(dv(e.path),r,e.newValue))}else 0!==e.p.length&&n.push(e)})),0!==n.length&&this.emit("ops",n)}}])&&yv(t.prototype,n),r&&yv(t,r),i}(Sh.EventEmitter2);function Ov(e){return(Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _v(e,t){return(_v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ev(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sv(e);if(t){var o=Sv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jv(this,n)}}function jv(e,t){return!t||"object"!==Ov(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sv(e){return(Sv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pv={childList:!0,subtree:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0},Rv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_v(e,t)}(i,e);var t,n,r,o=Ev(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this);var r=t.engine,a=t.doc;return n.engine=r,n.doc=a,n.node=ru(e),n.isStopped=!0,n.creator=new xv(r,{doc:a}),n.observer=new MutationObserver((function(e){n.isStopped||n.creator.handleMutations(e)})),n.creator.on("ops",(function(e){n.onOpsReady(e)})),n}return t=i,(n=[{key:"setDoc",value:function(e){this.doc=e,this.creator.setDoc(e)}},{key:"start",value:function(){this.isStopped&&(this.observer.observe(this.node[0],Pv),this.isStopped=!1)}},{key:"stop",value:function(){this.isStopped||(this.observer.disconnect(),this.isStopped=!0)}},{key:"onOpsReady",value:function(e){this.isStopped||this.emit("ops",e)}}])&&Cv(t.prototype,n),r&&Cv(t,r),i}(Sh.EventEmitter2);function Tv(e,t){var n=t[0];if(n===Yp)return[e,void 0,e,n];var r=n-Xp,o=e.childNodes[r],i=t[1];return 1===t.length||i===Kp||i===Yp||o.nodeType===Node.TEXT_NODE?[o,r,e,i]:Tv(o,t.slice(1))}function Dv(e,t){var n=ru(e).closest("[data-lake-id]");if(n[0]){var r=n.attr("data-lake-id"),o=document.createRange(),i=document.createRange();return o.setStart(n[0],0),o.setEnd(e,t),i.setStart(e,t),i.setEnd(n[0],n[0].childNodes.length),{lakeId:r,leftText:o.toString(),rightText:i.toString()}}}function Av(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return{start:Dv(t,n),end:Dv(r,o)}}function Mv(e){if(e){var t=e.lakeId,n=e.leftText,r=e.rightText,o=ru('[data-lake-id="'.concat(t,'"]'));if(o[0]){var i=(o=o[0]).textContent;if(""===i)return{container:o,offset:0};if(i.startsWith(n)){for(var a=n.length,c=o.firstChild;3!==c.nodeType||c.textContent.length<a;)c.textContent.length<a?(a-=c.textContent.length,c=c.nextSibling):c=c.firstChild;return{container:c,offset:a}}if(i.endsWith(r)){for(var s=r.length,l=o.lastChild;3!==l.nodeType||l.textContent.length<s;)l.textContent.length<s?(s-=l.textContent.length,l=l.previousSibling):l=l.lastChild;return{container:l,offset:l.textContent.length-s}}for(var u=0;i[u]===n[u];)u++;for(var f=o.firstChild;3!==f.nodeType||f.textContent.length<u;)f.textContent.length<u?(u-=f.textContent.length,f=f.nextSibling):f=f.firstChild;return{container:f,offset:u}}}}function Nv(e){var t=e.start,n=e.end,r=Mv(t),o=Mv(n);return{startContainer:r&&r.container,startOffset:r&&r.offset,endContainer:o&&o.container,endOffset:o&&o.offset}}function Iv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zv=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.engine=t,this.editArea=t.editArea,this.options=n}var t,n,r;return t=e,(n=[{key:"setAttribute",value:function(e,t,n){var r=this.engine,o=Iv(Tv(this.editArea[0],e),1)[0];o&&(ru(o).isRoot()&&!/^data-selection-/.test(t)||(t=Cl.unescapeDots(t),n=Cl.unescape(n),o.setAttribute(t,n),ru(o).isCard()&&r.card.reRenderAll(o,r)))}},{key:"removeAttribute",value:function(e,t){var n=Iv(Tv(this.editArea[0],e),1)[0];n&&(ru(n).isRoot()&&!/^data-selection-/.test(t)||n.removeAttribute(t))}},{key:"insertNode",value:function(e,t){var n=this.engine,r=Iv(Tv(this.editArea[0],e),3),o=r[0],i=r[2];if(i&&!ru(o).isRoot()){var a="string"==typeof t?document.createTextNode(t):lv.toDOM(t);o&&o.parentNode?i.insertBefore(a,o):i.insertBefore(a,null),n.card.reRenderAll(a,n)}}},{key:"deleteNode",value:function(e){var t=Iv(Tv(this.editArea[0],e),1)[0];t&&!ru(t).isRoot()&&t.remove()}},{key:"insertInText",value:function(e,t,n){var r=Iv(Tv(this.editArea[0],e),4),o=r[0],i=r[2];switch(r[3]){case Kp:throw Error("Unsupported indexType JSONML.TAG_NAME_INDEX (0)");case Yp:throw Error("Unsupported indexType JSONML.ATTRIBUTE_INDEX (1)");default:if(o&&!ru(o).isText())return;var a=o?o.nodeValue:"",c=a.substring(0,t)+n+a.substring(t);if(o&&o.parentNode===i)o.nodeValue=c;else{var s=document.createTextNode(c);i.insertBefore(s,i.firstChild)}}}},{key:"deleteInText",value:function(e,t,n){var r=Iv(Tv(this.editArea[0],e),4),o=r[0],i=r[2];switch(r[3]){case Kp:throw Error("Unsupported indexType JSONML.TAG_NAME_INDEX (0)");case Yp:throw Error("Unsupported indexType JSONML.ATTRIBUTE_INDEX (1)");default:if(!ru(i=o).isText())return;var a=i.nodeValue,c=a.substring(0,t)+a.substring(t+n.length);i.nodeValue=c}}},{key:"applyOperation",value:function(e){var t,n,r=e.p;0!==r.length&&(("si"in e||"sd"in e)&&(t=r[r.length-1],r=r.slice(0,-1)),("oi"in e||"od"in e)&&(n=r[r.length-1],r=r.slice(0,-1)),"od"in e&&this.removeAttribute(r,n),"oi"in e&&this.setAttribute(r,n,e.oi),"sd"in e&&this.deleteInText(r,t,e.sd),"si"in e&&this.insertInText(r,t,e.si),"ld"in e&&this.deleteNode(r),"li"in e&&this.insertNode(r,e.li))}},{key:"applyRemoteOperations",value:function(e){var t=this;try{var n=this.getRangeLakePath();e.forEach((function(e){t.applyOperation(e)})),this.setRangeByLakePath(n),this.engine.change.change()}catch(e){console.log(e)}}},{key:"applySelfOperations",value:function(e){var t=this;e.forEach((function(e){t.applyOperation(e)})),this.engine.change.change()}},{key:"setRangeAfterOp",value:function(e){var t,n=e.p,r=this.editArea;("si"in e||"sd"in e)&&(t=n[n.length-1],n=n.slice(0,-1)),("oi"in e||"od"in e)&&(n=n.slice(0,-1));var o=Iv(Tv(r[0],n),3),i=o[0],a=o[2],c=document.createRange();if("si"in e||"sd"in e){var s=""===i.data?a:i;return c.setStart(s,t+(e.si?e.si.length:0)),c.setEnd(s,t+(e.si?e.si.length:0)),void this.engine.change.select(c)}c.selectNodeContents(i||a.lastChild||a),ff.shrinkRange(c),c.collapse(!1),this.engine.change.select(c)}},{key:"getRangeLakePath",value:function(){try{if(0===window.getSelection().rangeCount)return;var e=window.getSelection().getRangeAt(0);if(ff.isInCard(e))return;return Av(e)}catch(e){return console.log(e),null}}},{key:"setRangeByLakePath",value:function(e){if(e)try{var t=window.getSelection(),n=t.getRangeAt(0).cloneRange(),r=Nv(e);r.startContainer&&n.setStart(r.startContainer,r.startOffset),r.endContainer&&n.setEnd(r.endContainer,r.endOffset),t.removeAllRanges(),this.engine.change.select(n)}catch(e){console.log(e)}}},{key:"setRangeByPath",value:function(e){if(e){var t=Iv(e,2),n=t[0],r=t[1];if(n&&r){var o=n[n.length-1],i=r[r.length-1],a=n.slice(),c=r.slice();a.pop(),c.pop();var s=Au(this.engine.editArea[0],a),l=Au(this.engine.editArea[0],c);try{var u=this.engine.change.getRange();u.setStart(s,o),u.setEnd(l,i),this.engine.change.select(u),ff.scrollRangeIntoView(u)}catch(e){console.log(e)}}}}}])&&Fv(t.prototype,n),r&&Fv(t,r),e}();function Bv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vv=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.engine=t,this.editArea=t.editArea}var t,n,r;return t=e,(n=[{key:"getAll",value:function(){for(var e=[],t=this.editArea[0].attributes,n=0;n<t.length;n++){var r=t.item(n),o=r.nodeName,i=r.nodeValue;if(/^data-selection-/.test(o)&&i){var a=JSON.parse(decodeURIComponent(i));a&&e.push(a)}}return e}},{key:"setAll",value:function(e){var t=this.editArea,n={};e.forEach((function(e){if(e){var r="data-selection-".concat(e.uuid);n[r]=!0;var o=t.attr(r),i=encodeURIComponent(JSON.stringify(e));o!==i&&t.attr(r,i)}}));for(var r=t[0].attributes,o=0;o<r.length;o++){var i=r.item(o).nodeName;/^data-selection-/.test(i)&&!n[i]&&t.removeAttr(i)}}},{key:"remove",value:function(e){var t=this.editArea,n="data-selection-".concat(e);t.removeAttr(n)}},{key:"updateAll",value:function(e,t){var n=this.engine,r=n.card,o=n.change,i=o.getSelectionRange().cloneRange(),a=o.activeCard;if(a&&a.closest("body").length>0){var c=r.getCenter(a);c[0]&&c[0].nodeType&&i.selectNodeContents(c[0])}var s=fd.toPath(i);this.currentRangePath=s;var l=JSON.stringify(s),u=this.getAll(),f=!1,p=!1;return u=(u=u.map((function(n){return n?n.uuid===e.uuid?(f=!0,l===JSON.stringify(n.path)||(p=!0,n.path=s,n.active=!0),n):t.find((function(e){return e.uuid===n.uuid}))?(n.active=!1,n):(p=!0,null):(p=!0,null)}))).filter((function(e){return!!e})),f||(p=!0,u.push({path:s,uuid:e.uuid,active:!0})),p&&this.setAll(u),{data:u,range:i}}}])&&Bv(t.prototype,n),r&&Bv(t,r),e}();function qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qv(Object(n),!0).forEach((function(t){Uv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kv=Lu()("engine:ot"),Yv=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.engine=t,this.editArea=t.editArea,this.lang=t.lang,this.card=t.card,this.parentNode=n.parentNode,this.hideCursorInfoTimeoutIdMap={},this.updateBackgroundPosition=nm()((function(){r._updateBackgroundPosition()}),50)}var t,n,r;return t=e,(n=[{key:"destroy",value:function(){var e=this.parentNode;e.children(".lake-user-background").remove(),e.children(".lake-user-cursor").remove(),e.children(".lake-card-mask").remove()}},{key:"getRelativeRect",value:function(e,t){var n=ff.getClientRect(t),r=e[0].getBoundingClientRect();return{x:n.left-r.left,y:n.top-r.top,width:n.right-n.left,height:n.bottom-n.top}}},{key:"cacheRange",value:function(e){return{startOffset:e.startOffset,endOffset:e.endOffset,startContainer:e.startContainer,endContainer:e.endContainer,commonAncestorContainer:e.commonAncestorContainer}}},{key:"isRangeWrap",value:function(e){var t=e.cloneRange();t.collapse(!0);var n=ff.getClientRect(t),r=e.cloneRange();r.collapse(!1);var o=ff.getClientRect(r);return n.bottom!==o.bottom}},{key:"drawOneByOne",value:function(e,t,n,r){for(var o=this.cacheRange(n),i=o.startOffset;i<o.endOffset;){n.setStart(o.commonAncestorContainer,i),n.setEnd(o.commonAncestorContainer,i+1);var a=this.getRelativeRect(e,n);t.clearRect(a),t.draw("Rect",Hv(Hv({},a),r)),i++}n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset)}},{key:"drawBackground",value:function(e,t){var n=this,r=this.parentNode,o=t.uuid,i=t.color,a=zn()(i);a.setAlpha(.3);var c,s={fill:a.toRgbString()},l=r.children('.lake-user-background[data-uuid="'.concat(o,'"]'));l.length>0?(l.attr("data-color",i),(c=l[0].__targetCanvas).clear()):((l=ru('<div class="lake-user-background" data-uuid="'.concat(o,'" data-color="').concat(i,'" />'))).css({position:"absolute",top:0,left:0,"pointer-events":"none"}),r.append(l),c=new vd({container:l[0]}),l[0].__targetCanvas=c),l[0].__targetRange=e;var u=r.width(),f=r.height();c.resize(u,f);var p=ff.getSubRanges(e);return p.forEach((function(e){if(n.isRangeWrap(e))n.drawOneByOne(l,c,e,s);else{var t=n.getRelativeRect(l,e);c.clearRect(t),c.draw("Rect",Hv(Hv({},t),s))}})),p}},{key:"getNodeRect",value:function(e,t){if((e=ru(e)).isCard()&&"checkbox"===e.attr("data-lake-card")&&e.next()&&(e=e.next()),e.isElement()&&(t=e[0].getBoundingClientRect()),e.isText()){var n=document.createRange();n.selectNodeContents(e[0]),t=ff.getClientRect(n)}return t}},{key:"getCursorRect",value:function(e){var t=this.parentNode[0].getBoundingClientRect();if(e.startContainer){var n=e;ff.shrinkRange(n);var r=ff.getClientRect(n),o=ru(n.startContainer);if(o.isElement()&&0===r.height){var i=o[0].childNodes[n.startOffset];(i||(i=o.first()))&&(r=this.getNodeRect(i,r))}var a=r.top-t.top,c=r.left-t.left-2,s=r.height;return{left:c+"px",top:a+"px",height:s>0?s+"px":-1}}var l=e,u=Cl.removeUnit(l.css("outline-width")),f=l[0].getBoundingClientRect(),p=f.top-t.top-1,d=f.left-t.left;return u&&(p-=u+1,d-=2),{left:d+"px",top:p+"px",height:0}}},{key:"setCursorRect",value:function(e,t){if(-1!==t.height){if(0===t.height)return e.css(t),void e.addClass("lake-user-cursor-card");e.css(t),e.removeClass("lake-user-cursor-card")}else e.remove()}},{key:"showCursorInfo",value:function(e,t){var n=t.uuid,r=t.color;this.hideCursorInfoTimeoutIdMap[n]&&window.clearTimeout(this.hideCursorInfoTimeoutIdMap[n]);var o=e.find(".lake-user-cursor-trigger"),i=e.css("background-color");e.attr("data-old-background-color",i),o.addClass("lake-user-cursor-trigger-active"),e.css("background-color",r),o.css("background-color",r)}},{key:"hideCursorInfo",value:function(e){var t=e.find(".lake-user-cursor-trigger"),n=e.attr("data-old-background-color");t.removeClass("lake-user-cursor-trigger-active"),e.css("background-color",n),t.css("background-color",n)}},{key:"drawCursor",value:function(e,t){var n=this,r=this.parentNode,o=t.uuid,i=t.name,a=t.color,c=Cl.escape,s=this.getCursorRect(e),l=r.children('.lake-user-cursor[data-uuid="'.concat(o,'"]'));if(l.length>0)this.setCursorRect(l,s);else{var u='\n      <div class="lake-user-cursor" data-uuid="'.concat(o,'">\n        <div class="lake-user-cursor-trigger">').concat(c(i),"</div>\n      </div>\n      "),f=(l=ru(u)).find(".lake-user-cursor-trigger");this.setCursorRect(l,s),l.on("mouseenter",(function(){return n.showCursorInfo(l,t)}));var p=!0;l.on("transitionstart",(function(){p=!1})),l.on("transitionend",(function(){p=!0})),l.on("mouseleave",(function(){p&&n.hideCursorInfo(l)})),l.css("background-color",a),f.css("background-color",a),this.parentNode.append(l)}if(l[0])return l[0].__target=e,this.showCursorInfo(l,t),this.hideCursorInfoTimeoutIdMap[o]&&window.clearTimeout(this.hideCursorInfoTimeoutIdMap[o]),this.hideCursorInfoTimeoutIdMap[o]=window.setTimeout((function(){n.hideCursorInfo(l)}),2e3),l}},{key:"drawCardMask",value:function(e,t,n){var r=this,o=this.lang,i=this.parentNode,a=n.uuid,c=i[0].getBoundingClientRect(),s=e[0].getBoundingClientRect(),l=i.children('.lake-card-mask[data-uuid="'.concat(a,'"]'));if(l.length>0)return l[0].__targetNode=e[0],void l.css({left:s.left-c.left+"px",top:s.top-c.top+"px"});(l=ru('<div class="lake-card-mask" data-uuid="'.concat(a,'" />')))[0].__targetNode=e[0],l.css({left:s.left-c.left+"px",top:s.top-c.top+"px",width:s.width+"px",height:s.height+"px"}),l.on("mouseenter",(function(){r.showCursorInfo(t,n),dh.show(l,o.card.lockAlert,{placement:"bottomLeft"})})),l.on("mousemove",(function(e){var t=ru("div[data-lake-element=embed-tooltip]"),n=e.pageX-16,r=e.pageY+32;t.css({left:n+"px",top:r+"px"})})),l.on("mouseleave",(function(){r.hideCursorInfo(t),dh.hide()})),l.on("click",(function(e){e.preventDefault(),e.stopPropagation()})),l.on("mousedown",(function(e){e.preventDefault(),e.stopPropagation()})),i.append(l)}},{key:"setCardSelectedByOther",value:function(e,t){var n=t.uuid,r=t.color;if(r){var o=zn()(r);o.setAlpha(.3);var i,a=o.toRgbString();return e.selectByOther&&!e.state.selectedByOther&&(i=e.selectByOther(r,a)),e.state.selectedByOther=n,i}e.unselectByOther&&e.state.selectedByOther&&e.unselectByOther(),e.state.selectedByOther=!1}},{key:"setCardActivatedByOther",value:function(e,t){var n=t.uuid,r=t.color;if(r){var o=zn()(r);o.setAlpha(.3);var i,a=o.toRgbString();return e.activateByOther&&!e.state.activatedByOther&&(i=e.activateByOther(r,a)),e.state.activatedByOther=n,i}e.unactivateByOther&&e.state.activatedByOther&&e.unactivateByOther(),e.state.activatedByOther=!1}},{key:"drawRange",value:function(e,t){var n,r=this.card,o=this.parentNode,i=t.uuid,a=ru(e.commonAncestorContainer),c=r.components;if(r.isCenter(a)){var s=r.closest(a),l=r.getComponent(s);if(!l)return;n={cardRoot:s,component:l}}for(var u=0;u<c.length;u++){var f=c[u];n&&f.node[0]===n.cardRoot[0]||(f.component.state.activatedByOther===i&&this.setCardActivatedByOther(f.component,!1),o.children('.lake-card-mask[data-uuid="'.concat(i,'"]')).remove())}if(n){var p=n,d=p.cardRoot,h=p.component,m=this.setCardActivatedByOther(h,t)||d,v=this.drawCursor(m,t);!h.constructor.canCollab&&v&&this.drawCardMask(m,v,t)}else{for(var y=0;y<c.length;y++){var g=c[y],b=g.component,w=r.getCenter(g.node)[0];w&&b&&(e.isPointInRange(w,0)?this.setCardSelectedByOther(b,t):b.state.selectedByOther===i&&this.setCardSelectedByOther(b,!1))}var k=r.getSingleSelectedCard(e);if(k){var x=r.getComponent(k);if(x){var O=this.setCardSelectedByOther(x,t)||k;this.drawCursor(O,t)}}else{ff.shrinkRange(e);var C=this.drawBackground(e,t);e.collapsed||(C.forEach((function(t){t.collapsed||(e=t)})),ff.shrinkRange(e),e.collapse(!1)),this.drawCursor(e,t)}}}},{key:"_updateBackgroundPosition",value:function(){var e=this;Kv("rangeColoring.updateBackgroundPosition"),this.parentNode.children(".lake-user-background").each((function(t){var n=ru(t),r=t.__targetRange,o=n.attr("data-uuid"),i=n.attr("data-color");e.drawBackground(r,{uuid:o,color:i})}))}},{key:"updateCursorPosition",value:function(){var e=this;Kv("rangeColoring.updateCursorPosition"),this.parentNode.children(".lake-user-cursor").each((function(t){var n=ru(t),r=t.__target;if(r.startContainer||0!==ru(r).closest("body").length){var o=e.getCursorRect(r);e.setCursorRect(n,o)}else n.remove()}))}},{key:"updateCardMaskPosition",value:function(){Kv("rangeColoring.updateCardMaskPosition");var e=this.parentNode,t=e[0].getBoundingClientRect();e.children(".lake-card-mask").each((function(e){var n=ru(e),r=e.__targetNode;if(0!==ru(r).closest("body").length){var o=r.getBoundingClientRect();n.css({left:o.left-t.left+"px",top:o.top-t.top+"px"})}else n.remove()}))}},{key:"updatePosition",value:function(){this.updateBackgroundPosition(),this.updateCursorPosition(),this.updateCardMaskPosition()}},{key:"updateBackgroundAlpha",value:function(e){var t=this.getCursorRect(e);this.parentNode.children(".lake-user-cursor").each((function(e){var n=ru(e),r=n.find(".lake-user-cursor-trigger"),o=n.css("left"),i=n.css("top"),a=zn()(n.css("background-color"));t.left===o&&t.top===i?a.setAlpha(.3):a.setAlpha(1),n.css("background-color",a.toRgbString()),r.css("background-color",a.toRgbString())}))}},{key:"render",value:function(e,t,n){var r=this,o=this.editArea,i=this.parentNode,a=this.card,c={};e.forEach((function(e){var i=e.path,a=e.uuid,s=e.active,l=t.find((function(e){return e.uuid===a}));if(l&&(n||s))if(0!==i.length){var u=fd.fromPath(o,i);r.drawRange(u,l)}else c[a]=!0})),i.children("[data-uuid]").each((function(e){var n=(e=ru(e)).attr("data-uuid");if(!t.find((function(e){return e.uuid===n}))||c[n]){if(e.hasClass("lake-card-mask")){var o=ru(e[0].__targetNode),i=a.getComponent(o);i&&i.state.activatedByOther===n&&r.setCardActivatedByOther(i,!1)}e.remove()}}));for(var s=a.components,l=function(e){var n=s[e].component;if(n){var o=t.find((function(e){return e.uuid===n.state.selectedByOther}));o&&!c[o.uuid]||r.setCardSelectedByOther(n,!1)}},u=0;u<s.length;u++)l(u)}}])&&Wv(t.prototype,n),r&&Wv(t,r),e}();function Xv(e){return(Xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gv(e,t){return(Gv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qv(e);if(t){var o=Qv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jv(this,n)}}function Jv(e,t){return!t||"object"!==Xv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qv(e){return(Qv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ey=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gv(e,t)}(i,e);var t,n,r,o=Zv(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).engine=e,n.editArea=t,n.mode="lock",n.version=0,n.create(),n}return t=i,(n=[{key:"destroy",value:function(){delete this.data}},{key:"create",value:function(){this.data=lv.fromDOM(this.editArea[0])}},{key:"apply",value:function(e){if(e.length)try{this.data=Hp.a.type.apply(this.data,e)}catch(e){console.log(e)}}},{key:"submitOp",value:function(e){this.apply(e)}}])&&$v(t.prototype,n),r&&$v(t,r),i}(Sh.EventEmitter2);function ty(e){return(ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ny(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ry(e,t){return(ry=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ay(e);if(t){var o=ay(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iy(this,n)}}function iy(e,t){return!t||"object"!==ty(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ay(e){return(ay=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cy=Lu()("engine:ot"),sy=["#597EF7","#73D13D","#FF4D4F","#9254DE","#36CFC9","#FFA940","#F759AB","#40A9FF"],ly=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ry(e,t)}(i,e);var t,n,r,o=oy(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=e.editArea,r=e.parentNode;return(t=o.call(this)).engine=e,t.editArea=n,t.members=[],t.currentMember={},t.selectionData=new Vv(e),t.rangeColoring=new Yv(e,{parentNode:r}),t.applier=new zv(e),t.mutation=new Rv(n,{engine:e}),t.mutation.on("ops",(function(e){t.handleOps(e)})),t.updateRangeColoringPosition=nm()((function(){t.updateSelectionData(),t.rangeColoring.updatePosition()}),100),t.clientId=fd.randomString(),t.waitingOps=[],t.applyWaitingOps=nm()((function(){var e=fd.reduceOperations(t.waitingOps);if(e.length>0){t.waitingOps=[],t.applyAll(e),t.engine.history.collectRemoteOps(e);var n=t.selectionData.getAll();t.doRangeColoring(n)}}),0),e.on("select",(function(){t.updateSelectionData()})),t}return t=i,(n=[{key:"destroy",value:function(){this.doc&&this.doc.destroy(),this.stopMutation(),this.rangeColoring.destroy(),this.mutation=null}},{key:"initLockMode",value:function(){this.stopMutation();var e=this.engine,t=this.editArea;this.doc=new ey(e,t),this.mutation.setDoc(this.doc),this.startMutation()}},{key:"init",value:function(e){var t=this,n=!this.doc||"lock"===this.doc.mode;this.stopMutation(),n||this.doc.destroy(),this.doc=e,this.mutation.setDoc(e),this.syncData(),e.on("op",(function(e,n){t.clientId!==n&&(t.waitingOps=t.waitingOps.concat(e),t.applyWaitingOps())})),this.initSelection(),this.startMutation(),n&&this.emit("load")}},{key:"handleOps",value:function(e){var t=this.doc;this.submitOps(e),this.engine.history.collectSelfOps(e),"lock"!==t.mode&&this.updateRangeColoringPosition()}},{key:"submitOps",value:function(e){this.doc.submitOp(e,{source:this.clientId})}},{key:"applyAll",value:function(e){this.stopMutation(),cy("applyAll",JSON.stringify(e)),this.applier.applyRemoteOperations(e),this.startMutation()}},{key:"syncData",value:function(){var e=this.editArea,t=this.doc;if(Array.isArray(t.data)&&t.data.length>0&&"lock"!==t.mode)return cy("syncData:setJsonValue",JSON.stringify(t.data)),void this.setData(t.data);cy("doc.version=".concat(t.version));var n=lv.fromDOM(e[0]);t.data?(cy("syncData:submitOp",JSON.stringify(n)),t.submitOp([{p:[],oi:n}],{source:this.clientId})):(cy("syncData:create",JSON.stringify(n)),t.create(n,"json0",{source:this.clientId}))}},{key:"setData",value:function(e){this.engine.setJsonValue(e)}},{key:"startMutation",value:function(){this.mutation&&(cy("startMutation"),this.mutation.start())}},{key:"stopMutation",value:function(){this.mutation&&(cy("stopMutation"),this.mutation.stop())}},{key:"setMemberIdToUuid",value:function(e){e.__uuid=e.uuid,e.uuid=String(e.id).toLowerCase()}},{key:"setMemberUuidToId",value:function(e){e.uuid=e.__uuid,delete e.__uuid}},{key:"setMemberColor",value:function(e){var t=((e.iid||1)-1)%sy.length;e.color=sy[t]}},{key:"getMembers",value:function(){var e=this,t=gd()(this.members);return t.forEach((function(t){e.setMemberUuidToId(t)})),cy("getMembers",t),t}},{key:"setMembers",value:function(e){var t=this;(e=gd()(e)).forEach((function(e){t.setMemberIdToUuid(e),t.setMemberColor(e)})),this.members=e,cy("setMembers",e)}},{key:"addMember",value:function(e){e=gd()(e),this.setMemberIdToUuid(e),this.setMemberColor(e),this.members.find((function(t){return t.uuid===e.uuid}))||(this.members.push(e),cy("addMember",e))}},{key:"removeMember",value:function(e){e=gd()(e),this.setMemberIdToUuid(e),this.members=this.members.filter((function(t){return t.uuid!==e.uuid})),this.selectionData.remove(e.uuid);var t=this.selectionData.getAll();this.doRangeColoring(t),cy("removeMember",e)}},{key:"setCurrentMember",value:function(e){e=gd()(e),this.setMemberIdToUuid(e),this.setMemberColor(e),e=this.members.find((function(t){return t.uuid===e.uuid})),this.currentMember=e,cy("setCurrentMember",e)}},{key:"doRangeColoring",value:function(e,t){var n=this.members,r=this.currentMember;e=e.filter((function(e){return e.uuid!==r.uuid})),this.rangeColoring.render(e,n,t),this.rangeColoring.updatePosition()}},{key:"updateSelectionData",value:function(){if(!this.engine.domEvent.isComposing){var e=this.selectionData.updateAll(this.currentMember,this.members).range;this.rangeColoring.updateBackgroundAlpha(e)}}},{key:"initSelection",value:function(){var e=this.selectionData.updateAll(this.currentMember,this.members).data;this.doRangeColoring(e,!0)}}])&&ny(t.prototype,n),r&&ny(t,r),i}(Sh.EventEmitter2),uy={dnd:{tips:"Drag to reposition"},copy:{tips:"Copy",success:"Copied successfully",error:"Copy error"},delete:{tips:"Delete"},copyAnchor:{tips:"Copy paragraph link"},link:{linkPlaceholder:"Please enter a link or anchor and press Enter to confirm",linkSave:"Apply",linkEdit:"Change",linkDelete:"Remove link",linkOpen:"Open link",linkText:"link"},copyContent:{tips:"Copy content"},maximize:{tips:"Maximize",back:"Back to document"},expand:{tips:"Embedded preview"},collapse:{tips:"Compact display"},card:{lockAlert:"Please wait for the other user to finish editing"},preferences:{tips:"Preferences"},download:{tips:"Download"},copyCardLink:{tips:"Copy card link"},preview:{tips:"Preview"},gotoLink:{tips:"Open in new tab"},docTitle:{tips:"Title"},docCard:{tips:"Card"},docEmbed:{tips:"Embed"},more:{tips:"More"},heightMode:{default:"Default Height",adaptive:"Adaptive Height"},blockFallback:{mainTip:"Card cannot be displayed",subTip:'Please visit <a href="%s" target="_blank">Yuque</a> to see the effect'},inlineFallback:{tip:"Card cannot be displayed",tooltip:'Please visit <a href="%s" target="_blank">Yuque</a> to see the effect'}},fy={dnd:{tips:"拖动调整位置"},copy:{tips:"复制",success:"复制成功",error:"复制失败"},delete:{tips:"删除"},copyAnchor:{tips:"复制段落链接"},link:{linkPlaceholder:"请输入链接或锚点，回车确认",linkSave:"保存",linkEdit:"编辑",linkDelete:"取消链接",linkOpen:"打开链接",linkText:"链接"},copyContent:{tips:"复制内容"},maximize:{tips:"最大化",back:"返回文档"},expand:{tips:"嵌入预览"},collapse:{tips:"紧凑展示"},card:{lockAlert:"请等待对方编辑完毕后，再进入编辑"},preferences:{tips:"设置"},download:{tips:"下载"},copyCardLink:{tips:"复制卡片链接"},preview:{tips:"预览"},gotoLink:{tips:"在新标签页中打开"},docTitle:{tips:"标题"},docCard:{tips:"卡片"},docEmbed:{tips:"嵌入"},more:{tips:"更多"},heightMode:{default:"默认高度",adaptive:"自适应高度"},blockFallback:{mainTip:"该卡片在客户端暂时无法显示",subTip:'客户端暂未支持该类型卡片，可打开 <a href="%s" target="_blank">语雀网页版</a> 查看'},inlineFallback:{tip:"该卡片在客户端暂时无法显示",tooltip:'客户端暂未支持该类型卡片，可打开 <a href="%s" target="_blank">语雀网页版</a> 查看'}};function py(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var dy=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__engine=null,this.__providers={},this.__engine=t}var t,n,r;return t=e,(n=[{key:"getMeta",value:function(e,t){return this.__verifyProvider(e),this.__providers[e].getMeta(t)}},{key:"hasMeta",value:function(e,t){return this.__verifyProvider(e),this.__providers[e].hasMeta(t)}},{key:"getRawMeta",value:function(e){return this.__verifyProvider(e),this.__providers[e].getRawMeta()}},{key:"setMeta",value:function(e,t){this.__verifyProvider(e),this.__providers[e].setRawMeta(t)}},{key:"registerProvider",value:function(e,t){this.__providers[e]=t}},{key:"__verifyProvider",value:function(e){if(!this.__providers[e])throw new Error('named "'.concat(e,'" meta provider is not found'))}}])&&py(t.prototype,n),r&&py(t,r),e}();var hy=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache={},this.get=function(e){return t.cache[e]},this.set=function(e,n){t.cache[e]=n}};function my(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vy={en:uy,"zh-cn":fy},yy=new Zh,gy=new em;function by(){var e,t,n,r,o=ru("<p />"),i=this.change.getRange(),a=$u(i);a&&(e=ru(a.anchor).next(),t=ru(a.focus).prev(),n=ru(a.anchor).parent(),r=ru(a.focus).parent()),e&&a.anchor.remove(),t&&a.focus.remove(),this.editArea.children().each((function(e){(e=ru(e)).isBlock()?o.children().length>0&&(e.before(o),o=ru("<p />")):o.append(e)})),o.children().length>0&&this.editArea.append(o),e&&e.before(a.anchor),t&&t.after(a.focus),!a||e||t||(n.isRoot()&&o.append(a.anchor),r.isRoot()&&o.append(a.focus),o.children().length>0&&this.editArea.append(o)),this.editArea.children().each((function(e){if(e=ru(e),Nu.removeMinusStyle(e,"text-indent"),e.isHeading()){var t=e.children().length;if(0!==t){var n=e.first();1===t&&"span"===n.name&&function(e){return[Ks,Us,Ws].indexOf(e.attr(Hs))>=0}(n)&&e.prepend("<br />")}else e.remove()}})),Gu(i,a)}function wy(){var e=this.editArea,t=this.options;e.attr(Ml,Nl),e.attr({contenteditable:"true",role:"textbox",autocorrect:"en"===this.options.lang?"on":"off",autocomplete:"off",spellcheck:"en"===this.options.lang?"true":"false","data-gramm":"false"}),e.hasClass("lake-engine")||e.addClass("lake-engine"),void 0!==t.tabIndex&&e.attr("tabindex",t.tabIndex),void 0!==t.className&&e.addClass(t.className)}function ky(){var e=this.editArea,t=this.options;e.removeAttr(Ml),e.removeAttr("contenteditable"),e.removeAttr("role"),e.removeAttr("autocorrect"),e.removeAttr("autocomplete"),e.removeAttr("spellcheck"),e.removeAttr("data-gramm"),e.removeAttr("tabindex"),e.removeClass(t.className),this.card.closest(e)&&e.removeClass("lake-engine")}function xy(){gy.execute(this,"initialize"),gy.execute(this,"bothInit")}function Oy(){var e=this,t=this.options.meta;t&&Object.keys(t).forEach((function(n){e.metaManager.setMeta(n,t[n])}))}function Cy(e){if(ru(e.target).isRoot()){var t=this.editArea.last();if(t){if(!t.isCard()&&"blockquote"!==t.name)return;if(t[0].offsetTop+t[0].clientHeight>e.offsetY)return}var n=ru("<p><br /></p>");this.editArea.append(n);var r=this.change.getRange();r.selectNodeContents(n[0]),r.collapse(!1),this.change.select(r)}}function _y(){var e=this;this.editArea.on("input",(function(t){if(!e.isReadonly&&!e.card.closest(t.target)){var n=e.change.getRange();lp.addOrRemoveBr(n,"left"),e.setUserChanged()}})),this.editArea.on("click",(function(t){return Cy.call(e,t)})),this.editArea.on("keydown",(function(t){return rv.call(e,t)})),this.editArea.on("keyup",(function(t){return iv.call(e,t)})),this.editArea.on("focus",(function(){e._isFocused=!0,e.change.clearBackupRange(),e.parentEngine&&e.parentEngine.change.clearBackupRange(),e.event.trigger("focus")})),this.editArea.on("blur",(function(){e._isFocused=!1,e.change._backupRange=e.change.getRange().cloneRange(),e.event.trigger("blur")}))}var Ey=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._forceRendering=!1,this.toolbar={set:function(){},updateState:function(){},restore:function(){},disable:function(){}},this.sidebar={set:function(){},close:function(){},restore:function(){}},this.id="engine-".concat(sl()),this.editArea=ru(t),this.options=n||{enableDeferredRendering:!1},this.globalData=new hy,wy.call(this),this.parentNode=ru(this.options.parentNode||document.body),this.parentEngine=this.options.parentEngine,this.scrollNode=this.options.scrollNode,this.lang=vy[this.currentLanguage()],this._userChanged=!1,this.deferredRendering=!1,this.schema=new kd,this.schema.add(Ph),this.conversion=new Dh,this.metaManager=new dy(this),this.change=new Sm(this.editArea,{engine:this,schema:this.schema,conversion:this.conversion,card:yy,onChange:function(e){return r.event.trigger("change",e)},onSelect:function(){return r.event.trigger("select")},onSetValue:function(){return r.event.trigger("setvalue")}}),this.doc=this.change.doc,this.history=this.change.history,this.domEvent=this.change.domEvent,this.event=new Fl(this),this.asyncEvent=new Sh.EventEmitter2({wildcard:!0,delimiter:":",newListener:!1,maxListeners:100}),this.command=new Mh(this.change),this.hotkey=new Tm(this.command),this.card=yy,this.ot=new ly(this),this.isReadonly=!1,this.isDestroyed=!1,this._isFocused=document.activeElement===this.editArea[0],this.setTypography("classic"===this.options.typography),this.typography=this.options.typography||"traditional",xy.call(this),_y.call(this),Oy.call(this),this.initCut();var o=location.search||"";this._forceRendering=-1!==o.indexOf("forceRendering")||-1!==o.indexOf("export_type")}var t,n,r;return t=e,(n=[{key:"currentLanguage",value:function(){return this.options.lang||"zh-cn"}},{key:"setMeta",value:function(e,t){return this.metaManager.setMeta(e,t),this}},{key:"getMeta",value:function(e,t){return this.metaManager.getMeta(e,t)}},{key:"hasMeta",value:function(e,t){return this.metaManager.hasMeta(e,t)}},{key:"hasUserChanged",value:function(){return this._userChanged}},{key:"resetUserChange",value:function(){this._userChanged=!1}},{key:"setUserChanged",value:function(){this._userChanged=!0,this.event.trigger("userchanged")}},{key:"getHtml",value:function(e){return jy(this.editArea[0].cloneNode(!0),e)}},{key:"getHtmlWithStopNode",value:function(e,t){return jy(Ru(this.editArea[0],t),e)}},{key:"setTypography",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?"classic":"traditional",n=this.typography;this.typography=t,e?(this.editArea.addClass("lake-typography-classic"),this.editArea.removeClass("lake-typography-traditional")):(this.editArea.addClass("lake-typography-traditional"),this.editArea.removeClass("lake-typography-classic")),this.typography!==n&&(this.event.trigger("typographychange",this.typography,n),this.event.trigger("select"))}},{key:"getTypography",value:function(){return this.typography}},{key:"initCut",value:function(){var e=this;this.editArea.on("cut",(function(t){t.stopPropagation(),Ap(t,void 0,(function(){Np(),e.change.change()}))}))}},{key:"getGlobalData",value:function(e){return this.globalData.get(e)}},{key:"setGlobalData",value:function(e,t){return this.globalData.set(e,t)}},{key:"destroy",value:function(){this.event.trigger("beforedestory"),ky.call(this),this.editArea.removeAllEvents(),this.domEvent.destroy(),this.hotkey.destroy(),this.card.gc(),this.ot&&this.ot.destroy(),this.change.clearChangeTimer(),this.isDestroyed=!0}},{key:"isSub",value:function(){return this.editArea.closest(nl).length>0}},{key:"readonly",value:function(e){this.isReadonly!==e&&(e?(this.hotkey.disable(),this.editArea.attr("contenteditable","false")):(this.hotkey.enable(),this.editArea.attr("contenteditable","true")),this.event.trigger("readonly",e),this.isReadonly=e,zu.log("engine.readonly(".concat(e,")")))}},{key:"isDeferredRendering",value:function(){return this.options.enableDeferredRendering&&this.deferredRendering&&!this._forceRendering}},{key:"startDeferredRendering",value:function(){this.deferredRendering=!0}},{key:"stopDeferredRendering",value:function(){this.deferredRendering=!1}},{key:"on",value:function(e,t,n){return this.event.on(e,t,n),this}},{key:"off",value:function(e,t){return this.event.off(e,t),this}},{key:"setValue",value:function(e,t){return this.readonly(!1),this.startDeferredRendering(),this.event.trigger("beforesetvalue"),this.change.setValue(e,t),by.call(this),this.stopDeferredRendering(),this.card.renderController.run(this),this}},{key:"setJsonValue",value:function(e){for(var t=ru(lv.toDOM(e)),n=t[0].attributes,r=0;r<n.length;r++){var o=n.item(r),i=o.nodeName,a=o.nodeValue;/^data-selection-/.test(i)&&"null"!==a&&this.editArea.attr(i,a)}var c=t.html();this.change.setValue(c);var s=this.change.getRange();return Xu(s),this.change.select(s),by.call(this),this}},{key:"setDefaultValue",value:function(e){this.setValue(e)}},{key:"openLinkByNode",value:function(e){(e=ru(e)[0])&&"A"===e.nodeName&&e.hasAttribute("href")&&this.openLink(e.href,e.getAttribute("href"),e.hasAttribute("target"))}},{key:"openLink",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"boolean"==typeof t?(n=t,t=e):t||(t=e),n?window.open(e):location.href=e}},{key:"getValue",value:function(){return this.change.getValue()}},{key:"getPureValue",value:function(){return gl(this.change.getValue())}},{key:"isFocus",value:function(){return this._isFocused}},{key:"generateElementID",value:function(e){return Hl(this.editArea[0],e)}},{key:"focus",value:function(){return this.change.focus()}},{key:"focusToStart",value:function(){return this.change.focusToStart()}},{key:"focusToEnd",value:function(){return this.change.focusToEnd()}},{key:"blur",value:function(){return this.change.blur()}},{key:"messageSuccess",value:function(e){console.log("messageSuccess: ",e)}},{key:"messageError",value:function(e){console.error("messageError: ",e)}},{key:"reset",value:function(e){var t=this;e&&this.setDefaultValue(e),this.history.reset(),this.resetUserChange(),setTimeout((function(){t.focusToStart()}),64)}}])&&my(t.prototype,n),r&&my(t,r),e}();function jy(e,t){if(!t)throw"Need to pass in a parser";return e.removeAttribute("contenteditable"),e.removeAttribute("tabindex"),e.removeAttribute("autocorrect"),e.removeAttribute("autocomplete"),e.removeAttribute("spellcheck"),e.removeAttribute("data-gramm"),e.removeAttribute("role"),t.parse(e).html}Ey.create=function(e,t){return new Ey(e,t)},Ey.card=yy,Ey.plugin=gy;var Sy=Ey;function Py(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ry=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pendingCount=0,this._eventEmitter=null,this._waiting=new Set,this._eventEmitter=t}var t,n,r;return t=e,(n=[{key:"isReady",value:function(){return 0===this._pendingCount}},{key:"waitReady",value:function(){var e=this,t=new Promise((function(n){0===e._pendingCount?n():e._waiting.add({promise:t,resolve:n})}));return t}},{key:"add",value:function(){var e=this,t=!1;return this._pendingCount++,function(){t||(t=!0,e._pendingCount--,e._check())}}},{key:"_check",value:function(){0===this._pendingCount&&(this._waiting.forEach((function(e){(0,e.resolve)()})),this._waiting.clear())}}])&&Py(t.prototype,n),r&&Py(t,r),e}();function Ty(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Dy={en:uy,"zh-cn":fy};function Ay(){var e=this,t=this.options.meta;t&&Object.keys(t).forEach((function(n){e.metaManager.setMeta(n,t[n])}))}var My=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._allowDeferredRendering=!1,this.readyStateManager=null,console.time("contentView"),this.id="contentView-".concat(sl()),this.editArea=t,this.options=n||{},this.lang=Dy[this.options.lang||"zh-cn"],this.card=this.options.card,this.getScrollNode=this.options.getScrollNode,this.metaManager=new dy(this),this.plugin=this.options.plugin,this.schema=new kd,this.schema.add(Ph),this.conversion=new Dh,this.event=new Fl(this),this.isReadonly=!0,this.globalData=new hy,this.readyStateManager=new Ry,this.setTypography("classic"===this.options.typography),this.typography=this.options.typography||"traditional",this.plugin.execute(this,"bothInit"),Ay.call(this);var r=location.search||"",o=-1!==r.indexOf("forceRendering")||-1!==r.indexOf("export_type");this._allowDeferredRendering=this.getScrollNode&&this.options.enableDeferredRendering&&!o&&!function(){try{return"doc_embed"===new URL(location.href).searchParams.get("view")}catch(e){return!0}}(),console.timeEnd("contentView")}var t,n,r;return t=e,(n=[{key:"isDeferredRendering",value:function(){return this._allowDeferredRendering}},{key:"isReady",value:function(){return this.readyStateManager.isReady()}},{key:"waitReady",value:function(){return this.readyStateManager.waitReady()}},{key:"setMeta",value:function(e,t){return this.metaManager.setMeta(e,t),this}},{key:"getMeta",value:function(e,t){return this.metaManager.getMeta(e,t)}},{key:"hasMeta",value:function(e,t){return this.metaManager.hasMeta(e,t)}},{key:"on",value:function(e,t,n){return this.event.on(e,t,n),this}},{key:"off",value:function(e,t){return this.event.off(e,t),this}},{key:"setTypography",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?"classic":"traditional",n=this.typography;this.typography=t,e?(this.editArea.addClass("lake-typography-classic"),this.editArea.removeClass("lake-typography-traditional")):(this.editArea.addClass("lake-typography-traditional"),this.editArea.removeClass("lake-typography-classic")),this.typography!==n&&this.event.trigger("typographychange",this.typography,n)}},{key:"getTypography",value:function(){return this.typography}},{key:"openLinkByNode",value:function(e){(e=ru(e)[0])&&"A"===e.nodeName&&e.hasAttribute("href")&&this.openLink(e.href,e.getAttribute("href"),e.hasAttribute("target"))}},{key:"openLink",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"boolean"==typeof t?(n=t,t=e):t||(t=e),n?window.open(e):location.href=e}},{key:"generateElementID",value:function(e){return Hl(this.editArea[0],e)}},{key:"findElementById",value:function(e){return function(e,t){if(t.nodeType!==Node.ELEMENT_NODE)return null;var n=t.querySelector("[".concat(zl,'="').concat(e,'"]'));if(n)return n;if(-1===e.indexOf("_"))return null;var r=Vl(e.split("_"),3),o=r[1],i=r[2];if(!o||!i)return console.warn("invalid element id"),null;var a=t.querySelectorAll(o),c=a.length;if(0===c)return null;if(a[i].getAttribute(zl)===e)return a[i];var s=i,l=-1;do{var u=a[s];if(u){if(u.hasAttribute(zl)){if(u.getAttribute(zl)===e)return u}else if(Xl(u,s)===e)return u;s+=l,l=l>0?-(l+1):-l,(s<0||s>=c)&&(s+=l,l=l>0?-(l+1):-l)}}while(s>=0&&s<c);return null}(e,this.editArea[0])}},{key:"getGlobalData",value:function(e){return this.globalData.get(e)}},{key:"setGlobalData",value:function(e,t){return this.globalData.set(e,t)}}])&&Ty(t.prototype,n),r&&Ty(t,r),e}(),Ny={create:function(e,t){return new My(e,t)}};function Iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ly=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hasFocus=!1,this.onClick=function(e){if(n.card){var t=e.hasClass("lake-checkbox-checked");t?(e.removeClass("lake-checkbox-checked"),n.cardRoot.find(".lake-checkbox-input").removeAttr("checked")):(e.addClass("lake-checkbox-checked"),n.cardRoot.find(".lake-checkbox-input").attr("checked","checked")),n.value=!t,n.card.setValue(n.cardRoot,n.value),n.setListChecked(n.value)}},t&&(this.engine=t,this.card=t.card)}var t,n,r;return t=e,(n=[{key:"setListChecked",value:function(e){var t=hf(this.cardRoot);t.hasClass("lake-list-task")&&t.attr("data-lake-checked",!!e)}},{key:"render",value:function(e,t){var n=this,r=ru('\n    <span class="lake-checkbox">\n      <input type="checkbox" class="lake-checkbox-input" value="">\n      <span class="lake-checkbox-inner"></span>\n    </span>\n    ');t&&(r.addClass("lake-checkbox-checked"),r.find(".lake-checkbox-input").attr("checked","checked")),e.append(r),this.setListChecked(t),this.engine&&r.on("click",(function(){return n.onClick(r)}))}}])&&Iy(t.prototype,n),r&&Iy(t,r),e}();function Fy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Ly.type="inline",Ly.singleSelectable=!1,Ly.canCollab=!0;var zy=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.engine=t,this.card=t.card)}var t,n,r;return t=e,(n=[{key:"embedToolbar",value:function(){return[{type:"dnd"},{type:"copy"},{type:"separator"},{type:"delete"}]}},{key:"select",value:function(){this.cardRoot.find('[data-card-element="center"]').addClass("lake-hr-select")}},{key:"unselect",value:function(){this.cardRoot.find('[data-card-element="center"]').removeClass("lake-hr-select")}},{key:"activate",value:function(){this.cardRoot.find('[data-card-element="center"]').addClass("lake-hr-active")}},{key:"unactivate",value:function(){this.cardRoot.find('[data-card-element="center"]').removeClass("lake-hr-active")}},{key:"selectByOther",value:function(e,t){var n=this.cardRoot.find('[data-card-element="center"]');n.css("background-color",t),n.find("hr").css("background-color",t)}},{key:"unselectByOther",value:function(){var e=this.cardRoot.find('[data-card-element="center"]');e.css("background-color",""),e.find("hr").css("background-color","")}},{key:"activateByOther",value:function(e,t){this.selectByOther(e,t)}},{key:"unactivateByOther",value:function(){this.unselectByOther()}},{key:"render",value:function(e){e.append("<hr />")}}])&&Fy(t.prototype,n),r&&Fy(t,r),e}();function By(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}zy.type="block",zy.autoActivate=!1;var Vy=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._onClick=function(e){e.stopPropagation();var n=e.target;n.nodeName===Node.TEXT_NODE&&(n=n.parentNode),"A"===n.nodeName&&(e.preventDefault(),(t.engine||t.contentView).openLinkByNode(n))}}var t,n,r;return t=e,(n=[{key:"embedToolbar",value:function(){return[{type:"delete"}]}},{key:"didInsert",value:function(){this.container.on("click",this._onClick,!1)}},{key:"destroy",value:function(){this.container.off("click",this._onClick,!1)}},{key:"render",value:function(e){var t="zh-cn"===((this.engine||this.contentView).options.lang||"zh-cn")?fy:uy;e.empty(),e.append(function(e){var t=Lh()(window,"appData.isYuque")?"https://www.yuque.com/":"https://yuque.antfin-inc.com/",n=e.blockFallback.subTip.replace("%s",encodeURI(t));return'\n    <div class="lake-block-fallback">\n      <div class="inner-content">\n        <img src="https://gw.alipayobjects.com/zos/bmw-prod/dc01c10b-e433-4bb3-bf7e-8b679725b823.svg" class="lake-block-fallback-crown-icon">\n        <div class="inner-tips">\n          <div class="main-tip">'.concat(pl(e.blockFallback.mainTip),'</div>\n          <div class="sub-tip">').concat(n,"</div>\n        </div>\n      </div>\n    </div>\n  ")}(t))}}])&&By(t.prototype,n),r&&By(t,r),e}();function qy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Vy.type="block",Vy.autoActivate=!1;var Hy=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$rootNode=null,this._onMouseDown=function(e){e.preventDefault()},this._onMouseEnter=function(){t.$rootNode&&t.$rootNode.addClass("show")},this._onMouseLeave=function(){t.$rootNode&&t.$rootNode.removeClass("show")},this._onClick=function(e){e.stopPropagation();var n=e.target;n.nodeName===Node.TEXT_NODE&&(n=n.parentNode),"A"===n.nodeName&&(e.preventDefault(),t.$rootNode&&t.$rootNode.removeClass("show"),(t.engine||t.contentView).openLinkByNode(n))}}var t,n,r;return t=e,(n=[{key:"destroy",value:function(){this._unbindEvent()}},{key:"_bindEvent",value:function(){this.$rootNode&&(this.$rootNode.on("mousedown",this._onMouseDown,!1),this.$rootNode.on("mouseenter",this._onMouseEnter,!1),this.$rootNode.on("mouseleave",this._onMouseLeave,!1),this.$rootNode.on("click",this._onClick,!1))}},{key:"_unbindEvent",value:function(){this.$rootNode&&(this.$rootNode.off("mousedown",this._onMouseDown,!1),this.$rootNode.off("mouseenter",this._onMouseEnter,!1),this.$rootNode.off("mouseleave",this._onMouseLeave,!1),this.$rootNode.off("click",this._onClick,!1))}},{key:"render",value:function(e){var t="zh-cn"===((this.engine||this.contentView).options.lang||"zh-cn")?fy:uy;this._unbindEvent(),e.empty(),this.$rootNode=ru(function(e){var t=Lh()(window,"appData.isYuque")?"https://www.yuque.com/":"https://yuque.antfin-inc.com/",n=e.inlineFallback.tooltip.replace("%s",encodeURI(t));return'\n    <div class="lake-inline-fallback">\n      <img src="https://gw.alipayobjects.com/zos/bmw-prod/1a587ec9-10ac-4204-96f4-f259c5f6c2c7.svg" class="lake-inline-fallback-icon">\n      <div class="inner-tips">'.concat(pl(e.inlineFallback.tip),'</div>\n\n      <div class="fallback-tooltip ant-tooltip ant-tooltip-placement-bottomLeft">\n        <div class="ant-tooltip-content">\n          <div class="ant-tooltip-arrow"></div>\n          <div class="ant-tooltip-inner" role="tooltip">\n            <span>').concat(n,"</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  ")}(t)),e.append(this.$rootNode),this._bindEvent()}}])&&qy(t.prototype,n),r&&qy(t,r),e}();Hy.type="inline";var Uy=/(?:[\u0100-\uffff\s]|^)https?:\/\/(?:[^\/.]+?\.)+?[^\/.]+?(?:\/\S*?)?(?:(?=[\u0100-\uffff\s])|$)/g;function Wy(){var e=[{color:zn()(this.editArea.css("color")).toHex()},{"background-color":zn()("white").toHex()},{"font-size":this.editArea.css("font-size")}],t=this.editArea.closest(nl);if(t.length>0){var n=t.closest(Il);e.push({color:zn()(n.css("color")).toHex()}),e.push({"background-color":zn()(n.css("background-color")).toHex()})}return e}function Ky(e){var t=this,n=Wy.call(this),r=Nu.fetchAllChildren(e);r.forEach((function(e){(e=ru(e)).isCard()||(e.isElement()&&n.forEach((function(t){var n=Object.keys(t)[0],r=t[n],o=e[0].style[n];o&&(/color$/.test(n)&&(o=zn()(o).toHex()),o===r&&e.css(n,""))})),Nu.removeMinusStyle(e,"text-indent"),"span"===e.name&&"table"===t.domEvent.copySource&&e.css("background-color",""),["ol","ul"].includes(e.name)&&e.css("padding-left",""),e.isElement()&&(e.attr("style")||e.removeAttr("style")),"span"===e.name&&0===Object.keys(e.attr()).length&&0===Object.keys(e.css()).length&&(""===e.text().trim()||e.first()&&(e.first().isMark()||e.first().isBlock()))?lp.unwrapNode(e):e.isBlock()&&lp.brToParagraph(e))})),(r=Nu.fetchAllChildren(e)).forEach((function(e){if((e=ru(e)).parent())if(/^docs-internal-guid-/.test(e.attr("id")))lp.unwrapNode(e);else if(!e.attr(Zs))if(!e.isBlock()||"p"===e.attr("data-type")||e.isVoid()||e.isSolid()||""!==e.html()){if("p"===e.attr("data-type")&&e.removeAttr("data-type"),"li"===e.name&&["ol","ul"].indexOf(e.parent().name)<0){var t=ru("<ul />");return e.before(t),void t.append(e)}if(["ol","ul"].indexOf(e.name)>=0&&["ol","ul"].indexOf(e.parent().name)>=0){var n=ru("<li />");return e.before(n),void n.append(e)}if(["ol","ul"].indexOf(e.name)>=0&&"li"===e.parent().name&&(e.prev()||e.next())){var r,o=e.parent(),i=o.parent().hasClass("lake-list");return o.children().each((function(e){if(e=ru(e),!Nu.isEmptyNodeWithTrim(e)){var t=["ol","ul"].indexOf(e.name)>=0;r&&!t||(r=ru(i?'<li class="lake-list-node lake-list-task" />':"<li />"),o.before(r)),r.append(e),t&&(r=null)}})),void o.remove()}if(!("p"===e.name&&["ol","ul"].indexOf(e.parent().name)>=0))return e.isBlock()&&!e.isVoid()&&""===e.html().trim()&&(e.isHeading()||"li"===e.name)&&e.html("<br />"),e.isHeading()&&"li"===e.parent().name?(1===e.children().length&&"br"===e.first().name||e.after("<br />"),void lp.unwrapNode(e)):void 0;lp.setNode(e,"<li />")}else e.remove()}))}function Yy(e){Nu.fetchAllChildren(e).forEach((function(e){(e=ru(e)).isElement()&&lp.unwrapNode(e)}))}function Xy(e){var t=this;Ky.call(this,e);var n=this.change.getRange(),r=ru(n.commonAncestorContainer);if(r.closest("code").length>0)Yy.call(this,e);else{if(r.isText()&&n.startContainer===n.endContainer){var o=r[0].nodeValue,i=o.substr(0,n.startOffset),a=o.substr(n.endOffset);if(/\[.*?\]\($/.test(i)&&/^\)/.test(a))return void Yy.call(this,e)}var c=Nu.fetchAllChildren(e);c.forEach((function(e){e=ru(e),t.event.trigger("paste:each",e)})),(c=Nu.fetchAllChildren(e)).forEach((function(e){"pre"===(e=ru(e)).name&&e.find(rl).length>0&&lp.unwrapNode(e)})),Nu.normalize(e),e.normalize&&e.normalize(),(c=Nu.fetchAllChildren(e)).forEach((function(e){e=ru(e),["ol","ul"].includes(e.name)&&lp.addListStartNumber(e),function(e){var t=e[0].nodeValue;if(e.isText()&&t.length>0&&" "===t.charAt(0)&&e.prev()&&(e.prev().isMark()||e.prev().isInline())){if(1===t.length)e[0].nodeValue=" ";else if(" "!==t.charAt(1)){var n=e[0].splitText(1);n.previousSibling.nodeValue=" ",e=ru(n)}t=e[0].nodeValue}e.isText()&&t.length>0&&" "===t.charAt(t.length-1)&&e.next()&&(e.next().isMark()||e.next().isInline())&&(1===t.length?e[0].nodeValue=" ":" "!==t.charAt(t.length-2)&&(e[0].splitText(t.length-1).nodeValue=" "))}(e),function(e){if(e.nodeType===Node.TEXT_NODE&&!function(e){for(;e;){if("A"===e.nodeName)return!0;e=e.parentNode}return!1}(e)){var t=e.data,n=[],r=/\s/;if(t.toLowerCase().replace(Uy,(function(e,t){"h"!==e[0]&&(e=e.substring(1),t+=1),r.test(e[e.length-1])&&(e=e.substring(0,e.length-1)),n.push({offset:t,length:e.length})})),n.length){var o=[],i=0;n.forEach((function(e){var n=e.offset,r=e.length,a=t.substring(i,n);a&&o.push(document.createTextNode(a));var c=document.createElement("a"),s=t.substring(n,n+r);c.href=encodeURI(s),c.target="_blank",c.innerText=s,o.push(c),i=n+s.length}));var a=t.substring(i);a&&o.push(document.createTextNode(a));var c=e.parentNode;o.forEach((function(t){c.insertBefore(t,e)})),c.removeChild(e)}}}(e[0])}))}}function $y(e){if(e.files.length>0)this.event.trigger("paste:files",e.files);else{var t="";if(e.isPasteText){var n="";e.text?n=e.text:e.html&&(n=new $f(e.html).toText()),t=new Od(n).toHTML()}else{var r=e.text;e.html&&-1!==e.html.indexOf('<meta name="source" content="lake"/>')?t=e.html:r&&/^https?:\/\/\S+$/.test(r)?(r=Cl.escape(r),t='<a href="'.concat(r,'" target="_blank">').concat(r,"</a>")):e.html?t=e.html:r&&(t=new Od(r).toHTML())}var o=this.change.getValue();this.event.trigger("paste:string",e,o),this.command.execute("paste",t)}}var Gy={initialize:function(){var e=this;this.command.add("paste",{sideEffect:!0,execute:function(t){var n=e.schema.clone(),r=e.conversion.clone();n.add(["pre",{span:{"data-type":"*",style:{"font-size":"@length"}}},{p:{"data-type":"*"}},{mark:{id:"*"}},{block:{id:"*"}}]),e.event.trigger("paste:schema",n);var o=new $f(t,n,r,(function(t){t.find("em").each((function(e){"normal"===e.style["font-style"]&&xf(e)})),e.event.trigger("paste:origin",t)})).toDOM();Xy.call(e,o),Kl(o,!0),e.event.trigger("paste:before",o),e.change.insertFragment(o,(function(t){e.event.trigger("paste:insert");var n=ff.createBookmark(t);e.card.renderAll(e.editArea,e),ff.moveToBookmark(t,n),ff.scrollRangeIntoView(t)})),e.event.trigger("paste:after")}}),this.domEvent.onPaste((function(t){return $y.call(e,t)}))}},Zy="selectall",Jy={initialize:function(){var e=this;this.command.add(Zy,{execute:function(){e.card.renderController.disable(e);var t=e.change.getRange();t.selectNodeContents(e.editArea[0]),e.change.select(t),e.event.trigger("select")}}),this.on("keydown:selectall",(function(t){t.preventDefault(),e.command.execute(Zy)}))}},Qy={ol:"orderedlist",ul:"unorderedlist"};function eg(e){var t=this;e.forEach((function(e){t.change.addMark(e.clone())}))}function tg(e,t){var n=this;t.forEach((function(t){t.name!==e.name&&(t.isHeading()&&"p"!==t.name&&n.command.execute("heading",t.name),Qy[t.name]&&n.command.execute("list",Qy[t.name]));var r=t.css();Object.keys(r).length>0&&n.change.setBlocks({style:r})}))}function ng(e,t){var n=this,r=this.change.getRange();if(r.collapsed){var o=ru('<img style="display: none;" />');r.insertNode(o[0]);var i=lp.getClosestBlock(r.startContainer);r.selectNodeContents(i[0]),this.change.select(r),this.command.execute("removeformat"),eg.call(this,e),tg.call(this,i,t),r.selectNode(o[0]),r.collapse(!0),o.remove(),this.change.select(r)}else{this.command.execute("removeformat"),eg.call(this,e),lp.getRangeBlocks(r).forEach((function(e){tg.call(n,e,t)}))}}var rg,og={initialize:function(){var e,t,n=this,r="single",o=null,i=!1,a=function(r){n.editArea.removeClass("lake-paintformat-mode"),e=void 0,t=void 0,o&&(ru(r).off("keydown",o),o=null),n.event.trigger("select")};function c(e){var t=e.ownerDocument,n=function e(n){n.metaKey||n.ctrlKey||n.shiftKey||(o=null,"Escape"!==n.key&&27!==n.keyCode||(ru(t).off("keydown",e),a(t)))};ru(t).on("keydown",n),o=n}this.on("beforeCommandExecute",(function(e){"paintformat"!==e&&!i&&o&&a(n.editArea[0].ownerDocument)})),this.command.add("paintformat",{sideEffect:!0,queryState:function(){return!!e},execute:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"single";if(e)a(n.editArea[0]);else{r=o,c(n.editArea[0]);var i=n.change.getRange();e=lp.getActiveMarks(i),t=lp.getActiveBlocks(i),n.event.trigger("select"),n.editArea.addClass("lake-paintformat-mode")}}}),this.editArea.on("mouseup",(function(o){e&&(n.card.closest(o.target)?a(n.editArea[0].ownerDocument):(i=!0,ng.call(n,e,t),i=!1,"single"===r&&a(n.editArea[0].ownerDocument)))}))}},ig={initialize:function(){var e=this;this.command.add("removeformat",{sideEffect:!0,execute:function(){var t=e.change.getRange();lp.getRangeBlocks(t).forEach((function(e){e.removeAttr("style")})),e.change.removeMark()}}),this.hotkey.set("mod+\\","removeformat")}},ag=Object.keys(Rl),cg="heading";function sg(){if(rg)return rg.call(this);var e={};this.editArea.find("h1,h2,h3,h4,h5,h6").each((function(t){if((t=ru(t)).parent().isRoot()){var n=t.attr("id");if(n||(n=sl(),t.attr("id",n)),e[n]){for(;e[n];)n=sl();t.attr("id",n)}e[n]=!0}else t.removeAttr("id")}))}function lg(){var e=ru(".lake-anchor-button");if(0!==e.length){var t=ru(this.change.getRange().startContainer).closest("h1,h2,h3,h4,h5,h6");if(0!==t.length){var n=this.parentNode[0].getBoundingClientRect(),r=t[0].getBoundingClientRect(),o=Math.round(r.left-n.left-e[0].clientWidth-9),i=Math.round(r.top-n.top+r.height/2-e[0].clientHeight/2);e.css({top:"".concat(i,"px"),left:"".concat(o,"px")})}else e.remove()}}function ug(){var e=this,t=this.change.getRange(),n=ru(".lake-anchor-button"),r=ru(t.startContainer).closest("h1,h2,h3,h4,h5,h6");if((0===r.length||n.length>0&&0===n.find(".lake-icon-".concat(r.name)).length)&&(n.remove(),dh.hide()),0!==r.length&&r.parent().isRoot())if(n.find(".lake-icon-".concat(r.name)).length>0)lg.call(this);else{n=ru('<span class="lake-anchor-button"><span class="lake-icon lake-icon-'.concat(r.name,'"></span></span>')),this.parentNode.append(n);var o=this.parentNode[0].getBoundingClientRect(),i=r[0].getBoundingClientRect(),a=Math.round(i.left-o.left-n[0].clientWidth-9),c=Math.round(i.top-o.top+i.height/2-n[0].clientHeight/2);n.css({top:"".concat(c,"px"),left:"".concat(a,"px")}),n.addClass("lake-anchor-button-active"),n.on("mouseenter",(function(){dh.show(n,e.lang.copyAnchor.tips)})),n.on("mouseleave",(function(){dh.hide()})),n.on("mousedown",(function(){dh.hide()})),n.on("click",(function(t){t.preventDefault(),t.stopPropagation();var n=wl(Ip.exportParser&&Ip.exportParser.getDocUrl()||location.href,r.attr("id"));Ip.copyText(n)?e.messageSuccess(e.lang.copy.success):e.messageError(e.lang.copy.error)}))}}function fg(){var e=this.change.getRange(),t=lp.getRangeBlocks(e),n=ff.createBookmark(e);t.forEach((function(e){if("p"===e.name){var t=e.parent();if(t.isHeading()){for(var n=e[0].childNodes,r=n.length-1;r>=0;r--)t[0].insertBefore(n[r],e[0]);e.remove()}}})),n&&ff.moveToBookmark(e,n)}function pg(){fg.call(this);var e,t=this.change.getRange(),n=lp.getRangeBlocks(t),r=ff.createBookmark(t);if(r)return n.forEach((function(t){var n=t.parent(),r=t.first();[Ks,Us].includes(r.attr(Hs))&&(r=r.next()),"li"===t.name&&n&&"ol"===n.name&&r&&r.isText()&&(e=parseInt(n.attr("start"),10)||1,r[0].nodeValue="".concat(e,". ")+r[0].nodeValue),lp.brToParagraph(t)})),ff.moveToBookmark(t,r),e}function dg(e){var t=this.change.getRange(),n=lp.getRangeBlocks(t),r=ff.createBookmark(t);r&&(n.forEach((function(t){Nu.fetchAllChildren(t).forEach((function(e){if("strong"===(e=ru(e)).name||"span"===e.name&&/^lake-fontsize-\d+$/.test(e[0].className))lp.unwrapNode(e[0]);else if("span"===e.name){var t=/(?:^|\b)(lake-fontsize-\d+)(?:$|\b)/.exec(e[0].className);t&&e.removeClass(t[1])}}));var n=t.parent();if(e){var r=n.next();r&&"ol"===r.name&&r.attr("start")&&r.attr("start",e+1)}n&&["ul","ol"].includes(n.name)&&(n.find("[data-lake-card=checkbox]").remove(),lp.unwrapNode(n[0]))})),ff.moveToBookmark(t,r))}var hg,mg={initialize:function(){var e=this,t=this.options.heading||{showAnchor:!0};this.schema.add(ag.map((function(e){var t={};return t[e]={id:/^[\w\.\-]+$/},t}))),this.schema.add([{p:{"data-lake-id":"*"}}]),this.command.add(cg,{sideEffect:!0,queryState:function(){var t=e.change.blocks;return 0===t.length?"":ag.indexOf(t[0].name)>=0?t[0].name:""},execute:function(t){var n=pg.call(e);e.change.separateBlocks(),e.change.setBlocks("<".concat(t," />")),dg.call(e,n)}}),this.hotkey.set("mod+opt+1",cg,"h1"),this.hotkey.set("mod+opt+2",cg,"h2"),this.hotkey.set("mod+opt+3",cg,"h3"),this.hotkey.set("mod+opt+4",cg,"h4"),this.hotkey.set("mod+opt+5",cg,"h5"),this.hotkey.set("mod+opt+6",cg,"h6"),t.showAnchor&&(this.on("setvalue",(function(){sg.call(e)})),this.on("change",(function(){sg.call(e),ug.call(e)})),this.on("select",(function(){ug.call(e)})),this.on("typographychange",(function(){ug.call(e)})),window.addEventListener("resize",(function(){lg.call(e)}),!1))}},vg="bold",yg="strong",gg={initialize:function(){var e=this;this.schema.add(yg),this.command.add(vg,{sideEffect:!0,queryState:function(){return e.change.marks.some((function(e){return e.name===yg}))},execute:function(){var t="<".concat(yg," />");e.command.queryState(vg)?e.change.removeMark(t):e.change.addMark(t)}}),this.hotkey.set("mod+b",vg)}},bg="italic",wg="em",kg={initialize:function(){var e=this;this.schema.add(wg),this.command.add(bg,{sideEffect:!0,queryState:function(){return e.change.marks.some((function(e){return e.name===wg}))},execute:function(){var t="<".concat(wg," />");e.command.queryState(bg)?e.change.removeMark(t):e.change.addMark(t)}}),this.hotkey.set("mod+i",bg)}},xg="underline",Og={initialize:function(){var e=this;this.schema.add("u"),this.command.add(xg,{sideEffect:!0,queryState:function(){return e.change.marks.some((function(e){return"u"===e.name}))},execute:function(){var t="<".concat("u"," />");e.command.queryState(xg)?e.change.removeMark(t):e.change.addMark(t)}}),this.hotkey.set("mod+u",xg)}},Cg="strikethrough",_g="del",Eg={initialize:function(){var e=this;this.schema.add(_g),this.command.add(Cg,{sideEffect:!0,queryState:function(){return e.change.marks.some((function(e){return e.name===_g}))},execute:function(){var t="<".concat(_g," />");e.command.queryState(Cg)?e.change.removeMark(t):e.change.addMark(t)}}),this.hotkey.set("mod+shift+x",Cg)}},jg="code",Sg="code",Pg={initialize:function(){var e=this;this.schema.add(Sg),this.command.add(jg,{sideEffect:!0,queryState:function(){return e.change.marks.some((function(e){return e.name===Sg}))},execute:function(){var t="<".concat(Sg," />");e.command.queryState(jg)?e.change.removeMark(t):e.change.addMark(t,document.createTextNode("​"))}}),this.hotkey.set("mod+e",jg)}},Rg="mark",Tg="mark",Dg={initialize:function(){var e=this;this.schema.add(Tg),this.command.add(Rg,{sideEffect:!0,queryState:function(){return e.change.marks.some((function(e){return e.name===Tg}))},execute:function(){var t="<".concat(Tg," />");e.command.queryState(Rg)?e.change.removeMark(t):e.change.addMark(t)}})}},Ag="sup",Mg="sup",Ng={initialize:function(){var e=this;this.schema.add(Mg),this.command.add(Ag,{sideEffect:!0,queryState:function(){return e.change.marks.some((function(e){return e.name===Mg}))},execute:function(){var t="<".concat(Mg," />");e.command.queryState(Ag)?e.change.removeMark(t):e.change.addMark(t)}}),this.hotkey.set("mod+shift+.",Ag)}},Ig="sub",Lg="sub",Fg={initialize:function(){var e=this;this.schema.add(Lg),this.command.add(Ig,{sideEffect:!0,queryState:function(){return e.change.marks.some((function(e){return e.name===Lg}))},execute:function(){var t="<".concat(Lg," />");e.command.queryState(Ig)?e.change.removeMark(t):e.change.addMark(t)}}),this.hotkey.set("mod+shift+,",Ig)}};function zg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bg="1515",Vg=(zg(hg={9:12,10:13},"11",14),zg(hg,Bg,15),zg(hg,12,16),zg(hg,14,19),zg(hg,16,22),zg(hg,18,24),zg(hg,22,29),zg(hg,24,32),zg(hg,30,40),zg(hg,36,48),hg),qg=Object.keys(Vg).map((function(e){return parseInt(e,10)}));function Hg(e){var t=/([\d\.]+)(pt|px)$/i.exec(e=e||"");if(t){var n=t[2];if("pt"===n)return t[1];if("px"===n){for(var r=0;r<qg.length;r++)if(Math.round(t[1])===Vg[qg[r]])return String(qg[r]);return String(Math.round(72*t[1]/96))}}return""}function Ug(e){return"classic"===e?Bg:"11"}var Wg={initialize:function(){var e=this;this.schema.add({span:{class:/^lake-fontsize-\d+$/}}),this.command.add("fontsize",{sideEffect:!0,queryState:function(){var t=e.change.marks.map((function(e){var t="";return"span"===e.name&&(t=Hg(e.css("font-size"))),t})).filter((function(e){return e}));return t.length>0?t[0]:Ug(e.typography)},execute:function(t,n){void 0===n&&(n=Ug(e.typography));var r='<span class="lake-fontsize-'.concat(t,'" />');t!==n?e.change.addMark(r):e.change.removeMark(r)}}),this.on("paste:each",(function(e){if("span"===(e=ru(e)).name){var t=parseInt(Hg(e[0].style.fontSize),10);qg.indexOf(t)>=0&&e.addClass("lake-fontsize-".concat(t)),e.css("font-size","")}}))}},Kg={initialize:function(){var e=this;this.schema.add({span:{style:{color:"@color"}}}),this.command.add("fontcolor",{sideEffect:!0,queryState:function(){var t=e.change.marks.map((function(e){var t="";return"span"===e.name&&(t=Cl.toHex(e.css("color")||"")),t})).filter((function(e){return e}));return t.length>0?t[0]:""},execute:function(t,n){var r='<span style="color: '.concat(t,';" />');void 0===n||t!==n?e.change.addMark(r):e.change.removeMark(r)}})}},Yg={initialize:function(){var e=this;this.schema.add({span:{style:{"background-color":"@color"}}}),this.command.add("backcolor",{sideEffect:!0,queryState:function(){var t=e.change.marks.map((function(e){var t="";return"span"===e.name&&(t=Cl.toHex(e.css("background-color")||"")),t})).filter((function(e){return e}));return t.length>0?t[0]:""},execute:function(t,n){var r='<span style="background-color: '.concat(t,';" />');void 0===n||t!==n?e.change.addMark(r):e.change.removeMark(r)}})}},Xg={initialize:function(){var e=this;this.schema.add({block:{style:{"text-align":["left","center","right","justify"]}}}),this.command.add("alignment",{sideEffect:!0,queryState:function(){var t=e.change.blocks;if(0!==t.length){var n=t[0];["ul","ol","blockquote"].includes(n.name)&&(n=t[1]||n.first()||n);var r=n.css("text-align");return"start"===r&&(r="left"),"end"===r&&(r="right"),r}},execute:function(t){e.change.setBlocks({style:{"text-align":t}}),_p(e.change.blocks,t)}}),this.hotkey.set("mod+shift+l","alignment","left"),this.hotkey.set("mod+shift+c","alignment","center"),this.hotkey.set("mod+shift+r","alignment","right"),this.hotkey.set("mod+shift+j","alignment","justify")}},$g="list",Gg={orderedlist:"ol",unorderedlist:"ul"},Zg="orderedlist",Jg={initialize:function(){var e=this;this.schema.add(["li",{ul:{"data-lake-indent":"@number"}},{ol:{start:"@number","data-lake-indent":"@number"}}]),this.command.add($g,{sideEffect:!0,queryState:function(){return vp(e.change.blocks)},execute:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Gg[t];if(r){e.change.separateBlocks();var o=e.change.getRange(),i=lp.getActiveBlocks(o);if(i){t===Zg&&(n=parseInt(n,10)||1);var a=$u(o),c=hp(i,t);c?gp(i):bp(i,t,n),Gu(o,a),e.change.select(o),e.change.mergeAdjacentList()}}}}),this.hotkey.set("mod+shift+7",$g,"orderedlist"),this.hotkey.set("mod+shift+8",$g,"unorderedlist")}};function Qg(e,t,n,r){if(["ul","ol"].includes(e.name)){var o=(parseInt(e.attr(iu),10)||0)+(t<0?-1:1);return o>8&&(o=8),void(o<1?e.removeAttr(iu):e.attr(iu,o))}e.isHeading()&&function(e,t,n,r){if(t>0)if(Cl.removeUnit(e.css("text-indent"))||void 0===n){var o=e.css("padding-left"),i=Cl.removeUnit(o)+t;i=Math.min(i,r),lp.setNodeProps(e,{style:{"padding-left":Cl.addUnit(i>0?i:0,"em")}})}else lp.setNodeProps(e,{style:{"text-indent":"2em"}});else if(Cl.removeUnit(e.css("text-indent")))lp.setNodeProps(e,{style:{"text-indent":""}});else{var a=e.css("padding-left"),c=Cl.removeUnit(a)+t;lp.setNodeProps(e,{style:{"padding-left":Cl.addUnit(c>0?c:0,"em")}})}}(e,t,n,r)}var eb={initialize:function(){var e=this;Object.keys(Rl).forEach((function(t){var n={};n[t]={style:{"text-indent":"@length","padding-left":"@length"}},e.schema.add(n)})),this.command.add("indent",{sideEffect:!0,queryState:function(){var t=e.change.getRange(),n=lp.getClosestBlock(t.startContainer);if("li"===n.name)return parseInt(n.closest("ul,ol").attr(iu),10)||0;if(n.isHeading()){var r=Cl.removeUnit(n.css("padding-left")),o=Cl.removeUnit(n[0].style.textIndent);return r||o}return 0},execute:function(t){e.change.separateBlocks();var n=e.change.getRange(),r=lp.getActiveBlocks(n);if(r){var o=e.options.maxPadding||50;r.forEach((function(e){Qg(e,2,t,o)})),e.change.mergeAdjacentList()}}}),this.command.add("outdent",{sideEffect:!0,execute:function(){e.change.separateBlocks();var t=e.change.getRange(),n=lp.getActiveBlocks(t);n&&(n.forEach((function(e){Qg(e,-2,void 0,50)})),e.change.mergeAdjacentList())}}),this.hotkey.set("mod+]","indent"),this.hotkey.set("mod+[","outdent")}},tb="quote",nb="blockquote",rb={initialize:function(){var e=this;this.schema.add(nb),this.command.add(tb,{sideEffect:!0,queryState:function(){var t=e.change.blocks;if(0===t.length)return!1;var n=t[0].closest(nb);return n.length>0&&""===n[0].className},execute:function(){if(e.command.queryState(tb)){var t=e.change.getRange(),n=e.change.blocks[0].closest(nb),r=ff.createBookmark(t);return lp.unwrapNode(n),ff.moveToBookmark(t,r),void e.change.select(t)}e.change.wrapBlock("<".concat(nb," />"))}}),this.hotkey.set("mod+shift+u",tb)}},ob={initialize:function(){var e=this;this.schema.add("hr"),this.command.add("hr",{sideEffect:!0,execute:function(){e.change.insertCard("hr")}}),this.hotkey.set("mod+opt+s","hr"),this.on("keydown:enter",(function(t){var n=e.change.getRange();if(n.collapsed){var r=lp.getClosestBlock(n.startContainer);if(r.isHeading()){var o=lp.getBlockLeftText(r,n);return/^---$/.exec(o)?(t.preventDefault(),lp.removeBlockLeftText(r,n),e.command.execute("hr"),!1):void 0}}})),this.on("paste:each",(function(t){"hr"===t.name&&e.card.replaceNode(t,"hr")}))}},ib={orderedlist:"ol",unorderedlist:"ul"},ab={"`":"code","==":"mark","**":"bold","~~":"strikethrough",_:"italic","^":"sup","~":"sub"};function cb(e,t){lp.removeBlockLeftText(e,t),Nu.isEmptyNode(e)&&(e.empty(),e.append("<br />"))}function sb(e,t){var n=ff.createBookmark(t);if(n){var r=ru(n.anchor).prev(),o=r&&r.isText()?r[0].nodeValue:"";ff.moveToBookmark(t,n);for(var i=Object.keys(ab),a=0;a<i.length;a++){var c=i[a],s=c.replace(/(\*|\^)/g,"\\$1"),l=new RegExp("^(.*)".concat(s,"(.+?)").concat(s,"$")).exec(o);if(l){var u=l[1]&&/\S$/.test(l[1]),f=l[2],p=ab[c];if(""===p||!this.command.queryEnabled(p))return;e.preventDefault();var d=o.substr(0,o.length-f.length-2*c.length);return r[0].splitText((d+f).length+2*c.length),u&&(d+=" "),r[0].nodeValue=d+f,t.setStart(r[0],d.length),t.setEnd(r[0],(d+f).length),this.change.select(t),this.command.execute(p),(t=this.change.getRange()).collapse(!1),this.change.select(t),this.change.insertText(" "),!1}}}}function lb(e,t){var n=ff.createBookmark(t);if(n){var r=ru(n.anchor).prev(),o=r&&r.isText()?r[0].nodeValue:"";ff.moveToBookmark(t,n);var i=/\[(.+?)\]\(([\S]+?)\)$/.exec(o);if(i){e.preventDefault();var a=i[1],c=i[2],s=Cl.isCurrentPageUrl(location.href,c)?"":' target="_blank"',l=ru('<a href="'.concat(Cl.sanitizeUrl(c),'"').concat(s,">").concat(a,"</a>")),u=r[0].splitText(o.length-i[0].length);return u.splitText(i[0].length),ru(u).remove(),this.change.insertInline(l),this.change.insertText(" "),!1}}}function ub(e){var t=this.change.getRange();if(t.collapsed&&!1!==sb.call(this,e,t)&&!1!==lb.call(this,e,t)){var n=lp.getClosestBlock(t.startContainer);if(n.isHeading()){var r=lp.getBlockLeftText(n,t),o=function(e){if(/^\d{1,9}\.$/.test(e))return"orderedlist";switch(e){case"*":case"-":case"+":return"unorderedlist";case"[]":case"[ ]":return"tasklist";case"[x]":return"checkedtasklist";case"#":return"h1";case"##":return"h2";case"###":return"h3";case"####":return"h4";case"#####":return"h5";case"######":return"h6";case">":return"quote";default:return""}}(r);if(/^h\d$/i.test(o)&&this.command.queryEnabled("heading"))return e.preventDefault(),cb(n,t),void this.command.execute("heading",o);if(!/^h\d$/i.test(n.name))return ib[o]&&this.command.queryEnabled("list")?(e.preventDefault(),cb(n,t),void this.command.execute("list",o,r)):["tasklist","checkedtasklist"].indexOf(o)>=0&&this.command.queryEnabled("tasklist")?(e.preventDefault(),cb(n,t),void this.command.execute("tasklist","tasklist","tasklist"!==o)):"quote"===o&&this.command.queryEnabled(o)?(e.preventDefault(),cb(n,t),void this.command.execute(o)):void 0}}}var fb={initialize:function(){var e=this;this.on("keydown:space",(function(t){e.change.domEvent.isComposing||ub.call(e,t)}))}},pb="alert",db=["info","warning","danger","success","tips"],hb={initialize:function(){var e=this;this.schema.add({blockquote:{class:["lake-alert","lake-alert-info","lake-alert-warning","lake-alert-danger","lake-alert-success","lake-alert-tips"]}}),this.command.add(pb,{sideEffect:!0,queryState:function(){var t=e.change.blocks;return 0!==t.length&&t[0].closest(".lake-alert").length>0},execute:function(t){if(db.indexOf(t)<0&&(t="info"),e.command.queryState(pb)){var n=e.change.getRange(),r=e.change.blocks[0].closest(".lake-alert"),o=ff.createBookmark(n);return lp.unwrapNode(r),void ff.moveToBookmark(n,o)}e.change.wrapBlock('<blockquote class="lake-alert lake-alert-'.concat(t,'" />'))}}),this.on("keydown:enter",(function(t){var n=e.change.getRange();if(n.collapsed){var r=lp.getClosestBlock(n.startContainer);if("p"===r.name){var o=lp.getBlockLeftText(r,n),i=/^:::(\w*)$/.exec(o);if(i){t.preventDefault(),lp.removeBlockLeftText(r,n),yu(r[0])&&(r[0].innerHTML="<br>");var a=i[1].toLowerCase();return e.command.execute("alert",a),!1}}}}))}},mb="lineheight",vb=/(?:^|\s)lake-lineheight-(\d+)(?:\s|$)/g;function yb(e,t){if(e===t)return!0;var n=e.compareDocumentPosition(t);return!!(n&Node.DOCUMENT_POSITION_CONTAINED_BY)||(!!(n&Node.DOCUMENT_POSITION_PRECEDING)||!!(n&Node.DOCUMENT_POSITION_CONTAINS))}function gb(e,t){if(e===t)return!0;var n=e.compareDocumentPosition(t);return!!(n&Node.DOCUMENT_POSITION_CONTAINED_BY)||(!!(n&Node.DOCUMENT_POSITION_FOLLOWING)||!!(n&Node.DOCUMENT_POSITION_CONTAINS))}function bb(e){return ru(e).closest("p",(function(e){return ru(e).isRoot()?null:e.parentNode}))[0]||null}var wb={bothInit:function(){this.schema.add({p:{class:/^lake-lineheight-\d+$/}})},initialize:function(){var e=this;this.command.add(mb,{sideEffect:!0,queryState:function(){var t=function(e){var t=bb(e.startContainer);if(t||e.collapsed)return t;var n=ru(e.commonAncestorContainer).find("p"),r=e.startContainer,o=e.endContainer;e.startContainer.nodeType===Node.ELEMENT_NODE&&(r=e.startContainer.childNodes[e.startOffset]||e.startContainer),e.endContainer.nodeType===Node.ELEMENT_NODE&&(o=e.endContainer.childNodes[e.endOffset]||e.endContainer);for(var i=0,a=n.length;i<a;i++){var c=n[i],s=ru(c).closest("[".concat(Gs,"]"));if((!s.length||"table"===s.attr(Gs))&&yb(c,r)&&gb(c,o))return c}return null}(e.change.getRange());if(!t)return null;var n=t.className,r=vb.exec(n);return r?r[1]:"17"},execute:function(t){if(e.command.queryState(mb)){var n=function(e){var t=[];if(e.collapsed){var n=bb(e.startContainer);n&&t.push(n)}else{var r=e.commonAncestorContainer,o=$u(e),i=o.anchor,a=o.focus;ru(r).find("p").each((function(e){yb(e,i)&&gb(e,a)&&t.push(e)}));var c=bb(r);c&&-1===t.indexOf(c)&&yb(c,i)&&gb(c,a)&&t.push(c),Gu(e,{anchor:i,focus:a})}return t.filter((function(e){var t=ru(e).closest("[".concat(Gs,"]"));return!t.length||"table"===t.attr(Gs)}))}(e.change.getRange());if(0!==n.length){var r=null;"17"!==t&&(r="lake-lineheight-"+t),n.forEach((function(e){!function(e){var t=e.className;t&&(t=t.replace(vb,(function(){return""})).replace(/\s+/g," "),e.className=t)}(e),r&&ru(e).addClass(r)}))}}}})}},kb=ke;Sy.card.add("checkbox",Ly),Sy.card.add("hr",zy),Sy.card.add("blockfallback",Vy),Sy.card.add("inlinefallback",Hy),Sy.plugin.add("paste",Gy),Sy.plugin.add("drop",{initialize:function(){var e=this,t=function(t){return!t||e.card.closest(t.commonAncestorContainer)};this.domEvent.onDrop((function(n){var r=n.e,o=n.dropRange,i=n.cardRoot,a=n.files;if(i){if(r.preventDefault(),t(o))return;var c=e.card.getComponent(i);return e.change.removeCard(i),e.change.select(o),void e.change.insertCard(c.name,c.value)}if(a.length>0){if(r.preventDefault(),t(o))return;e.change.select(o),e.event.trigger("drop:files",a)}}))}}),Sy.plugin.add("undo",{initialize:function(){var e=this;this.command.add("undo",{sideEffect:!0,queryState:function(){return e.history.hasUndo()},execute:function(){e.readonly(!1),e.history.undo()}}),this.command.add("redo",{sideEffect:!0,queryState:function(){return e.history.hasRedo()},execute:function(){e.readonly(!1),e.history.redo()}}),this.hotkey.set("mod+z","undo"),this.hotkey.set("mod+y","redo"),this.hotkey.set("shift+mod+z","redo")}}),Sy.plugin.add("selectall",Jy),Sy.plugin.add("paintformat",og),Sy.plugin.add("removeformat",ig),Sy.plugin.add("heading",mg),Sy.plugin.add("bold",gg),Sy.plugin.add("italic",kg),Sy.plugin.add("underline",Og),Sy.plugin.add("strikethrough",Eg),Sy.plugin.add("code",Pg),Sy.plugin.add("mark",Dg),Sy.plugin.add("sup",Ng),Sy.plugin.add("sub",Fg),Sy.plugin.add("fontsize",Wg),Sy.plugin.add("fontcolor",Kg),Sy.plugin.add("backcolor",Yg),Sy.plugin.add("alignment",Xg),Sy.plugin.add("list",Jg),Sy.plugin.add("indent",eb),Sy.plugin.add("quote",rb),Sy.plugin.add("hr",ob),Sy.plugin.add("tasklist",wm),Sy.plugin.add("markdown",fb),Sy.plugin.add("alert",hb),Sy.plugin.add("lineheight",wb),Sy.EXTS=Le,Sy.ua=fe,Sy.FileUtils=Ve,Sy.isHotkey=kb,Sy.$=ru,Sy.StringUtils=Cl,Sy.NodeUtils=Nu,Sy.ElementIDUtils=$l,Sy.RangeUtils=ff,Sy.ClipboardUtils=Ip,Sy.ImageUtils=Lp,Sy.UploadUtils=Vp,Sy.ChangeUtils=lp,Sy.OTUtils=fd,Sy.TinyCanvas=vd,Sy.Schema=kd,Sy.HTMLParser=$f,Sy.ExportParser=np,Sy.TextParser=Od,Sy.MarkdownParser=Wd,Sy.debug=zu,Sy.changes=ph,Sy.EmbedToolbar=jh,Sy.ContentView=Ny,Sy.registerClipboardExportParser=function(e){Ip.exportParser=e},Sy.registerClipboard=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(Ip,e)};var xb=Sy;function Ob(e){return(Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _b(e,t){return(_b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sb(e);if(t){var o=Sb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jb(this,n)}}function jb(e,t){return!t||"object"!==Ob(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sb(e){return(Sb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_b(e,t)}(i,e);var t,n,r,o=Eb(i);function i(e,t,n,r){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(a=o.call(this)).scrollX=function(e){if(a.slideX.dragging){var t=e.clientX-a.slideX.startX,n=a.slideX.startScrollLeft+t;n=Math.max(0,Math.min(n,a.oWidth-a.xWidth)),a.slideX.css("left",n+"px");var r=n/(a.oWidth-a.xWidth);r=Math.min(1,r);var o=(a.sWidth-a.oWidth)*r;a.container[0].scrollLeft=o}},a.scrollY=function(e){if(a.slideY.dragging){var t=e.clientY-a.slideY.startY,n=a.slideY.startScrollTop+t;n=Math.max(0,Math.min(n,a.oHeight-a.yHeight)),a.slideY.css("top",n+"px");var r=n/(a.oHeight-a.yHeight);r=Math.min(1,r);var o=(a.sHeight-a.oHeight)*r;a.container[0].scrollTop=o}},a.scrollXEnd=function(){a.slideX.dragging=!1,document.body.removeEventListener("mousemove",a.scrollX),document.body.removeEventListener("mouseup",a.scrollXEnd),a.container.removeClass("scrolling")},a.scrollYEnd=function(){a.slideY.dragging=!1,document.body.removeEventListener("mousemove",a.scrollY),document.body.removeEventListener("mouseup",a.scrollYEnd),a.container.removeClass("scrolling")},a.bindXScrollEvent=function(){a.option.x&&a.slideX.on("mousedown",a._handleXScroll,!1)},a.unbindXScrollEvent=function(){a.slideX&&a.slideX.off("mousedown",a._handleXScroll,!1)},a._handleXScroll=function(e){a.container.addClass("scrolling"),a.slideX.dragging=!0,a.slideX.startX=e.clientX,a.slideX.startScrollLeft=parseInt(a.slideX.css("left")),document.body.addEventListener("mousemove",a.scrollX),document.body.addEventListener("mouseup",a.scrollXEnd)},a.bindYScrollEvent=function(){a.option.y&&a.slideY&&a.slideY.on("mousedown",a._handleYScroll,!1)},a.unbindYScrollEvent=function(){a.slideY&&a.slideY.off("mousedown",a._handleYScroll,!1)},a._handleYScroll=function(e){a.container.addClass("scrolling"),a.slideY.dragging=!0,a.slideY.startY=e.clientY,a.slideY.startScrollTop=parseInt(a.slideY.css("top")),document.body.addEventListener("mousemove",a.scrollY),document.body.addEventListener("mouseup",a.scrollYEnd)},a.reRenderShadow=function(e){a.option.needShadow&&(a.shadowLeft.css("left",e+"px"),a.shadowRight.css("left",e+a.oWidth-4+"px"),a.shadowLeft.css("display","none"),a.shadowRight.css("display","none"),a.shadowTimer&&clearTimeout(a.shadowTimer),a.shadowTimer=setTimeout((function(){0!==e&&a.shadowLeft.css("display","block"),e!==a.maxScrollLeft&&a.shadowRight.css("display","block")}),100))},a.reRenderX=function(e){if(a.option.x){a.scrollBarX.css("left",e+"px");var t=e/(a.sWidth-a.oWidth);t=Math.min(1,t);var n=(a.oWidth-a.xWidth)*t;a.slideX.css("left",n+"px"),a.reRenderShadow(e)}},a.reRenderY=function(e){if(a.option.y){a.scrollBarY.css("top",e+"px");var t=e/(a.sHeight-a.oHeight);t=Math.min(1,t);var n=(a.oHeight-a.yHeight)*t;a.slideY.css("top",n+"px")}},a.bindEvents=function(){a.container.on("scroll",a._handleScroll,{passive:!0}),ru(window).on("resize",a.refresh,!1),a.bindXScrollEvent(),a.bindYScrollEvent()},a.unbindEvents=function(){a.container.off("scroll",a._handleScroll,{passive:!0}),ru(window).off("resize",a.refresh,!1),a.unbindXScrollEvent(),a.unbindYScrollEvent()},a._handleScroll=function(e){var t=e.target,n=t.scrollLeft,r=t.scrollTop;a.reRenderX(n),a.reRenderY(r)},a.refresh=function(){if(!fe.firefox&&!fe.mobile){var e=a.container[0],t=e.offsetWidth,n=e.offsetHeight,r=e.scrollWidth,o=e.scrollHeight,i=e.scrollLeft,c=e.scrollTop;a.oWidth=t,a.oHeight=n,a.sWidth=r,a.sHeight=o,a.xWidth=Math.floor(t*t/r),a.yHeight=Math.floor(n*n/o),a.maxScrollLeft=r-t,a.option.x&&(a.slideX.css("width",a.xWidth+"px"),a.oWidth===a.sWidth?a.slideX.css("display","none"):a.slideX.css("display","block")),a.option.y&&(a.slideY.css("height",a.yHeight+"px"),a.oHeight===a.sHeight?a.slideY.css("display","none"):a.slideY.css("display","block")),a.reRenderX(i),a.reRenderY(c)}},a.container=ru(e),a.option={x:t,y:n,needShadow:r},a.init(),a}return t=i,(n=[{key:"init",value:function(){var e=this;if(!fe.firefox&&!fe.mobile){var t=this.container.children(),n=!1;t.each((function(e){ru(e).hasClass("lake-scrollbar")&&(n=!0)})),n||(this.container.css("position","relative"),this.container.addClass("lake-scrollable"),this.option.x&&(this.scrollBarX=ru('<div class="lake-scrollbar lake-scrollbar-x "><div class="lake-scrollbar-trigger"></div></div>'),this.slideX=this.scrollBarX.find(".lake-scrollbar-trigger"),this.container.append(this.scrollBarX),this.container.addClass("scroll-x")),this.option.y&&(this.scrollBarY=ru('<div class="lake-scrollbar lake-scrollbar-y "><div class="lake-scrollbar-trigger"></div></div>'),this.slideY=this.scrollBarY.find(".lake-scrollbar-trigger"),this.container.append(this.scrollBarY),this.container.addClass("scroll-y")),this.option.needShadow&&(this.shadowLeft=ru('<div class="scrollbar-shadow-left"></div>'),this.shadowRight=ru('<div class="scrollbar-shadow-right"></div>'),this.container.append(this.shadowLeft),this.container.append(this.shadowRight)),requestAnimationFrame((function(){return e.refresh()})),this.bindEvents())}}},{key:"destroy",value:function(){this.unbindEvents(),this.scrollBarX&&this.scrollBarX.remove(),this.scrollBarY&&this.scrollBarY.remove(),this.shadowLeft&&this.shadowLeft.remove(),this.shadowRight&&this.shadowRight.remove()}}])&&Cb(t.prototype,n),r&&Cb(t,r),i}(_n.a);function Rb(e){return(Rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ab(e,t){return(Ab=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ib(e);if(t){var o=Ib(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nb(this,n)}}function Nb(e,t){return!t||"object"!==Rb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ib(e){return(Ib=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lb=Cl.escape,Fb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ab(e,t)}(i,e);var t,n,r,o=Mb(i);function i(){return Tb(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.code,n=e.locale,r=e.onFocus,o=e.onChange,i=e.onBlur;return k.a.createElement("div",null,k.a.createElement("textarea",{onFocus:r,onBlur:i,defaultValue:t,onChange:function(e){var t=e.target;o(t.value)}}),k.a.createElement("div",{className:"lake-math-editor-toolbar"},k.a.createElement("div",{className:"lake-math-editor-toolbar-tips"},k.a.createElement("a",{className:"text",href:"/help/editor-math",target:"_blank"},k.a.createElement("span",{className:"lake-icon lake-icon-question"}),Lb(n.help))),k.a.createElement("div",{className:"lake-embed-toolbar lake-embed-toolbar-inline lake-embed-toolbar-active"},k.a.createElement(dn,{title:n.enterTooltips},k.a.createElement("a",{className:"lake-embed-toolbar-btn","data-role":"save"},k.a.createElement("span",{className:"text"},Lb(n.save)))))))}}])&&Db(t.prototype,n),r&&Db(t,r),i}(k.a.Component);Fb.propTypes={code:st.a.string,locale:st.a.object,onFocus:st.a.func,onBlur:st.a.func,onChange:st.a.func};var zb={}.toString,Bb=function(e,t){return zb.call(e)==="[object "+t+"]"};function Vb(e){return null==e}function qb(e,t,n){try{return window.getComputedStyle?window.getComputedStyle(e,null)[t]:e.currentStyle[t]}catch(e){return Vb(n)?null:n}}function Hb(e,t){var n=qb(e,"width",t);return n&&"auto"!==n||(n=e.offsetWidth),parseFloat(n)}function Ub(e,t){var n=qb(e,"height",t);return n&&"auto"!==n||(n=e.offsetHeight),parseFloat(n)}function Wb(e,t){var n=[];if(e){if(t&&!t(e))return n;for(var r=e.childNodes,o=0;o<r.length;o++){var i=r[o],a=i.nodeType;3===a?n.push(i):1!==a&&9!==a&&11!==a||(n=n.concat(Wb(i,t)))}}return n}function Kb(e,t,n){if(t=t||function(){return!0},e&&t(e)){var r=(n=n||{}).open||function(){},o=n.close||function(){};r(e);var i=e.childNodes;if(i)for(var a=0,c=i.length;a<c;a++)Kb(i[a],t,n);o(e)}}function Yb(e,t){var n=window.appData;return n&&void 0!==n[e]?n[e]:t}var Xb={locale:Yb("locale","zh-cn"),isYuque:Yb("isYuque",!1),isEnterprise:Yb("isEnterprise",!1),isPrivateCloud:Yb("isPrivateCloud",!1),supportOnlineViewer:Yb("supportOnlineViewer",!1),isPublicCloud:Yb("isPublicCloud",!1),imageServiceDomains:Yb("imageServiceDomains",[]),isWechatMiniApp:Yb("isWechatMiniApp",!1),docId:Lh()(window.appData||{},"doc.id")},$b=[/^https?:\/\/\w+\.(nlark|alipay|alipayobjects|alibaba-inc|antfin-inc)\.com\//];function Gb(e){return(Gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zb(){var e=window.location,t=e.origin,n=e.pathname;return window.appData&&window.appData.docUrl||t+n.replace(/\/edit$/,"")}function Jb(e){return(e||"").replace(/<card\s+([^>]+)>/g,(function(e,t){var n=Cl.getAttrMap(e),r=n.name,o=n.value;if("mention"===r&&o){o=Cl.unescape(o);var i=Cl.decodeCardValue(o),a=i.login,c=i.name;if(a&&c)return a=Cl.escape(a),c=Cl.escape(c),'<card data-login="'.concat(a,'" data-name="').concat(c,'" ').concat(t,">")}return e}))}function Qb(e,t,n){n=n||window.location.href;var r=e.replace(/^https?:\/\/[^\/]+/,"").replace(/^\/attachments\//,"");return"/"===r.charAt(0)&&(r=r.substr(1)),t=t||"",Ve.isOffice(r)||Ve.isMacOffice(r)||"pdf"===Ve.getFileExtname(e)?"".concat(t,"/office/").concat(r,"?from=").concat(encodeURIComponent(n)):"".concat(t,"/preview/").concat(r,"?from=").concat(encodeURIComponent(n))}function ew(e){return/^data:image\//i.test(e||"")}function tw(e,t){if("string"==typeof e&&(t=e,e=null),t=t||"",Xb.isYuque&&t.startsWith("https://intranetproxy.alipay.com/skylark/"))return!0;for(var n=0;n<Xb.imageServiceDomains.length;n++){var r=Xb.imageServiceDomains[n];if(t.startsWith("http://".concat(r))||t.startsWith("https://".concat(r)))return!1}if(!t.startsWith("http://")&&!t.startsWith("https://"))return!1;var o=null;try{o=new URL(t).host}catch(e){}if(!o)return!1;if(window.location.host===o)return!0;if(e){var i=(e.options||{}).localImageHostList;if(i)for(var a=0,c=i.length;a<c;a++){var s=i[a];if("string"==typeof s){if(s===o)return!1}else if(s.test&&s.test(o))return!1}return!0}for(var l=0;l<$b.length;l++){if($b[l].test(t))return!1}return!0}function nw(e){return(e=e||"").indexOf(":")>=0&&(e=e.split(":")[1]),e}function rw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{docVerstion:1,viewport:"fixed",typography:"classic"};e=Jb(e);var n=t.viewport,r=t.typography;return"fixed"!==n&&"adapt"!==n&&(n="fixed"),"classic"!==r&&"traditional"!==r&&(r="classic"),'<!doctype lake><meta name="doc-version" content="'.concat(t.docVerstion,'" /><meta name="viewport" content="').concat(n,'" /><meta name="typography" content="').concat(r,'" />').concat(e)}function ow(e){return e?Cl.escape(e):e}function iw(e){var t=window.location,n=e+"?from=".concat(encodeURIComponent(t.href));return Cl.sanitizeUrl(n)}function aw(e,t){if(!e||!t||"object"!==Gb(t))return e;try{var n=new URL(e,location.origin);Object.keys(t).forEach((function(e){n.searchParams.append(e,t[e])}));var r=n.search;return e.split("?")[0]+r}catch(t){return console.warn(t),e}}function cw(e){return(cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lw={"zh-cn":{copySuccess:"复制成功!"},en:{copySuccess:"Copy Success!"}},uw=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onBeforeRenderImage=function(e){return(0,t.getOptions().onBeforeRenderImage)(e)},this.events=[],this.bodyOverflow=document.body.style.overflow}var t,n,r;return t=e,(n=[{key:"embedToolbar",value:function(){}},{key:"toolbar",value:function(){}},{key:"maximize",value:function(){document.body.style.overflow="hidden"}},{key:"restore",value:function(){document.body.style.overflow=this.bodyOverflow}},{key:"render",value:function(){}},{key:"activate",value:function(){}},{key:"unactivate",value:function(){}},{key:"saveValue",value:function(){}},{key:"copyCardEmbedLink",value:function(){var e=this.value.id;if(e){var t=this.getLang(),n=Ip.exportParser&&Ip.exportParser.getDocUrl()||Zb();Ip.copyText("".concat(n,"?inner=").concat(e)),fs.success(lw[t].copySuccess)}}},{key:"select",value:function(){var e=this.container,t=this.constructor.selectStyleType;e[0].childNodes.length>0&&("background"===t?e.addClass("lake-selected-background"):e.addClass("lake-selected-outline"))}},{key:"unselect",value:function(){var e=this.container,t=this.constructor.selectStyleType;e[0].childNodes.length>0&&("background"===t?e.removeClass("lake-selected-background"):e.removeClass("lake-selected-outline"))}},{key:"selectByOther",value:function(e,t){var n=this.container,r=this.constructor.selectStyleType;n[0].childNodes.length>0&&("background"===r?n.css("background",t):n.css("outline","2px solid "+e))}},{key:"unselectByOther",value:function(){var e=this.container,t=this.constructor.selectStyleType;e[0].childNodes.length>0&&("background"===t?e.css("background",""):e.css("outline",""))}},{key:"activateByOther",value:function(e,t){return this.selectByOther(e,t)}},{key:"unactivateByOther",value:function(){this.unselectByOther()}},{key:"getContainerWidth",value:function(){return Hb(this.container[0])}},{key:"getContainerHeight",value:function(){return Ub(this.container[0])}},{key:"hideMask",value:function(){this.mask&&(this.mask.hide(),this.isMaskShow=!1)}},{key:"showMask",value:function(){this.mask&&(this.mask.show(),this.isMaskShow=!0)}},{key:"preventMask",value:function(){return!1}},{key:"createMask",value:function(){var e=this,t=this.container,n=ru('<div class="lake-card-cover-mask"></div>');t.css({position:"relative"}),t.append(n),this.isMaskShow=!0,n.on("click",(function(){e.isMaskShow&&e.hideMask()})),ru(document).on("click",(function(n){e.isMaskShow||t[0].contains(n.target)||e.preventMask(n)||e.showMask()})),this.mask=n}},{key:"showRisizeController",value:function(){this.resizeController&&this.resizeController.show()}},{key:"hideRisizeController",value:function(){this.resizeController&&this.resizeController.hide()}},{key:"createResizeController",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.onResizing,o=n.onDragstart,i=n.onDragmove,a=n.onDragend,c=n.maxHeight;e=ru(e);var s,l,u,f=80;this.resizeController=this._createResizeController({container:this.container,dragstart:o||function(){s=Ub(e[0]),l=!0},dragmove:i||function(t){l&&(u=(u=s+t)>=f?u:f,c&&u>c&&(u=c),e.css("height",u+"px"),e.addClass("manual-height"),r&&r(u))},dragend:a||function(){l&&(t.setValue({height:Ub(e[0])}),l=!1)}}),this.resizeController.hide()}},{key:"_createResizeController",value:function(e){var t,n=e.container,r=e.dragstart,o=e.dragmove,i=e.dragend,a=ru('<img class="card-resize-button-ud" draggable="true" src="https://gw.alipayobjects.com/mdn/prod_resource/afts/img/A*vl1iS57KtIoAAAAAAAAAAABjAQAAAQ/original" />');return n.append(a),this.bindEvent(a,"dragstart",(function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0,t={x:e.clientX,y:e.clientY},r(t)})),this.bindEvent(ru(document),"mousemove",(function(e){if(t){var n=e.clientY-t.y;o(n)}})),this.bindEvent(ru(document),"mouseup",(function(){t=void 0,i()})),a.on("click",(function(e){e.stopPropagation()})),a}},{key:"destroy",value:function(){this.destroyed=!0,this.removeEvent()}},{key:"removeEvent",value:function(){this.events.forEach((function(e){var t=e.element,n=e.type,r=e.callback;t.off(n,r)})),this.events=[]}},{key:"getViewEngine",value:function(){return this.engine||this.contentView}},{key:"getTopEngine",value:function(){var e=this.engine||this.contentView;if(!e)return null;for(;e.parentEngine;)e=e.parentEngine;return e}},{key:"bindEvent",value:function(e,t,n){e.on(t,n),this.events.push({element:e,callback:n,type:t})}},{key:"getOptions",value:function(){return this.state.readonly?this.contentView.options:this.engine.options}},{key:"getLang",value:function(){return this.getOptions().lang}},{key:"setValue",value:function(e){var t=this.cardRoot;if(!this.state.readonly&&e){var n=this.engine,r=n.card,o=n.change;r.setValue(t,Object.assign(this.value,e)),o.change()}}},{key:"remove",value:function(){!this.state.readonly&&this.engine.change.removeCard(this.cardRoot)}},{key:"getMargin",value:function(){var e=(this.value||{}).margin;return void 0!==e&&e}},{key:"toggleMargin",value:function(){var e=this.getMargin();this.cardRoot.removeClass("lake-card-margin"),this.cardRoot.removeClass("lake-card-margin-top"),this.cardRoot.removeClass("lake-card-margin-bottom"),!0===e?this.cardRoot.addClass("lake-card-margin"):!1===e||"object"===cw(e)&&(e.top&&this.cardRoot.addClass("lake-card-margin-top"),e.bottom&&this.cardRoot.addClass("lake-card-margin-bottom"))}},{key:"getMoreEmbedToolbarConfig",value:function(){var e=this;if(!this.engine)return[];var t=this.engine.locale;return[{type:"more",items:[{type:"switch",name:"margin",title:t.embedToolbar.toggleMargin,getState:function(){return!!e.getMargin()},onClick:function(){var t=(e.value||{}).margin,n=void 0!==t&&t;e.setValue({margin:!n}),e.toggleMargin()}},{type:"delete",title:t.embedToolbar.deleteCard}]}]}},{key:"refreshToolbar",value:function(){this.cardRoot&&(this.getViewEngine().card.updateToolbar(this),this.cardRoot.hasClass("lake-activated")&&this.getViewEngine().card.showToolbar(this.cardRoot))}},{key:"setToolbar",value:function(){this.embedToolbar&&!this.toolbarRendered&&(this.engine.card.setToolbar({cardRoot:this.cardRoot,component:this,engine:this.engine,contentView:this.contentView}),this.toolbarRendered=!0)}}])&&sw(t.prototype,n),r&&sw(t,r),e}();function fw(e){var t=fe.desktop&&window.appData&&window.appData.space&&window.appData.space.host||"";return!fe.desktop&&e&&(t=e),window&&window.____lakeEditorTestMockiMageGenerator||{generate:"".concat(t,"/api/services/graph/generate/"),generateRender:"".concat(t,"/api/services/graph/generate_redirect/"),preview:"".concat(t,"/api/services/graph/preview/")}}uw.canSearch=!1;var pw=fw();function dw(e,t,n){return Ma({method:"post",url:"".concat(fw(n).generate).concat(e),data:{content:t,from:Xb.isYuque?"yuque":"skylark",user_id:Xb&&Xb.me&&Xb.me.id}}).promise.catch((function(n){return console&&console.error("generate ".concat(e," error: ").concat(n)),{url:"".concat(pw.generateRender).concat(e,"?").concat(encodeURIComponent(t))}}))}function hw(e,t,n){return Ma({method:"post",url:"".concat(fw(n).preview).concat(e),data:{content:t,from:Xb.isYuque?"yuque":"skylark",user_id:Xb&&Xb.me&&Xb.me.id}}).promise}function mw(e){var t=function(){e.updateEditorPosition()};e.scrollAndResizeCallback=t,window.addEventListener("scroll",t,!0),window.addEventListener("resize",t,!0)}function vw(e){var t=e.scrollAndResizeCallback;window.removeEventListener("scroll",t,!0),window.removeEventListener("resize",t,!0)}function yw(e){e.css("cursor","pointer"),e.attr("draggable",!0),e.css("user-select","none")}function gw(e){var t=e.editorContainer,n=e.engine,r=e.cardRoot,o=e.callback,i=void 0===o?function(e){return-1!==[13,27].indexOf(e.keyCode)}:o;t.attr("tabIndex",0),t.on("keydown",(function(e){n&&i(e)&&(e.preventDefault(),n.change.activateCard(document.body,"manual"),n.change.focusCard(r))})),t.hide()}function bw(e){return(bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ww(Object(n),!0).forEach((function(t){xw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ow(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cw(e,t,n){return(Cw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Sw(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _w(e,t){return(_w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ew(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sw(e);if(t){var o=Sw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jw(this,n)}}function jw(e,t){return!t||"object"!==bw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sw(e){return(Sw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pw=fe.chrome?14/17.4:1,Rw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_w(e,t)}(i,e);var t,n,r,o=Ew(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).renderMath=nm()((function(t){e._renderMath(t)}),300),e}return t=i,(n=[{key:"renderImage",value:function(e){var t=this.getMaxWidth(),n=e[0],r=n.naturalWidth,o=n.naturalHeight,i=parseInt(Pw*r),a=parseInt(Pw*o);e.css("width","".concat(i,"px")),e.css("height","".concat(a,"px")),e.css("max-width","".concat(t,"px")),this.value=Object.assign(this.value,{width:i,height:a})}},{key:"_renderMath",value:function(e){var t=this;if(e){var n=this.getTopEngine();hw("latex",e,n.options.previewOrigin).then((function(n){var r=n.success,o=n.svg;if(t.hasSave=!1,r&&o){var i="data:image/svg+xml,"+encodeURIComponent(o).replace(/'/g,"%27").replace(/"/g,"%22"),a=new Image;a.src=i,a.onload=function(){t.renderImage(ru(a)),t.viewContainer.empty(),t.viewContainer.append(a),t.updateEditorPosition()},t.svg=o}else t.renderPureText(e),t.svg=void 0,t.value=Object.assign(t.value,{code:e,src:null})}))}}},{key:"getMaxWidth",value:function(){var e=this.getViewEngine(),t=window.getComputedStyle(e.editArea[0]),n=parseInt(t.width)-parseInt(t["padding-left"])-parseInt(t["padding-right"]);return this.state.readonly?n:n-2}},{key:"renderPureText",value:function(e){var t=this.getMaxWidth();this.viewContainer.html('<span class="lake-math-content-tmp" style="max-width: '.concat(t,'px">').concat(Cl.escape(e),"</span>")),this.updateEditorPosition()}},{key:"focusTextarea",value:function(){this.editorContainer.find("textarea")[0].focus()}},{key:"unactivate",value:function(){this.state.readonly||(this.engine.readonly(!1),this.editorContainer.hide(),vw(this))}},{key:"updateEditorPosition",value:function(){if(this.editorContainer){var e=this.viewContainer.getBoundingClientRect();this.editorContainer.css("left","".concat(e.left,"px")),this.editorContainer.css("top","".concat(e.bottom+8,"px"))}}},{key:"activate",value:function(){this.state.readonly||(this.editorContainer.show(),this.updateEditorPosition(),mw(this))}},{key:"renderView",value:function(){var e=this,t=this.value,n=this.container,r=this.locale,o=t.src,i=t.code,a=t.width,c=t.height,s=ru('<span class="lake-math-container"></span>');if(n.append(s),this.viewContainer=s,o){var l=ru('<img src="'.concat(Cl.escape(o),'" />'));s.append(l),a&&l.css("wdith","".concat(a,"px")),c&&l.css("height","".concat(c,"px")),this.img=l,l[0].onload=function(){e.renderImage(l)},l[0].onerror=function(){e._renderMath(i)}}else i?this._renderMath(i):this.renderPureText(r.placeholder);!this.state.readonly&&yw(s)}},{key:"onChange",value:function(e){this.value=Object.assign(this.value,{code:e,src:null}),this.code=e,this.renderMath(e)}},{key:"onConfirm",value:function(){this.value&&this.setValue(this.value)}},{key:"renderEditor",value:function(){var e=this,t=this.container,n=this.value,r=this.engine,o=this.cardRoot,i=this.locale,a=ru('<div class="lake-card-math-editor"></div>');this.editorContainer=a,t.append(a),gw({editorContainer:a,engine:r,cardRoot:o,callback:function(e){return 27===e.keyCode||13===e.keyCode&&(e.ctrlKey||e.metaKey)}}),He.a.render(k.a.createElement(Fb,{code:n.code,locale:i,onFocus:function(){a.addClass("textarea-focus"),e.engine.readonly(!0)},onBlur:function(){e.onConfirm(),a.removeClass("textarea-focus")},onChange:function(t){e.onChange(t)}}),a[0],(function(){a.find('[data-role="save"]').on("click",(function(e){e.stopPropagation(),e.preventDefault(),r.change.activateCard(document.body,"manual"),r.change.focusCard(o)}));var e=a.find("textarea");e.on("mousedown",(function(){e[0].focus()}))})),this.bindEvent(r.asyncEvent,"save:before",(function(){if(!1===e.hasSave)return dw("latex",e.code).then((function(t){var n=t.url;e.hasSave=!0,e.setValue({src:n},!1)}))}))}},{key:"getDefaultValue",value:function(){return{src:null,code:""}}},{key:"render",value:function(){var e=this.getViewEngine().locale.math,t=this.getDefaultValue();this.locale=e,this.value=this.value||{},this.value=kw(kw({},t),this.value),this.defaultValue=t,this.value.code?this.code=this.value.code:this.value.src=null,this.renderView(),this.state.readonly||this.renderEditor()}},{key:"destroy",value:function(){Cw(Sw(i.prototype),"destroy",this).call(this),vw(this)}}])&&Ow(t.prototype,n),r&&Ow(t,r),i}(uw);Rw.type="inline",Rw.selectStyleType="background";var Tw=n(32),Dw=n.n(Tw),Aw=(n(602),n(53)),Mw=n.n(Aw),Nw=n(48),Iw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Lw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zw(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Bw=function(e){function t(){return Fw(this,t),zw(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Iw(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.forceRender||!Mw()(this.props,e)}},{key:"render",value:function(){var e;if(this._isActived=this.props.forceRender||this._isActived||this.props.isActive,!this._isActived)return null;var t=this.props,n=t.prefixCls,r=t.isActive,o=t.children,i=t.destroyInactivePanel,a=t.forceRender,c=t.role,s=_t()(n+"-content",(Lw(e={},n+"-content-active",r),Lw(e,n+"-content-inactive",!r),e)),l=a||r||!i?k.a.createElement("div",{className:n+"-content-box"},o):null;return k.a.createElement("div",{className:s,role:c},l)}}]),t}(w.Component),Vw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function qw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uw(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ww=function(e){function t(){var e,n,r;Hw(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Uw(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleItemClick=function(){var e=r.props,t=e.onItemClick,n=e.panelKey;"function"==typeof t&&t(n)},r.handleKeyPress=function(e){"Enter"!==e.key&&13!==e.keyCode&&13!==e.which||r.handleItemClick()},Uw(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Vw(t,[{key:"shouldComponentUpdate",value:function(e){return!Mw()(this.props,e)}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.id,o=t.style,i=t.prefixCls,a=t.header,c=t.headerClass,s=t.children,l=t.isActive,u=t.showArrow,f=t.destroyInactivePanel,p=t.disabled,d=t.accordion,h=t.forceRender,m=t.expandIcon,v=t.extra,y=_t()(i+"-header",qw({},c,c)),g=_t()((qw(e={},i+"-item",!0),qw(e,i+"-item-active",l),qw(e,i+"-item-disabled",p),e),n),b=k.a.createElement("i",{className:"arrow"});return u&&"function"==typeof m&&(b=m(this.props)),k.a.createElement("div",{className:g,style:o,id:r},k.a.createElement("div",{className:y,onClick:this.handleItemClick,role:d?"tab":"button",tabIndex:p?-1:0,"aria-expanded":""+l,onKeyPress:this.handleKeyPress},u&&b,a,v&&k.a.createElement("div",{className:i+"-extra"},v)),k.a.createElement(Sc.a,{showProp:"isActive",exclusive:!0,component:"",animation:this.props.openAnimation},k.a.createElement(Bw,{prefixCls:i,isActive:l,destroyInactivePanel:f,forceRender:h,role:d?"tabpanel":null},s)))}}]),t}(w.Component);Ww.defaultProps={showArrow:!0,isActive:!1,destroyInactivePanel:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var Kw=Ww,Yw=n(103);function Xw(e,t,n,r){var o=void 0;return Object(Yw.a)(e,n,{start:function(){t?(o=e.offsetHeight,e.style.height=0):e.style.height=e.offsetHeight+"px"},active:function(){e.style.height=(t?o:0)+"px"},end:function(){e.style.height="",r()}})}var $w=function(e){return{enter:function(t,n){return Xw(t,!0,e+"-anim",n)},leave:function(t,n){return Xw(t,!1,e+"-anim",n)}}},Gw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Zw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jw(e){var t=e;return Array.isArray(t)||(t=t?[t]:[]),t.map((function(e){return String(e)}))}var Qw=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));ek.call(n);var r=e.activeKey,o=e.defaultActiveKey;return"activeKey"in e&&(o=r),n.state={openAnimation:e.openAnimation||$w(e.prefixCls),activeKey:Jw(o)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Gw(t,[{key:"shouldComponentUpdate",value:function(e,t){return!Mw()(this.props,e)||!Mw()(this.state,t)}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,o=t.style,i=t.accordion,a=_t()((Zw(e={},n,!0),Zw(e,r,!!r),e));return k.a.createElement("div",{className:a,style:o,role:i?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(e){var t={};return"activeKey"in e&&(t.activeKey=Jw(e.activeKey)),"openAnimation"in e&&(t.openAnimation=e.openAnimation),t.activeKey||t.openAnimation?t:null}}]),t}(w.Component),ek=function(){var e=this;this.onClickItem=function(t){var n=e.state.activeKey;if(e.props.accordion)n=n[0]===t?[]:[t];else{var r=(n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n))).indexOf(t);r>-1?n.splice(r,1):n.push(t)}e.setActiveKey(n)},this.getNewChild=function(t,n){if(!t)return null;var r=e.state.activeKey,o=e.props,i=o.prefixCls,a=o.accordion,c=o.destroyInactivePanel,s=o.expandIcon,l=t.key||String(n),u=t.props,f=u.header,p=u.headerClass,d=u.disabled,h={key:l,panelKey:l,header:f,headerClass:p,isActive:a?r[0]===l:r.indexOf(l)>-1,prefixCls:i,destroyInactivePanel:c,openAnimation:e.state.openAnimation,accordion:a,children:t.props.children,onItemClick:d?null:e.onClickItem,expandIcon:s};return"string"==typeof t.type?t:k.a.cloneElement(t,h)},this.getItems=function(){var t=e.props.children;return Object(Nw.a)(t).map(e.getNewChild)},this.setActiveKey=function(t){"activeKey"in e.props||e.setState({activeKey:t}),e.props.onChange(e.props.accordion?t[0]:t)}};Qw.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},Qw.Panel=Kw;var tk=Qw,nk=(Qw.Panel,n(105)),rk=n.n(nk);function ok(e,t,n){var r,o;return Object(Yw.a)(e,"ant-motion-collapse-legacy",{start:function(){t?(r=e.offsetHeight,e.style.height="0px",e.style.opacity="0"):(e.style.height="".concat(e.offsetHeight,"px"),e.style.opacity="1")},active:function(){o&&Zr.a.cancel(o),o=Zr()((function(){e.style.height="".concat(t?r:0,"px"),e.style.opacity=t?"1":"0"}))},end:function(){o&&Zr.a.cancel(o),e.style.height="",e.style.opacity="",n()}})}var ik={enter:function(e,t){return ok(e,!0,t)},leave:function(e,t){return ok(e,!1,t)},appear:function(e,t){return ok(e,!0,t)}},ak=function(e){var t,n,r=w.useContext(rn),o=r.getPrefixCls,i=r.direction,a=e.prefixCls,c=e.className,s=void 0===c?"":c,l=e.bordered,u=e.ghost,f=o("collapse",a),p=void 0!==(n=e.expandIconPosition)?n:"rtl"===i?"right":"left",d=_t()((t={},ut()(t,"".concat(f,"-borderless"),!l),ut()(t,"".concat(f,"-icon-position-").concat(p),!0),ut()(t,"".concat(f,"-rtl"),"rtl"===i),ut()(t,"".concat(f,"-ghost"),!!u),t),s),h=ht()(ht()({},ik),{appear:function(){}});return w.createElement(tk,ht()({openAnimation:h},e,{expandIcon:function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.expandIcon,r=n?n(t):w.createElement(rk.a,{rotate:t.isActive?90:void 0});return Dt(r,(function(){return{className:_t()(r.props.className,"".concat(f,"-arrow"))}}))}(t)},prefixCls:f,className:d}))};ak.Panel=function(e){var t=w.useContext(rn).getPrefixCls,n=e.prefixCls,r=e.className,o=void 0===r?"":r,i=e.showArrow,a=void 0===i||i,c=t("collapse",n),s=_t()(ut()({},"".concat(c,"-no-arrow"),!a),o);return w.createElement(tk.Panel,ht()({},e,{prefixCls:c,className:s}))},ak.defaultProps={bordered:!0};var ck=ak,sk=(n(603),ck),lk=(n(298),function(e){return e?"function"==typeof e?e():e:null}),uk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},fk=w.forwardRef((function(e,t){var n=e.prefixCls,r=e.title,o=e.content,i=uk(e,["prefixCls","title","content"]),a=(0,w.useContext(rn).getPrefixCls)("popover",n);return w.createElement(pn,ht()({},i,{prefixCls:a,ref:t,overlay:function(e){return w.createElement(w.Fragment,null,r&&w.createElement("div",{className:"".concat(e,"-title")},lk(r)),w.createElement("div",{className:"".concat(e,"-inner-content")},lk(o)))}(a)}))}));fk.displayName="Popover",fk.defaultProps={placement:"top",transitionName:"zoom-big",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}};var pk=fk;n(607);function dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dk(Object(n),!0).forEach((function(t){mk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vk(){return(vk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bk=k.a.forwardRef((function(e,t){var n=e.className,r=e.overlayClassName,o=e.type,i=e.noArrow,a=e.hideWhenInactive,c=e.content,s=yk(Object(w.useState)(e.visible||e.defaultVisible),2),l=s[0],u=s[1];Object(w.useEffect)((function(){"visible"in e&&u(e.visible)}),[e.visible]);var f=function(t){"visible"in e||u(t),e.onVisibleChange&&e.onVisibleChange(t)};return k.a.createElement(pk,vk({},e,{className:_t()(n,"larkui-popover-trigger"),overlayClassName:_t()(r,{"larkui-popover":!0,"larkui-popover-menu":"menu"===o,"larkui-popover-no-arrow":i}),content:a?k.a.createElement("div",{onClick:function(){f(!1)}},c):c,ref:t,visible:l,onVisibleChange:f}))}));bk.propTypes=hk(hk({},pk.PopoverProps),{},{type:st.a.oneOf(["menu"]),content:st.a.node,children:st.a.node,className:st.a.string,overlayClassName:st.a.string,noArrow:st.a.bool,hideWhenInactive:st.a.bool}),Do()(bk,pk);var wk=bk;function kk(e){return(kk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ok(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ck(e,t){return(Ck=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jk(e);if(t){var o=jk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ek(this,n)}}function Ek(e,t){return!t||"object"!==kk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jk(e){return(jk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ck(e,t)}(i,e);var t,n,r,o=_k(i);function i(){return xk(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e,t=this,n=this.props,r=n.onBeforeUpload,o=n.onAfterUpload,i=n.onBeforeInsertCard,a=n.uploader,c=this.props,s=c.engine,l=c.getEngine,u=nw(this.props.name);return(s=l()||s).uploader&&(e=s.uploader.getAccept(u)),k.a.createElement("span",{onClick:function(){return t.fileInput.click()},"data-lake_prevent_click_unselect":null!=a},k.a.createElement("input",{type:"file",accept:e,ref:function(e){t.fileInput=e},onChange:function(e){for(var n=t.fileInput.files,c=[],l=0,f=n.length;l<f;l++)c.push(n[l]);a?a.post(u,c):s.uploader.post(u,c,{onBeforeUpload:r,onAfterUpload:o,onBeforeInsertCard:i}),e.target.value=null},style:{display:"none"},multiple:"multiple"}),this.props.children)}}])&&Ok(t.prototype,n),r&&Ok(t,r),i}(k.a.Component);Sk.propTypes={name:st.a.string,engine:st.a.object,getEngine:st.a.func,children:st.a.object,onBeforeUpload:st.a.func,onAfterUpload:st.a.func,onBeforeInsertCard:st.a.func,uploader:st.a.object};var Pk=Sk;function Rk(e){return(Rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dk(e,t){return(Dk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ak(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nk(e);if(t){var o=Nk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mk(this,n)}}function Mk(e,t){return!t||"object"!==Rk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nk(e){return(Nk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ik=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dk(e,t)}(i,e);var t,n,r,o=Ak(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onSelect=function(e,n,r){t.props.onSelect(e,n+1,r+1)},t.onHover=function(e,n){var r=Math.max(t.state.minRows,Math.min(t.state.maxRows,e+2)),o=Math.max(t.state.minCols,Math.min(t.state.maxCols,n+2));t.setState({currentRows:r,currentCols:o,selectedRows:e+1,selectedCols:n+1})},t.renderTr=function(e,n){for(var r=t.state,o=r.selectedRows,i=r.selectedCols,a=[],c=function(n){var r=_t()({"lake-toolbar-table-selector-td":!0,actived:e<o&&n<i});a.push(k.a.createElement("div",{className:r,key:n,onMouseDown:function(r){return t.onSelect(r,e,n)},onMouseOver:function(){return t.onHover(e,n)}}))},s=0;s<n;s++)c(s);return a},t.renderTable=function(e,n){for(var r=[],o=0;o<e;o++)r.push(k.a.createElement("div",{className:"lake-toolbar-table-selector-tr",key:o},t.renderTr(o,n)));return r},t.state={maxRows:10,maxCols:10,minRows:4,minCols:4,currentCols:4,currentRows:4,selectedCols:0,selectedRows:0},t}return t=i,(n=[{key:"render",value:function(){var e=this.state,t=e.currentCols,n=e.currentRows,r=e.selectedRows,o=void 0===r?0:r,i=e.selectedCols,a=void 0===i?0:i;return k.a.createElement("div",{className:"lake-toolbar-table-selector","data-lake-element":"table-selector"},this.renderTable(n,t),k.a.createElement("div",{className:"lake-toolbar-table-selector-info"},o," x ",a))}}])&&Tk(t.prototype,n),r&&Tk(t,r),i}(k.a.Component);Ik.propTypes={className:st.a.string,onSelect:st.a.func};var Lk=Ik;n(601);function Fk(e){return(Fk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vk(e,t){return(Vk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Uk(e);if(t){var o=Uk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hk(this,n)}}function Hk(e,t){return!t||"object"!==Fk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Uk(e){return(Uk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wk={"zh-cn":{supportFollowingExts:"支持以下格式"},en:{supportFollowingExts:"The following file formats are supported"}}[window.appData&&"zh-cn"!==window.appData.locale?"en":"zh-cn"],Kk=document.createElement("div");Kk.setAttribute("class","lake-card-tooltip-container lake-prevent-card-activated"),Kk.addEventListener("click",(function(e){e.stopPropagation()})),document.body.appendChild(Kk);var Yk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vk(e,t)}(i,e);var t,n,r,o=qk(i);function i(){return zk(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"renderSubTitle",value:function(e){return e.map((function(e,t){var n=e.children.map((function(e,n){return k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-".concat(e.icon),key:"".concat(t).concat(n)})}));return k.a.createElement("div",{key:"".concat(t),className:"lake-card-tooltip-hierarchy-cell"},k.a.createElement("p",{className:"lake-card-tooltip-hierarchy-name-container"},k.a.createElement("span",{className:"lake-card-tooltip-hierarchy-name"},e.name)," ",k.a.createElement("span",{className:"lake-card-tooltip-hierarchy-sub-name"},e.subName)),k.a.createElement("p",null,n))}))}},{key:"renderCommon",value:function(e){return e.map((function(e,t){return k.a.createElement("div",{key:"0".concat(t),className:"lake-card-tooltip-flat-cell"},k.a.createElement("span",null,e.name),k.a.createElement("br",null),k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-".concat(e.icon)}))}))}},{key:"renderGif",value:function(e){return k.a.createElement("img",{className:"lake-card-tooltip-gif-img",src:e,height:132})}},{key:"renderHelperTips",value:function(e){return k.a.createElement("a",{href:e,target:"_blank",className:"lake-svg-icon lake-svg-icon-helper-tips"})}},{key:"getTitle",value:function(){var e=this.props.data;if(!e||null===e.title)return"";var t="lake-card-tooltip-title lake-card-tooltip-".concat(e.type,"-title"),n=e.title?e.title:Wk.supportFollowingExts;return e.helperTipsLink?k.a.createElement("p",{className:t},n," ",this.renderHelperTips(e.helperTipsLink)):k.a.createElement("p",{className:t},n)}},{key:"renderTooltip",value:function(){var e,t=this.props.data,n=this.getTitle();return t&&("subTitle"===t.type?e=this.renderSubTitle(t.content):"common"===t.type?e=this.renderCommon(t.content):"gif"===t.type&&(e=t.src?this.renderGif(t.src):"")),k.a.createElement("div",{className:"lake-card-tooltip-content-container"},n,e)}},{key:"render",value:function(){var e=this.props,t=e.children;return e.data?k.a.createElement(dn,{title:this.renderTooltip(),placement:"right",getPopupContainer:function(){return Kk}},t):k.a.createElement("div",null,t)}}])&&Bk(t.prototype,n),r&&Bk(t,r),i}(k.a.Component);function Xk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Yk.defaultProps={data:null},Yk.propTypes={data:st.a.object,children:st.a.object};var $k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"check",value:function(e,t){if(!window.__member_message_ref)return null;var n;switch(e){case"image":n="max_single_image_size";break;case"video":n="max_single_video_size";break;default:n="max_single_file_size"}try{var r=window.__member_message_ref.current.getMessageWithFile({filesize:t},n)||null;if(r)return{level:r.level||"error",msg:r.msg||"unknown error",alwaysOpen:!!r.alwaysOpen,callback:r.callback||function(){},result:r}}catch(e){return console.log(e),null}return null}},{key:"getMessageByCode",value:function(e,t){if(!window.__member_message_ref)return null;try{var n=window.__member_message_ref.current.getMessage(e,{},t)||null;if(n)return{level:n.level||"error",msg:n.msg||"unknown error",alwaysOpen:!!n.alwaysOpen,callback:n.callback||function(){}}}catch(e){return console.log(e),null}return null}}],(n=null)&&Xk(t.prototype,n),r&&Xk(t,r),e}();function Gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gk(Object(n),!0).forEach((function(t){Jk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qk=fe.macos?"⌘":"Ctrl",ex={fontColor:"Text color",bgColor:"Highlight color",moreColor:"More"},tx={layout:"Layout",layoutBlock:"Break text",layoutInline:"In line"},nx={alignment:"Align",alignLeft:"Left align",alignCenter:"Centre align",alignRight:"Right align"},rx={uploadFailed:"Failed to upload the file, please retry",notSupportExt:"This file type is not supported"},ox={dndTips:"<span>Drag to reposition<br />Click for more options </span>",dndInsert:"Insert newline",dndClone:"Clone",dndCopy:"Copy anchor",dndCopySuccess:"Copied successfully",dndEdit:"Edit anchor",dndDelete:"Delete"},ix={linkPlaceholder:"Please input a link or an anchor",linkSave:"Apply",linkEdit:"Change",linkDelete:"Remove",linkOpen:"Open"},ax={editorModalClose:"Discard",editorModalPopupTips:"Are you sure?",editorModalPopupCancel:"Cancel",editorModalPopupConfirm:"Discard",editorModalSave:"Apply",editorModalConfirm:"Do you want to discard changes?",editorModalDiscardAndExit:"Discard and exit",editorModalCancel:"Cancel",editorModalSaveAndExit:"Save and exit"},cx={edit:"Change",delete:"Delete",save:"Save Draft",help:"Help",undo:"Undo",redo:"Redo",insertSibling:"Sibling Topic",insertChild:"Sub Topic",insertRoot:"Main Topic",createLink:"Create link",attachImage:"Attach image",collapse:"Fold subtopics",expand:"Unfold subtopics",autoAdjust:"Auto",properties:"Settings panel",insertRootAfterMaximize:"Add main node after maximizing",propertiesAfterMaximize:"Set styling after maximizing",downloadImage:"Download Image",style:"Style"},sx={pure:{support:"support"},editor:{save:"Save draft",print:"Print",file:"File",edit:"Edit",view:"View",insert:"Insert",format:"Format",lab:"Lab",version:"Version",help:"Help"},alignment:{buttonTitle:"Align",alignLeft:"Left align",alignCenter:"Centre align",alignRight:"Right align",alignJustify:"Justify"},background:ex,blockquote:{buttonTitle:"Quotation",menuTitle:"Quotation"},bold:{macTitle:"Bold ⌘+B",winTitle:"Bold Ctrl+B",text:"Bold"},paintformat:{buttonTitle:"Paint format"},clearFormat:{buttonTitle:"Clear formatting"},code:{macTitle:"Inline code",winTitle:"Inline code",text:"Inline code"},codeBlock:Zk(Zk({},ox),{},{buttonTitle:"Code block",menuTitle:"Code block",preview:"Preview",delete:"Delete",copyCode:"Copy Code",copySuccess:"Successful copy!",autoWrap:"Auto wrap"}),color:ex,emoji:{buttonTitle:"Moods"},localdoc:Zk(Zk({},rx),{},{formatError:"The file embed preview is not supported",allowDownload:"Allow downloading of files under the reading page",items:{office:"Windows office suite",officeDesc:"Supported Word, Excel, PPT",mac:"Mac office suite",macDesc:"Supported Pages, Numbers, Keynote",design:"Design files",designDesc:"Supported Axure, Photoshop, Sketch",mind:"Mind map file",mindDesc:"Supported MindManager, XMind, MindNote",pdf:"PDF",video:"Local video",localFile:"Local file",audio:"Local audio"}}),preview:{office:"Office preview, upload file size is limited to 100 MB",macOffice:"The local file preview, file size is limited to 200 MB",pdf:"PDF preview, upload file size is limited to 100 MB"},premium:{sidebar:{title:"Paid Reading",moreLink:"Learn More",desc:'By paying for reading, original content can be valued to generate income. Please abide by <a href="https://www.yuque.com/terms/pay_to_read" target="_blank">the service agreement of paying for reading</a>.',price:{title:"Pricing",desc:"Pricing can only be set once and cannot be modified after release.",unit:"YUAN",error:{required:"please set the pricing",invalid:"invalid input",range:"beyond legal scope"}},daysCount:{title:"Duration",desc:"Pay for reading days, you need to pay for reading. After paying for the number of reading days, the document is automatically set to read the full text for free. <strong>The duration can only be set once and cannot be modified after publishing.</strong>",unit:"Day",error:{required:"please set the duration",invalid:"invalid input",range:"beyond legal scope"}},tip:{title:"Custom split line copy",error:{length:"copywriting supports up to 20 words"}}},defaultTip:"Pay for the following content",paidTip:"Paid, the following is the paid content",expiredTip:"The payment time has been exceeded, and the document has been automatically published for free."},file:Zk(Zk(Zk({},rx),ox),{},{buttonTitle:"Attachment",menuTitle:"Attachment",stillUploading:"Some files are still in the process of uploading",stillTransfering:"Some files are still transfering",formatError:"Unsupported file format, please compress it to ZIP before uploading",sizeError:"Failed to upload for the file size is larger than 500M",placeholder:"Upload an attachment(maximum file size: 500M)",preview:"Preview",replace:"Replace",download:"Download",delete:"Delete",transfering:"Transferring...",invalid:"Attachment invalid",failReadFile:"File read failed, please re-upload"}),heading:Zk(Zk({},ox),{},{buttonTitle:"Heading and text",normal:"Normal",heading_1:"Heading 1",heading_2:"Heading 2",heading_3:"Heading 3",heading_4:"Heading 4",heading_5:"Heading 5",heading_6:"Heading 6"}),fontsize:{buttonTitle:"Font size"},history:{undo:"Undo",redo:"Redo"},hr:Zk(Zk({},ox),{},{buttonTitle:"Horizontal line",menuTitle:"Horizontal line"}),image:Zk(Zk(Zk(Zk(Zk(Zk({},rx),tx),nx),ox),ix),{},{buttonTitle:"Image",menuTitle:"Image",sizeError:"Failed to upload the image (maximum image size: 10M)",uploadFailed:"Failed to upload the image, please retry",stillUploading:"Some images are still in the process of uploading",uploadTips:"Drag an image here or click to choose one to upload (maximum image size: 10M)",copyFailed:"Failed to copy the image",copyFailedTips:"Image does not support copy, please copy and upload separately",loadFailed:"Network error, can't display image",placeholder:"Upload an image (maximum image size: 10M)",sizeTitle:"Size",width:"Width",formatError:"This file type is not supported",height:"Height",originSize:"Original size",linkTitle:"Link",linkPlaceholder:"Link address",linkTargetTips:"Open on current page",replace:"Replace",delete:"Delete",preferences:"Preferences",style:"Style",none:"None",stroke:"Stroke",shadow:"Shadow",spacing:"Spacing",topSpacingTips:"Add top margin to picture",bottomSpacingTips:"Add bottom margin to picture"}),indent:{buttonTitle:"Indent",decrease:"Decrease indent",increase:"Increase indent"},lineHeight:{buttonTitle:"Line Height",defaultTitle:"Default"},italic:{macTitle:"Italic ⌘+I",winTitle:"Italic Ctrl+I",text:"Italic"},link:Zk(Zk({},ix),{},{buttonTitle:"Link",menuTitle:"Link"}),linkCard:{buttonTitle:"Bookmark Link",title:"Bookmark Link"},list:{buttonTitle:"List",orderedList:"Numbered list",unorderedList:"Bulleted list",taskList:"To-Do list"},mark:{macTitle:"Highlight text",winTitle:"Highlight text",text:"Highlight text"},math:Zk(Zk(Zk(Zk(Zk({},tx),nx),ox),ix),{},{buttonTitle:"Equation",menuTitle:"Equation",success:"Copied successfully",placeholder:"New equation",edit:"Change",copy:"Copy source code",delete:"Delete",cancel:"Cancel",save:"Apply",sourceCodeRequired:"Please input source code",syntaxInvalid:"Syntax error",help:"Help",enterTooltips:"".concat(Qk," + Enter")}),flowchart:Zk(Zk(Zk(Zk(Zk({},nx),ox),ax),cx),{},{insertText:"Insert Text",insertShape:"Insert Shape",InsertEdge:"Insert Edge"}),mindmap:Zk(Zk(Zk(Zk(Zk({},nx),ox),ax),cx),{},{defaultRootText:"Mind Map",newNode:"New Node",menuTitle:"Mind Map",buttonTitle:"Mind Map",editorTitle:"Mind Map",line:"Line"}),moremark:{buttonTitle:"More text styles"},paste:{copy:"Copy",cut:"Cut",paste:"Paste",pastePlainText:"Paste plain text",pasteMarkdown:"Paste Markdown",selectAll:"Select all"},textDiagram:Zk(Zk(Zk(Zk({},nx),ox),ax),{},{edit:"Edit",save:"Save",preview:"Preview",template:"Template",help:"Help",winPreviewTooltip:"Ctrl+Shift+P",macPreviewTooltip:"⌘+Shift+P"}),riddle:Zk(Zk({},ox),{},{buttonTitle:"Riddle",menuTitle:"Riddle",active:"Click to active",replace:"Replace",delete:"Delete",addressInvalid:"Invalid hyperlink",placeholder:"Please input link to your riddle and then enter to insert it"}),strikethrough:{macTitle:"Strike-through ⌘+Shift+X",winTitle:"Strike-through Ctrl+Shift+X",text:"Strike-through"},sub:{macTitle:"Subscript",winTitle:"Subscript",text:"Subscript"},sup:{macTitle:"Superscript",winTitle:"Superscript",text:"Superscript"},table:{buttonTitle:"Table",menuTitle:"Table",copy:"Copy",cut:"Cut",merge:"Merge cells",unmerge:"Unmerge cells",clear:"Clear content",deleteColumn:"Delete selected column(s)",deleteRow:"Delete selected row(s)",deleteTable:"Delete table"},underline:{macTitle:"Underline ⌘+U",winTitle:"Underline Ctrl+U",text:"Underline"},video:Zk(Zk(Zk({},rx),ox),{},{buttonTitle:"Video",menuTitle:"Video",play:"Play",replace:"Replace",download:"Download",delete:"Delete",sizeError:"Failed to upload the video"}),toc:{title:"TOC",open:"Open TOC",close:"Close TOC"},card:{mindmapFile:"MindMap File",designingFile:"Designing File",officeFile:"Office File",localdocSubTitle:"Support Office, XMind, Sketch, etc.",label:"Label",labelDescription:"simple label tag",localdoc:"Local File",localdocDescription:"Support Office, XMind, Sketch, etc.",iframeOverLimit:"Documents support up to ${limit} embedded cards",sizeOverLimit:"File support up to ${sizeLimit} to preview",placeholder:"card name",embed:"embed",common:"common",yuque:"Yuque content",yuqueSubTitle:"Support for repository, whole or partial snippet documents",yuqueTooltipTitle:"Copy links to the repository, documents, paragraphs, etc., and embed them in this document",yuqueDescription:"Supports embedded text documents, tables, brain maps",buttonTitle:"Insert image, table,<br />attachment, codeblock, etc.",miniButtonTitle:"Insert image, label,<br />Yuque doc, etc.",normal:" ",media:"Media",engineering:"Engineering",description:"Enter  <code>".concat(Qk,"</code> + <code>/</code>  quickly insert a card"),table:"Table",tableDescription:"Insert online table",image:"Image",imageDescription:"Upload one or more images",video:"Local video",videoDescription:"Upload local video",youku:"Online video",youkuName:"Youku",youkuDescription:"Youku, Bilibili, Taobao video",youkuSubTitle:"Youku, Bilibli, Taobao Video",youkuTooltipTitle:"Supports the following websites",youkuSiteDesc:"Youku, Bilibli, Taobao Video",thirdparty:"Third party Service",internalThirdpartySubTitle:"Xiami, Riddle, Deepinsight, etc.",thirdpartySubTitle:"MoDao, ProcessOn, Codepen, etc.",thirdpartyTooltipTitle:"Supports the following services",processonName:"ProcessOn",modaoName:"Mockingbot",music:"music",gaodeDesc:"Amap",toolsDesc:"Coding",designDesc:"Design",designSubDesc:"（Mockingbot，ProcessOn，Figma）",internalGaodeDesc:"Amap",internalToolDesc:"Coding",internalChartDesc:"Data",bilibili:"bilibili",bilibiliName:"Bilibili",bilibiliDescription:"Insert Bilibili video",codeblock:"Code block",codeblockDescription:"Enter code snippet",file:"Attachment",fileDescription:"Upload one or more files",math:"Formula",mathDescription:"Enter Latex formula",calendar:"Calendar",calendarDescription:"Insert calendar",riddle:"Riddle",riddleDescription:"Insert Riddle code snippet",mindmap:"Mind map",mindmapDescription:"Draw a simple mind map",flowchart:"Flowchart",flowchartDescription:"Draw a Flowchart diagram",puml:"PlantUML",pumlDescription:"Draw a PlantUML diagram",mermaid:"Mermaid",mermaidDescription:"Draw a Mermaid diagram",graphviz:"Graphviz",graphvizDescription:"Draw a Graphviz diagram",diagram:"Text diagram",diagramDescription:"Draw text based diagram",diagramSubTitle:"PlantUML, Mermaid, etc.",lockedtextTitle:"LockedText",lockedtextDescription:"Locked text",premium:"Paid reading",premiumDescription:"You need to pay to view",vote:"Vote"},embedCardMenu:{embed:"embed",introduction:"introduction"},thirdparty:{tip:"Paste a link from site %s, eg.:%s",defaultTip:"Paste a link",placeholders:{modao:"Paste embed code from Modao, eg.: <iframe src=…"},names:{amap:"AMap",codepen:"CodePen",deepinsight:"DeepInsight",figma:"Figma",herbox:"Herbox",processon:"ProcessOn",modao:"Mockingbot",riddle:"Riddle",music163:"163 Music",xiami:"XiaMi Music",ximalaya:"Himalaya",youtube:"YouTube",youku:"Youku",bilibili:"Bilibili",taobao:"TaoBao Video",canva:"Canva",jinshuju:"JinShuJu"},category:{map:"Map",media:"Media",development:"Development",form:"Form",data:"Data",design:"Design"}},mention:{text:"Mention"},markdown:{pasteTitle:"Do you need to do a style conversion?",pasteContent:"It is detected that the paste content conforms to the Markdown syntax. Do you need to do style conversion?",pasteButton:"Convert now"},search:{searchAndReplace:"Search & Replace",search:"search",replace:"replace",replaceAll:"replace all",replaceTo:"replace to",pleaseEnter:"please enter",next:"next",previous:"prevs"},translate:{title:"Translate",subTitle:"source & target",automaticDetection:"automatic detection",zh:"chinese",en:"english",translation:"translation",insertDoc:"Insert document",placeholder:"please select what needs to be translated in the document."},repository:{title:"Resource"},calendar:{format:"MMM YYYY",weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"],today:"Today",tip:{title:"Untitled",desc:"Add a description",error:"failed to render calendar"},lang:"en"},bookmarkLink:{untitled:"Untitled",toLink:"Convert to link",loading:"Loading ...",loadingError:"Failed to load"},yuque:{untitled:"Untitled",unsupportedThread:"Does not support displaying thread",recently:"Recently Used",recommendTip:"Paste links to quickly associate content",searchRange:"Search range: ",loading:"Loading ...",loadingError:"Failed to load",searching:"Searching ...",searchError:"Failed to search",emptySearchTip:"No content found",emptySearchSubTip:"Try to paste the link directly"},audio:{transcodeError:"Transcode failed",failedToQuery:"Query failed",uploadError:"Upload failed",invalidAudio:"Invalid audio, please upload again",copyright:"Due to copyright protection, local audio files do not support direct playback in publicly shared documents",notSupport:"Audio playback is not supported here",cantPlay:"Audio file cannot be played",query:"Query audio information...",linkTip:"Click to open"},ui:{subPanel:{uploadBtn:"Upload"}},embedToolbar:{toggleMargin:"Add spacing to card",deleteCard:"Delete card",saveToResource:"Save to resource"},errorMessage:{currentDOCURL:"Does not support embedding the current document",notSupportURL:"Does not support embedding the link"},repositorySidebar:{title:"Resource",searchTip:"Search",searchResultTip:"Result",topLevelBreadcrumbName:"All Resource",emptySearchTip:"No matching results",noResourceBook:"No resource repository, immediately ",create:"create",error:"Can't fetch resource"},copyParagraphLink:"Copy paragraph link",copySuccess:"Copy success!",note:{image:"Image",todo:"TODO list",link:"Link card",localFile:"Local file"}};function lx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ux(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lx(Object(n),!0).forEach((function(t){fx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var px=fe.macos?"⌘":"Ctrl",dx={fontColor:"字体颜色",bgColor:"背景颜色",moreColor:"更多颜色"},hx={layout:"布局方式",layoutBlock:"独占一行",layoutInline:"嵌入行内"},mx={alignment:"对齐方式",alignLeft:"靠左对齐",alignCenter:"居中对齐",alignRight:"靠右对齐"},vx={uploadFailed:"文件上传失败，请重试",notSupportExt:"不支持该文件类型"},yx={dndTips:"<span>拖动 调整位置<br />点击 打开更多菜单</span>",dndInsert:"插入空行",dndClone:"克隆",dndCopy:"拷贝锚点",dndCopySuccess:"已拷贝到粘贴板",dndEdit:"编辑锚点",dndDelete:"删除"},gx={linkPlaceholder:"请输入链接地址或者锚点",linkSave:"保存",linkEdit:"编辑",linkDelete:"取消链接",linkOpen:"打开链接"},bx={editorModalClose:"关闭",editorModalPopupTips:"确认要放弃刚才编辑的草稿吗？",editorModalPopupCancel:"返回编辑",editorModalPopupConfirm:"确认",editorModalSave:"保存并插入",editorModalConfirm:"要在退出前保存本次修改吗？",editorModalDiscardAndExit:"放弃编辑并退出",editorModalCancel:"取消",editorModalSaveAndExit:"保存并退出"},wx={edit:"编辑",delete:"删除",save:"保存草稿",help:"帮助",undo:"撤销",redo:"重做",insertSibling:"插入同级",insertChild:"插入子级",insertRoot:"插入主节点",createLink:"插入链接",attachImage:"插入图片",collapse:"折叠",expand:"展开",autoAdjust:"适应画布",properties:"设置面板",insertRootAfterMaximize:"最大化后添加主节点",propertiesAfterMaximize:"最大化后进行样式设置",downloadImage:"下载图片",style:"样式"},kx={pure:{support:"支持"},editor:{save:"保存草稿",print:"打印",file:"文档",edit:"编辑",view:"视图",insert:"插入",format:"格式",lab:"实验室",version:"历史",help:"帮助",publish:"发布更新"},alignment:{buttonTitle:"对齐方式",alignLeft:"左对齐",alignCenter:"居中对齐",alignRight:"右对齐",alignJustify:"两端对齐"},background:dx,blockquote:{buttonTitle:"插入引用",menuTitle:"引用"},bold:{macTitle:"粗体 ⌘+B",winTitle:"粗体 Ctrl+B",text:"粗体"},paintformat:{buttonTitle:"格式刷"},clearFormat:{buttonTitle:"清除格式"},code:{macTitle:"行内代码",winTitle:"行内代码",text:"行内代码"},codeBlock:ux(ux({},yx),{},{buttonTitle:"插入代码块",menuTitle:"代码块",preview:"预览",delete:"删除",copyCode:"复制代码",copySuccess:"复制成功！",autoWrap:"自动换行"}),color:dx,emoji:{buttonTitle:"表情"},localdoc:ux(ux({},vx),{},{formatError:"不支持该文件嵌入预览",allowDownload:"允许在阅读页下载文件",items:{office:"Office 文件",officeDesc:"支持 Word，Excel，PPT",mac:"Mac 办公套件",macDesc:"支持 Pages，Numbers，Keynote",design:"设计文件",designDesc:"支持 Axure, Photoshop, Sketch",mind:"思维导图文件",mindDesc:"支持 MindManager, XMind, MindNote",pdf:"PDF 文件",video:"本地视频",localFile:"本地文件",audio:"本地音频"}}),preview:{office:"Office 预览，上传文件大小限制为 100 MB",macOffice:"本地文件预览，文件大小限制为 200 MB",pdf:"PDF 预览，上传文件大小限制为 100 MB"},premium:{sidebar:{title:"付费阅读",moreLink:"了解更多",desc:'通过付费阅读，可以让原创内容得到价值创收，请遵守<a href="https://www.yuque.com/terms/pay_to_read" target="_blank">《语雀付费阅读服务协议》</a>。',price:{title:"付费定价",desc:"定价只能设置一次，发布后不可修改",unit:"元",error:{required:"请设置定价",invalid:"无效的输入",range:"超出合法范围"}},daysCount:{title:"付费时长",desc:"付费阅读天数内，需付费才能阅读。付费阅读天数后，文档会自动设置为免费就可阅读全文。<strong>时长只能设置一次，发布后不可修改</strong>",unit:"天",error:{required:"请设置时长",invalid:"无效的输入",range:"超出合法范围"}},tip:{title:"自定义分割线文案",error:{length:"文案最多支持 20 字"}}},defaultTip:"以下内容需付费阅读",paidTip:"已付费，以下为付费内容",expiredTip:"已超过付费时长，文档已自动免费公开"},file:ux(ux(ux({},vx),yx),{},{buttonTitle:"上传附件",menuTitle:"附件",stillUploading:"有文件还在上传中",stillTransfering:"有文件还在转存中",formatError:"该类型文件请压缩为 ZIP 文件上传",sizeError:"上传失败，附件大小限制为 500M",placeholder:"上传附件，限制 500M",preview:"预览",replace:"替换",download:"下载",delete:"删除",transfering:"转存中…",invalid:"附件已失效",failReadFile:"文件读取失败，请重新上传"}),heading:ux(ux({},yx),{},{buttonTitle:"正文与标题",normal:"正文",heading_1:"标题 1",heading_2:"标题 2",heading_3:"标题 3",heading_4:"标题 4",heading_5:"标题 5",heading_6:"标题 6"}),fontsize:{buttonTitle:"字号"},history:{undo:"撤销",redo:"重做"},hr:ux(ux({},yx),{},{buttonTitle:"插入分割线",menuTitle:"分割线"}),image:ux(ux(ux(ux(ux(ux({},vx),hx),mx),yx),gx),{},{buttonTitle:"插入图片",menuTitle:"图片",sizeError:"上传图片失败：图片大小超过 10M",uploadFailed:"上传图片失败，请重试",stillUploading:"有图片还在上传中",uploadTips:"将图片拖至此处或点击选择一个上传，大小限制为 10M",copyFailed:"复制图片失败",copyFailedTips:"图片不支持拷贝复制，请单独复制上传",loadFailed:"网络异常，图片无法展示",placeholder:"上传图片，限制 10M",sizeTitle:"大小",formatError:"不支持该文件类型",width:"宽度",height:"高度",originSize:"原始大小",linkTitle:"链接",linkPlaceholder:"目标链接",linkTargetTips:"在当前页面打开",replace:"替换",delete:"删除",preferences:"图片设置",style:"样式",none:"无",stroke:"描边",shadow:"阴影",spacing:"间距",topSpacingTips:"为图片添加上间距",bottomSpacingTips:"为图片添加下间距"}),indent:{buttonTitle:"缩进",decrease:"减少缩进",increase:"增加缩进"},lineHeight:{buttonTitle:"行高",defaultTitle:"默认"},italic:{macTitle:"斜体 ⌘+I",winTitle:"斜体 Ctrl+I",text:"斜体"},link:ux(ux({},gx),{},{buttonTitle:"插入链接",menuTitle:"链接"}),linkCard:{buttonTitle:"插入链接卡片",title:"插入链接卡片"},list:{buttonTitle:"列表",orderedList:"有序列表",unorderedList:"无序列表",taskList:"任务列表"},mark:{macTitle:"高亮文字",winTitle:"高亮文字",text:"高亮文字"},math:ux(ux(ux(ux(ux({},hx),mx),yx),gx),{},{buttonTitle:"公式",menuTitle:"公式",success:"操作成功",placeholder:"添加 Tex 公式",edit:"编辑",copy:"拷贝源码",delete:"删除",cancel:"取消",save:"确定",sourceCodeRequired:"请输入源码",syntaxInvalid:"输入公式不合法",help:"了解 LaTeX 语法",enterTooltips:"".concat(px," + Enter")}),flowchart:ux(ux(ux(ux(ux({},mx),yx),bx),wx),{},{insertText:"插入文本",insertShape:"插入形状",InsertEdge:"插入连线"}),mindmap:ux(ux(ux(ux(ux({},mx),yx),bx),wx),{},{defaultRootText:"思维导图",newNode:"新建节点",menuTitle:"思维导图",buttonTitle:"思维导图",editorTitle:"思维导图",line:"线条"}),moremark:{buttonTitle:"更多文本样式"},paste:{copy:"复制",cut:"剪切",paste:"粘贴",pastePlainText:"粘贴纯文本",pasteMarkdown:"粘贴 Markdown",selectAll:"全选"},textDiagram:ux(ux(ux(ux({},mx),yx),bx),{},{edit:"编辑",save:"保存",preview:"预览",template:"模板",help:"帮助",genImageError:"生成预览失败，请修改内容",winPreviewTooltip:"Ctrl+Shift+P",macPreviewTooltip:"⌘+Shift+P"}),riddle:ux(ux({},yx),{},{buttonTitle:"Riddle",menuTitle:"Riddle",active:"Click to active",replace:"替换",delete:"删除",addressInvalid:"请输入正确的链接地址",placeholder:"输入 Riddle 地址，按 Enter 生成"}),strikethrough:{macTitle:"删除线 ⌘+Shift+X",winTitle:"删除线 Ctrl+Shift+X",text:"删除线"},sub:{macTitle:"下标",winTitle:"下标",text:"下标"},sup:{macTitle:"上标",winTitle:"上标",text:"上标"},table:{buttonTitle:"插入表格",menuTitle:"表格",copy:"复制",cut:"剪切",merge:"合并单元格",unmerge:"拆分单元格",clear:"清空选中区域",deleteColumn:"删除选中列",deleteRow:"删除选中行",deleteTable:"删除表格"},underline:{macTitle:"下划线 ⌘+U",winTitle:"下划线 Ctrl+U",text:"下划线"},video:ux(ux(ux({},vx),yx),{},{buttonTitle:"插入视频",menuTitle:"视频",play:"播放",replace:"替换",download:"下载",delete:"删除",sizeError:"上传失败"}),toc:{title:"大纲",open:"打开大纲",close:"关闭大纲"},card:{mindmapFile:"思维导图",designingFile:"设计文件",officeFile:"办公文件",localdocSubTitle:"支持 Office、XMind、Sketch 等",label:"标签",labelDescription:"简易文本标签",localdoc:"本地文件",localdocDescription:"支持 Office、XMind、Sketch 等",iframeOverLimit:"文档最多支持 ${limit} 张嵌入卡片",sizeOverLimit:"该本地文件卡片限制预览大小为 ${sizeLimit}，可选择上传附件",placeholder:"卡片名",embed:"引入",common:"常用",yuque:"语雀内容",yuqueSubTitle:"支持知识库、文档、文档片段等",yuqueTooltipTitle:"复制语雀知识库、文档、段落等内容链接，嵌入到本文档中",yuqueDescription:"支持嵌入语雀文档、表格、思维导图",buttonTitle:"插入图片、表格、<br />附件、代码块等卡片",miniButtonTitle:"插入图片、标签、<br/>语雀文档等",normal:" ",media:"媒体",engineering:"工程",description:"输入  <code>".concat(px,"</code> + <code>/</code>  快速插入卡片"),table:"表格",tableDescription:"插入在线表格",image:"图片",imageDescription:"上传一张或多张图片",video:"本地视频",videoDescription:"上传一个本地视频",youku:"在线视频",youkuName:"优酷",youkuDescription:"插入在线视频",youkuSubTitle:"支持优酷、哔哩哔哩、淘宝视频",youkuTooltipTitle:"支持以下网站",youkuSiteDesc:"优酷、哔哩哔哩、淘宝视频",thirdparty:"第三方服务",music:"音乐",internalThirdpartySubTitle:"支持虾米、Riddle、DeepInsight 等",thirdpartySubTitle:"支持墨刀，ProcessOn，CodePen 等",thirdpartyTooltipTitle:"支持以下服务",processonName:"ProcessOn",modaoName:"墨刀",gaodeDesc:"地图",toolsDesc:"开发",designDesc:"设计",designSubDesc:"（墨刀，ProcessOn，Figma）",internalGaodeDesc:"地图",internalToolDesc:"开发",internalChartDesc:"数据",bilibili:"bilibili",bilibiliName:"哔哩哔哩",bilibiliDescription:"插入哔哩哔哩视频",codeblock:"代码块",codeblockDescription:"输入代码片段",file:"附件",fileDescription:"上传单个或多个附件",math:"公式",mathDescription:"输入 Latex 公式",calendar:"日历",calendarDescription:"插入日历",riddle:"代码演示（Riddle）",riddleDescription:"插入 Riddle 代码片段",mindmap:"思维导图",mindmapDescription:"绘制简易思维导图",puml:"PlantUML",pumlDescription:"绘制 PlantUML 图",flowchart:"流程图",flowchartDescription:"绘制 Flowchart 图",mermaid:"Mermaid",mermaidDescription:"绘制 Mermaid 图",diagram:"文本绘图",diagramDescription:"通过代码绘图",diagramSubTitle:"支持PlantUML、Mermaid 等",graphviz:"Graphviz",graphvizDescription:"绘制 Graphviz 图",lockedtextTitle:"加密文本",lockedtextDescription:"需要密码才可查看",premium:"付费阅读",premiumDescription:"需要付费才能查看",vote:"投票"},embedCardMenu:{embed:"嵌入",introduction:"引入"},thirdparty:{tip:"粘贴%s链接，如%s",defaultTip:"粘贴第三方服务的链接到此处",placeholders:{modao:"粘贴墨刀分享中的嵌入代码，如 <iframe src=…"},names:{amap:"高德地图",codepen:"CodePen",deepinsight:"DeepInsight",figma:"Figma",herbox:"Herbox",processon:"ProcessOn",modao:"墨刀",riddle:"Riddle",music163:"网易云音乐",xiami:"虾米",ximalaya:"喜马拉雅",youtube:"YouTube",youku:"优酷",bilibili:"哔哩哔哩",taobao:"淘宝视频",canva:"Canva",jinshuju:"金数据"},category:{map:"地图",media:"媒体",development:"开发",form:"表单",data:"数据",design:"设计"}},mention:{text:"提及"},markdown:{pasteTitle:"是否需要做样式转换？",pasteContent:"检测到粘贴内容符合 Markdown 语法，是否需要做样式转换？",pasteButton:"立即转换"},search:{searchAndReplace:"查找并替换",search:"查找",replace:"替换",replaceAll:"替换全部",replaceTo:"替换为",pleaseEnter:"请输入",next:"下一个",previous:"上一个"},translate:{title:"翻译",subTitle:"源 & 目标",automaticDetection:"自动检测",zh:"中文",en:"英文",translation:"译文",insertDoc:"插入文档",placeholder:"请在文档中选择需要翻译的内容"},repository:{title:"插入资源"},calendar:{format:"YYYY 年 M 月",weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],today:"今天",tip:{title:"添加日程标题",desc:"添加说明",error:"日历渲染出错"},lang:"zh"},importDoc:{addressInvalid:"请输入正确的链接地址"},bookmarkLink:{untitled:"无标题",toLink:"转为链接",loading:"内容加载中 ...",loadingError:"获取内容失败"},yuque:{untitled:"无标题",unsupportedThread:"暂不支持显示话题",recently:"最近使用",recommendTip:"在文档中贴入链接可快速关联内容",searchRange:"搜索范围：",loading:"内容加载中 ...",loadingError:"获取内容失败",searching:"搜索中 ...",searchError:"搜索失败",emptySearchTip:"搜索不到结果",emptySearchSubTip:"可以尝试贴入链接引入"},audio:{transcodeError:"转码失败",failedToQuery:"查询失败",uploadError:"上传失败",invalidAudio:"无效音频，请重新上传",copyright:"由于版权保护，不支持在公开文档中直接播放该音频，可点击文件名播放",notSupport:"此处不支持播放音频，可点击文件名播放",cantPlay:"音频文件不能播放",query:"查询音频信息中...",linkTip:"点击打开"},ui:{subPanel:{uploadBtn:"上传文件"}},embedToolbar:{toggleMargin:"为卡片添加间距",deleteCard:"删除卡片",saveToResource:"保存到资源知识库"},errorMessage:{currentDOCURL:"不支持嵌入当前文档",notSupportURL:"不支持嵌入该链接"},repositorySidebar:{title:"插入资源",searchTip:"输入资源名称",searchResultTip:"搜索结果",topLevelBreadcrumbName:"所有资源知识库",emptySearchTip:"没有资源",noResourceBook:"无资源知识库，立刻",create:"创建",error:"不能获取资源文件"},copyParagraphLink:"复制段落链接",copySuccess:"复制成功！",note:{image:"插入图片",todo:"插入待办",link:"插入书签",localFile:"插入附件"}};function xx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ox(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xx(Object(n),!0).forEach((function(t){Cx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ex={en:sx,"zh-cn":kx},jx=Lu()("editor:toolbar:uploader"),Sx="/api/video/upload_info",Px="/api/video/video_info",Rx=Lh()(window,"AliyunUpload.Vod"),Tx=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trigger=t.trigger,this.engine=t.engine,this.onToolBarClick=t.onToolBarClick,this.onToolBarError=t.onToolBarError,this.cardRoot=null,this.selectedFile=null,this.data={},this.initUploader()}var t,n,r;return t=e,(n=[{key:"getLang",value:function(){return this.engine&&this.engine.options.lang||"zh-cn"}},{key:"getErrorMessageByCode",value:function(e){var t=Ex[this.getLang()].video;return(void 0===t?{}:t)[e]}},{key:"initUploader",value:function(){var e=this;if(Rx&&this.trigger){var t=new Rx({timeout:6e4,partSize:1048576,parallel:5,retryCount:3,retryDuration:2,region:"",userId:"1057412961847317",addFileSuccess:function(n){e.onToolBarClick();var r=n.file;e.insertCard(r);var o=$k.check("video",r.size);null===o?(jx("上传:文件选择: %j",r),e.selectedFile=r,t.startUpload()):e.setCardError(e.getErrorMessageByCode("sizeError"),o)},onUploadFailed:function(t,n,r){e.setCardError(r||e.getErrorMessageByCode("uploadFailed"))},onUploadstarted:function(n){var r=n.file,o=r.name,i=r.size,a=window.appData.doc,c=a.id,s=a.type;Ma({method:"post",url:Lh()(e.engine,"options.video.uploadInfoAction")||Sx,dataType:"json",data:{filename:o,filesize:i,attachable_id:c,attachable_type:s},success:function(e){var r=e.data,o=r.UploadAuth,i=r.UploadAddress,a=r.VideoId;t.setUploadAuthAndAddress(n,o,i,a)},error:function(t){try{var n=JSON.parse(t.xhr.response);if(n&&400===n.status&&n.code){var r=$k.getMessageByCode(n.code,n);r&&e.setCardError(e.getErrorMessageByCode("uploadFailed"),r)}}catch(t){console.log(t)}e.onToolBarError({code:-100})},processData:!0})},onUploadSucceed:function(t){var n=t.videoId,r=t.file,o=r.name,i=r.size,a=r.type,c=window.appData.doc,s=c.id,l=c.type,u=o.split(".").pop();u&&(u=".".concat(u)),Ma({method:"post",url:Lh()(e.engine,"options.video.videoInfoAction")||Px,dataType:"json",data:{filename:o,filesize:i,type:a||u||"unknow",attachable_id:s,attachable_type:l,video_id:n},success:function(){e.updateCard({status:"uploaded",videoId:n}),jx("上传:成功: videoId %s",n)},error:function(){e.onToolBarError({code:-100}),e.setCardError(e.getErrorMessageByCode("uploadFailed"))},processData:!0})},onUploadTokenExpired:function(){e.setCardError(e.getErrorMessageByCode("uploadFailed"))},onUploadProgress:function(t,n,r){var o=Math.ceil(100*r);jx("上传:进度: %j",o),o>98||e.updatePercent({percent:o})}});this.trigger.addEventListener("change",(function(n){var r=n.target.files[0];t.addFile(r,null,null,null,null),e.trigger.value=""}),!1),window.uploader=t}}},{key:"insertCard",value:function(e){var t=this.engine;return this.data={status:"uploading",name:e.name,size:e.size,percent:0},this.cardRoot=t.change.insertCard("video",Ox(Ox({},this.data),{},{margin:!0})),this.cardRoot}},{key:"updatePercent",value:function(e){this.cardRoot.find("[data-role=percent]").html("".concat(ow(e.percent),"%"))}},{key:"setCardError",value:function(e,t){t?t.callback(fs[t.level](t.msg,t.alwaysOpen?0:void 0)):fs.error(e),this.cardRoot&&Vp.updateCard(this.engine,this.cardRoot,Ox(Ox({},this.data),{},{message:e,status:"error"}))}},{key:"updateCard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.engine;this.data=Object.assign(this.data,e),t.history.hold(),t.change.updateCard(this.cardRoot,this.data)}}])&&_x(t.prototype,n),r&&_x(t,r),e}();function Dx(e){return(Dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ax(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mx(e,t){return(Mx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lx(e);if(t){var o=Lx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ix(this,n)}}function Ix(e,t){return!t||"object"!==Dx(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lx(e){return(Lx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mx(e,t)}(i,e);var t,n,r,o=Nx(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={activated:!1},t.videoTrigger=null,t.videoUploader=null,t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.onToolBarClick,n=e.engine;this.videoUploader=new Tx({trigger:this.videoTrigger,engine:n,onToolBarClick:t,onToolBarError:this.videoError})}},{key:"videoError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code;-100===t&&fs.error("网络异常：Failed to fetch")}},{key:"handleMouseEnter",value:function(){this.setState({activated:!0})}},{key:"handleMouseLeave",value:function(){this.setState({activated:!1})}},{key:"renderCommon",value:function(){var e=this.props,t=e.item,n=e.index,r=e.itemOnClick,o=this.state.activated?" lake-collapse-list-item-active":"",i=!(!t.isDisable||!t.isDisable()),a=i?" disable":"",c=t.subTitle?{height:"auto"}:{};return k.a.createElement("div",{"data-aspm-click":"".concat(t.name),"data-card-category":t.category||t.name,accessbilityid:"".concat(t.name,"-card-button"),className:"lake-collapse-list-item".concat(o).concat(a).concat(t.noBorder?" no-border":""),key:n,"data-index":n,onClick:i?null:r,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),style:c},k.a.createElement("div",{className:"lake-collapse-item-icon",dangerouslySetInnerHTML:{__html:t.icon}}),k.a.createElement("div",{className:"lake-collapse-item-text"},k.a.createElement("div",{className:"lake-collapse-item-title"},t.title,t.subTitle&&k.a.createElement("span",{className:"lake-collapse-item-sub-title"},t.subTitle),t.subNew&&k.a.createElement("span",{className:"lake-sub-new-tag"},t.subNew),t.isNew?k.a.createElement("span",{className:"lake-svg-icon-new-card"}):"")))}},{key:"formatAcceptExts",value:function(){return[".3gp",".asf",".avi",".dv",".flv",".f4v",".gif",".m2t",".m4v",".mj2",".mjpeg",".mkv",".mov",".mp4",".mpg",".mpeg",".mts",".ogg",".rm",".rmvb",".swf",".ts",".vob",".wmv",".webm"].join(",")}},{key:"renderVideo",value:function(){var e=this,t=this.props,n=t.item,r=t.index,o=this.state.activated?" lake-collapse-list-item-active":"";return k.a.createElement("div",{"data-aspm-click":"".concat(n.name),"data-card-category":n.category||n.name,className:"lake-collapse-list-item".concat(o),key:r,"data-index":r,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),onClick:function(){e.videoTrigger.click()}},k.a.createElement("div",{className:"lake-collapse-item-icon",dangerouslySetInnerHTML:{__html:n.icon}}),k.a.createElement("div",{className:"lake-collapse-item-text"},k.a.createElement("div",{className:"lake-collapse-item-title"},n.title)),k.a.createElement("input",{ref:function(t){return e.videoTrigger=t},type:"file",accept:this.formatAcceptExts(),className:"uploader"}))}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.item,r="video"===t?this.renderVideo():this.renderCommon();return k.a.createElement(Yk,{data:n.tooltip},r)}}])&&Ax(t.prototype,n),r&&Ax(t,r),i}(k.a.PureComponent);Fx.propTypes={engine:st.a.object,type:st.a.string,item:st.a.object,index:st.a.number,itemOnClick:st.a.func,onToolBarClick:st.a.func};var zx=[".3gp",".asf",".avi",".dv",".flv",".f4v",".gif",".m2t",".m4v",".mj2",".mjpeg",".mkv",".mov",".mp4",".mpg",".mpeg",".mts",".ogg",".rm",".rmvb",".swf",".ts",".vob",".wmv",".webm"],Bx=zx.join(","),Vx=Le.AUDIO_EXT.map((function(e){return".".concat(e)})).join(",");function qx(e){return"msOffice"===e?Le.DOC_MS_OFFICE_STR:"macOffice"===e?Le.DOC_MAC_OFFICE_STR:"design"===e?Le.DOC_DESIGN_STR:"mind"===e?Le.DOC_MIND_STR:"pdf"===e?".pdf":"video"===e?Bx:"audio"===e?Vx:"localdoc"===e?Le.OFFICE_EXT_STR+", "+Le.MAC_OFFICE_STR:Le.OFFICE_EXT_STR+", "+Le.MAC_OFFICE_STR+", "+Bx}function Hx(e,t){if(1===e.name.split(".").length)return null;var n=e.name.toLowerCase();if(t&&!(t=t.split(/\s*,\s*/)).some((function(e){return n.endsWith(e)})))return null;var r=zx.some((function(e){return n.endsWith(e)})),o=Le.AUDIO_EXT.some((function(e){return n.endsWith(e)}));return{isVideo:r,isAudio:o,isDoc:!r&&!o,file:e}}function Ux(e){return(Ux="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wx(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Kx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xx(e,t){return(Xx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zx(e);if(t){var o=Zx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gx(this,n)}}function Gx(e,t){return!t||"object"!==Ux(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zx(e){return(Zx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xx(e,t)}(c,e);var t,n,r,o,i,a=$x(c);function c(){return Kx(this,c),a.apply(this,arguments)}return t=c,(n=[{key:"run",value:(o=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){Wx(i,n,r,a,c,"next",e)}function c(e){Wx(i,n,r,a,c,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&Yx(t.prototype,n),r&&Yx(t,r),c}(_n.a);function Qx(e){return(Qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eO(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function tO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nO(e,t){return(nO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iO(e);if(t){var o=iO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oO(this,n)}}function oO(e,t){return!t||"object"!==Qx(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iO(e){return(iO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var aO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nO(e,t)}(c,e);var t,n,r,o,i,a=rO(c);function c(e,t,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(o=a.call(this)).id=-1,o._engine=null,o._file=null,o._url=null,o._params=null,o.id=Cl.randomId(12),o._engine=e,o._file=t,o._url=n,o._params=r,o}return t=c,(n=[{key:"run",value:(o=regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FormData,r=new URL(t._url,location.href);t._params&&Object.keys(t._params).forEach((function(e){r.searchParams.append(e,t._params[e])})),n.append("multipart",t._file),Ma({method:"post",url:r.href,dataType:"json",data:n,processData:!0,xhr:function(){t.emit("start");var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){t.emit("progress",e)}),!1),e},success:function(n){t._handleSuccess(n),e({success:!0,res:n})},error:function(n){t._handleError(n),e({success:!1,error:n})}})})));case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){eO(i,n,r,a,c,"next",e)}function c(e){eO(i,n,r,a,c,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"_handleSuccess",value:function(e){this.emit("success",e)}},{key:"_handleError",value:function(e){this.emit("error",e)}}])&&tO(t.prototype,n),r&&tO(t,r),c}(Jx);function cO(e){return(cO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sO(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function lO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uO(e,t){return(uO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dO(e);if(t){var o=dO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pO(this,n)}}function pO(e,t){return!t||"object"!==cO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dO(e){return(dO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hO=i.getOssClient,mO=i.multipartUpload,vO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uO(e,t)}(c,e);var t,n,r,o,i,a=fO(c);function c(e,t,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(o=a.call(this)).id=-1,o._engine=null,o._file=null,o._url=null,o._params=null,o.id=Cl.randomId(12),o._engine=e,o._file=t,o._url=n,o._params=r,o}return t=c,(n=[{key:"run",value:(o=regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,c,s,l,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL(this._url,location.href),n=t.searchParams.get("attachable_id"),r=t.searchParams.get("attachable_type"),e.next=6,hO(this._file,n,r,"video");case 6:return o=e.sent,i=o.ossClient,a=o.filekey,c=o.filekey_digest,e.prev=10,this.emit("start"),s=function(e){u.emit("progress",{loaded:e,total:1,lengthComputable:!0})},e.next=15,mO(this._file,i,a,s);case 15:return l=e.sent,e.abrupt("return",new Promise((function(e){var t={filename:u._file.name,attachable_type:r,attachable_id:n,filekey:l.name,filekey_digest:c};Ma({method:"post",url:"/api/video/after_upload",dataType:"json",data:t,processData:!0,xhr:function(){u.emit("start");var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){u.emit("progress",e)}),!1),e},success:function(t){u._handleSuccess(t),e({success:!0,res:t})},error:function(t){u._handleError(t),e({success:!1,error:t})}})})));case 19:return e.prev=19,e.t0=e.catch(10),this._handleError(e.t0),e.abrupt("return",{success:!1,error:e.t0});case 23:case"end":return e.stop()}}),e,this,[[10,19]])})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){sO(i,n,r,a,c,"next",e)}function c(e){sO(i,n,r,a,c,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"_handleSuccess",value:function(e){this.emit("success",e)}},{key:"_handleError",value:function(e){this.emit("error",e)}}])&&lO(t.prototype,n),r&&lO(t,r),c}(Jx);function yO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yO(Object(n),!0).forEach((function(t){bO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wO(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function kO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){wO(i,r,o,a,c,"next",e)}function c(e){wO(i,r,o,a,c,"throw",e)}a(void 0)}))}}function xO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var OO=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"hasTask",value:function(e,t){return!(!e.uploadManager||!e.uploadManager.hasTask(t))}},{key:"checkStatus",value:function(e,t){var n=!0;return{cancel:function(){n=!1},promise:CO(e,t,(function(){return n}))}}},{key:"uploadVideo",value:function(e,t){var n,r=e.uploadManager,o=Lh()(e||{},"options.localVideo.uploadAction")||"/api/video",i={format:"video"};n=t.size>314572800&&!fe.desktop?new vO(e,t,o,i):new aO(e,t,o,i);var a=function(e,t,n){return e.change.insertCard("video",{status:"pending",name:t.name,size:t.size,percent:0,taskId:n,margin:!0})}(e,t,n.id),c=$k.check("video",t.size);null===c?(r.addTask(n),n.on("start",(function(){PO(e,a,{status:"uploading",percent:0})})),n.on("progress",(function(t){if(t.lengthComputable){var n=parseInt(t.loaded/t.total*100,10);PO(e,a,{status:"uploading",percent:n})}})),n.on("success",(function(t){PO(e,a,{status:"uploaded",videoId:t.data.video_id})})),n.on("error",(function(t){var n={};try{n=JSON.parse(t.xhr.response)}catch(e){n={}}var r=n&&n.code?$k.getMessageByCode(n.code,n):null;RO(e,a,SO(e,"uploadFailed")+(n.message||""),r)}))):RO(e,a,SO(e,"sizeError"),c)}},{key:"uploadAudio",value:function(e,t){var n=e.uploadManager,r=Lh()(e||{},"options.localVideo.uploadAction")||"/api/video",o=new aO(e,t,r,{format:"audio"}),i=function(e,t,n){return e.change.insertCard("audio",{status:"pending",name:t.name,size:t.size,percent:0,taskId:n,margin:!0})}(e,t,o.id);n.addTask(o),o.on("start",(function(){PO(e,i,{status:"uploading",percent:0})})),o.on("progress",(function(t){if(t.lengthComputable){var n=parseInt(t.loaded/t.total*100,10);PO(e,i,{status:"uploading",percent:n})}})),o.on("success",(function(t){var n=t.data;PO(e,i,{status:"uploaded",fileSize:n.filesize,fileName:n.filename,audioId:n.video_id})})),o.on("error",(function(t){RO(e,i,SO(e,"uploadFailed")+(t.message||""))}))}}],(n=null)&&xO(t.prototype,n),r&&xO(t,r),e}();function CO(e,t,n){return _O.apply(this,arguments)}function _O(){return(_O=kO(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=kO(regeneratorRuntime.mark((function e(o,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EO(t,n);case 2:if(a=e.sent,r()){e.next=5;break}return e.abrupt("return");case 5:if(!a){e.next=10;break}if(a.success){e.next=9;break}return i(new Error("query failed")),e.abrupt("return");case 9:return e.abrupt("return",o(a));case 10:setTimeout((function(){r()&&o(CO(t,n,r))}),3e3);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EO(e,t){return jO.apply(this,arguments)}function jO(){return(jO=kO(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var r=Lh()(t||{},"options.localVideo.queryAction")||"/api/video";Ma({method:"get",url:r,data:{video_id:n},success:function(t){"success"===t.data.status?e({done:!0,data:t.data.info}):"fail"===t.data.status?e({error:!0}):"transcoding"===t.data.status&&e({done:!1})},error:function(t){console.error(t),e({error:!0})}})}));case 2:if(!(r=e.sent).error){e.next=5;break}return e.abrupt("return",{success:!1});case 5:if(!r.done){e.next=7;break}return e.abrupt("return",{success:!0,data:r.data});case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SO(e,t){var n=(e.locale||{}).video;return(void 0===n?{}:n)[t]}function PO(e,t,n){TO(e,t,n)}function RO(e,t,n,r){r?r.callback(fs[r.level](r.msg,r.alwaysOpen?0:void 0)):fs.error(n),TO(e,t,{status:"error",message:n})}function TO(e,t,n){var r=e.card.getValue(t),o=e.card.getComponent(t);o&&o.setValue&&(e.history.hold(),o.setValue(gO(gO({},r),n)),o.rerender())}function DO(e){return(DO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NO(e,t){return(NO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=FO(e);if(t){var o=FO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LO(this,n)}}function LO(e,t){return!t||"object"!==DO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FO(e){return(FO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NO(e,t)}(i,e);var t,n,r,o=IO(i);function i(){return AO(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.engine,r=t.getEngine;n=r()||n;var o=this.getAccept();return k.a.createElement("span",{onClick:function(){return e.fileInput.click()}},k.a.createElement("input",{type:"file",accept:o,ref:function(t){e.fileInput=t},onChange:function(t){for(var r=e.fileInput.files,i=[],a=0,c=r.length;a<c;a++){var s=Hx(r[a],o);s&&i.push(s)}0!==i.length?(e.onChange(i),t.target.value=null):fs.error(n.locale.localdoc.notSupportExt)},style:{display:"none"},multiple:"multiple"}),this.props.children)}},{key:"getAccept",value:function(){var e=this.props,t=e.engine,n=e.getEngine,r=e.accept;if(t=n()||t,r)return"function"==typeof r?r(t):r;var o=nw(this.props.name);return t.uploader&&t.uploader.getAccept?t.uploader.getAccept(o):void 0}},{key:"onChange",value:function(e){var t=this.props,n=t.onBeforeUpload,r=t.onAfterUpload,o=t.onBeforeInsertCard,i=this.props,a=i.engine;a=(0,i.getEngine)()||a;var c=[],s=[],l=[];if(e.forEach((function(e){e.isDoc?c.push(e.file):e.isVideo?s.push(e.file):l.push(e.file)})),!c.length)return s.length?(this.props.onClick&&this.props.onClick(),void OO.uploadVideo(a,s[0])):l.length?(this.props.onClick&&this.props.onClick(),void OO.uploadAudio(a,l[0])):void 0;a.uploader.post("localdoc",c,{onBeforeUpload:n,onAfterUpload:r,onBeforeInsertCard:o})}}])&&MO(t.prototype,n),r&&MO(t,r),i}(k.a.Component);function BO(e){return(BO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VO(){return(VO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UO(e,t){return(UO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=YO(e);if(t){var o=YO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KO(this,n)}}function KO(e,t){return!t||"object"!==BO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function YO(e){return(YO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}zO.propTypes={name:st.a.string,engine:st.a.object,getEngine:st.a.func,children:st.a.object,onBeforeUpload:st.a.func,onAfterUpload:st.a.func,onBeforeInsertCard:st.a.func,onClick:st.a.func,accept:st.a.oneOfType([st.a.string,st.a.func])},zO.defaultProps={onClick:function(){}};var XO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UO(e,t)}(i,e);var t,n,r,o=WO(i);function i(){return qO(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e="lake-upload-panel ".concat(this.props.className||"");return k.a.createElement("div",{className:e,onClick:function(e){var t=new MouseEvent("mouseout");t.initEvent("mouseout",!0,!0),e.currentTarget.dispatchEvent(t)}},this.renderMainButtons(),k.a.createElement("div",{className:"lake-upload-panel-item-box"},this.renderItems()))}},{key:"renderMainButtons",value:function(){var e=this.props.data.items.filter((function(e){return e.mainButton}));if(!e.length)return null;var t=e[0];return k.a.createElement("div",{className:"lake-upload-panel-main-btns"},k.a.createElement(zO,VO({},this.props,{accept:t.accept}),k.a.createElement("div",{className:"lake-upload-panel-btn"},k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-".concat(t.icon)}),t.title)))}},{key:"renderItems",value:function(){var e=this,t=this.props.data;return t.items?t.items.map((function(t,n){return t.mainButton?null:e.renderItem(t,n)})):null}},{key:"renderItem",value:function(e,t){return"newupload"===e.type?this.renderUpload(e,t):"button"===e.type?this.renderButton(e,t):"group"===e.type?this.renderGroup(e,t):null}},{key:"renderGroup",value:function(e,t){var n=this;return k.a.createElement("div",{className:"lake-upload-panel-group",key:e.title+""+t},k.a.createElement("div",{className:"lake-upload-panel-group-title"},e.title),k.a.createElement("div",{className:"lake-upload-panel-group-items"},e.items.map((function(e,t){return n.renderItem(e,t)}))))}},{key:"renderUpload",value:function(e,t){var n=null;return e.icon&&(n=e.icon.startsWith("<")?k.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.icon}}):k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-".concat(e.icon)})),k.a.createElement(zO,VO({},this.props,{accept:e.accept,name:e.name,key:e.name+""+t}),k.a.createElement("div",{className:"lake-upload-panel-item","data-aspm-click":e.name,"data-card-category":e.category||e.name,accessbilityid:"".concat(e.name,"-card-button")},k.a.createElement("div",{className:"lake-upload-panel-item-icon"},n),k.a.createElement("div",{className:"lake-upload-panel-item-text"},k.a.createElement("div",{className:"lake-upload-panel-item-title"},e.title),e.desc?k.a.createElement("div",{className:"lake-upload-panel-item-subtitle"},e.desc):null)))}},{key:"renderButton",value:function(e,t){var n=this;return k.a.createElement("div",{"data-aspm-click":e.name,"data-card-category":e.category||e.name,accessbilityid:"".concat(e.name,"-card-button"),className:"lake-upload-panel-item",key:t,onClick:function(t){n.props.onClick(t),e.onClick&&e.onClick(t)}},k.a.createElement("div",{className:"lake-upload-panel-item-icon"},k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-".concat(e.icon)})),k.a.createElement("div",{className:"lake-upload-panel-item-text"},k.a.createElement("div",{className:"lake-upload-panel-item-title"},e.title),e.desc?k.a.createElement("div",{className:"lake-upload-panel-item-subtitle"},e.desc):null))}}])&&HO(t.prototype,n),r&&HO(t,r),i}(k.a.Component);function $O(e){return($O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JO(){return(JO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function QO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eC(e,t){return(eC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rC(e);if(t){var o=rC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nC(this,n)}}function nC(e,t){return!t||"object"!==$O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rC(e){return(rC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}XO.propTypes={showAllUploadBtn:st.a.bool,data:st.a.object,engine:st.a.object,getEngine:st.a.func,className:st.a.string,onClick:st.a.func},XO.defaultProps={showAllUploadBtn:!0,onClick:function(){}};var oC=sk.Panel,iC=document.createElement("div");iC.className="lake-prevent-card-activated",document.body.appendChild(iC);var aC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eC(e,t)}(i,e);var t,n,r,o=tC(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleClick=function(e,n,r){e.preventDefault(),e.stopPropagation(),t.props.disableClick||(t.props.onClick(),n.onClick(r))},t.listNode=k.a.createRef(),t.engine=e.engine,t}return t=i,(n=[{key:"renderItem",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function(){};return r||"upload"===e.type||"newupload"===e.type||(o=function(t){return n.handleClick(t,e)}),k.a.createElement(Fx,{item:e,index:t,itemOnClick:o,key:"collapseItem".concat(t),engine:this.engine})}},{key:"renderVideo",value:function(e,t){return k.a.createElement(Fx,{item:e,index:t,type:"video",key:"collapseItem".concat(t),onToolBarClick:this.props.onClick,engine:this.engine})}},{key:"renderTable",value:function(e,t){var n=this;return e.disableSelector?this.renderItem(e,t):k.a.createElement(wk,{key:t,content:k.a.createElement(Lk,{onSelect:function(t,r,o){n.handleClick(t,e,{rows:r,cols:o})}}),placement:"rightTop"},k.a.createElement("div",null,this.renderItem(e,t)))}},{key:"renderLocalDoc",value:function(e,t){var n=this;return k.a.createElement(wk,{key:t,overlayClassName:"lake-upload-panel-popover",placement:"rightTop",getPopupContainer:function(){return iC},content:k.a.createElement(XO,JO({},this.props,{className:"lake-upload-panel-localdoc",data:e,getEngine:function(){return n.props.engine}}))},k.a.createElement("div",null,this.renderItem(e,t,!0)))}},{key:"renderThirdparty",value:function(e,t){var n=this;return k.a.createElement(wk,{key:t,overlayClassName:"lake-upload-panel-popover",placement:"rightTop",getPopupContainer:function(){return iC},content:k.a.createElement(XO,{className:"lake-upload-panel-thirdparty",data:e,engine:this.props.engine,getEngine:function(){return n.props.engine},onClick:this.props.onClick,showAllUploadBtn:!1})},k.a.createElement("div",null,this.renderItem(e,t,!0)))}},{key:"componentDidMount",value:function(){this.resetPosition()}},{key:"componentDidUpdate",value:function(){this.resetPosition()}},{key:"resetPosition",value:function(){var e=this.listNode.current;if(e&&this.props.active){var t=e.parentNode;if(t){var n=t.getBoundingClientRect();window.innerHeight-n.bottom<n.top?e.classList.add("lake-button-set-list-to-top"):e.classList.remove("lake-button-set-list-to-top")}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.data,o=t.description,i=t.active,a=t.activeKeys,c="";return o&&(c=k.a.createElement("div",{className:"lake-toolbar-collapse-description"},k.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:o}}))),k.a.createElement("div",{className:_t()("lake-button-set-list",n,{"lake-toolbar-collapse-no-header":r.length<=1,"lake-button-set-list-active":i}),ref:this.listNode,"data-aspm":"card_selector"},c,k.a.createElement(sk,{className:"lake-toolbar-collapse",defaultActiveKey:a},r.map((function(t,n){return k.a.createElement(oC,{showArrow:!1,header:t.title,disabled:!0,key:n},t.items.map((function(t,n){if("upload"===t.type){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GO(Object(n),!0).forEach((function(t){ZO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.props);return r.name=t.name,r.getEngine=t.getEngine,r.getEngine||(r.getEngine=function(){return r.engine}),k.a.createElement(Pk,JO({key:n},r),e.renderItem(t,n))}return"newupload"===t.type?k.a.createElement(zO,JO({},e.props,{accept:t.accept,name:t.name,key:"NewUpload_".concat(t.name,"_").concat(n),getEngine:function(){return e.props.engine}}),e.renderItem(t,n)):"table"===t.name?e.renderTable(t,n):"localdoc"===t.name?e.renderLocalDoc(t,n):"thirdparty"===t.name?e.renderThirdparty(t,n):"video"===t.name?e.renderVideo(t,n):e.renderItem(t,n)})))}))))}}])&&QO(t.prototype,n),r&&QO(t,r),i}(k.a.Component);aC.propTypes={className:st.a.string,data:st.a.array,active:st.a.bool,activeKeys:st.a.array,onClick:st.a.func,description:st.a.string,engine:st.a.object,disableClick:st.a.bool},aC.defaultProps={disableClick:!1};var cC=aC,sC=[{id:"good",package:"que",title:{"zh-cn":"棒","en-us":"Good"},url:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*UHsnTpLQ48gAAAAAAAAAAAAAARQnAQ"},{id:"fighting",package:"que",title:{"zh-cn":"加油","en-us":"Fighting"},url:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*pm-hQY3BLV8AAAAAAAAAAAAAARQnAQ"},{id:"hooray",package:"que",title:{"zh-cn":"撒花","en-us":"Hooray"},url:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*9T62QYqFFhYAAAAAAAAAAAAAARQnAQ"},{id:"humble",package:"que",title:{"zh-cn":"卑微","en-us":"Humble"},url:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*BHK1RpChRAwAAAAAAAAAAAAAARQnAQ"},{id:"pat",package:"que",title:{"zh-cn":"摸头","en-us":"Pat"},url:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*2eERTp0nd5IAAAAAAAAAAAAAARQnAQ"},{id:"angry",package:"que",title:{"zh-cn":"生气","en-us":"Angry"},url:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*b8hcRpIQ-QUAAAAAAAAAAAAAARQnAQ"},{id:"pensive",package:"que",title:{"zh-cn":"思考","en-us":"Pensive"},url:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*TJ7dTIRWjVoAAAAAAAAAAAAAARQnAQ"},{id:"xiaoku",package:"que",title:{"zh-cn":"笑哭","en-us":"XiaoKu"},url:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*qOVbRIyytEIAAAAAAAAAAAAAARQnAQ"},{id:"yes",package:"que",title:{"zh-cn":"击掌","en-us":"Yes"},url:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*uJPyRLbsRS4AAAAAAAAAAAAAARQnAQ"}];function lC(e){try{return localStorage.getItem(e)}catch(e){console.warn(e)}return null}function uC(e,t){try{return localStorage.setItem(e,t)}catch(e){console.warn(e)}}function fC(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e.command.add(t,{autoSave:function(){return o},queryState:function(){return!!e[r]&&("sidebar"===r?e[r].activate===t:e[r].storeConfig&&lC("lake-"+r)===t)},execute:function(o){if(!0!==o&&e.command.queryState(t))e[r].close();else{var i=n.call(e);e[r].set(i)}}})}function pC(e,t,n){fC(e,t,n,"sidebar")}function dC(e,t,n){var r=e.locale,o=e.iframeHelper;if(e.iframeHelper.canAdd())e.command.execute(t,n);else{var i=o.options.limit;e.messageError(r.card.iframeOverLimit.replace("${limit}",i))}}var hC=["youku","bilibili","taobao","xiami","amap","riddle","herbox","deepinsight"],mC=["youku","bilibili","taobao","xiami","amap","modao","figma","canva","processon","codepen","jinshuju"];function vC(){return!(!Xb||Xb.isYuque)}function yC(e){var t=vC();return Array.isArray(e)&&(e=e.filter((function(e){return-1!==hC.indexOf(e)||-1!==mC.indexOf(e)}))).length?e:t?hC.slice():mC.slice()}var gC=function(e,t){var n=e.locale,r={name:"video",type:"newupload",title:n.localdoc.items.video,pinyin:"视频,sp,shipin,video,mp4,avi",icon:'<span class="lake-svg-icon lake-svg-icon-video" />',accept:qx("video")},o=[{name:"image",type:"upload",icon:'<span class="lake-svg-icon lake-svg-icon-insert-image" />',title:n.card.image,pinyin:"图片,tp,tupian,image",description:n.card.imageDescription},{name:"table",icon:'<span class="lake-svg-icon lake-svg-icon-insert-table" />',title:n.card.table,pinyin:"表格,bg,biaoge,table",description:n.card.tableDescription,onClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rows:3,cols:3};e.command.execute("table",t)}},{name:"yuque",icon:'<span class="lake-svg-icon lake-svg-icon-insert-yuque" />',title:n.card.yuque,pinyin:"语雀,yqwd,yuquewendang,yuquedoc",description:n.card.yuqueDescription,onClick:function(){dC(e,"yuque")}},{name:"thirdparty",icon:'<span class="lake-svg-icon lake-svg-icon-insert-thirdparty" />',title:n.card.thirdparty,description:n.card.thirdpartyDescription,items:bC(e)},{name:"codeblock",icon:'<span class="lake-svg-icon lake-svg-icon-insert-codeblock" />',title:n.card.codeblock,pinyin:"代码块,dmk,daimakuai,code",description:n.card.codeblockDescription,onClick:function(){e.command.execute("codeblock","")}},{name:"file",type:"upload",icon:'<span class="lake-svg-icon lake-svg-icon-insert-file" />',title:n.card.file,pinyin:"附件,fj,fujian,file,attachment",description:n.card.fileDescription},{name:"math",icon:'<span class="lake-svg-icon lake-svg-icon-insert-math" />',title:n.card.math,pinyin:"数学公式,sxgs,公式,gs,gongshi,formula,math,latex",description:n.card.mathDescription,onClick:function(){e.command.execute("math")}},{name:"calendar",icon:'<span class="lake-svg-icon lake-svg-icon-insert-calendar" />',title:n.card.calendar,pinyin:"日历,rl,rili,calendar",description:n.card.calendarDescription,onClick:function(){e.command.execute("calendar")}},{name:"mindmap",icon:'<span class="lake-svg-icon lake-svg-icon-insert-mindmap" />',title:n.card.mindmap,pinyin:"nt,dt,swnt,siweinaotu,siweidaotu,swdt,mindmap,脑图,思维导图",description:n.card.mindmapDescription,onClick:function(){e.command.execute("mindmap")}},{name:"flowchart",icon:'<span class="lake-svg-icon lake-svg-icon-insert-flowchart" />',title:n.card.flowchart,pinyin:"lct,liuchengtu,flowchart,流程图",description:n.card.flowchartDescription,onClick:function(){e.command.execute("flowchart")}},{name:"diagram",icon:'<span class="lake-svg-icon lake-svg-icon-insert-puml" />',title:n.card.diagram,pinyin:"文本绘图,wbht,ht,huitu,wenbenhuitu,puml,graphviz,mermaid,flowchart,plantuml",description:n.card.diagramDescription,onClick:function(){e.command.execute("diagram")}},{name:"lockedtext",icon:'<span class="lake-svg-icon lake-svg-icon-insert-lockedtext" />',title:n.card.lockedtextTitle,pinyin:"加密文本,jmwb,jiamiwenben,lockedtext",description:n.card.lockedtextDescription,onClick:function(){e.command.execute("lockedtext")}},{name:"localdoc",type:"uploadPanel",icon:'<span class="lake-svg-icon lake-svg-icon-insert-local-doc" />',title:n.card.localdoc,pinyin:"本地文档,bdwd,bendiwendang,localdocument,pdf,word,excel,ppt,powerpoint,keynote,pages,numbers,mindnode,mindmanager,mmap,axure,psd,sketch",items:[{name:"uploadbtn",category:"localdoc",type:"newupload",mainButton:!0,title:n.ui.subPanel.uploadBtn,icon:"plus",accept:function(e){return e.options.allCardNames&&!e.options.allCardNames.video?qx("localdoc"):qx("localdoc_video")}},{name:"msOffice",category:"localdoc",type:"newupload",title:n.localdoc.items.office,desc:n.localdoc.items.officeDesc,pinyin:"word,excel,ppt,powerpoint,office",icon:"doc",accept:qx("msOffice")},{name:"macOffice",category:"localdoc",type:"newupload",title:n.localdoc.items.mac,desc:n.localdoc.items.macDesc,pinyin:"keynote,pages,numbers",icon:"keynote",accept:qx("macOffice")},{name:"mind",category:"localdoc",type:"newupload",title:n.localdoc.items.mind,desc:n.localdoc.items.mindDesc,pinyin:"mindnode,mindmanager,mmap",icon:"mindnode",accept:qx("mind")},{name:"design",category:"localdoc",type:"newupload",title:n.localdoc.items.design,desc:n.localdoc.items.designDesc,pinyin:"axure,psd,sketch",icon:"sketch",accept:qx("design")},{name:"pdf",category:"localdoc",type:"newupload",title:n.localdoc.items.pdf,pinyin:"pdf",icon:"pdf",accept:".pdf"},r,{name:"audio",type:"newupload",title:n.localdoc.items.audio,pinyin:"音频,本地音频,yp,yinpin,bdyp,bendiyinpin,audio,mp3,sound,music,flac",icon:'<span class="lake-svg-icon lake-svg-icon-audio" />',accept:qx("audio")}]},{name:"label",icon:'<span class="lake-svg-icon lake-svg-icon-label" />',title:n.card.label,pinyin:"标签,bq,biaoqian,label",description:n.card.labelDescription,onClick:function(){e.command.execute("label")}},{name:"vote",icon:'<span class="lake-svg-icon lake-svg-icon-vote" />',title:n.card.vote,pinyin:"toupiao,tp,vote,投票",onClick:function(){e.command.execute("vote")}},{name:"premium",icon:'<span class="lake-svg-icon lake-svg-insert-yuan" />',title:n.card.premium,pinyin:"付费阅读,ffyd,fufeiyuedu,premium,reading",description:n.card.premiumDescription,isDisable:function(){return e.card.getComponentsByName("premium").length>0},onClick:function(){e.command.execute("premium")}}];return t&&t.includes("video")&&!t.includes("localdoc")&&o.push(r),o};function bC(e){var t=e.locale,n=[{type:"group",category:"thirdparty",title:t.thirdparty.category.media,items:[{type:"button",name:"youku",category:"thirdparty",icon:"youku",title:t.thirdparty.names.youku,keywords:["优酷","yk","youku"],onClick:function(){dC(e,"thirdparty",{entrance:"youku"})}},{type:"button",category:"thirdparty",name:"bilibili",icon:"bilibili",keywords:["bilibili"],title:t.thirdparty.names.bilibili,onClick:function(){dC(e,"thirdparty",{entrance:"bilibili"})}},{type:"button",category:"thirdparty",name:"taobao",icon:"taobao",title:t.thirdparty.names.taobao,keywords:["淘宝","tb","taobao"],onClick:function(){dC(e,"thirdparty",{entrance:"taobao"})}},{type:"button",category:"thirdparty",name:"xiami",icon:"xiami",title:t.thirdparty.names.xiami,keywords:["虾米","xm","xiami"],onClick:function(){dC(e,"thirdparty",{entrance:"xiami"})}}]},{type:"group",category:"thirdparty",title:t.thirdparty.category.map,items:[{type:"button",category:"thirdparty",name:"amap",icon:"gaode",keywords:["gaode","ditu","amap","高德","gd"],title:t.thirdparty.names.amap,pinyin:"gaode,ditu,ampa",onClick:function(){dC(e,"thirdparty",{entrance:"amap"})}}]},{type:"group",category:"thirdparty",title:t.thirdparty.category.design,items:[{type:"button",category:"thirdparty",name:"modao",icon:"modao",title:t.thirdparty.names.modao,keywords:["modao","md","墨刀"],onClick:function(){dC(e,"thirdparty",{entrance:"modao"})}},{type:"button",category:"thirdparty",name:"figma",icon:"figma",title:t.thirdparty.names.figma,keywords:["figma"],onClick:function(){dC(e,"thirdparty",{entrance:"figma"})}},{type:"button",category:"thirdparty",name:"canva",icon:"canva",title:t.thirdparty.names.canva,keywords:["canva"],onClick:function(){dC(e,"thirdparty",{entrance:"canva"})}},{type:"button",category:"thirdparty",name:"processon",icon:"processon",title:t.thirdparty.names.processon,keywords:["processon"],onClick:function(){dC(e,"thirdparty",{entrance:"processon"})}}]},{type:"group",category:"thirdparty",title:t.thirdparty.category.development,items:[{type:"button",category:"thirdparty",name:"codepen",icon:"codepen",title:t.thirdparty.names.codepen,keywords:["codepen"],onClick:function(){dC(e,"thirdparty",{entrance:"codepen"})}},{type:"button",name:"riddle",icon:"riddle",title:t.thirdparty.names.riddle,keywords:["riddle"],onClick:function(){dC(e,"thirdparty",{entrance:"riddle"})}},{type:"button",category:"thirdparty",name:"herbox",icon:"herbox",title:"Herbox",keywords:["herbox"],onClick:function(){dC(e,"thirdparty",{entrance:"herbox"})}}]},{type:"group",category:"thirdparty",title:t.thirdparty.category.data,items:[{type:"button",category:"thirdparty",name:"deepinsight",icon:"deepinsight",title:t.thirdparty.names.deepinsight,keywords:["deepinsight"],onClick:function(){dC(e,"thirdparty",{entrance:"deepinsight"})}}]},{type:"group",category:"thirdparty",title:t.thirdparty.category.form,items:[{type:"button",category:"thirdparty",name:"jinshuju",icon:"jinshuju",title:t.thirdparty.names.jinshuju,keywords:["jinshuju","jsj","金数据"],onClick:function(){dC(e,"thirdparty",{entrance:"jinshuju"})}}]}],r=yC(e.options.thirdPartyService);return n.forEach((function(e){e.items=e.items.filter((function(e){return e.keywords&&(e.pinyin=e.keywords.join(",")),-1!==r.indexOf(e.name)}))})),n.filter((function(e){return e.items.length>0}))}var wC={"en-us":sx,"zh-cn":kx},kC=function(e){return[{name:"bold",text:(e=e||wC[Xb.locale]).bold.text,keys:["Command","+","B"]},{name:"italic",text:e.italic.text,keys:["Command","+","I"]},{name:"strikethrough",text:e.strikethrough.text,keys:["Command","+","Shift","+","X"]},{name:"underline",text:e.underline.text,keys:["Command","+","U"]},{name:"sup",text:e.sup.text,keys:["Command","+","Shift","+","."]},{name:"sub",text:e.sub.text,keys:["Command","+","Shift","+",","]},{name:"link",text:e.link.buttonTitle,keys:["Command","+","K"]},{name:"mention",text:e.mention.text,keys:["@"]},{name:"card",text:e.card.buttonTitle,keys:["Command","+","/"]},{name:"print",text:e.editor.print,keys:["Command","+","P"]},{name:"alignleft",text:e.alignment.alignLeft,keys:["Command","+","Shift","+","L"]},{name:"aligncenter",text:e.alignment.alignCenter,keys:["Command","+","Shift","+","C"]},{name:"alignright",text:e.alignment.alignRight,keys:["Command","+","Shift","+","R"]},{name:"alignjustify",text:e.alignment.alignJustify,keys:["Command","+","Shift","+","J"]},{name:"orderedlist",text:e.list.orderedList,keys:["Command","+","Shift","+","7"]},{name:"unorderedlist",text:e.list.unorderedList,keys:["Command","+","Shift","+","8"]},{name:"tasklist",text:e.list.taskList,keys:["Command","+","Option","+","T"]},{name:"indent",text:e.indent.increase,keys:["Command","+","]"]},{name:"outdent",text:e.indent.decrease,keys:["Command","+","["]},{name:"save",text:e.editor.save,keys:["Command","+","S"]},{name:"undo",text:e.history.undo,keys:["Command","+","Z"]},{name:"redo",text:e.history.redo,keys:["Command","+","Shift","+","Z"]},{name:"paste",text:e.paste.paste,keys:["Command","+","V"]},{name:"pasteplaintext",text:e.paste.pastePlainText,keys:fe.safari?["Command","+","Option","+","Shift","+","V"]:["Command","+","Shift","+","V"]},{name:"findandreplace",text:e.search.searchAndReplace,keys:["Command","+","Shift","+","G"]},{name:"inlinecode",text:e.code.text,keys:["Command","+","E"]},{name:"clearformat",text:e.clearFormat.buttonTitle,keys:["Command","+","\\"]}]},xC=fe.macos?"⌘":"Ctrl";function OC(e){var t=e.locale,n=e.options,r=n.cardWhitelist,o=n.cardBlacklist,i={};gC(e,r).forEach((function(e){i[e.name]=e}));var a=[],c=[i.image,i.table,i.file,i.calendar,i.premium,i.codeblock,i.math,i.mindmap,i.flowchart,i.diagram,i.lockedtext,i.label,i.vote];i.video&&c.push(i.video),c=EC(o,c=_C(r,c)),a.push({title:t.card.normal,items:c});var s=[i.yuque,i.localdoc,i.thirdparty];(s=EC(o,s=_C(r,s))).length>0&&a.push({title:t.card.embed,items:s});var l={};return CC(l,a),e.options.allCardNames=l,a}function CC(e,t){t&&t.length&&t.forEach((function(t){t.items&&CC(e,t.items);var n=t.category||t.name;n&&(e[n]=!0)}))}function _C(e,t){return e&&e.length>0?t.filter((function(t){return t.items&&(t.items=_C(e,t.items)),e.includes(t.category||t.name)})):t}function EC(e,t){return e&&e.length>0?t.filter((function(t){return t.items&&(t.items=EC(e,t.items)),!e.includes(t.category||t.name)})):t}function jC(e){return"classic"===e.getTypography()?"1515":"11"}var SC={ICON:32,DROPDOWN:42,SPLIT_BUTTON:42,FONTSIZE:58,HEADING:73},PC=function(e){var t=e.locale,n={};kC(t).forEach((function(e){e.keyText=e.keys.map((function(e){return"command"===e.toLowerCase()&&(e=fe.macos?"⌘":"Ctrl"),"option"===e.toLowerCase()&&(e=fe.macos?e:"Alt"),e})).join(""),n[e.name]=e}));var r={p:t.heading.normal,h1:t.heading.heading_1,h2:t.heading.heading_2,h3:t.heading.heading_3,h4:t.heading.heading_4,h5:t.heading.heading_5,h6:t.heading.heading_6},o=[{key:"9",value:"12px"},{key:"10",value:"13px"},{key:"11",value:"14px"},{key:"1515",value:"15px"},{key:"12",value:"16px"},{key:"14",value:"19px"},{key:"16",value:"22px"},{key:"18",value:"24px"},{key:"22",value:"29px"},{key:"24",value:"32px"},{key:"30",value:"40px"},{key:"36",value:"48px"}],i={};o.forEach((function(e){var t=e.key,n=e.value;i[t]=n}));var a=OC(e),c=[{name:"note-image",type:"note-upload-button",title:t.note.image,icon:'<span class="lake-svg-icon lake-svg-icon-note-image" />',size:SC.ICON,className:"lake-button-icon-note-wrapper"},{name:"note-file",type:"note-upload-button",title:t.note.localFile,icon:'<span class="lake-svg-icon lake-svg-icon-note-file" />',size:SC.ICON,className:"lake-button-icon-note-wrapper"},{name:"note-tasklist",title:t.note.todo,hotkey:n.tasklist.keyText,icon:'<span class="lake-svg-icon lake-svg-icon-note-tasklist" />',size:SC.ICON,className:"lake-button-icon-note-wrapper",getActive:function(){return"tasklist"===e.command.queryState("tasklist")},onClick:function(){e.command.execute("tasklist","tasklist")}},{name:"note-link",title:t.note.link,icon:'<span class="lake-svg-icon lake-svg-icon-note-link" />',size:SC.ICON,className:"lake-button-icon-note-wrapper",onClick:function(){e.command.execute("linkCard")}}];return[{name:"card",title:k.a.createElement("span",{dangerouslySetInnerHTML:{__html:"mini"===e.options.editorType?RC(e.lang,e.options.allCardNames):t.card.buttonTitle}}),type:"collapse",icon:'<span class="lake-svg-icon lake-svg-icon-insert" />',size:SC.ICON,data:a,description:t.card.description,onClick:function(t){e.command.execute(t)}},{name:"save",title:t.editor.save,hotkey:n.save.keyText,icon:'<span class="lake-icon lake-icon-save" />',size:SC.ICON,onClick:function(){e.command.execute("save")}},{name:"undo",title:t.history.undo,hotkey:n.undo.keyText,icon:'<span class="lake-icon lake-icon-undo" />',size:SC.ICON,getDisabled:function(){return!e.command.queryState("undo")},onClick:function(){e.command.execute("undo")}},{name:"redo",title:t.history.redo,hotkey:n.redo.keyText,icon:'<span class="lake-icon lake-icon-redo" />',size:SC.ICON,getDisabled:function(){return!e.command.queryState("redo")},onClick:function(){e.command.execute("redo")}},{name:"paintformat",title:t.paintformat.buttonTitle,icon:'<span class="lake-icon lake-icon-paintformat" />',size:SC.ICON,getActive:function(){return e.command.queryState("paintformat")},onClick:function(){e.command.execute("paintformat")},onDblClick:function(){e.command.execute("paintformat","repeat")}},{name:"removeformat",title:t.clearFormat.buttonTitle,icon:'<span class="lake-icon lake-icon-clean" />',size:SC.ICON,hotkey:n.clearformat.keyText,onClick:function(){e.command.execute("removeformat")}},{name:"emoji",type:"emoji",title:t.emoji.buttonTitle,icon:'<span class="lake-svg-icon lake-svg-icon-emoji" />',size:SC.ICON,data:sC,onClick:function(t){e.command.execute("emoji",t)}},{name:"heading",type:"dropdown",size:SC.HEADING,title:t.heading.buttonTitle,className:"lake-button-heading",data:[{key:"p",value:r.p,className:""},{key:"h1",value:r.h1,className:"lake-button-set-list-item-heading1"},{key:"h2",value:r.h2,className:"lake-button-set-list-item-heading2"},{key:"h3",value:r.h3,className:"lake-button-set-list-item-heading3"},{key:"h4",value:r.h4,className:"lake-button-set-list-item-heading4"}],getActive:function(){return e.command.queryState("heading")||"p"},getCurrentText:function(e){return r[e]||t.heading.normal},onClick:function(t){e.command.execute("heading",t)}},{name:"bold",title:t.bold.text,hotkey:n.bold.keyText,icon:'<span class="lake-icon lake-icon-bold" />',size:SC.ICON,getActive:function(){return e.command.queryState("bold")},getDisabled:function(){var t=e.command.queryState("heading")||"p";return/^h\d$/.test(t)},onClick:function(){e.command.execute("bold")}},{name:"italic",title:t.italic.text,hotkey:n.italic.keyText,icon:'<span class="lake-icon lake-icon-italic" />',size:SC.ICON,getActive:function(){return e.command.queryState("italic")},onClick:function(){e.command.execute("italic")}},{name:"strikethrough",title:t.strikethrough.text,hotkey:n.strikethrough.keyText,icon:'<span class="lake-icon lake-icon-strikethrough" />',size:SC.ICON,getActive:function(){return e.command.queryState("strikethrough")},onClick:function(){e.command.execute("strikethrough")}},{name:"underline",title:t.underline.text,hotkey:n.underline.keyText,icon:'<span class="lake-icon lake-icon-underline" />',size:SC.ICON,getActive:function(){return e.command.queryState("underline")},onClick:function(){e.command.execute("underline")}},{name:"fontsize",type:"dropdown",title:t.fontsize.buttonTitle,className:"lake-button-fontsize",size:SC.FONTSIZE,data:o,getActive:function(){return e.command.queryState("fontsize")||jC(e)},getDisabled:function(){var t=e.command.queryState("heading")||"p";return/^h\d$/.test(t)},getCurrentText:function(t){return i[t]||i[jC(e)]},onClick:function(t){e.command.execute("fontsize",t)}},{name:"fontcolor",type:"color",title:t.color.fontColor,moreTitle:t.color.moreColor,defaultColor:"#262626",currentColor:"#F5222D",size:SC.SPLIT_BUTTON+4,getActive:function(){return e.command.queryState("fontcolor")||""},onClick:function(t){e.command.execute("fontcolor",t,"#262626")}},{name:"highlight",type:"color",title:t.color.bgColor,moreTitle:t.color.moreColor,defaultColor:"transparent",currentColor:"#FADB14",size:SC.SPLIT_BUTTON+4,getActive:function(){return e.command.queryState("backcolor")||""},onClick:function(t){e.command.queryState("backcolor")===t&&(t="#FFFFFF"),e.command.execute("backcolor",t,"#FFFFFF")}},{name:"moremark",type:"dropdown",title:t.moremark.buttonTitle,icon:'<span class="lake-icon lake-icon-moremark" />',size:SC.DROPDOWN,className:"lake-button-icon-list",data:[{key:"sup",icon:'<span class="lake-icon lake-icon-sup" />',title:t.sup.text,className:"lake-button-set-list-item-icon",shortcut:"".concat(xC,"+shift+.")},{key:"sub",icon:'<span class="lake-icon lake-icon-sub" />',title:t.sub.text,className:"lake-button-set-list-item-icon",shortcut:"".concat(xC,"+shift+,")},{key:"code",icon:'<span class="lake-icon lake-icon-code" />',title:t.code.text,className:"lake-button-set-list-item-icon",shortcut:"".concat(xC,"+E")}],getActive:function(){return e.command.queryState("moremark")},onClick:function(t){e.command.execute("moremark",t)}},{name:"alignment",type:"dropdown",title:t.alignment.buttonTitle,icon:'<span class="lake-icon lake-icon-left" />',size:SC.DROPDOWN,className:"lake-button-icon-list",data:[{key:"left",icon:'<span class="lake-icon lake-icon-left" />',title:t.alignment.alignLeft,className:"lake-button-set-list-item-icon",shortcut:"".concat(xC,"+Shift+L")},{key:"center",icon:'<span class="lake-icon lake-icon-center" />',title:t.alignment.alignCenter,className:"lake-button-set-list-item-icon",shortcut:"".concat(xC,"+Shift+C")},{key:"right",icon:'<span class="lake-icon lake-icon-right" />',title:t.alignment.alignRight,className:"lake-button-set-list-item-icon",shortcut:"".concat(xC,"+Shift+R")},{key:"justify",icon:'<span class="lake-icon lake-icon-justify" />',title:t.alignment.alignJustify,className:"lake-button-set-list-item-icon",shortcut:"".concat(xC,"+Shift+J")}],getActive:function(){return e.command.queryState("alignment")},onClick:function(t){e.command.execute("alignment",t)}},{name:"list",type:"dropdown",title:t.list.buttonTitle,icon:'<span class="lake-icon lake-icon-oList" />',size:SC.DROPDOWN,className:"lake-button-icon-list",data:[{key:"orderedlist",icon:'<span class="lake-icon lake-icon-oList" />',title:t.list.orderedList,className:"lake-button-set-list-item-icon"},{key:"unorderedlist",icon:'<span class="lake-icon lake-icon-uList" />',title:t.list.unorderedList,className:"lake-button-set-list-item-icon"}],getActive:function(){return e.command.queryState("tasklist")},onClick:function(t){e.command.execute("tasklist",t)}},{name:"orderedlist",title:t.list.orderedList,hotkey:n.orderedlist.keyText,icon:'<span class="lake-icon lake-icon-oList" />',size:SC.ICON,getActive:function(){return"orderedlist"===e.command.queryState("tasklist")},onClick:function(){e.command.execute("tasklist","orderedlist")}},{name:"unorderedlist",title:t.list.unorderedList,hotkey:n.unorderedlist.keyText,icon:'<span class="lake-icon lake-icon-uList" />',size:SC.ICON,getActive:function(){return"unorderedlist"===e.command.queryState("tasklist")},onClick:function(){e.command.execute("tasklist","unorderedlist")}},{name:"indent",type:"dropdown",title:t.indent.buttonTitle,icon:'<span class="lake-icon lake-icon-indent-right" />',size:SC.DROPDOWN,className:"lake-button-icon-list",data:[{key:"indent",icon:'<span class="lake-icon lake-icon-indent-right" />',title:t.indent.increase,className:"lake-button-set-list-item-icon",shortcut:"".concat(xC,"+]")},{key:"outdent",icon:'<span class="lake-icon lake-icon-indent-left" />',title:t.indent.decrease,className:"lake-button-set-list-item-icon",shortcut:"".concat(xC,"+[")}],onClick:function(t){e.command.execute(t)}},{name:"lineheight",type:"dropdown",title:t.lineHeight.buttonTitle,icon:'<span class="lake-icon lake-icon-line-height" />',size:SC.DROPDOWN,className:"lake-button-icon-list",data:[{key:"17",title:t.lineHeight.defaultTitle},{key:"1",title:"1"},{key:"115",title:"1.15"},{key:"15",title:"1.5"},{key:"2",title:"2"},{key:"25",title:"2.5"},{key:"3",title:"3"}],getDisabled:function(){return!e.command.queryState("lineheight")},getActive:function(){return e.command.queryState("lineheight")},onClick:function(t){e.command.execute("lineheight",t)}},{name:"tasklist",title:t.list.taskList,hotkey:n.tasklist.keyText,icon:'<span class="lake-icon lake-icon-tList" />',size:SC.ICON,getActive:function(){return"tasklist"===e.command.queryState("tasklist")},onClick:function(){e.command.execute("tasklist","tasklist")}},{name:"link",title:t.link.buttonTitle,className:"lake-button-link",hotkey:n.link.keyText,icon:'<span class="lake-icon lake-icon-link" />',size:SC.ICON,onClick:function(){e.command.execute("link")}},{name:"link-card",title:t.linkCard.buttonTitle,className:"lake-button-link-card",icon:'<span class="lake-icon lake-icon-link" />',size:SC.ICON,onClick:function(){e.command.execute("linkCard")}},{name:"image",type:"upload",title:t.image.buttonTitle,icon:'<span class="lake-icon lake-icon-image" />',size:SC.ICON},{name:"file",type:"upload",title:t.file.buttonTitle,icon:'<span class="lake-icon lake-icon-attachment" />',size:SC.ICON},{name:"quote",title:t.blockquote.buttonTitle,icon:'<span class="lake-icon lake-icon-quote" />',size:SC.ICON,getActive:function(){return e.command.queryState("quote")},onClick:function(){e.command.execute("quote")}},{name:"hr",title:t.hr.buttonTitle,icon:'<span class="lake-icon lake-icon-hr" />',size:SC.ICON,onClick:function(){e.command.execute("hr")}},{name:"toc",title:t.toc.title,icon:'<span class="lake-icon lake-icon-toc" accessbilityid="toc-button" />',size:SC.ICON,getActive:function(){return e.command.queryState("toc")},onClick:function(){e.command.execute("toc")}},{name:"search",title:t.search.searchAndReplace,icon:'<span class="lake-icon lake-icon-searchreplace" accessbilityid="searchreplace-button" />',size:SC.ICON,getActive:function(){return e.command.queryState("search")},onClick:function(){e.command.execute("search")}},{name:"translate",title:t.translate.title,icon:'<span class="lake-icon lake-icon-translate" accessbilityid="translate-button" />',size:SC.ICON,getActive:function(){return e.command.queryState("translate")},onClick:function(){e.command.execute("translate")}},{name:"repository",title:t.repository.title,icon:'<span class="lake-svg-icon lake-svg-icon-folder" accessbilityid="repository-button" />',size:SC.ICON,getActive:function(){return e.command.queryState("repository")},onClick:function(){e.command.execute("repository")}}].concat(c)};function RC(e,t){e="en"===e?"en":"zh";var n=[{name:"image",en:"image",zh:"图片"},{name:"label",en:"label",zh:"标签"},{name:"yuque",en:"Yuque doc",zh:"语雀文档"}].filter((function(e){return t[e.name]}));if(0===n.length)return"en"===e?"Insert card":"插入卡片";var r=n.map((function(t){return t[e]})).join("en"===e?",":"、"),o="";return n.length>1&&(o="en"===e?", etc.":" 等"),"en"===e?"Insert ".concat(r).concat(o):"插入 ".concat(r).concat(o)}function TC(e){return function(e){if(Array.isArray(e))return DC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return DC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DC(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AC(Object(n),!0).forEach((function(t){NC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IC(e,t,n){if(!n||!n.length)return n;var r=null,o=null,i=null,a=null,c=null;return n.forEach((function(n){n.items.forEach((function(n){"localdoc"===n.name?i=function(e,t,n){var r=[];return n.items.forEach((function(e){e.mainButton||r.push(MC(MC({},e),{},{noBorder:!0,icon:LC(e.icon)}))})),r.push({name:"localdoc_video",type:"newupload",title:t.localdoc.items.localFile,pinyin:"file,bendi,wenjian,local",noBorder:!0,accept:e.video?qx("localdoc_video"):qx("localdoc"),icon:'<span class="lake-svg-icon lake-svg-icon-file-for-embed" />'}),r}(e,t,n):"yuque"===n.name?c={name:n.name,title:n.title,icon:'<span class="lake-svg-icon lake-svg-icon-yuque-for-embed"></span>',noBorder:!0,onClick:n.onClick,pinyin:n.pinyin}:"thirdparty"===n.name?a=function(e,t){var n=[];return t.items.forEach((function(e){e.items.forEach((function(e){n.push(MC(MC({},e),{},{noBorder:!0,icon:LC(e.icon)}))}))})),{name:t.name+"_for_embed",title:e.embedCardMenu.introduction,items:n}}(t,n):(delete(n=MC({},n)).tooltip,delete n.subTitle,"table"===n.name&&(n.disableSelector=!0),r||(r={name:"generic",title:t.card.common,items:[]}),r.items.push(n))}))})),(i||c)&&(o={name:"localdoc_for_embed",title:t.embedCardMenu.embed,items:[c].concat(TC(i||[])).filter(Boolean)}),[r,o,a].filter(Boolean)}function LC(e){return e?e.startsWith("<")?e:'<span class="lake-svg-icon lake-svg-icon-'.concat(e,'" />'):e}function FC(e){return(FC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qC(e,t){return(qC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=WC(e);if(t){var o=WC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return UC(this,n)}}function UC(e,t){return!t||"object"!==FC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function WC(e){return(WC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var KC="lake-plugin-cardselect",YC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qC(e,t)}(i,e);var t,n,r,o=HC(i);function i(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).showMask=function(){t.lastX=null,t.lastY=null,t.$listMask.css("display","block")},t.hideMask=function(e){if(!t.lastX)return t.lastX=e.clientX,void(t.lastY=e.clientY);(Math.abs(e.clientX-t.lastX)>5||Math.abs(e.clientY-t.lastY)>5)&&(t.container.find(".lake-collapse-list-item-active").removeClass("lake-collapse-list-item-active"),t.$listMask.css("display","none"),t.lastX=null,t.lastY=null)},t.handlePreventDefault=function(e){if(0!==t.cardRoot.closest("body").length)return e.preventDefault(),!1},t.getClickNode=function(e){var t=e.find(".lake-collapse-list-item-active"),n=t.closest("div.ant-upload-select");return n.length>0&&(t=n.parent()),t},t.scrollItem=function(e){var n=t.container.find(".lake-toolbar-collapse"),r=n.find(".lake-collapse-list-item"),o=n.find(".lake-collapse-list-item-active");t.showMask();var i=0;r.each((function(e,t){e===o[0]&&(i=t)}));var a="up"===e?r.eq(i-1):r.eq(i+1);if(a&&(t.selectItem(a),o.length)){var c=n.find(".ant-collapse-header")[0].clientHeight,s=a.closest(".ant-collapse-item");s.parent().find(".ant-collapse-item").each((function(e){if(e===s[0])return!1;c+=e.clientHeight})),c+=o[0].clientHeight*a.attr("data-index"),n[0].scrollTop=c-n[0].clientHeight/2}},t.selectItem=function(e){t.container.find(".lake-toolbar-collapse").find(".lake-collapse-list-item-active").removeClass("lake-collapse-list-item-active"),e.addClass("lake-collapse-list-item-active");var n=t.engine;if(n.scrollNode){var r=e.getBoundingClientRect(),o=window.innerHeight||Math.max(document.documentElement.clientHeight,document.body.clientHeight);if(r.bottom>o){var i=r.bottom-o+20;n.scrollNode.scrollTop+=i}}},t.searchData=function(e){var n=[];"string"==typeof e&&(e=e.toLowerCase()),t.data.forEach((function(t){t.items.forEach((function(t){"string"==typeof t.pinyin&&(t.pinyin=t.pinyin.trim().split(/\s*,\s*/)),Array.isArray(t.pinyin)&&t.pinyin.some((function(r){return!!r.startsWith(e)&&(n.find((function(e){return e.name===t.name}))||n.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zC(Object(n),!0).forEach((function(t){BC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),!0)}))}))}));var r=[];return n.length>0&&r.push({title:"",items:n}),r},t.handleInput=function(){var e=t.engine;if(!e.domEvent.isComposing){var n=t.keywordNode[0].innerText;if(""===n)return t.removeCardSelect(),void e.change.removeCard(t.cardRoot);var r=n.substr(1);if(""!==r){var o=t.searchData(r);o.length>0?t.renderCardSelect(o):t.changeToText()}else t.renderCardSelect(t.data)}},t.removeCardSelect=function(){var e=t.container.find(".lake-cardselect-list");e.length>0&&(He.a.unmountComponentAtNode(e[0]),e.remove())},t.removeCard=function(){t.removeCardSelect(),t.engine.change.removeCard(t.cardRoot)},t.changeToText=function(){if(t.cardRoot.isEditable()){var e=t.keywordNode[0].innerText;t.removeCard(),t.engine.change.insertText(e)}},t.handleClick=function(){t.removeCardSelect(),t.engine.change.removeCard(t.cardRoot)},t.onBeforeInsertCard=function(){t.unbindEvents(),t.removeCardSelect(),t.cardRoot.remove()},t.handleBeforeUpload=function(){t.cardRoot.hide(),ru(document.body).append(t.cardRoot),t.unbindEvents()},t.handleAfterUpload=function(){t.removeCardSelect(),t.cardRoot.remove()},t.renderCardSelect=function(e){t.unbindEvents();var n=t.engine;t.removeCardSelect();var r=ru('<div class="lake-cardselect-list" />');t.container.append(r);var o=[],i=t.cardRoot.offset(),a=ru(".lark-editor-header"),c=0;if(a.length>0){var s=n.editArea.closest(".lake-editor").find(".lake-toolbar");s.length>0&&(c=a[0].clientHeight+s[0].clientHeight)}i.top-c>482&&o.push("lake-button-set-list-to-top"),""===e[0].title&&o.push("lake-button-set-list-search");var l={className:o.length>0?o.join(" "):void 0,active:!0,engine:n,locale:n.locale,data:e,activeKeys:e.map((function(e,t){return String(t)})),onClick:t.handleClick,onBeforeUpload:t.handleBeforeUpload,onAfterUpload:t.handleAfterUpload,onBeforeInsertCard:t.onBeforeInsertCard};He.a.render(k.a.createElement(cC,l),r[0]);var u=r.find(".lake-collapse-list-item");u.length>0&&t.selectItem(u.eq(0)),t.bindEvents(),t.initListMask()},t.engine=e,t.readonly=!e,t.readonly)return UC(t);var n=PC(e).find((function(e){return"card"===e.name}));return"max"===e.options.editorType?t.data=IC(e.options.allCardNames||{},e.locale,n.data):t.data=n.data,t}return t=i,(n=[{key:"destroy",value:function(){this.unbindEvents(),this.removeCardSelect()}},{key:"unactivate",value:function(){this.unbindEvents(),this.changeToText()}},{key:"unbindEvents",value:function(){Dw.a.deleteScope(KC),Dw.a.unbind("enter",KC),Dw.a.unbind("up",KC),Dw.a.unbind("down",KC),Dw.a.unbind("esc",KC),this.engine&&this.engine.off("keydown:enter",this.handlePreventDefault)}},{key:"bindEvents",value:function(){var e=this;this.unbindEvents(),Dw.a.setScope(KC),Dw()("enter",KC,(function(t){if(0!==e.cardRoot.closest("body").length){t.preventDefault();var n=e.container.find(".lake-toolbar-collapse"),r=e.getClickNode(n),o=r.find("input[type=file]");o.length>0?o[0].click():r[0].click()}})),Dw()("up",KC,(function(t){0!==e.cardRoot.closest("body").length&&(t.preventDefault(),e.scrollItem("up"))})),Dw()("down",KC,(function(t){0!==e.cardRoot.closest("body").length&&(t.preventDefault(),e.scrollItem("down"))})),Dw()("esc",KC,(function(t){t.preventDefault(),e.unbindEvents(),e.changeToText()})),this.engine.on("keydown:enter",this.handlePreventDefault)}},{key:"initListMask",value:function(){var e=this.container.find(".lake-button-set-list");if(this.$buttonList)e.append(this.$listMask),this.showMask();else{var t=ru('<div class="lake-cardselect-list-mask"></div>');e.append(t),this.$listMask=t,t.on("mousemove",this.hideMask,!1)}}},{key:"resetPlaceHolder",value:function(){"/"===this.keywordNode[0].innerText?this.placeholder.show():this.placeholder.hide()}},{key:"render",value:function(e){var t=this;if(!this.readonly){this.cardRoot.attr("data-transient","true"),this.cardRoot.attr("contenteditable",!1),e.append('\n      <span class="lake-cardselect-keyword" contenteditable="true">/</span>\n      <span class="lake-cardselect-placeholder" style="\n        color: rgba(0,0,0,0.25);\n        pointer-events: none;\n        position: absolute;\n        width: 76px;\n        left: 7px;\n      ">'.concat(this.engine.locale.card.placeholder,"</span>\n    "));var n=e.find(".lake-cardselect-keyword");this.keywordNode=n,this.placeholder=e.find(".lake-cardselect-placeholder"),n.on("keydown",(function(e){kb("enter",e)&&e.preventDefault()}));var r=Date.now();n.on("input",(function(){if(t.resetPlaceHolder(),Date.now()-r<100){var e=n.first();(e&&e.isText()&&"/、"===e[0].nodeValue||"//"===e[0].nodeValue)&&ru(e[0].splitText(1)).remove()}setTimeout((function(){t.handleInput()}),10)})),setTimeout((function(){var e=t.engine.change.getRange();e&&n[0]&&(n[0].contains(e.startContainer)||n[0].contains(e.endContainer))&&(t.renderCardSelect(t.data),n[0].focus())}),10)}}}])&&VC(t.prototype,n),r&&VC(t,r),i}(uw);function XC(e){return(XC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GC(e,t){return(GC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=QC(e);if(t){var o=QC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return JC(this,n)}}function JC(e,t){return!t||"object"!==XC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QC(e){return(QC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}YC.type="inline",YC.singleSelectable=!1;var e_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GC(e,t)}(i,e);var t,n,r,o=ZC(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).handleClick=function(){var e=t.cardRoot;t.engine.change.focusCard(e)},t.engine=e,t.readonly=!e,t}return t=i,(n=[{key:"select",value:function(){}},{key:"normalizeValue",value:function(e){return"string"==typeof e&&(e={src:e,package:"default"}),e.src=Cl.sanitizeUrl(e.src),e}},{key:"render",value:function(e,t){t=this.normalizeValue(t);var n='<img class="lake-emoji lake-emoji-'.concat(t.package,'" src="').concat(Cl.escape(t.src),'" />');e.append(n),this.readonly||this.container.on("click",this.handleClick)}}])&&$C(t.prototype,n),r&&$C(t,r),i}(uw);function t_(e){return new Promise((function(t,n){var r=new Image;r.src=e,r.crossOrigin="Anonymous",r.onload=function(){return t(r)},r.onerror=n}))}e_.type="inline",e_.selectStyleType="background",e_.singleSelectable=!1,e_.canCollab=!0;var n_=Math.ceil(window.devicePixelRatio||1);function r_(e){if(!e||"string"!=typeof e)return e;try{var t=new URL(e),n=t.searchParams.get("x-oss-process");if(!n)return e;var r=function(e){if(!e.startsWith("image/"))return null;var t=(e=e.substring("image".length)).split("/");if(""!==t[0])return null;var n={};return t.slice(1).forEach((function(e){var t=e.split(",");n[t[0]]=t.slice(1).join(",")})),n}(n);if(!r)return e;r.watermark&&delete r.watermark;var o=function(e){var t=Object.keys(e).map((function(t){return"".concat(t,",").concat(e[t])})).join("/");if(!t)return"";return"image/"+t}(r);return o?t.searchParams.set("x-oss-process",o):t.searchParams.delete("x-oss-process"),t.toString()}catch(e){console.warn(e)}return e}function o_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i_=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onMouseDown=function(e,t){e.preventDefault(),e.stopPropagation(),n.root.css("top",45===t||315===t?"auto":0),n.root.css("left",225===t||315===t?"auto":0),n.root.css("bottom",225===t||135===t?"auto":0),n.root.css("right",45===t||135===t?"auto":0);var r=e.clientX,o=e.clientY;fe.mobile&&(r=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY),n.mouse={x:r,y:o},n.angle=t,n.resizing=!0,n.find("number")[0].className="lake-image-editor-number lake-image-editor-number-".concat(t," lake-image-editor-number-active"),n.image.show(),fe.mobile?(document.addEventListener("touchmove",n.onMouseMove,{passive:!1}),document.addEventListener("touchend",n.onMouseUp,{passive:!1})):(document.addEventListener("mousemove",n.onMouseMove),document.addEventListener("mouseup",n.onMouseUp))},this.onMouseMove=function(e){e.preventDefault(),e.stopPropagation();var t=e.clientX,r=e.clientY;if(fe.mobile&&(t=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY),t!==n.mouse.x||r!==n.mouse.y){var o=n.mouse.x-t,i=n.mouse.y-r;n.updateImageSize(o,i)}n.resizing=!0},this.onMouseUp=function(e){e.preventDefault(),e.stopPropagation(),n.width=n.root[0].clientWidth,n.height=n.root[0].clientHeight,n.angle=0,n.resizing=!1,n.find("number")[0].className="lake-image-editor-number",fe.mobile?(document.removeEventListener("touchmove",n.onMouseMove),document.removeEventListener("touchend",n.onMouseUp)):(document.removeEventListener("mousemove",n.onMouseMove),document.removeEventListener("mouseup",n.onMouseUp)),n.config.onChange(n.width,n.height),n.image.hide()},this.updateImageSize=function(e){var t;(t=n.angle<180?n.width-e:n.width+e)<24&&(t=24),t>n.maxWidth&&(t=n.maxWidth);var r=t*n.config.rate;r<24&&(t=(r=24)/n.config.rate),t=Math.round(t),r=Math.round(r),n.setSize(t,r)},this.setSize=function(e,t){n.root.css({width:e+"px",height:t+"px"}),n.find("number").html("".concat(ow(e),"·").concat(ow(t)))},this.closeZoom=function(){var e=ru("#lake-image-zoom-container");e[0]&&He.a.unmountComponentAtNode(e[0]),e.remove(),n.config.onClose()},this.config=t,this.root=ru('\n  <div class="lake-image-editor" draggable="true">\n    <img data-role="image-bg" class="lake-image-editor-bg lake-image-editor-bg-active" src="'.concat(ow(t.src),'">\n    <div data-role="holder-45" class="lake-image-editor-holder lake-image-editor-holder-45"></div>\n    <div data-role="holder-135" class="lake-image-editor-holder lake-image-editor-holder-135"></div>\n    <div data-role="holder-225" class="lake-image-editor-holder lake-image-editor-holder-225"></div>\n    <div data-role="holder-315" class="lake-image-editor-holder lake-image-editor-holder-315"></div>\n    <span data-role="number" class="lake-image-editor-number"></span>\n  </div>\n  ')),this.image=this.find("image-bg"),this.resizing=!1,this.width=t.width,this.height=t.height,this.maxWidth=t.maxWidth,this.openZoom=t.openZoom}var t,n,r;return t=e,(n=[{key:"find",value:function(e){var t="[data-role=".concat(e,"]");return this.root.find(t)}},{key:"destroy",value:function(){this.root.remove(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}},{key:"render",value:function(e){var t=this,n=this.config,r=n.width,o=n.height;this.root.css({width:"".concat(r,"px"),height:"".concat(o,"px")}),e.append(this.root),this.image.on("dblclick",this.openZoom),this.image.hide(),fe.mobile?(this.find("holder-45").on("touchstart",(function(e){return t.onMouseDown(e,45)}),{passive:!1}),this.find("holder-135").on("touchstart",(function(e){return t.onMouseDown(e,135)}),{passive:!1}),this.find("holder-225").on("touchstart",(function(e){return t.onMouseDown(e,225)}),{passive:!1}),this.find("holder-315").on("touchstart",(function(e){return t.onMouseDown(e,315)}),{passive:!1})):(this.find("holder-45").on("mousedown",(function(e){return t.onMouseDown(e,45)})),this.find("holder-135").on("mousedown",(function(e){return t.onMouseDown(e,135)})),this.find("holder-225").on("mousedown",(function(e){return t.onMouseDown(e,225)})),this.find("holder-315").on("mousedown",(function(e){return t.onMouseDown(e,315)})))}}])&&o_(t.prototype,n),r&&o_(t,r),e}();n(608);function a_(e){return(a_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l_(e,t){return(l_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p_(e);if(t){var o=p_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f_(this,n)}}function f_(e,t){return!t||"object"!==a_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p_(e){return(p_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d_={"zh-cn":{copyMessage:"复制错误信息",copySuccess:"复制成功！"},en:{copyMessage:"Copy error information",copySuccess:"Successful copy!"}}[window.appData&&"zh-cn"!==window.appData.locale?"en":"zh-cn"],h_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l_(e,t)}(i,e);var t,n,r,o=u_(i);function i(){return c_(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.cardIcon,n=e.variableContent,r=e.fixedContent,o=e.message,i=e.block,a=e.docWidth;return k.a.createElement("div",{className:"lake-error-tips",style:{width:i?"100%":"auto"}},k.a.createElement("div",{className:"lake-error-tips-card-icon",dangerouslySetInnerHTML:{__html:t}}),k.a.createElement("div",{className:"lake-error-tips-info"},k.a.createElement("span",{className:"lake-error-tips-variable-content",style:{maxWidth:i?"".concat(a-200,"px"):"220px"}},n),k.a.createElement("span",{className:"lake-error-tips-fixed-content"},r)),o?k.a.createElement(dn,{title:d_.copyMessage,placement:"bottom"},k.a.createElement("span",{className:"lake-error-tips-slash"},"|"),k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-alert",onClick:function(){Ip.copyText(JSON.stringify(o,null,"  ")),fs.success(d_.copySuccess)}})," "):"")}}])&&s_(t.prototype,n),r&&s_(t,r),i}(k.a.Component);function m_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m_(Object(n),!0).forEach((function(t){y_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}h_.propTypes={cardIcon:st.a.string,variableContent:st.a.string,fixedContent:st.a.string,message:st.a.object,block:st.a.bool,docWidth:st.a.number};var b_=Bs(),w_=Cl.escape,k_=Cl.sanitizeUrl;var x_,O_=!(!(x_=document.createElement("canvas")).getContext||!x_.getContext("2d"))&&(fe.chrome||fe.firefox||0===x_.toDataURL("image/webp").indexOf("data:image/webp"));function C_(e,t,n,r){return e=t(e,n&&n(e)),o.tryAddWebpFormat(e,O_,r)}function __(e){var t=e.data,n=e.readonly,r=e.maxWidth,i=e.onBeforeRenderImage,a=e.isRemoteImage,c=e.src,s=e.ossProcessDomains;if("error"===t.status)return function(e){var t=w_(e.message),n=document.createElement("div");return He.a.render(k.a.createElement(h_,{cardIcon:'<span class="lake-svg-icon lake-svg-icon-error-image"></span>',variableContent:t,message:e}),n),n}(t);var l,u='\n  <span data-role="progress" class="progress">\n    <i class="lake-anticon lake-anticon-loading">\n      <svg viewBox="0 0 1024 1024" class="lake-anticon-spin" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true">\n        <path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path>\n      </svg>\n    </i>\n    <span data-role="percent" class="percent">'.concat(w_(t.percent||0),"%</span>\n  </span>\n  "),f=c;if("uploading"!==t.status&&c&&(c=C_(c,i,a,s)),n){var p=o.resizeImage({maxWidth:r,src:c,data:t,ossProcessDomains:s});p&&(f=c,c=p)}var d=t.name?w_(t.name):"",h=d?' alt="'.concat(d,'" title="').concat(d,'"'):"";if(t.link&&n){var m="";""!==t.linkTarget&&(m=' target="_blank"'),l='<a href="'.concat(w_(k_(t.link)),'"').concat(m,'><img data-role="image" src="').concat(w_(k_(c)),'" data-raw-src="').concat(w_(k_(f)),'" class="image lake-drag-image"').concat(h," /></a>")}else l='<img data-role="image" src="'.concat(w_(k_(c)),'" data-raw-src="').concat(w_(k_(f)),'" class="image lake-drag-image"').concat(h," />");var v='<span data-role="maximize" class="lake-image-editor-maximize" style="display: none;"><span class="lake-icon lake-icon-full-screen"></span></span>';(!t.width&&t.originWidth<100||"number"==typeof t.width&&t.width<100||fe.mobile)&&(v="");var y="";if(!fe.mobile&&t.ocrLocations){var g=Math.min(r,t.width)/t.originWidth;y+='<div class="lake-image-mask">',t.ocrLocations.forEach((function(e){e.height>e.width&&(e.height=e.width);var n=Math.min(e.height*g,50),r="font-size: ".concat(n,"px;left: ").concat(e.x/t.originWidth*100,"%;top: ").concat(e.y/t.originHeight*100,"%;");y+='<p class="lake-image-mask-point" style="'.concat(w_(r),'">').concat(w_(e.text),"</p>")})),y+="</div>"}return'\n  <span class="lake-image">\n    <span class="lake-image-content lake-image-content-istmp">\n      <span data-role="detail" class="lake-image-detail">\n        <span class="lake-image-meta">\n          <span class="lake-image-warning" style="display: none;">\n            <i class="anticon anticon-exclamation-circle">\n              <svg viewBox="64 64 896 896" class="" data-icon="exclamation-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true">\n                <path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path d="M464 688a48 48 0 1 0 96 0 48 48 0 1 0-96 0zM488 576h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"></path>\n              </svg>\n            </i>\n          </span>\n          '.concat(l,"\n          ").concat(u,"\n          ").concat(v,"\n          ").concat(y,"\n        </span>\n      </span>\n    </span>\n  </span>\n  ")}var E_=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.destroy=function(){window.removeEventListener("resize",r.onWindowResize),r.closeZoom()},this.focus=function(){r.readonly||(r.root.addClass("lake-image-active"),"done"===r.status&&(r.destroyEditor(),r.renderEditor()))},this.blur=function(){r.readonly||(r.root.removeClass("lake-image-active"),"done"===r.status&&r.destroyEditor(),ru("div[data-lake-element=embed-tooltip]").remove())},this.getMaxWidth=function(e){return lp.getClosestBlock(e)[0].clientWidth-6},this.isSvg=function(){return r.src.endsWith(".svg")||r.src.startsWith("data:image/svg+xml")},this.getValue=function(){var e,t=r.config.value,n={src:r.src,originWidth:r.originWidth,originHeight:r.originHeight,name:t.name,size:t.size,display:r.display,align:r.align,angle:r.angle,link:r.link,linkTarget:r.linkTarget,status:r.status,ocrLocations:t.ocrLocations,style:r.style,search:(e=t.ocrLocations,e?e.map((function(e){return e.text})).join(" "):""),margin:r.margin};return ew(n.src)&&delete n.src,r.width&&(n.width=r.width),r.height&&(n.height=r.height),"uploading"===r.status&&r.uid&&(n.uid=r.uid),n},this.onWindowResize=function(){var e=r.card.closest(r.root);if(e){r.maxWidth=r.getMaxWidth(e),r.resetImageSize();var t=r.image[0].clientWidth,n=r.image[0].clientHeight;r.resizer&&(r.resizer.maxWidth=r.maxWidth,r.resizer.setSize(t,n))}},this.handleChangeSize=function(e,t){var n=r.card.closest(r.root);if(n){r.changeSize(e,t);var o=r.getValue();r.card.setValue(n,o),"image"===r.engine.sidebar.activate&&r.setSidebar()}},this.setSidebar=function(){var e=r.getValue();r.engine.sidebar.set({name:"image",title:r.locale.preferences,className:"lake-image-sidebar",data:e})},this.changeSize=function(e,t){e<24&&(t=(e=24)*r.rate);var n=r.config.value.originWidth||r.maxWidth;e>n&&(t=(e=n)*r.rate),t<24&&(e=(t=24)/r.rate),e=Math.round(e),t=Math.round(t),r.width=e,r.height=t,r.image.css({width:"".concat(e,"px"),height:"".concat(Math.round(Math.min(r.maxWidth,e)*r.rate),"px")}),r.destroyEditor(),r.renderEditor()},this.changeLink=function(e,t){r.link=e,r.linkTarget=t},this.openZoom=function(e){if(!r.config.docEmbedView){e.preventDefault(),e.stopPropagation();var t=r.config.engine||r.config.contentView,n=t.options.onBeforeRenderImage,i=[],a=r.cardRoot,c=0;t.editArea.find('[data-lake-card="image"]').toArray().filter((function(e){return(e=ru(e)).find('[data-role="image"]').length>0})).forEach((function(e,r){var s=(e=ru(e)).find('[data-role="image"]'),l=t.card.getValue(e),u=parseInt(s.css("width")),f=parseInt(s.css("height")),p=l.width||u,d=l.height||f,h=l.originWidth||u*n_,m=l.originHeight||f*n_,v=fe.mobile?1e3:4e3,y=t.options.ossProcessDomains,g=C_(l.src,n,t.isRemoteImage,y),b=o.resizeImage({maxWidth:v,src:g,data:{width:h,originWidth:h,originHeight:m,ossProcessDomains:y}}),w=s.attr("src"),k=s.attr("data-override-src");k?i.push({src:k,msrc:k,w:h,h:m}):b?i.push({src:b,msrc:w,w:v,h:d/p*v}):i.push({src:g,msrc:w,w:h,h:m}),e[0]===a[0]&&(c=r)})),b_.open(i,c)}},this.closeZoom=function(){b_.close()},this.resetImageSize=function(){r.detailInner.css({"background-color":"",width:"",height:""}),r.image.css({width:"",height:""});var e=r.image[0],t=r.width,n=r.height;"number"!=typeof t||n?t||"number"!=typeof n?"number"==typeof t&&"number"==typeof n?(n=Math.round(r.rate*t),r.height=n):(t=e.clientWidth,n=e.clientHeight,r.isSvg()&&r.originWidth&&r.originHeight&&(t=r.originWidth,n=r.originHeight)):t=Math.round(n/r.rate):n=Math.round(r.rate*t),t>r.maxWidth&&(t=r.maxWidth,n=Math.round(t*r.rate)),r.image.css("width","".concat(t,"px")),r.image.css("height","".concat(n,"px"))},this.addToolbarDelete=function(e){var t=r.config.locale;e.push({type:"button",name:"delete",iconName:"delete",title:t.delete,onClick:r.config.onRemove})},this.onLoad=function(){var e=r.card.closest(r.root);if(e){"done"===r.status&&(r.root.find(".lake-image-content").addClass("lake-image-content-isvalid"),r.root.find(".lake-image-content").removeClass("lake-image-content-istmp"));var t=r.image[0],n=t.naturalWidth,o=t.naturalHeight;if(r.rate=o/n,r.originWidth=n,r.originHeight=o,r.scaleByPixelRatio&&(r.width=n/n_,r.height=o/n_),r.resetImageSize(),r.image.css("visibility","visible"),r.image.css("background-color",""),r.image.css("background-repeat",""),r.image.css("background-position",""),r.image.css("background-image",""),r.width||(r.width=n),r.height||(r.height=o),!r.readonly||!r.viewEngine.isReadonly&&"uploading"===r.status){var i=r.getValue();r.card.setValue(e,i)}window.removeEventListener("resize",r.onWindowResize),window.addEventListener("resize",r.onWindowResize),r.resizer&&r.resizer.setSize(t.clientWidth,t.clientHeight)}},this.onError=function(){r.container.empty();var e=ru(__({data:v_(v_({},r.config.value),{},{status:"error",message:r.locale.loadFailed})}));r.container.append(e)},this.component=t,this.config=n,this.readonly=!n.engine,this.locale=n.locale,this.uid=n.uid;var i=n[n.engine?"engine":"contentView"],a=i.options.onBeforeRenderImage;this.maxWidth=this.getMaxWidth(n.cardRoot),this.viewEngine=i;var c=!1;try{new URL(location.href).searchParams.has("export_type")&&(c=!0)}catch(e){console.warn(e)}this.src=this.readonly&&c?r_(n.src):n.src,this.root=ru(__({data:n.value,src:this.src,locale:this.locale,readonly:this.readonly,maxWidth:this.maxWidth,onBeforeRenderImage:a,isRemoteImage:i.isRemoteImage,ossProcessDomains:i.options.ossProcessDomains})),n.docEmbedView&&this.root.addClass("doc-embed-view"),this.image=this.find("image"),this.detail=this.find("detail"),this.detailInner=this.detail.find(".lake-image-meta"),this.engine=n.engine,this.card=n.card,n.engine&&(this.options=n.engine.options.image||{}),this.status=n.value.status,this.width=n.value.width,this.height=n.value.height,this.scaleByPixelRatio=n.value.scaleByPixelRatio,this.display=n.value.display,this.align=n.value.align,this.link=n.value.link,this.linkTarget=n.value.linkTarget,this.margin=n.value.margin||{top:!1,bottom:!1},this.style=n.value.style||"none"}var t,n,r;return t=e,(n=[{key:"find",value:function(e){var t="[data-role=".concat(e,"]");return this.root.find(t)}},{key:"changeStyle",value:function(e){var t=!1,n=!1;switch(e){case"stroke":t=!0;break;case"shadow":n=!0;break;default:e="none"}this.style=e,t?this.detailInner.addClass("border"):this.detailInner.removeClass("border"),n?this.detailInner.addClass("shadow"):this.detailInner.removeClass("shadow")}},{key:"changeMargin",value:function(e){this.margin=e}},{key:"destroyEditor",value:function(){this.resizer&&this.resizer.destroy()}},{key:"renderEditor",value:function(){var e=this,t=this.image[0].offsetWidth,n=this.image[0].offsetHeight;if(t&&n){var r=this.card.closest(this.root),o=new i_({src:this.src,width:t,height:n,rate:this.rate,angle:this.angle,maxWidth:this.maxWidth,onChange:this.handleChangeSize,openZoom:this.openZoom,onClose:function(){e.engine.change.focus();var t=e.engine.change.getRange();e.card.focus(t,r,!1)}});o.render(this.detail),this.resizer=o}}},{key:"render",value:function(e){var t=this;if(this.cardRoot=this.card.closest(e),this.container=e,this.readonly){if("error"===this.status)return;this.viewEngine.isReadonly&&"uploading"===this.status&&(this.status="done")}if("error"!==this.status){if("uploading"===this.status?this.find("progress").show():this.find("progress").remove(),this.readonly){if(this.width&&this.height){var n=this.width,r=this.height;this.maxWidth<n&&(n=this.maxWidth,r=Math.round(n*this.height/this.width)),this.image.css("width",n+"px"),this.image.css("height",r+"px"),this.image.css("background-color","#FAFAFA"),this.image.css("background-repeat","no-repeat"),this.image.css("background-position","center"),this.image.css("background-image","url(https://gw.alipayobjects.com/zos/basement_prod/b665217b-bdc4-464d-ad47-d2a8fc938552.svg)")}}else this.image.css("visibility","hidden");this.changeStyle(this.style);var o=null;if(this.viewEngine&&this.viewEngine.readyStateManager&&(o=this.viewEngine.readyStateManager.add()),this.image.on("load",(function(){o&&o(),t.onLoad()})),this.image.on("error",(function(){o&&o(),t.onError()})),e.append(this.root),!("done"!==this.status||this.readonly&&this.image.isEditable())){var i=this.find("maximize");this.root.on("mouseenter",(function(){return i.show()})),this.root.on("mouseleave",(function(){return i.hide()})),this.readonly&&0===this.image.closest("a").length&&this.image.on("click",this.openZoom),this.image.on("dblclick",this.openZoom),i.on("click",this.openZoom)}if(!ew(this.src)&&("uploading"===this.status||"done"===this.status)){var a=!!this.image[0].clientHeight;if("uploading"!==this.status||a||this.detailInner.css("background-color","#F5F5F5"),"number"==typeof this.width&&this.width>this.maxWidth){var c=this.maxWidth;this.detailInner.css("width","".concat(c,"px"))}else{if(this.width){var s=this.width;s="number"==typeof s?"".concat(s,"px"):s,this.detailInner.css("width",s)}else!a&&this.detailInner.css("width","300px");if(this.height){var l=this.height;l="number"==typeof l?"".concat(l,"px"):l,this.detailInner.css("height",l)}else!a&&this.detailInner.css("height","200px")}}this.readonly}else e.append(this.root)}}])&&g_(t.prototype,n),r&&g_(t,r),e}();function j_(e){return(j_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S_(Object(n),!0).forEach((function(t){R_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D_(e,t,n){return(D_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function A_(e,t){return(A_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I_(e);if(t){var o=I_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N_(this,n)}}function N_(e,t){return!t||"object"!==j_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I_(e){return(I_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A_(e,t)}(i,e);var t,n,r,o=M_(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).onRemove=function(){n.imageNode.blur();var e=n.cardRoot;n.engine.change.removeCard(e)},n.onSaveBefore=function(){return new Promise((function(e,t){"uploading"!==n.value.status?e():t(n.locale.stillUploading)}))},n.saveCardValue=function(){var e=n.cardRoot,t=n.imageNode.getValue();n.card.setValue(e,t)},n.card=nAe.card,n.engine=e,n.contentView=t,n.docEmbedView=window.location.search.indexOf("view=doc_embed")>0,n}return t=i,(n=[{key:"embedToolbar",value:function(){var e=this;if(this.engine){var t=[];return this.value&&"done"===this.value.status&&(t.push({type:"copy"}),t.push({type:"separator"}),this.engine&&this.value&&!1!==this.engine.options.allowResource&&!1!==this.engine.options.allowSaveToResource&&"done"===this.value.status&&t.push({type:"button",name:"saveToResource",iconName:"save-folder",title:this.engine.locale.embedToolbar.saveToResource,onClick:function(){var t=e.getTopEngine();t&&t.event.trigger("saveToResource",{name:"image",data:P_({},e.value)})}})),t.push({type:"delete"}),t}}},{key:"destroy",value:function(){this.imageNode&&this.imageNode.destroy();var e=this.getTopEngine();e&&e.asyncEvent&&e.asyncEvent.off("save:before",this.onSaveBefore),this.restoreSideBar()}},{key:"didInsert",value:function(e){if("uploading"===e.status){var t=this.getTopEngine();e.uid&&t.uploader&&t.uploader.uploadingFiles[e.uid]&&t&&t.asyncEvent&&t.asyncEvent.on("save:before",this.onSaveBefore)}}},{key:"activate",value:function(){this.unselect(),this.imageNode.focus(),this.openSidebar()}},{key:"select",value:function(){this.state.activated||D_(I_(i.prototype),"select",this).call(this)}},{key:"openSidebar",value:function(){var e=this.engine;e&&(this.openPreferences||e.sidebar.disable||function(e){var t=ru(e);if(!t)return!1;for(;t&&!t.isRoot();)t=t.parent();return!!t&&t.closest("[data-lake-card]").length>0}(this.cardRoot)||this.value&&"done"===this.value.status&&(this.imageNode.setSidebar(),this.openPreferences=!0))}},{key:"restoreSideBar",value:function(){this.engine&&this.openPreferences&&(this.engine.sidebar.restore("image"),this.openPreferences=!1)}},{key:"unactivate",value:function(){this.engine&&D_(I_(i.prototype),"unselect",this).call(this),this.restoreSideBar(),this.imageNode.blur()}},{key:"changeSize",value:function(e,t){this.imageNode.changeSize(e,t),this.saveCardValue()}},{key:"changeStyle",value:function(e){this.imageNode.changeStyle(e),this.saveCardValue()}},{key:"changeMargin",value:function(e){this.imageNode.changeMargin(e),this.saveCardValue(),this.toggleMargin()}},{key:"changeLink",value:function(e,t){this.imageNode.changeLink(e,t),this.saveCardValue()}},{key:"getSrc",value:function(){if(this.value.src)return this.value.src;var e=this.getViewEngine();if(e&&e.uploader){var t=e.uploader;if(t&&this.value.uid){var n=t.uploadingFiles[this.value.uid];if(n)return n.src}}return""}},{key:"render",value:function(e,t){var n=!this.engine,r=n?this.contentView.locale.image:this.engine.locale.image;t=t||{},this.value=t,this.locale=r;var o=this.card,i=this.getSrc();this.fixImageStatus(),t.status=t.status||"done",t.align=t.align||"left",t.linkTarget=void 0===t.linkTarget?"_blank":t.linkTarget,t.display=n&&t.display||"inline",t.src&&ew(t.src)&&(t.src="",this.card.setValue(this.cardRoot,t)),t.message=t.message||r.uploadFailed;var a=this.card.closest(e);"block"===t.display&&a.addClass("lake-card-block"),"block"===t.display&&t.align&&a.addClass("lake-image-".concat(t.align));var c=new E_(this,{uid:t.uid,locale:r,engine:this.engine,contentView:this.contentView,card:o,src:i,value:t,cardRoot:a,onChange:this.onChange,onRemove:this.onRemove,docEmbedView:this.docEmbedView});c.render(e),this.imageNode=c,this.card.setToolbar({cardRoot:a,engine:this.engine,component:this}),this.toggleMargin()}},{key:"fixImageStatus",value:function(){this.value&&"error"===this.value.status&&this.value.src&&this.value.src.startsWith("https://cdn.nlark.com/")&&(this.value.status="done")}}])&&T_(t.prototype,n),r&&T_(t,r),i}(uw);function F_(e){return(F_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z_(Object(n),!0).forEach((function(t){V_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H_(e,t){return(H_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K_(e);if(t){var o=K_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W_(this,n)}}function W_(e,t){return!t||"object"!==F_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K_(e){return(K_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}L_.type="inline";var Y_=Cl.escape,X_=Cl.sanitizeUrl;function $_(e,t,n){if(Xb.isPrivateCloud)return Ve.isImage(e)||Ve.isTextFile(e)||["mp3","wav","mp4","pdf"].includes(e);t=t||0;var r=function(e,t){var n;return Ve.isOffice("a.".concat(e))?n="previewOffice":Ve.isMacOffice("a.".concat(e))&&(n="previewMacOffice"),!!n&&Ve.isSizeLimit(n,t)}(e=String(e||""),t),o=Le.MAC_OFFICE_EXT.concat(Le.OFFICE_EXT);return!!(Ve.isImage(e)||Ve.isTextFile(e)||["mp3","wav"].indexOf(e)>=0||o.indexOf(e)>=0&&r||Ve.isMMap(e)&&r)}var G_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H_(e,t)}(i,e);var t,n,r,o=U_(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e)).allowToolbarFollowUser=!0,n.destroy=function(){window.removeEventListener("resize",n.onWindowResize);var e=n.getTopEngine();e&&e.asyncEvent&&e.asyncEvent.off("save:before",n.onSaveBefore)},n.getMaxWidth=function(){return lp.getClosestBlock(n.cardRoot)[0].clientWidth-6},n.onWindowResize=function(){n.maxWidth=n.getMaxWidth(),n.updateMaxWidth()},n.onSaveBefore=function(){return new Promise((function(e,t){"uploading"!==n.value.status?"transfering"!==n.value.status?e():t(n.locale.stillTransfering):t(n.locale.stillUploading)}))},n.updateMaxWidth=function(){n.cardRoot.find(".lake-file-title").css("max-width",n.maxWidth-100+"px")},n.focusCard=function(){n.engine.change.focusCard(n.cardRoot)},n.previewFile=function(){var e=Qb(n.value.src),t=n.getTopEngine();t&&t.options&&t.options.previewFileHandler?t.options.previewFileHandler(X_(e),n.value.src):window.open(X_(e))},n.downloadFile=function(){var e=n.value,t=e.src,r=e.name;if(t){var o=n.getTopEngine();o.options&&o.options.downloadFileHandler?o.options.downloadFileHandler(t,r):window.open(iw(t))}},n.card=nAe.card,n.engine=e,n.contentView=t,n.isEditMode=!!e,n.maxWidth=752,n}return t=i,(n=[{key:"getToolbarConfig",value:function(){var e=this,t=[];return"done"===this.value.status&&($_(this.value.ext,this.value.size,this.value)&&t.push({type:"button",name:"preview",iconName:"preview",title:this.locale.preview,onClick:this.previewFile}),t.push({type:"button",name:"download",iconName:"download",title:this.locale.download,onClick:this.downloadFile}),this.isEditMode&&(this.engine&&!1!==this.engine.options.allowResource&&!1!==this.engine.options.allowSaveToResource&&t.push({type:"button",name:"saveToResource",iconName:"save-folder",title:this.getTopEngine().locale.embedToolbar.saveToResource,onClick:function(){var t=e.getTopEngine();t&&t.event.trigger("saveToResource",{name:"file",data:B_({},e.value)})}}),t.push({type:"copy"}),t.push({type:"separator"}),t.push({type:"delete"}))),t}},{key:"didInsert",value:function(e){if("uploading"===e.status||"transfering"===e.status){var t=this.getTopEngine();if(!e.uid||!t.uploader||!t.uploader.uploadingFiles[e.uid])return;t&&t.asyncEvent&&t.asyncEvent.on("save:before",this.onSaveBefore)}}},{key:"activate",value:function(){this.container.find("lake-file").addClass("lake-file-active")}},{key:"unactivate",value:function(){this.container.find("lake-file").removeClass("lake-file-active")}},{key:"updateProgress",value:function(e){this.value.progress&&(this.value.progress.percent=e),this.card.setValue(this.cardRoot,this.value)}},{key:"renderViewMode",value:function(){var e=this;this.cardRoot.on("click",this.downloadFile);var t=this.getToolbarConfig(),n=new jh({list:t});n.root.addClass("lake-card-toolbar"),n.render(this.cardRoot.first());var r=!0;this.cardRoot.on("mouseenter",(function(t){r=!1,e.contentView.editArea.find('[data-lake-card="file"]').each((function(t){e.card.hideCardToolbar(ru(t))})),e.card.showCardToolbar(e.cardRoot,t.clientX)})),this.cardRoot.on("mouseleave",(function(){r=!0,window.setTimeout((function(){r&&e.card.hideCardToolbar(e.cardRoot)}),300)})),n.hide()}},{key:"renderEditMode",value:function(){var e=this;this.embedToolbar=function(){return e.getToolbarConfig()},this.card.setToolbar({cardRoot:this.cardRoot,engine:this.engine,component:this})}},{key:"render",value:function(e,t){this.locale=this.engine?this.engine.locale.file:this.contentView.locale.file,this.maxWidth=this.getMaxWidth(),t=t||{},this.value=t,t.status=t.status||"done",!t.ext&&t.src&&(t.ext=Ve.getFileExtname(t.src));var n=ru(function(e,t){if("error"===e.status){var n=document.createElement("div");return He.a.render(k.a.createElement(h_,{cardIcon:'<span class="lake-svg-icon lake-svg-icon-error-file"></span>',variableContent:e.message?e.message:t.invalid,fixedContent:e.name?e.name:"",message:e}),n),n}var r='<span class="lake-icon lake-icon-attachment"></span>';"uploading"!==e.status&&"transfering"!==e.status||(r='\n    <i class="lake-anticon lake-anticon-loading">\n      <svg viewBox="0 0 1024 1024" class="lake-anticon-spin" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true">\n        <path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path>\n      </svg>\n    </i>\n    ');var o="",i=e.size&&Ve.getFileSize(e.size);i&&(o='\n    <span class="lake-file-size">('.concat(Y_(i),")</span>\n    "));var a="";return"uploading"===e.status?a='<span data-role="percent">'.concat(e.progress&&void 0!==e.progress.percent?Y_(e.progress.percent)+"%":"","</span> &nbsp;"):"transfering"===e.status&&(a="<span></span> &nbsp;"),'\n  <span class="lake-file lake-file-'.concat(Y_(e.status),'">\n    <span class="lake-file-icon">').concat(r,"</span>\n    ").concat(a,'\n    <span class="lake-file-title">').concat(Y_(e.name),"</span>").concat(o,"\n  </span>\n  ")}(t,this.locale));!this.state.readonly&&n.attr("draggable",!0),e.append(n),this.updateMaxWidth(),window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize),this.engine?this.renderEditMode():this.renderViewMode()}}])&&q_(t.prototype,n),r&&q_(t,r),i}(uw);G_.type="inline",G_.selectStyleType="background",G_.uid=!0;n(609);function Z_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.children},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;t(e,r,o);var i=n(e);if(i)for(var a=0;a<i.length&&!1!==Z_(i[a],t,n,e,a);a++);}function J_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.children},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=n(e);if(o)for(var i=0;i<o.length&&(t(o[i],e,r),!1!==J_(o[i],t,n,i));i++);}function Q_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.children},r=[];for(r.unshift(e);0!==r.length;){var o=r.shift();t(o);var i=n(o);if(i)for(var a=0;a<i.length;a++)r.push(i[a])}}var eE=n(39),tE=n.n(eE),nE=n(171),rE=n.n(nE);function oE(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return iE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iE(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function iE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aE(Object(n),!0).forEach((function(t){sE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return e<t?t:e>n?n:e}function uE(){var e=[],t=arguments[0];Array.isArray(t)?e.push(t):e.push([t]);for(var n=1;n<arguments.length;n++)if(t=arguments[n],Array.isArray(t))e.push(t);else{for(var r=[],o=0;o<e[0].length;o++)r.push(t);e.push(r)}return e}function fE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=cE(cE({},e),t);return e.default&&t.default&&(n.default=Object.assign(e.default,t.default)),e.textAreaContentStyleSheets&&t.textAreaContentStyleSheets&&(n.textAreaContentStyleSheets=e.textAreaContentStyleSheets.concat(t.textAreaContentStyleSheets)),e.Subcells&&t.Subcells&&(n.Subcells=e.Subcells.concat(t.Subcells)),n}function pE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return e>=t[0]-n&&e<=t[1]+n}function dE(e){return e.filter((function(e,t,n){return n.indexOf(e,0)===t}))}function hE(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function mE(e,t,n){if(n>=e.length)for(var r=n-e.length+1;r--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}function vE(e){for(var t,n,r=arguments,o=r.length;o>1&&e.length;)for(t=r[--o];-1!==(n=e.indexOf(t));)e.splice(n,1);return t}function yE(e,t){e.children?e.children.push(t):e.children=[t]}function gE(e,t){var n,r=-1/0;if(void 0===t){var o,i=oE(e);try{for(i.s();!(o=i.n()).done;)null!=(n=o.value)&&r<n&&(r=n)}catch(e){i.e(e)}finally{i.f()}}else{var a,c=-1,s=oE(e);try{for(s.s();!(a=s.n()).done;)null!=(n=t(n=a.value,++c,e))&&r<n&&(r=n)}catch(e){s.e(e)}finally{s.f()}}return r}function bE(e,t,n){for(var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e.parent},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return void 0===e};e&&e!==n&&i(r);)r=t(e),e=o(e);return r}function wE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.forEach((function(t){var n=t.query,r=t.css;"self"!==n?e.querySelectorAll(n).forEach((function(e){Object.keys(r).forEach((function(t){e.style[t]=r[t]}))})):Object.keys(r).forEach((function(t){e.style[t]=r[t]}))}))}function kE(e,t){var n={};return Object.keys(t).forEach((function(r){!0===t[r]?n[r]=gd()(e[r]):tE()(t[r])&&tE()(e[r])&&(n[r]=kE(e[r],t[r]))})),n}function xE(e,t,n){var r={};return e&&n?t?(n.forEach((function(n){e[n]!==t[n]&&(r[n]=e[n])})),r):cE({},e):r}var OE=1e-4;function CE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:OE;return Math.abs(e-t)<n}function _E(e,t){return e.minX<t.minX&&e.minY<t.minY&&e.maxX>t.maxX&&e.maxY>t.maxY}function EE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minX,r=t.minY,o=t.maxX,i=t.maxY;return!(e[0]<=n||e[0]>=o||e[1]<=r||e[1]>=i)}function jE(e,t){return!(t.maxX<e.minX||t.minX>e.maxX||t.maxY<e.minY||t.minY>e.maxY)}function SE(e,t,n,r){var o;return o=(r-t)/(n-e),o=Number(o.toFixed(2))}function PE(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function RE(e,t,n,r){var o=SE(e,t,n,r),i=Math.atan(o);return n<e?i+Math.PI:r<t?i+2*Math.PI:i}function TE(e,t,n,r){var o;return o=CE(e,n)?1/0:CE(t,r)?0:(o=(r-t)/(n-e)).toFixed(2),Number(o)}function DE(e,t,n,r,o,i,a,c){if(TE(e,t,n,r)===TE(o,i,a,c))return!1;var s=((e*r-n*t)*(o-a)-(e-n)*(o*c-i*a))/((e-n)*(i-c)-(t-r)*(o-a)),l=((e*r-n*t)*(i-c)-(t-r)*(o*c-i*a))/((e-n)*(i-c)-(t-r)*(o-a));return{x:-0===s?0:s,y:-0===l?0:l}}function AE(e,t,n,r){return Math.abs(e-n)+Math.abs(t-r)}function ME(e,t,n){return e>=t&&e<=n}function NE(e,t,n,r){return CE(e,n)&&CE(t,r)}function IE(e,t,n,r,o,i,a,c){var s=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],l={x:o-e,y:i-t},u={x:n-e,y:r-t},f={x:a-o,y:c-i},p=u.x*f.y-u.y*f.x,d=p*p,h=u.x*u.x+u.y*u.y,m=f.x*f.x+f.y*f.y,v=null;if(d>OE*h*m){var y=(l.x*f.y-l.y*f.x)/p,g=(l.x*u.y-l.y*u.x)/p;ME(y,0,1)&&ME(g,0,1)&&(v={x:e+y*u.x,y:t+y*u.y})}return v&&!s&&(NE(e,t,v.x,v.y)||NE(n,r,v.x,v.y)||NE(o,i,v.x,v.y)||NE(a,c,v.x,v.y))?null:v}function LE(e,t,n,r){if(e===n)return{f:function(){return null},string:"x=".concat(e.toFixed(3))};if(t===r)return{f:function(){return t},string:"y=".concat(t.toFixed(3))};var o=(r-t)/(n-e),i=-e/(n-e)*(r-t)+t;return{f:function(e){return o*e+i},string:"y=".concat(o.toFixed(3),"x+").concat(i.toFixed(3))}}function FE(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!!IE(e.x1,e.y1,e.x2,e.y2,t.minX,t.minY,t.minX,t.maxY,n)||(!!IE(e.x1,e.y1,e.x2,e.y2,t.minX,t.minY,t.maxX,t.minY,n)||(!!IE(e.x1,e.y1,e.x2,e.y2,t.maxX,t.minY,t.maxX,t.maxY,n)||!!IE(e.x1,e.y1,e.x2,e.y2,t.minX,t.maxY,t.maxX,t.maxY,n)))}function zE(e,t){return TE(e.x,e.y,t.x1,t.y1)===TE(e.x,e.y,t.x2,t.y2)}function BE(e,t,n,r){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-r,2))}function VE(e,t){if(e.k===1/0){if(e.y1<e.y2&&t.y<e.y1)return!1;if(e.y1>e.y2&&t.y>e.y1)return!1}else{if(e.x1<e.x2&&t.x<e.x1)return!1;if(e.x1>e.x2&&t.x>e.x1)return!1}return!0}function qE(e,t){var n=e[0]*t[0]+e[1]*t[1],r=e[0]*t[1]-e[1]*t[0],o=Math.atan2(r,n);return o<0&&(o=2*Math.PI-Math.abs(o)),o}function HE(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,0],r=[],o=2*Math.PI/e,i=0;i<e;i++)r.push([o*i,o*(i+1)]);var a=[n[0]-t[0],n[1]-t[1]];return function(e,n){var o=[e[0]-t[0],e[1]-t[1]],i=r[n];return pE(qE(o,a),i)}}function UE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var KE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];UE(this,e),this.vertices={},this.edges={},this.isDirected=t}var t,n,r;return t=e,(n=[{key:"snap",value:function(e){for(var t={vertex:void 0,distance:1/0},n=this.getAllVertices(),r=0;r<n.length;r++){var o=n[r];if(o.x===e.x&&o.y===e.y)return o;var i=Math.abs(o.x-e.x)+Math.abs(o.y-e.y);i<t.distance&&(t.vertex=o,t.distance=i)}return t.vertex}},{key:"addVertex",value:function(e){return this.vertices[e.getKey()]=e,this}},{key:"getVertexByKey",value:function(e){return this.vertices[e]}},{key:"getNeighbors",value:function(e){return e.getNeighbors()}},{key:"getAllVertices",value:function(){return Object.values(this.vertices)}},{key:"getAllEdges",value:function(){return Object.values(this.edges)}},{key:"addEdge",value:function(e){var t=this.getVertexByKey(e.startVertex.getKey()),n=this.getVertexByKey(e.endVertex.getKey());if(t||(this.addVertex(e.startVertex),t=this.getVertexByKey(e.startVertex.getKey())),n||(this.addVertex(e.endVertex),n=this.getVertexByKey(e.endVertex.getKey())),this.edges[e.getKey()])throw new Error("Edge has already been added before");return this.edges[e.getKey()]=e,this.isDirected?t.addEdge(e):(t.addEdge(e),n.addEdge(e)),this}},{key:"deleteEdge",value:function(e){if(!this.edges[e.getKey()])throw new Error("Edge not found in graph");delete this.edges[e.getKey()];var t=this.getVertexByKey(e.startVertex.getKey()),n=this.getVertexByKey(e.endVertex.getKey());t.deleteEdge(e),n.deleteEdge(e)}},{key:"findEdge",value:function(e,t){return this.getVertexByKey(e.getKey()).findEdge(t)}},{key:"findVertexByKey",value:function(e){return this.vertices[e]?this.vertices[e]:null}},{key:"getWeight",value:function(){return this.getAllEdges().reduce((function(e,t){return e+t.weight}),0)}},{key:"reverse",value:function(){var e=this;return this.getAllEdges().forEach((function(t){e.deleteEdge(t),t.reverse(),e.addEdge(t)})),this}},{key:"getVerticesIndices",value:function(){var e={};return this.getAllVertices().forEach((function(t,n){e[t.getKey()]=n})),e}},{key:"getAdjacencyMatrix",value:function(){var e=this,t=this.getAllVertices(),n=this.getVerticesIndices(),r=Array(t.length).fill(null).map((function(){return Array(t.length).fill(1/0)}));return t.forEach((function(t,o){t.getNeighbors().forEach((function(i){var a=n[i.getKey()];r[o][a]=e.findEdge(t,i).weight}))})),r}},{key:"toString",value:function(){return Object.keys(this.vertices).toString()}}])&&WE(t.prototype,n),r&&WE(t,r),e}();function YE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $E=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;YE(this,e),this.value=t,this.next=n}var t,n,r;return t=e,(n=[{key:"toString",value:function(e){return e?e(this.value):"".concat(this.value)}}])&&XE(t.prototype,n),r&&XE(t,r),e}();function GE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ZE=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.compare=t||e.defaultCompareFunction}var t,n,r;return t=e,r=[{key:"defaultCompareFunction",value:function(e,t){return e===t?0:e<t?-1:1}}],(n=[{key:"equal",value:function(e,t){return 0===this.compare(e,t)}},{key:"lessThan",value:function(e,t){return this.compare(e,t)<0}},{key:"greaterThan",value:function(e,t){return this.compare(e,t)>0}},{key:"lessThanOrEqual",value:function(e,t){return this.lessThan(e,t)||this.equal(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return this.greaterThan(e,t)||this.equal(e,t)}},{key:"reverse",value:function(){var e=this.compare;this.compare=function(t,n){return e(n,t)}}}])&&GE(t.prototype,n),r&&GE(t,r),e}();function JE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var QE=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.compare=new ZE(t)}var t,n,r;return t=e,(n=[{key:"prepend",value:function(e){return this.head=new $E(e,this.head),this}},{key:"append",value:function(e){var t=new $E(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)}},{key:"delete",value:function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare.equal(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare.equal(this.tail.value,e)&&(this.tail=n),t}},{key:"find",value:function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,o=void 0===r?void 0:r;if(!this.head)return null;for(var i=this.head;i;){if(o&&o(i.value))return i;if(void 0!==n&&this.compare.equal(i.value,n))return i;i=i.next}return null}},{key:"deleteTail",value:function(){if(this.head===this.tail){var e=this.tail;return this.head=null,this.tail=null,e}for(var t=this.tail,n=this.head;n.next;)n.next.next?n=n.next:n.next=null;return this.tail=n,t}},{key:"deleteHead",value:function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e}},{key:"toArray",value:function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e}},{key:"toString",value:function(e){return this.toArray().map((function(t){return t.toString(e)})).toString()}}])&&JE(t.prototype,n),r&&JE(t,r),e}();function ej(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tj=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===t)throw new Error("Graph vertex must have a value");this.value=t,this.edges=new QE((function(e,t){return e.getKey()===t.getKey()?0:e.getKey()<t.getKey()?-1:1}))}var t,n,r;return t=e,(n=[{key:"addEdge",value:function(e){return this.edges.append(e),this}},{key:"deleteEdge",value:function(e){this.edges.delete(e)}},{key:"getNeighbors",value:function(){var e=this;return this.edges.toArray().map((function(t){return t.value.startVertex===e?t.value.endVertex:t.value.startVertex}))}},{key:"getEdges",value:function(){return this.edges.toArray().map((function(e){return e.value}))}},{key:"getDegree",value:function(){return this.edges.toArray().length}},{key:"hasEdge",value:function(e){return!!this.edges.find({callback:function(t){return t===e}})}},{key:"hasNeighbor",value:function(e){return!!this.edges.find({callback:function(t){return t.startVertex===e||t.endVertex===e}})}},{key:"findEdge",value:function(e){var t=this.edges.find({callback:function(t){return t.startVertex===e||t.endVertex===e}});return t?t.value:null}},{key:"getKey",value:function(){return this.value}},{key:"deleteAllEdges",value:function(){var e=this;return this.getEdges().forEach((function(t){return e.deleteEdge(t)})),this}},{key:"toString",value:function(e){return e?e(this.value):"".concat(this.value)}}])&&ej(t.prototype,n),r&&ej(t,r),e}();function nj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oj=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;nj(this,e),this.startVertex=t,this.endVertex=n,this.weight=r}var t,n,r;return t=e,(n=[{key:"getKey",value:function(){var e=this.startVertex.getKey(),t=this.endVertex.getKey();return"".concat(e,"_").concat(t)}},{key:"reverse",value:function(){var e=this.startVertex;return this.startVertex=this.endVertex,this.endVertex=e,this}},{key:"toString",value:function(){return this.getKey()}}])&&rj(t.prototype,n),r&&rj(t,r),e}();function ij(e){return e.getNeighbors().filter((function(e){return!0!==e.visited}))}function aj(e){var t,n={};for(t=0;t<e.length;t++){var r=e[t],o=LE(r.x1,r.y1,r.x2,r.y2).string;if(n[o])"ray"===r.type&&(n[o].type="straight"),e[t]=null;else{n[o]=r;var i=TE(r.x1,r.y1,r.x2,r.y2),a=void 0;a=r.x1===r.x2?r.x1:r.y1===r.y2?r.y1:r.y1-(r.y2-r.y1)/(r.x2-r.x1)*r.x1,r.k=i,r.b=a,r.intersections=[]}}return(e=e.filter((function(e){return e}))).sort((function(e,t){return e.b-t.b})),e}function cj(e){var t,n;e=aj(e);var r,o,i=(r=e,o="k",Object.values(r.reduce((function(e,t){return(e[t[o]]=e[t[o]]||[]).push(t),e}),{}))),a=[];for(t=0;t<i.length;t++){var c=i[t],s=function(){var e=i[n];c.forEach((function(t){e.forEach((function(e){var n=DE(t.x1,t.y1,t.x2,t.y2,e.x1,e.y1,e.x2,e.y2);("ray"!==t.type||VE(t,n))&&("ray"!==e.type||VE(e,n))&&(t.intersections.push(n),e.intersections.push(n),n.index=a.length,a.push(n))}))}))};for(n=t+1;n<i.length;n++)s()}var l=new KE,u=a.map((function(e,t){var n=new tj(t);return Object.assign(n,e),n})),f=[];for(t=0;t<e.length;t++){var p=e[t];for(n=0;n<p.intersections.length;n++){var d=p.intersections[n],h=p.intersections[n+1];h&&f.push(new oj(u[d.index],u[h.index]))}}return u.forEach((function(e){l.addVertex(e)})),f.forEach((function(e){l.addEdge(e)})),l}function sj(e,t){for(var n={vertex:void 0,distance:1/0},r=e.getAllVertices(),o=0;o<r.length;o++){var i=r[o];if(i.x===t.x&&i.y===t.y)return i;var a=AE(i.x,i.y,t.x,t.y);a<n.distance&&(n.vertex=i,n.distance=a)}return n.vertex}function lj(e,t,n,r){t=e.snap(t),n=e.snap(n);var o,i,a=t,c=ij(a),s=[a];for(a.visited=!0,a.distance=0;c.length>0;){o=-1/0,i=void 0;for(var l=0;l<c.length;l++){var u=c[l];if(u.from=a,!u.visited){u.distance=BE(a.x,a.y,u.x,u.y)+a.distance;var f=r(u,t,n);f>o&&(i=u,o=f)}}if(i&&(c=ij(a=i),s.push(a),a.visited=!0,a===n))break}return s}var uj="http://www.w3.org/2000/svg",fj="http://www.w3.org/1999/xlink",pj="1.1";function dj(e){e=e||document.body;var t=document.createElementNS(uj,"svg");return t.setAttribute("version",pj),t.setAttribute("xmlns",uj),t.setAttribute("xmlns:xlink",fj),t.style.opacity=0,t.style.width="0px",t.style.height="0px",t.style.position="absolute",t.style["z-index"]=-1,e.appendChild(t),t}function hj(e){return(hj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mj(Object(n),!0).forEach((function(t){yj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wj(e,t,n){return(wj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cj(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function kj(e,t){return(kj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cj(e);if(t){var o=Cj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oj(this,n)}}function Oj(e,t){return!t||"object"!==hj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cj(e){return(Cj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _j=dj(),Ej=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kj(e,t)}(i,e);var t,n,r,o=xj(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(gj(this,i),t=vj({matrix:[1,0,0,0,1,0,0,0,1]},t),e=o.call(this,t),!t.name)throw new Error("Should set name for Graphics Element!");return e.options=t,e.matrix=t.matrix,e.attrs={},e.styles={},e.rendererElement=e.create(t.name),e.update(t),e}return t=i,(n=[{key:"hide",value:function(){this.update({visibility:"hidden"})}},{key:"show",value:function(){this.update({visibility:"visible"})}},{key:"on",value:function(e,t){-1!==this.passthroughEventKeys().indexOf(e)&&this.rendererElement.addEventListener(e,t),wj(Cj(i.prototype),"on",this).call(this,e,t)}},{key:"off",value:function(e,t){-1!==this.passthroughEventKeys().indexOf(e)&&this.rendererElement.removeEventListener(e,t),wj(Cj(i.prototype),"off",this).call(this,e,t)}},{key:"passthroughEventKeys",value:function(){return["mousedown","mouseenter","mouseleave","mousemove","mouseover","click"]}},{key:"passthroughAttributeKeys",value:function(){return["id","fill","stroke","stroke-width","stroke-linecap","stroke-linejoin","visibility","pointer-events","opacity","stroke-dasharray"]}},{key:"dataset",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach((function(n){e.rendererElement.dataset[n]=t[n]}))}},{key:"_getPassthroughData",value:function(e,t){var n={},r=Object.keys(t),o=this["passthrough".concat(e,"Keys")]();return r.filter((function(e){return o.includes(e)})).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}},{key:"update",value:function(e){var t=this._getPassthroughData("Attribute",e),n=e.matrix;n&&(t.transform="matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(n[6],", ").concat(n[7],")"),this.matrix=n),this.attr(t)}},{key:"_setAttrs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rendererElement;Object.keys(e).forEach((function(n){var r=e[n];null==r?t.removeAttribute(n):t.setAttribute(n,r)}))}},{key:"_setStyles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rendererElement;Object.keys(e).forEach((function(n){t.style[n]=e[n]}))}},{key:"create",value:function(e){return document.createElementNS(uj,e)}},{key:"css",value:function(e){if("object"===hj(e))this.styles=vj(vj({},this.styles),e),this._setStyles(e);else if("string"==typeof e)return this.styles[e]}},{key:"attr",value:function(e){if("object"===hj(e))this.attrs=vj(vj({},this.attrs),e),this._setAttrs(e);else if("string"==typeof e)return this.attrs[e]}},{key:"getBBox",value:function(){var e,t=this.rendererElement,n=this.canvas,r=n&&n.calculateCanvas||_j;return document.contains(t)?e=t.getBBox():(r.appendChild(t),e=t.getBBox(),r.removeChild(t)),{x:e.x,y:e.y,width:e.width,height:e.height}}},{key:"getBoundingClientRect",value:function(){return this.rendererElement.getBoundingClientRect()}},{key:"getZIndex",value:function(){return this.parent?this.parent.children.indexOf(this):null}},{key:"getSiblingRendererElement",value:function(){return this.rendererElement.nextSibling?["before",this.rendererElement.nextSibling]:this.rendererElement.previousSibling?["after",this.rendererElement.previousSibling]:null}},{key:"remove",value:function(){this.parent&&this.parent.removeChild(this)}},{key:"before",value:function(e){this.parent.insertBefore(e,this)}},{key:"after",value:function(e){this.parent.insertAfter(e,this)}},{key:"toBack",value:function(){if(!this.destroyed){var e=this.parent;e&&e.insertBefore(this,e.children[0])}}},{key:"toFront",value:function(){if(!this.destroyed){var e=this.parent;e&&e.insertBefore(this,null)}}},{key:"forward",value:function(){if(!this.destroyed){var e=this.parent,t=this.nextSibling;e&&t&&e.insertBefore(t,this)}}},{key:"backward",value:function(){if(!this.destroyed){var e=this.parent,t=this.previousSibling;e&&t&&e.insertBefore(this,t)}}},{key:"destroy",value:function(){this.destroyed=!0,this.options=null,this.remove()}},{key:"previousSibling",get:function(){var e=this.parent.children,t=e.indexOf(this);return t>=1?e[t-1]:null}},{key:"nextSibling",get:function(){var e=this.parent.children,t=e.indexOf(this);return t>=0?e[t+1]:null}}])&&bj(t.prototype,n),r&&bj(t,r),i}(_n.a);function jj(e){return(jj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sj(Object(n),!0).forEach((function(t){Rj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aj(e,t,n){return(Aj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lj(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Mj(e,t){return(Mj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lj(e);if(t){var o=Lj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ij(this,n)}}function Ij(e,t){return!t||"object"!==jj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lj(e){return(Lj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mj(e,t)}(i,e);var t,n,r,o=Nj(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tj(this,i),t=Pj({name:"g"},t),(e=o.call(this,t)).children=[],e}return t=i,(n=[{key:"passthroughAttributeKeys",value:function(){return Aj(Lj(i.prototype),"passthroughAttributeKeys",this).call(this)}},{key:"deepEach",value:function(e){Z_(this,e)}},{key:"add",value:function(e){this.children.includes(e)||(e.parent=this,this.children.push(e),this.rendererElement.appendChild(e.rendererElement))}},{key:"prepend",value:function(e){this.insertBefore(e,this.children[0])}},{key:"insertBefore",value:function(e,t){var n=this.children,r=this.rendererElement,o=n.indexOf(e);o>=0&&n.splice(o,1),e.parent=this;var i=n.indexOf(t);i>=0?(n.splice(i,0,e),r.insertBefore(e.rendererElement,t.rendererElement)):(n.push(e),r.insertBefore(e.rendererElement,null))}},{key:"insertAfter",value:function(e,t){t?this.insertBefore(e,t.nextSibling):this.insertBefore(e,null)}},{key:"removeChild",value:function(e){if(e.parent===this){var t=this.children,n=t.indexOf(e);n>-1&&t.splice(n,1),e.parent=void 0,this.rendererElement.removeChild(e.rendererElement)}}},{key:"clear",value:function(){[].concat(this.children).forEach((function(e){e.remove()}))}}])&&Dj(t.prototype,n),r&&Dj(t,r),i}(Ej);function zj(e){return(zj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bj(Object(n),!0).forEach((function(t){qj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wj(e,t){return(Wj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$j(e);if(t){var o=$j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yj(this,n)}}function Yj(e,t){return!t||"object"!==zj(t)&&"function"!=typeof t?Xj(e):t}function Xj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $j(e){return($j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wj(e,t)}(i,e);var t,n,r,o=Kj(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Hj(this,i),!(t=Vj({container:null,calculatedContainer:null,name:"svg"},t)).container)throw new Error("Please set container for canvas!");(e=o.call(this,t)).options=t;var n=t,r=n.container,a=Xj(e),c=a.rendererElement;return c.setAttribute("version",pj),c.setAttribute("xmlns",uj),c.setAttribute("xmlns:xlink",fj),r.appendChild(c),e.createCalculateCanvas(),e.container=r,e.canvas=Xj(e),e}return t=i,(n=[{key:"createCalculateCanvas",value:function(){var e=this.options;this.calculateCanvas=dj(e.calculatedContainer)}},{key:"remove",value:function(){this.container&&this.container.removeChild(this.rendererElement),this.calculateCanvas&&this.calculateCanvas.parentElement.removeChild(this.calculateCanvas)}}])&&Uj(t.prototype,n),r&&Uj(t,r),i}(Fj);function Zj(e){return(Zj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jj(Object(n),!0).forEach((function(t){eS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rS(e,t,n){return(rS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cS(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function oS(e,t){return(oS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cS(e);if(t){var o=cS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return aS(this,n)}}function aS(e,t){return!t||"object"!==Zj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cS(e){return(cS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oS(e,t)}(i,e);var t,n,r,o=iS(i);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tS(this,i),o.call(this,Qj({x:0,y:0,scale:1,rotate:0},e))}return t=i,(n=[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.options,e);var t=this.options,n=t.x,r=t.y,o=t.scale,a=t.rotate,c=o,s=Math.cos(a),l=Math.sin(a);e.matrix=[s*c,l*c,0,-l*c,s*c,0,n,r,1],rS(cS(i.prototype),"update",this).call(this,e)}}])&&nS(t.prototype,n),r&&nS(t,r),i}(Fj);function lS(e){return(lS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fS(e,t){return(fS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hS(e);if(t){var o=hS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dS(this,n)}}function dS(e,t){return!t||"object"!==lS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hS(e){return(hS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fS(e,t)}(n,e);var t=pS(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return uS(this,n),(e=t.call(this,r)).isShape=!0,e}return n}(Ej),vS="\t\n\v\f\r   ᠎             　\u2028\u2029",yS=new RegExp("([a-z])["+vS+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+vS+"]*,?["+vS+"]*)+)","ig"),gS=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+vS+"]*,?["+vS+"]*","ig");function bS(e){if(!e)return null;if(Array.isArray(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return(e=String(e)).replace(yS,(function(e,r,o){var i=[],a=r.toLowerCase();if(o.replace(gS,(function(e,t){t&&i.push(+t)})),"m"===a&&i.length>2&&(n.push([r].concat(i.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===i.length&&n.push([r,i[0]]),"r"===a)n.push([r].concat(i));else for(;i.length>=t[a]&&(n.push([r].concat(i.splice(0,t[a]))),t[a]););return""})),n}function wS(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xS(e){if(Array.isArray(e)){var t=wS(e);return[t[0],t.slice(1).join()].join("")}var n=e.name,r=e.x,o=e.y;switch(n.toLowerCase()){case"m":case"l":return n+[r,o].join();case"h":case"v":return n+r;case"z":return n;case"a":var i=e.xAxisRotation,a=e.largeArcFlag,c=e.sweepFlag;return n+[e.rx,e.ry,i,a,c,r,o].join();case"c":return n+[e.x1,e.y1,e.x2,e.y2,e.x,e.y].join();case"q":return n+[e.x1,e.y1,e.x,e.y].join();default:throw new Error("unknown path command: ".concat(n))}}function OS(e){return e.map(xS).join("")}function CS(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:o;return OS(o?[["M",+e+ +o,t],["l",n-2*o,0],["a",o,i,0,0,1,o,i],["l",0,r-2*i],["a",o,i,0,0,1,-o,i],["l",2*o-n,0],["a",o,i,0,0,1,-o,-i],["l",0,2*i-r],["a",o,i,0,0,1,o,-i],["z"]]:[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]])}function _S(e){return OS(e.map((function(e,t){return[0===t?"M":"L",e.x,e.y]})))}function ES(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return OS([["M",e,t],["m",-n,0],["a",n,r,0,1,0,2*n,0],["a",n,r,0,1,0,-2*n,0],["Z"]])}function jS(e,t,n){return ES(e,t,n)}function SS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SS(Object(n),!0).forEach((function(t){RS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TS(e,t){return IS(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||MS(e,t)||AS()}function DS(e){return IS(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||MS(e)||AS()}function AS(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function MS(e,t){if(e){if("string"==typeof e)return NS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NS(e,t):void 0}}function NS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IS(e){if(Array.isArray(e))return e}function LS(e,t,n){switch(Array.isArray(e)&&(e=function(e){var t=DS(e),n=t[0],r=t.slice(1);switch(n.toLowerCase()){case"m":case"l":var o=TS(r,2);return{name:n,x:o[0],y:o[1]};case"a":var i=TS(r,7);return{name:n,rx:i[0],ry:i[1],xAxisRotation:i[2],largeArcFlag:i[3],sweepFlag:i[4],x:i[5],y:i[6]};case"c":var a=TS(r,6);return{name:n,x1:a[0],y1:a[1],x2:a[2],y2:a[3],x:a[4],y:a[5]};case"q":var c=TS(r,4);return{name:n,x1:c[0],y1:c[1],x:c[2],y:c[3]};default:return{name:n}}}(e)),e.name.toLowerCase()){case"m":case"l":var r=e,o=r.x,i=r.y;return PS(PS({},e),{},{x:o*t,y:i*n});case"a":var a=e,c=a.x,s=a.y,l=a.rx,u=a.ry;return PS(PS({},e),{},{x:c*t,y:s*n,rx:l*t,ry:u*n});case"c":var f=e,p=f.x1,d=f.y1,h=f.x2,m=f.y2,v=f.x,y=f.y;return PS(PS({},e),{},{x1:p*t,y1:d*n,x2:h*t,y2:m*n,x:v*t,y:y*n});case"q":var g=e,b=g.x1,w=g.y1,k=g.x,x=g.y;return PS(PS({},e),{},{x1:b*t,y1:w*n,x:k*t,y:x*n});default:return e}}function FS(e,t,n){return"string"==typeof e&&(e=function(e){for(var t,n=/([mlhvcsqtaz])/gi,r=e.replace(n," $1 ").trim().split(/[ ,]+/),o=[],i=0;i<r.length;i++){var a=r[i];n.test(a)?(t&&o.push(t),t=[a]):t.push(parseFloat(a))}return o}(e)),e.map((function(e){return LS(e,t,n)}))}function zS(e){return(zS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BS(Object(n),!0).forEach((function(t){qS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function US(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WS(e,t,n){return(WS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$S(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function KS(e,t){return(KS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$S(e);if(t){var o=$S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return XS(this,n)}}function XS(e,t){return!t||"object"!==zS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $S(e){return($S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var GS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KS(e,t)}(i,e);var t,n,r,o=YS(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return HS(this,i),t=VS(VS({},t),{},{name:"path"}),(e=o.call(this,t)).isPath=!0,e}return t=i,(n=[{key:"passthroughAttributeKeys",value:function(){return WS($S(i.prototype),"passthroughAttributeKeys",this).call(this).concat(["d","marker-start","marker-end"])}},{key:"update",value:function(e){var t=e.d;Array.isArray(t)?WS($S(i.prototype),"update",this).call(this,VS(VS({},e),{},{d:OS(t)})):WS($S(i.prototype),"update",this).call(this,e)}},{key:"getPath",value:function(e,t){return FS(this.options.d,e,t)}}])&&US(t.prototype,n),r&&US(t,r),i}(mS);["getPointAtLength","getTotalLength","isPointInFill","isPointInStroke"].forEach((function(e){Object.defineProperty(GS.prototype,e,{value:function(){var t=this.rendererElement;return t[e].apply(t,arguments)}})}));var ZS=GS;function JS(e){return(JS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QS(Object(n),!0).forEach((function(t){tP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oP(e,t,n){return(oP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sP(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function iP(e,t){return(iP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sP(e);if(t){var o=sP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cP(this,n)}}function cP(e,t){return!t||"object"!==JS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sP(e){return(sP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iP(e,t)}(i,e);var t,n,r,o=aP(i);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nP(this,i),e=eP({name:"html",html:"",x:0,y:0,width:0,height:0,styleSheets:[]},e),o.call(this,e)}return t=i,(n=[{key:"addClass",value:function(e){this.htmlContainer.classList.add(e)}},{key:"removeClass",value:function(e){this.htmlContainer.classList.remove(e)}},{key:"passthroughAttributeKeys",value:function(){return oP(sP(i.prototype),"passthroughAttributeKeys",this).call(this).concat(["x","y","width","height"])}},{key:"create",value:function(){var e=document.createElement("div"),t=oP(sP(i.prototype),"create",this).call(this,"foreignObject");return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),t.appendChild(e),this.htmlContainer=e,wE(this.htmlContainer,this.options.styleSheets),t}},{key:"update",value:function(e){e.html&&this.htmlContainer.innerHTML!==e.html&&(this.html=e.html,this.htmlContainer.innerHTML=e.html,wE(this.htmlContainer,this.options.styleSheets)),oP(sP(i.prototype),"update",this).call(this,e)}}])&&rP(t.prototype,n),r&&rP(t,r),i}(mS);function uP(e){return(uP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dP(e,t){return(dP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vP(e);if(t){var o=vP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mP(this,n)}}function mP(e,t){return!t||"object"!==uP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vP(e){return(vP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dP(e,t)}(i,e);var t,n,r,o=hP(i);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fP(this,i),e={name:"avatar",matrix:e.element.matrix,element:e.element},o.call(this,e)}return t=i,(n=[{key:"create",value:function(){return this.options.element.rendererElement.cloneNode(!0)}}])&&pP(t.prototype,n),r&&pP(t,r),i}(mS);function gP(e){return(gP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bP(Object(n),!0).forEach((function(t){kP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CP(e,t,n){return(CP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SP(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _P(e,t){return(_P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function EP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=SP(e);if(t){var o=SP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jP(this,n)}}function jP(e,t){return!t||"object"!==gP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SP(e){return(SP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var PP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_P(e,t)}(i,e);var t,n,r,o=EP(i);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xP(this,i),o.call(this,wP({name:"image",crossorigin:"anonymous",preserveAspectRatio:"none"},e))}return t=i,(n=[{key:"passthroughAttributeKeys",value:function(){return CP(SP(i.prototype),"passthroughAttributeKeys",this).call(this).concat(["href","x","y","width","height","crossorigin","preserveAspectRatio"])}}])&&OP(t.prototype,n),r&&OP(t,r),i}(mS);function RP(e){return(RP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TP(Object(n),!0).forEach((function(t){AP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NP(e,t){return(NP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=FP(e);if(t){var o=FP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LP(this,n)}}function LP(e,t){return!t||"object"!==RP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FP(e){return(FP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NP(e,t)}(i,e);var t,n,r,o=IP(i);function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=e.x,n=e.y,r=e.width,a=e.height,c=e.rx,s=e.ry;return o.call(this,DP(DP({},e),{},{d:CS(t,n,r,a,c,s)}))}return t=i,(n=[{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.options,r=n.x,o=n.y,i=n.width,a=n.height,c=n.rx,s=n.ry;return CS(r*e,o*t,i*e,a*t,Math.min(c*e,c),Math.min(s*e,s))}}])&&MP(t.prototype,n),r&&MP(t,r),i}(ZS);function BP(e){return(BP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VP(Object(n),!0).forEach((function(t){HP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WP(e,t){return(WP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=XP(e);if(t){var o=XP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return YP(this,n)}}function YP(e,t){return!t||"object"!==BP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function XP(e){return(XP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WP(e,t)}(i,e);var t,n,r,o=KP(i);function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=e.cx,n=e.cy,r=e.rx,a=e.ry;return o.call(this,qP(qP({},e),{},{d:ES(t,n,r,a)}))}return t=i,(n=[{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.options,r=n.cx,o=n.cy,i=n.rx,a=n.ry;return ES(r*e,o*t,i*e,a*t)}}])&&UP(t.prototype,n),r&&UP(t,r),i}(ZS);function GP(e){return(GP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZP(Object(n),!0).forEach((function(t){QP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nR(e,t,n){return(nR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=aR(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function rR(e,t){return(rR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=aR(e);if(t){var o=aR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iR(this,n)}}function iR(e,t){return!t||"object"!==GP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function aR(e){return(aR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rR(e,t)}(i,e);var t,n,r,o=oR(i);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return eR(this,i),e=JP({name:"use"},e),o.call(this,e)}return t=i,(n=[{key:"passthroughAttributeKeys",value:function(){return nR(aR(i.prototype),"passthroughAttributeKeys",this).call(this).concat(["x","y","width","height","href"])}}])&&tR(t.prototype,n),r&&tR(t,r),i}(Ej);function sR(e){return(sR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lR(Object(n),!0).forEach((function(t){fR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dR(e,t){return(dR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vR(e);if(t){var o=vR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mR(this,n)}}function mR(e,t){return!t||"object"!==sR(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vR(e){return(vR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dR(e,t)}(i,e);var t,n,r,o=hR(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,uR(uR({},e),{},{name:"title"}))}return t=i,(n=[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title;null!=t&&(this.rendererElement.innerHTML=t)}}])&&pR(t.prototype,n),r&&pR(t,r),i}(Ej);function gR(e){return(gR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bR(Object(n),!0).forEach((function(t){kR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OR(e,t,n){return(OR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jR(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function CR(e,t){return(CR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jR(e);if(t){var o=jR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ER(this,n)}}function ER(e,t){return!t||"object"!==gR(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jR(e){return(jR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var SR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CR(e,t)}(i,e);var t,n,r,o=_R(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,wR(wR({},e),{},{name:"text"}))}return t=i,(n=[{key:"update",value:function(e){OR(jR(i.prototype),"update",this).call(this,e);var t=(e||{}).text;null!=t&&(this.rendererElement.innerHTML=t)}},{key:"passthroughAttributeKeys",value:function(){return OR(jR(i.prototype),"passthroughAttributeKeys",this).call(this).concat(["dominant-baseline"])}}])&&xR(t.prototype,n),r&&xR(t,r),i}(Ej);function PR(e){return(PR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RR(Object(n),!0).forEach((function(t){DR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MR(e,t){return(MR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=LR(e);if(t){var o=LR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return IR(this,n)}}function IR(e,t){return!t||"object"!==PR(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LR(e){return(LR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var FR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MR(e,t)}(i,e);var t,n,r,o=NR(i);function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=e.points;return o.call(this,TR(TR({},e),{},{d:_S(t).concat("z")}))}return t=i,(n=[{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.options.points,r=n.map((function(n){return{x:n.x*e,y:n.y*t}}));return _S(r).concat("z")}}])&&AR(t.prototype,n),r&&AR(t,r),i}(ZS);function zR(e){return(zR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BR(Object(n),!0).forEach((function(t){qR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UR(e,t){return(UR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=YR(e);if(t){var o=YR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KR(this,n)}}function KR(e,t){return!t||"object"!==zR(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function YR(e){return(YR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var XR,$R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UR(e,t)}(n,e);var t=WR(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return HR(this,n),r=VR({name:"defs",matrix:null},r),(e=t.call(this,r)).isDefs=!0,e}return n}(Fj),GR=new Uint8Array(16);function ZR(){if(!XR&&!(XR="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return XR(GR)}var JR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var QR=function(e){return"string"==typeof e&&JR.test(e)},eT=[],tT=0;tT<256;++tT)eT.push((tT+256).toString(16).substr(1));var nT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(eT[e[t+0]]+eT[e[t+1]]+eT[e[t+2]]+eT[e[t+3]]+"-"+eT[e[t+4]]+eT[e[t+5]]+"-"+eT[e[t+6]]+eT[e[t+7]]+"-"+eT[e[t+8]]+eT[e[t+9]]+"-"+eT[e[t+10]]+eT[e[t+11]]+eT[e[t+12]]+eT[e[t+13]]+eT[e[t+14]]+eT[e[t+15]]).toLowerCase();if(!QR(n))throw TypeError("Stringified UUID is invalid");return n};var rT=function(e,t,n){var r=(e=e||{}).random||(e.rng||ZR)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return nT(r)};function oT(e){return(oT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aT(e,t){return(aT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lT(e);if(t){var o=lT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sT(this,n)}}function sT(e,t){return!t||"object"!==oT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lT(e){return(lT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var uT=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i;var fT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aT(e,t)}(i,e);var t,n,r,o=cT(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,{name:"linearGradient",matrix:null})).id=rT(),e.rendererElement.setAttribute("id",e.id),e}return t=i,(n=[{key:"update",value:function(e){if("string"==typeof e){var t,n,r,o,i=this.rendererElement,a=uT.exec(e),c=(t=function(e){return Math.PI/180*e}(parseFloat(a[1])),n=2*Math.PI,(t%n+n)%n),s=a[2];c>=0&&c<.5*Math.PI?(r={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=c&&c<Math.PI?(r={x:1,y:0},o={x:0,y:1}):Math.PI<=c&&c<1.5*Math.PI?(r={x:1,y:1},o={x:0,y:0}):(r={x:0,y:1},o={x:1,y:0});var l=Math.tan(c),u=l*l,f=(o.x-r.x+l*(o.y-r.y))/(u+1)+r.x,p=l*(o.x-r.x+l*(o.y-r.y))/(u+1)+r.y;i.setAttribute("x1",r.x),i.setAttribute("y1",r.y),i.setAttribute("x2",f),i.setAttribute("y2",p),i.innerHTML=function(e){var t=e.match(/[\d.]+:(#[^\s]+|[^\)]+\))/gi);if(!t)return"";var n="";return t.sort((function(e,t){return e=e.split(":"),t=t.split(":"),Number(e[0])-Number(t[0])})),t.forEach((function(e){e=e.split(":"),n+='<stop offset="'.concat(e[0],'" stop-color="').concat(e[1],'"></stop>')})),n}(s)}}}])&&iT(t.prototype,n),r&&iT(t,r),i}(Ej);function pT(e){return(pT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dT(Object(n),!0).forEach((function(t){mT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yT(e,t,n){return(yT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kT(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function gT(e,t){return(gT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kT(e);if(t){var o=kT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wT(this,n)}}function wT(e,t){return!t||"object"!==pT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kT(e){return(kT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gT(e,t)}(i,e);var t,n,r,o=bT(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,hT(hT({},e),{},{name:"marker"}))}return t=i,(n=[{key:"passthroughAttributeKeys",value:function(){return yT(kT(i.prototype),"passthroughAttributeKeys",this).call(this).concat(["id","markerWidth","markerHeight","viewBox","orient","refX","refY"])}}])&&vT(t.prototype,n),r&&vT(t,r),i}(Fj);function OT(e){return(OT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CT(Object(n),!0).forEach((function(t){ET(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ET(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ST(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PT(e,t,n){return(PT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=AT(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function RT(e,t){return(RT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function TT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=AT(e);if(t){var o=AT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DT(this,n)}}function DT(e,t){return!t||"object"!==OT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function AT(e){return(AT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var MT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RT(e,t)}(i,e);var t,n,r,o=TT(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jT(this,i),(e=o.call(this,_T(_T({},t),{},{name:"filter"}))).children=[],e}return t=i,(n=[{key:"add",value:function(e){e.parent=this,this.children.push(e),this.rendererElement.appendChild(e.rendererElement)}},{key:"destroy",value:function(){this.children.forEach((function(e){return e.destroy()})),PT(AT(i.prototype),"destroy",this).call(this)}}])&&ST(t.prototype,n),r&&ST(t,r),i}(Fj);function NT(e){return(NT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IT(Object(n),!0).forEach((function(t){FT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BT(e,t,n){return(BT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=UT(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function VT(e,t){return(VT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=UT(e);if(t){var o=UT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return HT(this,n)}}function HT(e,t){return!t||"object"!==NT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function UT(e){return(UT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var WT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VT(e,t)}(i,e);var t,n,r,o=qT(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,LT(LT({},e),{},{name:"feDropShadow"}))}return t=i,(n=[{key:"passthroughAttributeKeys",value:function(){return BT(UT(i.prototype),"passthroughAttributeKeys",this).call(this).concat(["dx","dy","stdDeviation","flood-color"])}}])&&zT(t.prototype,n),r&&zT(t,r),i}(Ej);function KT(e){return(KT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YT(Object(n),!0).forEach((function(t){$T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZT(e,t,n){return(ZT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tD(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function JT(e,t){return(JT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function QT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tD(e);if(t){var o=tD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eD(this,n)}}function eD(e,t){return!t||"object"!==KT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tD(e){return(tD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JT(e,t)}(i,e);var t,n,r,o=QT(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,XT(XT({},e),{},{name:"clipPath"}))}return t=i,(n=[{key:"passthroughAttributeKeys",value:function(){return ZT(tD(i.prototype),"passthroughAttributeKeys",this).call(this).concat(["id"])}}])&&GT(t.prototype,n),r&&GT(t,r),i}(Fj);function rD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rD(Object(n),!0).forEach((function(t){iD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sD=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};aD(this,e),Object.assign(this,oD({autoSelect:!0},t))}var t,n,r;return t=e,(n=[{key:"execute",value:function(){}},{key:"forward",value:function(){}},{key:"backward",value:function(){}},{key:"select",value:function(e){var t=this.diagram;this.autoSelect&&(e&&e.length>0?t.selector.select(e):t.tryFocus())}}])&&cD(t.prototype,n),r&&cD(t,r),e}();function lD(e){return(lD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uD(e){return function(e){if(Array.isArray(e))return fD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hD(e,t){return(hD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yD(e);if(t){var o=yD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vD(this,n)}}function vD(e,t){return!t||"object"!==lD(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yD(e){return(yD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}sD.className="Command",sD.isModelChange=!0,sD.enable=function(){return!0};var gD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hD(e,t)}(i,e);var t,n,r,o=mD(i);function i(){return pD(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram,t=this.model,n=void 0===t?{}:t,r=this.cellOptions,o=uE(n,void 0===r?{}:r);o[0].forEach((function(e){e.id||(e.id=rT())}));var i=e.add.apply(e,uD(o));i.forEach((function(t,n){Object.assign(o[1][n],e.getCellOptions(t))})),this.changeArguments=o,this.select(i)}},{key:"forward",value:function(){var e=this.diagram,t=this.changeArguments,n=e.add.apply(e,uD(t));this.select(n)}},{key:"backward",value:function(){var e=this.diagram,t=this.changeArguments,n=e.find(t[0][0].id).parent;e.remove(t[0].map((function(e){return e.id}))),this.select(n&&n.model.id)}}])&&dD(t.prototype,n),r&&dD(t,r),i}(sD);function bD(e){return(bD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wD(e){return function(e){if(Array.isArray(e))return kD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CD(e,t){return(CD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jD(e);if(t){var o=jD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ED(this,n)}}function ED(e,t){return!t||"object"!==bD(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jD(e){return(jD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}gD.className="Add";var SD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CD(e,t)}(i,e);var t,n,r,o=_D(i);function i(){return xD(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"resetLine",value:function(){this.diagram.update(this.lineCache.map((function(e){return e.id})),this.lineCache)}},{key:"pinLine",value:function(){var e=this.diagram;this.lineCache.map((function(t){return e.find(t.id)})).filter((function(e){return e})).forEach((function(e){var t=e.source,n=e.target,r=e.diagram,o=bS(e.wireElement.attr("d")),i={};if(r.find(t.id)||(i.source={id:null,connection:[o[0][1],o[0][2]]}),!r.find(n.id)){var a=o.length-1,c=o[a].length;i.target={id:null,connection:[o[a][c-2],o[a][c-1]]}}e.update(i)}))}},{key:"_cacheLine",value:function(){var e=this.changeArguments,t=this.diagram,n=e[0].reduce((function(e,n){return t.find(n.id).getAllCells().forEach((function(t){e[t.model.id]=!0})),e}),{});this.lineCache=t.getCells().filter((function(e){return e.isLine&&(n[e.model.target.id]||n[e.model.source.id])})).map((function(e){var t=e.model,n={id:t.id};return n.target=gd()(t.target),n.target.connection||(n.target.connection=null),n.source=gd()(t.source),n.source.connection||(n.source.connection=null),n}))}},{key:"selectParent",value:function(){var e=this.diagram,t=this.changeArguments,n=e.find(t[0][0].id).parent;this.select(n&&n.model.id)}},{key:"selectNearest",value:function(){var e=this.diagram,t=this.changeArguments,n=e.find(t[0][0].id),r=n.parent;if(t[0].length>1&&r)return this.select(r.model.id);if(1===t[0].length&&r){if(r.model.children){var o=n.getLastSibling();if(o)return this.select([o]);var i=n.getNextSibling();if(i)return this.select([i])}return this.select(r.model.id)}return e.selector.clear()}},{key:"execute",value:function(){var e=this.diagram,t=uE(this.id,{}),n=t[0].map((function(t){return e.find(t)}));n.forEach((function(n,r){t[0][r]=gd()(n.model),t[1][r]=e.getCellOptions(n)})),this.changeArguments=t,this._cacheLine(),this.selectNearest(),e.remove(n),this.pinLine()}},{key:"forward",value:function(){var e=this.diagram,t=this.changeArguments;this.selectNearest(),e.remove(t[0].map((function(e){return e.id}))),e.tryFocus(),this.pinLine()}},{key:"backward",value:function(){var e=this.diagram,t=this.changeArguments,n=e.add.apply(e,wD(t));this.resetLine(),this.select(n),e.tryFocus()}}])&&OD(t.prototype,n),r&&OD(t,r),i}(sD);function PD(e){return(PD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DD(e,t){return(DD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function AD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ND(e);if(t){var o=ND(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return MD(this,n)}}function MD(e,t){return!t||"object"!==PD(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ND(e){return(ND=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}SD.className="Remove";var ID=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DD(e,t)}(i,e);var t,n,r,o=AD(i);function i(){return RD(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getCells",value:function(){var e=this.changeArguments,t=this.diagram,n=e[0].map((function(e){return t.find(e)}));if(n.some((function(e){return!e})))throw new Error("can not find the cell");return n}},{key:"execute",value:function(){var e=this.diagram,t=this.model,n=this.cellOptions,r=void 0===n?{}:n,o=this.id;Array.isArray(o)&&"object"===PD(o[0])&&(o=o.map((function(e){return e.model.id})));var i=uE(o,t,r);this.changeArguments=i;var a,c,s=this.getCells(),l=i[1];this.originModels=s.map((function(e,t){var n=e.model;return Object.keys(n).reduce((function(e,r){if("children"===r)return e;var o=n[r],i=s[t].model[r];return tE()(o)?e[r]=Object.keys(o).reduce((function(e,t){var n=i&&i[t];return e[t]=null==n?null:n,e}),{}):e[r]=null==i?null:i,e}),{})})),this.originCellOptions=s.map((function(t){return e.getCellOptions(t)}));for(var u=0;u<l.length;u++)a=this.originModels[u],c=l[u],rE()(a,c,(function(e,t){return void 0!==e||tE()(t)?e:null}));e.update(s,l,i[2]),this.select(s)}},{key:"forward",value:function(){var e=this.diagram,t=this.changeArguments,n=this.getCells(),r=t[1];e.update(n,r,t[2]),this.select(n)}},{key:"backward",value:function(){var e=this.diagram,t=this.originModels,n=this.originCellOptions,r=this.getCells();e.update(r,t,n),this.select(r)}}])&&TD(t.prototype,n),r&&TD(t,r),i}(sD);function LD(e){return(LD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BD(e,t){return(BD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function VD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=HD(e);if(t){var o=HD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qD(this,n)}}function qD(e,t){return!t||"object"!==LD(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function HD(e){return(HD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ID.className="Update";var UD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BD(e,t)}(i,e);var t,n,r,o=VD(i);function i(){return FD(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e=this.commands,t=e.length;e.forEach((function(e,n){e.autoSelect=n===t-1,e.execute()}))}},{key:"forward",value:function(){var e=this.commands,t=e.length;e.forEach((function(e,n){e.autoSelect=n===t-1,e.forward()}))}},{key:"backward",value:function(){for(var e=this.commands,t=e.length-1;t>=0;t--){var n=e[t];n.autoSelect=0===t,n.backward()}}}])&&zD(t.prototype,n),r&&zD(t,r),i}(sD);function WD(e){return(WD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XD(e,t){return(XD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ZD(e);if(t){var o=ZD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GD(this,n)}}function GD(e,t){return!t||"object"!==WD(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ZD(e){return(ZD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}UD.className="Compound";var JD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XD(e,t)}(i,e);var t,n,r,o=$D(i);function i(){return KD(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){}}])&&YD(t.prototype,n),r&&YD(t,r),i}(UD);function QD(e){return(QD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nA(e,t){return(nA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iA(e);if(t){var o=iA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oA(this,n)}}function oA(e,t){return!t||"object"!==QD(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iA(e){return(iA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}JD.className="NoneExecuteCompound";var aA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nA(e,t)}(i,e);var t,n,r,o=rA(i);function i(){return eA(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram,t=e.selector.selections,n=e.deduplicate(t).filter((function(e){return e.canCollapse()}));e.update(n,{collapsed:!0}),e.selector.select(n),this.cells=n.map((function(e){return e.model.id}))}},{key:"backward",value:function(){var e=this.diagram,t=this.cells;e.update(t,{collapsed:null}),e.selector.select(t)}},{key:"forward",value:function(){var e=this.diagram,t=this.cells;e.update(t,{collapsed:!0}),e.selector.select(t)}}])&&tA(t.prototype,n),r&&tA(t,r),i}(sD);function cA(e){return(cA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uA(e,t){return(uA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dA(e);if(t){var o=dA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pA(this,n)}}function pA(e,t){return!t||"object"!==cA(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dA(e){return(dA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}aA.className="Collapse",aA.enable=function(e){var t=e.selector.selections;return e.deduplicate(t).some((function(e){return e.canCollapse()}))};var hA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uA(e,t)}(i,e);var t,n,r,o=fA(i);function i(){return sA(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram,t=e.selector.selections,n=e.deduplicate(t).filter((function(e){return e.canExpand()}));e.update(n,{collapsed:null}),e.selector.select(n),this.cells=n.map((function(e){return e.model.id}))}},{key:"backward",value:function(){var e=this.diagram,t=this.cells;e.update(t,{collapsed:!0}),e.selector.select(t)}},{key:"forward",value:function(){var e=this.diagram,t=this.cells;e.update(t,{collapsed:null}),e.selector.select(t)}}])&&lA(t.prototype,n),r&&lA(t,r),i}(sD);function mA(e){return(mA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yA(e,t){return(yA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wA(e);if(t){var o=wA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bA(this,n)}}function bA(e,t){return!t||"object"!==mA(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wA(e){return(wA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}hA.className="Expand",hA.enable=function(e){var t=e.selector.selections,n=e.deduplicate(t);return n.every((function(e){return!e.canCollapse()}))&&n.some((function(e){return e.canExpand()}))};var kA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yA(e,t)}(i,e);var t,n,r,o=gA(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).queue=!1,t}return t=i,(n=[{key:"execute",value:function(){this.diagram.command.undo()}}])&&vA(t.prototype,n),r&&vA(t,r),i}(sD);function xA(e){return(xA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CA(e,t){return(CA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jA(e);if(t){var o=jA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EA(this,n)}}function EA(e,t){return!t||"object"!==xA(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jA(e){return(jA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}kA.className="Undo",kA.enable=function(e){return e.command.index>=0};var SA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CA(e,t)}(i,e);var t,n,r,o=_A(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).queue=!1,t}return t=i,(n=[{key:"execute",value:function(){this.diagram.command.redo()}}])&&OA(t.prototype,n),r&&OA(t,r),i}(sD);function PA(e){return(PA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TA(e,t){return(TA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function DA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=MA(e);if(t){var o=MA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return AA(this,n)}}function AA(e,t){return!t||"object"!==PA(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function MA(e){return(MA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}SA.className="Redo",SA.enable=function(e){var t=e.command;return t.index<t.commands.length-1};var NA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TA(e,t)}(i,e);var t,n,r,o=DA(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).queue=!1,t}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram.viewport;e.setViewport(e.zoom+.2)}}])&&RA(t.prototype,n),r&&RA(t,r),i}(sD);function IA(e){return(IA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FA(e,t){return(FA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=VA(e);if(t){var o=VA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return BA(this,n)}}function BA(e,t){return!t||"object"!==IA(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function VA(e){return(VA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}NA.className="ZoomIn",NA.isModelChange=!1,NA.enable=function(e){var t=e.viewport;return t.zoom+.2<=t.maxZoom};var qA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FA(e,t)}(i,e);var t,n,r,o=zA(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).queue=!1,t}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram.viewport;e.setViewport(e.zoom-.2)}}])&&LA(t.prototype,n),r&&LA(t,r),i}(sD);function HA(e){return(HA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WA(e,t){return(WA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$A(e);if(t){var o=$A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return YA(this,n)}}function YA(e,t){return!t||"object"!==HA(t)&&"function"!=typeof t?XA(e):t}function XA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $A(e){return($A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}qA.className="ZoomOut",qA.isModelChange=!1,qA.enable=function(e){var t=e.viewport;return t.zoom-.2>=t.minZoom};var GA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WA(e,t)}(i,e);var t,n,r,o=KA(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=XA(t=o.call(this,e)).diagram.viewport;return t.queue=!1,t.zoom=e.zoom<n.minZoom&&n.minZoom||e.zoom>n.maxZoom&&n.maxZoom||e.zoom,t}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram,t=this.zoom;e.viewport.setViewport(t)}}])&&UA(t.prototype,n),r&&UA(t,r),i}(sD);GA.className="ZoomTo",GA.isModelChange=!1;var ZA={"line-height":!0,"font-size":!0,"text-decoration-line":!0,"font-weight":!0,"font-style":!0,"text-align":!0,"text-decoration":!0,color:!0},JA="&#8203;",QA="#096DD9",eM="#979797",tM="#262626",nM="lake_diagram_clipboard_data";function rM(e){return(rM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aM(e,t){return(aM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lM(e);if(t){var o=lM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sM(this,n)}}function sM(e,t){return!t||"object"!==rM(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lM(e){return(lM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uM(Object(n),!0).forEach((function(t){pM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dM(e,t){t.importer.caches={};var n=t.selector.selections;if(0!==n.length){e.preventDefault();var r=t.exporter.clipboard(n);e.clipboardData.setData("text/html",r.html),e.clipboardData.setData("text/plain",r.text),a.setItem(nM,JSON.stringify(fM(fM({},r),{},{recordTime:Date.now()})))}}var hM,mM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aM(e,t)}(i,e);var t,n,r,o=cM(i);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return oM(this,i),o.call(this,fM({queue:!1},e))}return t=i,(n=[{key:"execute",value:function(){dM(this.e,this.diagram)}}])&&iM(t.prototype,n),r&&iM(t,r),i}(sD);function vM(e){return(vM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bM(e,t){return(bM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xM(e);if(t){var o=xM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kM(this,n)}}function kM(e,t){return!t||"object"!==vM(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xM(e){return(xM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}mM.className="Copy",mM.isModelChange=!1;var OM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bM(e,t)}(i,e);var t,n,r,o=wM(i);function i(){return yM(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e=this,t=this.diagram,n=this.e,r=n.clipboardData.getData("text/html"),o=n.clipboardData.getData("text/plain"),i=Array.from(n.clipboardData.files),a={text:o,html:r};i.length>0&&(""===r&&/^.+\.\w+$/.test(o)||""===o&&/^(<meta.+?>)?<img.+?>$/.test(r)||!o||!r)&&(a.files=i);var c=t.importer.clipboard(a);c?(this.result=c,tE()(c)&&(this.selectedCellId=t.selector.selections.map((function(e){return e.model.id})),hM&&clearTimeout(hM),hM=setTimeout((function(){t.destroyed||t.selector.select(e.result.body.map((function(e){return e.id})))}),16))):this.queue=!1}},{key:"forward",value:function(){var e=this.result,t=this.diagram;e&&(e.execute(),t.selector.select(this.result.body.map((function(e){return e.id}))))}},{key:"backward",value:function(){var e=this.result,t=this.diagram,n=this.selectedCellId;e&&(e.body.forEach((function(e){t.remove(e.id)})),n&&t.selector.select(n))}}])&&gM(t.prototype,n),r&&gM(t,r),i}(sD);function CM(e){return(CM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jM(e,t,n){return(jM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TM(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function SM(e,t){return(SM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=TM(e);if(t){var o=TM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RM(this,n)}}function RM(e,t){return!t||"object"!==CM(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TM(e){return(TM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}OM.className="Paste";var DM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SM(e,t)}(i,e);var t,n,r,o=PM(i);function i(){return _M(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram,t=e.deduplicate(e.selector.selections);this.id=t.filter((function(e){return e.canDelete()})).map((function(e){return e.model.id})),jM(TM(i.prototype),"execute",this).call(this)}}])&&EM(t.prototype,n),r&&EM(t,r),i}(SD);function AM(e){return(AM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IM(e,t,n){return(IM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=BM(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function LM(e,t){return(LM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=BM(e);if(t){var o=BM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zM(this,n)}}function zM(e,t){return!t||"object"!==AM(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BM(e){return(BM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}DM.className="Delete",DM.enable=function(e){return e.selector.selections.filter((function(e){return e.canDelete()})).length>0};var VM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LM(e,t)}(i,e);var t,n,r,o=FM(i);function i(){return MM(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){dM(this.e,this.diagram),IM(BM(i.prototype),"execute",this).call(this)}}])&&NM(t.prototype,n),r&&NM(t,r),i}(DM);function qM(e){return(qM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UM(e,t){return(UM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=YM(e);if(t){var o=YM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KM(this,n)}}function KM(e,t){return!t||"object"!==qM(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function YM(e){return(YM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}VM.className="Cut",VM.isModelChange=!0;var XM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UM(e,t)}(i,e);var t,n,r,o=WM(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,{queue:!1})}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram,t=e.selector.selections[0];e.command.execute("ZoomTo",{zoom:1}),e.viewport.focus([t.x,t.y])}}])&&HM(t.prototype,n),r&&HM(t,r),i}(sD);function $M(e){return($M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JM(e,t){return(JM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function QM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tN(e);if(t){var o=tN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eN(this,n)}}function eN(e,t){return!t||"object"!==$M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tN(e){return(tN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}XM.className="FocusSelection",XM.enable=function(e){return 1===e.selector.selections.length};var nN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JM(e,t)}(i,e);var t,n,r,o=QM(i);function i(){return GM(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram,t=this.id,n=this.endHTML,r={html:n};Array.isArray(n)&&(r=n.map((function(e){return{html:e}}))),e.update(t,r)}},{key:"forward",value:function(){var e=this.diagram,t=this.endHTML,n=this.id,r={html:t};Array.isArray(t)&&(r=t.map((function(e){return{html:e}}))),e.update(n,r),this.select(n)}},{key:"backward",value:function(){var e=this.diagram,t=this.id,n=this.startHTML,r={html:n};Array.isArray(n)&&(r=n.map((function(e){return{html:e}}))),e.update(t,r),this.select(t)}}])&&ZM(t.prototype,n),r&&ZM(t,r),i}(sD);function rN(e){return(rN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aN(e,t){return(aN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lN(e);if(t){var o=lN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sN(this,n)}}function sN(e,t){return!t||"object"!==rN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lN(e){return(lN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}nN.className="UpdateCellContent";var uN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aN(e,t)}(i,e);var t,n,r,o=cN(i);function i(){return oN(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(e){var t=this.diagram,n=this.cells,r=n.map((function(e){return e.model.id})),o=n.map((function(e){return t.getCellOptions(e)}));n.forEach((function(t){t[e]()}));var i=n.map((function(e){return t.getCellOptions(e)}));this.beforeCellOptions=o,this.afterCellOptions=i,this.id=r,this.select(r)}},{key:"backward",value:function(){var e=this.diagram,t=this.id,n=this.beforeCellOptions;e.update(t,{},n),this.select(t)}},{key:"forward",value:function(){var e=this.diagram,t=this.id,n=this.afterCellOptions;e.update(t,{},n),this.select(t)}}])&&iN(t.prototype,n),r&&iN(t,r),i}(sD);function fN(e){return(fN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hN(e,t,n){return(hN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gN(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function mN(e,t){return(mN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gN(e);if(t){var o=gN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yN(this,n)}}function yN(e,t){return!t||"object"!==fN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gN(e){return(gN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}uN.className="ZIndex";var bN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mN(e,t)}(i,e);var t,n,r,o=vN(i);function i(){return pN(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){hN(gN(i.prototype),"execute",this).call(this,"toBack")}}])&&dN(t.prototype,n),r&&dN(t,r),i}(uN);function wN(e){return(wN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ON(e,t,n){return(ON="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jN(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function CN(e,t){return(CN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jN(e);if(t){var o=jN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EN(this,n)}}function EN(e,t){return!t||"object"!==wN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jN(e){return(jN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}bN.className="ToBack";var SN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CN(e,t)}(i,e);var t,n,r,o=_N(i);function i(){return kN(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){ON(jN(i.prototype),"execute",this).call(this,"toFront")}}])&&xN(t.prototype,n),r&&xN(t,r),i}(uN);function PN(e){return(PN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DN(e,t,n){return(DN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=IN(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function AN(e,t){return(AN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=IN(e);if(t){var o=IN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return NN(this,n)}}function NN(e,t){return!t||"object"!==PN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function IN(e){return(IN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}SN.className="ToFront";var LN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AN(e,t)}(i,e);var t,n,r,o=MN(i);function i(){return RN(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){DN(IN(i.prototype),"execute",this).call(this,"forward")}}])&&TN(t.prototype,n),r&&TN(t,r),i}(uN);function FN(e){return(FN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VN(e,t,n){return(VN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=WN(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function qN(e,t){return(qN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=WN(e);if(t){var o=WN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return UN(this,n)}}function UN(e,t){return!t||"object"!==FN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function WN(e){return(WN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}LN.className="Forward";var KN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qN(e,t)}(i,e);var t,n,r,o=HN(i);function i(){return zN(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){VN(WN(i.prototype),"execute",this).call(this,"backward")}}])&&BN(t.prototype,n),r&&BN(t,r),i}(uN);KN.className="Backward";var YN={locale:r.getLocale(),translations:{"en-us":{"保存":"Save","分支线条宽度逐渐变细":"Tapered line","分支颜色":"Line Color","双击画布快速添加":"Double click to directly add","展开节点":"Expand topic","布局":"Layout","彩虹分支":"Multi-colored lines","手动设置节点宽度":"Fixed size","折叠节点":"Collapse topic","插入主节点":"Insert root topic","插入同级节点":"Insert topic","插入图片":"Insert image","插入子节点":"Insert subtopic","插入链接":"Insert link","撤销":"Undo","文本":"Text","新建节点":"New Node","思维导图":"Mindmap","无颜色":"No color","背景颜色":"Background color","节点形状":"Topic shape","设置面板":"Properties","边框颜色":"Border color","重做":"Redo","链接":"Link","样式":"Styles","过程":"Process","起止符":"Terminator","决策":"Decision","整理":"Collate","数据":"Data","数据库":"Storage","延迟":"Delay","显示":"Display","文档":"Document","内部存储":"Internal Storage","循环起止符":"Loop Limit","手动输入":"Manual Input","手动循环":"Manual loop","合并":"Merge","多文档":"Multi Document","页外连接符":"Off-page Connector","连接器":"Connector","汇总连接":"Summing Junction","预定义流程":"Predefined Process","准备":"Preparation","排序":"Sort","存储数据":"Stored Data","或者":"Or","标注":"Comment","线条粗细":"Line Width","线条颜色":"Line Color","线条端点":"Line Endpoint","线条类型":"Line Shape","形状":"Shape","置顶":"Front","置底":"Back","前进":"Forward","后退":"Backward","排列":"Arrange","填充":"Fill","线条/边框":"Line/Border","线条":"Line","边框":"Border","分支":"Branch Line","结构":"Structure","幻灯片布局":"Slide layout","背景":"Background","格式面板":"Format panel","格式":"Format","回到中心":"Fit Page","适应画布":"Reset View","填充颜色":"Fill","文本颜色":"Font color","节点":"Node","点击选中元素":"Click on the selected element","可设置颜色、布局、文字等样式":"Can set color, layout, text and other styles","大标题":"Title","小标题":"Title small","副标题":"Subtitle","正文":"Text","保持宽高比":"Constrain proportions","原始大小":"Original size","宽度":"Width","高度":"Height","手动设置节点尺寸":"Custom size","大小":"Size","矩形":"Rectangle","圆角矩形":"Rounded Rectangle","圆形":"Circle","三角形":"Triangle","菱形":"Diamond","标注 2":"Annotation 2","平行四边形":"Parallelogram","星形":"Star","左箭头":"Arrow 1","右箭头":"Arrow 2","双向箭头":"Arrow 3","五边形":"Polygon","基础形状":"Basic","流程图":"Flowchart","上移":"Forward","下移":"Backward","水平分布":"Horizontally","垂直分布":"Vertically","旋转角度":"Rotate angle","不透明度":"Opacity","位置":"Position","旋转":"Rotate","线条样式":"Line style","连接线":"Line","图片上传中，请稍后":"Image uploading, please wait","图片上传中，请稍候":"","插入同级":"Insert sibling","插入子级":"Insert child","备注":"Note","折叠":"Collapse","剪切":"Cut","复制":"Copy","复制为其它格式":"Copy to other formats","语雀文档":"Yuque document","语雀表格":"Yuque table","粘贴":"Paste","展开":"Expand","插入父级":"Insert parent","实际尺寸":"Actual size","删除":"Delete","删除单个节点":"Delete a single node","插入连线":"Inset line","编辑文本":"Edit text","已粘贴当前页面复制的内容，如需粘贴页面外内容请使用 ":"The copied content of the current page has been pasted. If you need to paste the content outside the page, please use"," 粘贴":" paste","复制成功！":"Copy successfully!","复制失败！":"Copy failed!","剪切成功！":"Cut successfully!","剪切失败！":"Cut failed!","粘贴失败！":"Paste failed!","边框粗细":"Border thickness","分支类型":"Branch type"}}};function XN(e,t){if(!e)return e;var n=YN.locale,r=YN.translations[n]||{};return"zh-cn"!==n&&(e=r[e]||e),e.replace(/\{([^\}]+)\}/g,(function(e,n){return t[n]||n}))}function $N(e){return($N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZN(e,t){return(ZN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function JN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eI(e);if(t){var o=eI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QN(this,n)}}function QN(e,t){return!t||"object"!==$N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eI(e){return(eI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZN(e,t)}(i,e);var t,n,r,o=JN(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).queue=!1,t}return t=i,(n=[{key:"execute",value:function(){this.diagram.contentEditor.execCommand("createLink",XN("链接"))}}])&&GN(t.prototype,n),r&&GN(t,r),i}(sD);function nI(e){return(nI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iI(e,t){return(iI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sI(e);if(t){var o=sI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cI(this,n)}}function cI(e,t){return!t||"object"!==nI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sI(e){return(sI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}tI.className="CreateLink",tI.enable=function(e){var t=e.getCell(e.contentEditor.dom);return e.contentEditor.getRange()&&t};var lI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iI(e,t)}(i,e);var t,n,r,o=aI(i);function i(){return rI(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){this.diagram.viewport.autoFit()}}])&&oI(t.prototype,n),r&&oI(t,r),i}(sD);function uI(e){return(uI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dI(e,t,n){return(dI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yI(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function hI(e,t){return(hI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yI(e);if(t){var o=yI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vI(this,n)}}function vI(e,t){return!t||"object"!==uI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yI(e){return(yI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}lI.className="FitViewport",lI.isModelChange=!1;var gI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hI(e,t)}(i,e);var t,n,r,o=mI(i);function i(){return fI(this,i),o.apply(this,arguments)}return t=i,r=[{key:"enable",value:function(e){return e.selector.selections.some((function(e){return e.isVertex}))}}],(n=[{key:"execute",value:function(){var e=this.diagram,t=this.locked,n=e.selector.selections.filter((function(e){return e.isVertex})).map((function(e){return e.model}));this.id=n.map((function(e){return e.id})),this.model={locked:t},dI(yI(i.prototype),"execute",this).call(this)}}])&&pI(t.prototype,n),r&&pI(t,r),i}(ID);function bI(e){return(bI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xI(e,t,n){return(xI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=EI(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function OI(e,t){return(OI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function CI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=EI(e);if(t){var o=EI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _I(this,n)}}function _I(e,t){return!t||"object"!==bI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function EI(e){return(EI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}gI.className="LockSelected";var jI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OI(e,t)}(i,e);var t,n,r,o=CI(i);function i(){return wI(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"cellsAlign",value:function(){}},{key:"paperAlign",value:function(){}},{key:"_getTranslateLineModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{target:{connection:[e.target.connection[0]+t,e.target.connection[1]+n]},source:{connection:[e.source.connection[0]+t,e.source.connection[1]+n]}}}},{key:"_getAlignCells",value:function(e){return e.filter((function(e){return e.canMove()}))}},{key:"_getAlignCellPoints",value:function(e){var t=[];return e.forEach((function(e){var n=[];if(e.isLine){var r=e.target,o=e.source;n.push([r.connection[0],r.connection[1]]),n.push([o.connection[0],o.connection[1]])}else{var i=e.getAbsBBox();n.push([i.minX,i.minY]),n.push([i.maxX,i.maxY])}n.push([(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]),t.push(n)})),t}},{key:"execute",value:function(){var e=this.diagram,t=e.selector.selections.concat([]);if(t.length>1){var n=this._getAlignCells(t),r=this._getAlignCellPoints(n),o=this.cellsAlign(n,r);this.id=n,this.model=o,this.selectedIds=t.map((function(e){return e.model.id}))}else if(1===t.length){var a=this._getAlignCellPoints(t),c=this.paperAlign(t[0],a[0],e.viewport.paperBox);this.id=t[0].model.id,this.model=c,this.selectedIds=t.map((function(e){return e.model.id}))}xI(EI(i.prototype),"execute",this).call(this)}},{key:"select",value:function(){xI(EI(i.prototype),"select",this).call(this,this.selectedIds)}}])&&kI(t.prototype,n),r&&kI(t,r),i}(ID);function SI(e){return(SI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PI(e){return function(e){if(Array.isArray(e))return RI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return RI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AI(e,t){return(AI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=II(e);if(t){var o=II(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return NI(this,n)}}function NI(e,t){return!t||"object"!==SI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function II(e){return(II=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}jI.className="Align",jI.enable=function(e){var t=e.selector.selections.filter((function(e){return!e.locked}));return t.length>1||1===t.length&&e.paper.visible};var LI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AI(e,t)}(i,e);var t,n,r,o=MI(i);function i(){return TI(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"paperAlign",value:function(e,t,n){var r;if(e.isLine){var o=n.bottom-Math.max.apply(Math,PI(t.map((function(e){return e[1]}))));r=this._getTranslateLineModel(e,0,o)}else r={y:n.bottom-e.height};return r}},{key:"cellsAlign",value:function(e,t){var n=this,r=t.reduce((function(e,t){return e=e.concat(t)}),[]),o=Math.max.apply(Math,PI(r.map((function(e){return e[1]})))),i=[];return e.forEach((function(e,r){var a=t[r];if(e.isLine){var c=o-Math.max.apply(Math,PI(a.map((function(e){return e[1]}))));i.push(n._getTranslateLineModel(e,0,c))}else{var s=a[1][1]-o;i.push({y:e.y-s})}})),i}}])&&DI(t.prototype,n),r&&DI(t,r),i}(jI);function FI(e){return(FI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zI(e){return function(e){if(Array.isArray(e))return BI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return BI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HI(e,t){return(HI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=KI(e);if(t){var o=KI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WI(this,n)}}function WI(e,t){return!t||"object"!==FI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function KI(e){return(KI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}LI.className="AlignBottom";var YI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HI(e,t)}(i,e);var t,n,r,o=UI(i);function i(){return VI(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"paperAlign",value:function(e,t,n){var r,o=(n.left+n.right)/2;if(e.isLine){var i=o-t[2][0];r=this._getTranslateLineModel(e,i,0)}else r={x:o-e.width/2};return r}},{key:"cellsAlign",value:function(e,t){var n=this,r=t.reduce((function(e,t){return e=e.concat([t[2]])}),[]).map((function(e){return e[0]})),o=(Math.max.apply(Math,zI(r))+Math.min.apply(Math,zI(r)))/2,i=[];return e.forEach((function(e,r){var a=t[r];if(e.isLine){var c=o-a[2][0];i.push(n._getTranslateLineModel(e,c,0))}else{var s=a[2][0]-o;i.push({x:e.x-s})}})),i}}])&&qI(t.prototype,n),r&&qI(t,r),i}(jI);function XI(e){return(XI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $I(e){return function(e){if(Array.isArray(e))return GI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return GI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QI(e,t){return(QI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eL(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nL(e);if(t){var o=nL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tL(this,n)}}function tL(e,t){return!t||"object"!==XI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nL(e){return(nL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}YI.className="AlignHCenter";var rL=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QI(e,t)}(i,e);var t,n,r,o=eL(i);function i(){return ZI(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"paperAlign",value:function(e,t,n){var r;if(e.isLine){var o=n.left-Math.min.apply(Math,$I(t.map((function(e){return e[0]}))));r=this._getTranslateLineModel(e,o,0)}else r={x:n.left};return r}},{key:"cellsAlign",value:function(e,t){var n=this,r=t.reduce((function(e,t){return e=e.concat(t)}),[]),o=Math.min.apply(Math,$I(r.map((function(e){return e[0]})))),i=[];return e.forEach((function(e,r){var a=t[r];if(e.isLine){var c=o-Math.min.apply(Math,$I(a.map((function(e){return e[0]}))));i.push(n._getTranslateLineModel(e,c,0))}else{var s=a[0][0]-o;i.push({x:e.x-s})}})),i}}])&&JI(t.prototype,n),r&&JI(t,r),i}(jI);function oL(e){return(oL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iL(e){return function(e){if(Array.isArray(e))return aL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return aL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aL(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lL(e,t){return(lL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uL(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pL(e);if(t){var o=pL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fL(this,n)}}function fL(e,t){return!t||"object"!==oL(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pL(e){return(pL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}rL.className="AlignLeft";var dL=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lL(e,t)}(i,e);var t,n,r,o=uL(i);function i(){return cL(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"paperAlign",value:function(e,t,n){var r;if(e.isLine){var o=n.right-Math.max.apply(Math,iL(t.map((function(e){return e[0]}))));r=this._getTranslateLineModel(e,o,0)}else r={x:n.right-e.width};return r}},{key:"cellsAlign",value:function(e,t){var n=this,r=t.reduce((function(e,t){return e=e.concat(t)}),[]),o=Math.max.apply(Math,iL(r.map((function(e){return e[0]})))),i=[];return e.forEach((function(e,r){var a=t[r];if(e.isLine){var c=o-Math.max.apply(Math,iL(a.map((function(e){return e[0]}))));i.push(n._getTranslateLineModel(e,c,0))}else{var s=a[1][0]-o;i.push({x:e.x-s})}})),i}}])&&sL(t.prototype,n),r&&sL(t,r),i}(jI);function hL(e){return(hL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mL(e){return function(e){if(Array.isArray(e))return vL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return vL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vL(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bL(e,t){return(bL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wL(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xL(e);if(t){var o=xL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kL(this,n)}}function kL(e,t){return!t||"object"!==hL(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xL(e){return(xL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}dL.className="AlignRight";var OL=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bL(e,t)}(i,e);var t,n,r,o=wL(i);function i(){return yL(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"paperAlign",value:function(e,t,n){var r;if(e.isLine){var o=n.top-Math.min.apply(Math,mL(t.map((function(e){return e[1]}))));r=this._getTranslateLineModel(e,0,o)}else r={y:n.top};return r}},{key:"cellsAlign",value:function(e,t){var n=this,r=t.reduce((function(e,t){return e=e.concat(t)}),[]),o=Math.min.apply(Math,mL(r.map((function(e){return e[1]})))),i=[];return e.forEach((function(e,r){var a=t[r];if(e.isLine){var c=o-Math.min.apply(Math,mL(a.map((function(e){return e[1]}))));i.push(n._getTranslateLineModel(e,0,c))}else{var s=a[0][1]-o;i.push({y:e.y-s})}})),i}}])&&gL(t.prototype,n),r&&gL(t,r),i}(jI);function CL(e){return(CL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _L(e){return function(e){if(Array.isArray(e))return EL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return EL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EL(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PL(e,t){return(PL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RL(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=DL(e);if(t){var o=DL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TL(this,n)}}function TL(e,t){return!t||"object"!==CL(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function DL(e){return(DL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}OL.className="AlignTop";var AL=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PL(e,t)}(i,e);var t,n,r,o=RL(i);function i(){return jL(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"paperAlign",value:function(e,t,n){var r,o=(n.bottom+n.top)/2;if(e.isLine){var i=o-t[2][1];r=this._getTranslateLineModel(e,0,i)}else r={y:o-e.height/2};return r}},{key:"cellsAlign",value:function(e,t){var n=this,r=t.reduce((function(e,t){return e=e.concat([t[2]])}),[]).map((function(e){return e[1]})),o=(Math.max.apply(Math,_L(r))+Math.min.apply(Math,_L(r)))/2,i=[];return e.forEach((function(e,r){var a=t[r];if(e.isLine){var c=o-a[2][1];i.push(n._getTranslateLineModel(e,0,c))}else{var s=a[2][1]-o;i.push({y:e.y-s})}})),i}}])&&SL(t.prototype,n),r&&SL(t,r),i}(jI);function ML(e){return(ML="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NL(Object(n),!0).forEach((function(t){LL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zL(e,t,n){return t&&FL(e.prototype,t),n&&FL(e,n),e}function BL(e,t){return(BL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function VL(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=UL(e);if(t){var o=UL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qL(this,n)}}function qL(e,t){return!t||"object"!==ML(t)&&"function"!=typeof t?HL(e):t}function HL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UL(e){return(UL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}AL.className="AlignVCenter";var WL=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BL(e,t)}(n,e);var t=VL(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).queue=!1,r.onBeginInsertLine=function(e){if(r.sourceCell){var t=HL(r),n=t.diagram,o=t.beginInsertEvent,i=n.viewport.invertClient([e.clientX,e.clientY]);n.emit("begininsertline",{source:{id:r.sourceCell.model.id,connection:null},target:{id:null,connection:[i[0],i[1]]}}),n.off(o,r.onBeginInsertLine)}},r}return zL(n,null,[{key:"enable",value:function(){return!0}}]),zL(n,[{key:"bindBegineInsertEvent",value:function(){var e=this.diagram,t=this.sourceCell,n=this.beginInsertEvent;e.off(n,this.onBeginInsertLine),t&&e.on(n,this.onBeginInsertLine)}},{key:"execute",value:function(){var e=this.diagram,t=this.html,n=this.shape,r=this.marker,o=this.beginInsertEvent,i=e.selector.selections;1!==i.length||i[0].isLine?e.selector.clear():(this.sourceCell=i[0],o="mousemove"),e.contentEditor.unbind(),e.tryFocus(),e.interaction.changeMode("beginInsetLine"),e.settings.default=IL(IL({},e.settings.default),{},{line:{shape:n,marker:r,html:t||'<div style="text-align: center;">'.concat(JA,"</div>")}}),this.beginInsertEvent=o,this.beginInsertEvent&&this.bindBegineInsertEvent()}}]),n}(sD);function KL(e){return(KL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YL(Object(n),!0).forEach((function(t){$L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ZL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eF(e,t,n){return(eF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oF(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function tF(e,t){return(tF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oF(e);if(t){var o=oF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rF(this,n)}}function rF(e,t){return!t||"object"!==KL(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oF(e){return(oF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}WL.className="BeginInsertLine",WL.isModelChange=!1;var iF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tF(e,t)}(i,e);var t,n,r,o=nF(i);function i(){return JL(this,i),o.apply(this,arguments)}return t=i,r=[{key:"enable",value:function(e){return e.selector.selections.filter((function(e){return e.canMove()})).length>=3}}],(n=[{key:"_getModel",value:function(e,t){if(e.isVertex)return t;var n=e.source,r=e.target,o=t.x,i=t.y;return{source:{connection:[null==o?n.connection[0]:o,null==i?n.connection[1]:i]},target:{connection:[null==o?r.connection[0]:r.connection[0]-n.connection[0]+o,null==i?r.connection[1]:r.connection[1]-n.connection[1]+i]}}}},{key:"_distributeCells",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"horizontally",t=this.diagram,n="horizontally"===e,r=t.selector.selections.filter((function(e){return e.canMove()})),o=r.map((function(e){if(e.isLine){var t=GL(e.source.connection,2),n=t[0],r=t[1],o=GL(e.target.connection,2),i=o[0],a=o[1];return{cell:e,minX:Math.min(n,i),minY:Math.min(r,a),maxX:Math.max(n,i),maxY:Math.max(r,a)}}return XL({cell:e},e.getAbsBBox())})),i=n?"minX":"minY";o.sort((function(e,t){return e[i]-t[i]}));for(var a=o[0],c=o[o.length-1],s=n?c.minX-a.maxX:c.minY-a.maxY,l=0,u=1;u<o.length-1;u++){var f=o[u],p=f.minX,d=f.minY,h=f.maxX,m=f.maxY;l+=n?h-p:m-d}for(var v=(s-l)/(o.length-1),y=[],g=[],b=o[0][n?"minX":"minY"],w=1;w<r.length-1;w++){var k=o[w],x=o[w-1],O=k.cell,C=x.maxX-x.minX,_=x.maxY-x.minY;b+=(n?C:_)+v;var E=this._getModel(O,$L({},n?"x":"y",b));g.push(O.model.id),y.push(E)}this.id=g,this.model=y,this.selectedIds=r.map((function(e){return e.model.id}))}},{key:"select",value:function(){eF(oF(i.prototype),"select",this).call(this,this.selectedIds)}}])&&QL(t.prototype,n),r&&QL(t,r),i}(ID);function aF(e){return(aF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lF(e,t,n){return(lF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dF(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function uF(e,t){return(uF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dF(e);if(t){var o=dF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pF(this,n)}}function pF(e,t){return!t||"object"!==aF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dF(e){return(dF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uF(e,t)}(i,e);var t,n,r,o=fF(i);function i(){return cF(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){this._distributeCells("horizontally"),lF(dF(i.prototype),"execute",this).call(this)}}])&&sF(t.prototype,n),r&&sF(t,r),i}(iF);function mF(e){return(mF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gF(e,t,n){return(gF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xF(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function bF(e,t){return(bF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xF(e);if(t){var o=xF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kF(this,n)}}function kF(e,t){return!t||"object"!==mF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xF(e){return(xF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}hF.className="DistributeHorizontally";var OF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bF(e,t)}(i,e);var t,n,r,o=wF(i);function i(){return vF(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){this._distributeCells("vertically"),gF(xF(i.prototype),"execute",this).call(this)}}])&&yF(t.prototype,n),r&&yF(t,r),i}(iF);function CF(e){return(CF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EF(e,t){return(EF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=PF(e);if(t){var o=PF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SF(this,n)}}function SF(e,t){return!t||"object"!==CF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function PF(e){return(PF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}OF.className="DistributeVertically";var RF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EF(e,t)}(i,e);var t,n,r,o=jF(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).queue=!1,t}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram;e.selector.select(e.getCells().filter((function(e){return e.state.visible})))}}])&&_F(t.prototype,n),r&&_F(t,r),i}(sD);function TF(e){return(TF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AF(e,t){return(AF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=IF(e);if(t){var o=IF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return NF(this,n)}}function NF(e,t){return!t||"object"!==TF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function IF(e){return(IF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}RF.className="SelectAll",RF.isModelChange=!1;var LF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AF(e,t)}(i,e);var t,n,r,o=MF(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).queue=!1,t}return t=i,(n=[{key:"execute",value:function(){this.diagram.viewport.setViewport(1)}}])&&DF(t.prototype,n),r&&DF(t,r),i}(sD);function FF(e){return(FF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BF(e,t,n){return t&&zF(e.prototype,t),n&&zF(e,n),e}function VF(e,t){return(VF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=UF(e);if(t){var o=UF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return HF(this,n)}}function HF(e,t){return!t||"object"!==FF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function UF(e){return(UF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}LF.className="ActualSize",LF.isModelChange=!1;var WF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VF(e,t)}(n,e);var t=qF(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).queue=!1,r}return BF(n,null,[{key:"enable",value:function(e){var t=e.selector.selections;return 1===t.length&&t.every((function(e){return e.textAreaElement}))}}]),BF(n,[{key:"execute",value:function(){var e=this.diagram,t=e.selector.selections[0];e.contentEditor.prepareEdit(),e.contentEditor.beginEdit(),e.update(t,{})}}]),n}(sD);function KF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KF(Object(n),!0).forEach((function(t){XF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}WF.className="BeginEditContent",WF.isModelChange=!1;var GF=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.index=-1,this.commands=[],this.diagram=t,this.commandConstructors={ToBack:bN,ToFront:SN,Forward:LN,Backward:KN,Add:gD,Remove:SD,Update:ID,Compound:UD,NoneExecuteCompound:JD,Collapse:aA,Expand:hA,Undo:kA,Redo:SA,ZoomIn:NA,ZoomOut:qA,ZoomTo:GA,ActualSize:LF,FitViewport:lI,Delete:DM,UpdateCellContent:nN,FocusSelection:XM,Copy:mM,Paste:OM,Cut:VM,CreateLink:tI,LockSelected:gI,AlignBottom:LI,AlignHCenter:YI,AlignLeft:rL,AlignRight:dL,AlignTop:OL,AlignVCenter:AL,BeginInsertLine:WL,DistributeHorizontally:hF,DistributeVertically:OF,SelectAll:RF,BeginEditContent:WF}}var t,n,r;return t=e,(n=[{key:"find",value:function(e){var t=this.diagram;return!e||t&&t.destroyed?null:"string"==typeof e?this.commandConstructors[e]:e.constructor}},{key:"enable",value:function(e){var t=this.find(e);return t&&(!t.enable||t.enable(this.diagram))||!1}},{key:"register",value:function(e){this.commandConstructors[e.className]=e}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new this.commandConstructors[e](YF({diagram:this.diagram},t))}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.diagram;if(!n||!n.destroyed){"string"==typeof e&&(e=this.create(e,t));var r=e.constructor.className,o={commandName:r};return n&&n.emit("beforecommandexecute",o),this.enable(e)&&!0!==o.prevent&&(e.execute(),!1!==e.queue&&(this.index>-1?this.commands=this.commands.slice(0,this.index+1):this.commands=[],this.commands.push(e),this.index=this.commands.indexOf(e)),o.isModelChange=e.constructor.isModelChange,n&&n.emit("aftercommandexecute",o)),e}}},{key:"redo",value:function(){var e=this.index,t=this.commands;e>=t.length-1||(t[++e].forward(),this.index=e)}},{key:"undo",value:function(){var e=this.index,t=this.commands;e<0||(t[e].backward(),this.index=--e)}},{key:"destroy",value:function(){this.commands=void 0}}])&&$F(t.prototype,n),r&&$F(t,r),e}();function ZF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}GF.className="Command";var QF=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ZF(this,e),this.onKey="on",this.offKey="off",Object.assign(this,t),this.events=[]}var t,n,r;return t=e,(n=[{key:"bind",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(e===window||e instanceof HTMLElement||e instanceof SVGElement?"addEventListener":r.onKey)||this.onKey;e[o](t,n);var i={object:e,eventName:t,callback:n,options:r};return this.events.push(i),i}},{key:"_unbind",value:function(e){var t=e.object,n=e.eventName,r=e.callback,o=e.options;if(t[(t===window||t instanceof HTMLElement||t instanceof SVGElement?"removeEventListener":o.offKey)||this.offKey](n,r),this.events){var i=this.events.indexOf(e);-1!==i&&this.events.splice(i,1)}}},{key:"unbind",value:function(e){var t=this;e?this._unbind(e):this.events.concat([]).forEach((function(e){t._unbind(e)}))}},{key:"destroy",value:function(){this.events&&this.unbind(),this.events=void 0}}])&&JF(t.prototype,n),r&&JF(t,r),e}(),ez=n(345),tz=new(n.n(ez).a.FilterXSS)({css:{whiteList:ZA},whiteList:{p:["style","id"],a:["href","title","target"],b:["style"],i:["style"],span:["style"],br:[],div:["style"]}});function nz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||rz(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rz(e,t){if(e){if("string"==typeof e)return oz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oz(e,t):void 0}}function oz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iz(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelector("[data-lake_diagram_body]");return!!t&&{body:JSON.parse(t.dataset.lake_diagram_body),extraInformations:JSON.parse(t.dataset.lake_extra_informations||t.dataset.lake_computed_props_map)||{},optionsMap:{}}}function az(e){return e&&(e=tz.process(e)),e.replace(/[\u00A0-\u9999<>\&]/gim,(function(e){return"&#"+e.charCodeAt(0)+";"}))!==JA&&(e=e.replace(/[\u200B-\u200D\uFEFF]/g,"")),e||""}function cz(e){try{var t,n,r,o,i,a,c=e.trim().split("\n"),s=[],l=0,u=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=rz(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(c);try{for(u.s();!(a=u.n()).done;)if(0!==(o=a.value).trim().length){var f=nz((o=o.replace(decodeURI("%0D"),"")).match(/^(\s*)([\S].*)$/),3),p=f[1],d=f[2];!i&&p&&t&&(i=p.length);var h=p.length/i;if(h)if(h>l)n=r,r={html:d},n.children=[r],l+=1;else if(h===l)r={html:d},n.children.push(r);else{var m=0;for(n=t;m<h-1;)n=n.children[n.children.length-1],m++;r={html:d},l=h,n.children.push(r)}else t=n=r={html:d},s.push(t)}}catch(e){u.e(e)}finally{u.f()}return s}catch(e){return null}}function sz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sz(Object(n),!0).forEach((function(t){uz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fz(e,t){return e.nodeType===Node.ELEMENT_NODE&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector).call(e,t)}function pz(e,t,n){for(;e&&n.contains(e);){if("string"==typeof t&&fz(e,t)||"function"==typeof t&&t(e))return e;e=e.parentNode}return null}function dz(e,t){var n=e.getAttribute("style");return n&&n.includes(t)}function hz(e){for(var t=e.firstChild;t;){var n=t.nextSibling;e.parentNode.insertBefore(t,e),t=n}e.parentNode.removeChild(e)}function mz(e){return!(e.altKey||e.ctrlKey||e.metaKey||["Enter","Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Capslock","Esc","Home","Pause","Shift","Option","Alt","Help","Esc","Backspace","Delete","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"].includes(e.key))}function vz(e,t){if(t&&t.childNodes[0]&&1===t.childNodes[0].nodeType){for(var n=t.childNodes[0];n&&1===n.nodeType&&n.tagName!==e&&n.tagName!==e;)n=n.childNodes[0];if(n&&n.tagName===e)return n}return e===t.tagName&&t||null}function yz(e,t,n,r){var o=function(e,t){if(!e)return{};var n=window.getComputedStyle(e),r=n["text-align"],o=parseInt(n["font-size"]),i=n.color;return{textAlign:r,fontSize:t.fontSize?t.fontSize.value:o,color:t.foreColor?t.foreColor.value:i}}(e,n),i=function(e,t,n){if(!e)return{};var r=window.getComputedStyle(e),o=parseInt(r["font-size"]),i=r.color;return{bold:t.bold?!t.bold.cancel:!!pz(e,(function(e){return dz(e,"bold")}),n),italic:t.italic?!t.italic.cancel:!!pz(e,(function(e){return dz(e,"italic")}),n),strikethrough:t.strikethrough?!t.strikethrough.cancel:!!pz(e,(function(e){return dz(e,"line-through")}),n),underline:t.underline?!t.underline.cancel:!!pz(e,(function(e){return dz(e,"underline")}),n),fontSize:t.fontSize?t.fontSize.value:o,color:t.foreColor?t.foreColor.value:i}}(t,n,r);return lz(lz({bold:!1,italic:!1,strikethrough:!1,underline:!1},o),i)}function gz(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{};if(t){var i=t.startContainer;if(i===e)n=vz("SPAN",e),r=vz("DIV",e);else{var a=pz(i,(function(e){return 1===e.nodeType}),e);n=a,r=a}}else n=vz("SPAN",e),r=vz("DIV",e);return yz(r,n,o,e)}function bz(e){if(e.preventDefault(),this.isBegin){e.stopPropagation();var t=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("text/html");if(n){var r=(new DOMParser).parseFromString(n,"text/html");if(r&&1===r.body.childNodes.length&&"A"===r.body.childNodes[0].tagName)return this.execCommand("insertHTML",r.body.childNodes[0].outerHTML);if(n.includes("lake_diagram_content_editor_data"))return this.execCommand("insertHTML",r.querySelector("[data-lake_diagram_content_editor_data]").innerHTML)}return t&&/^https?:\/\/\S+$/.test(t)?this.execCommand("insertHTML",'<a href="'.concat(t,'" target="_blank">').concat(t,"</a>")):this.execCommand("insertHTML",t)}}function wz(e){return!e||e&&!e.match(/^[\x00-\x7F]/)||e.startsWith("javascript:")}function kz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"copy";if(this.isBegin){e.stopPropagation(),"copy"===t&&e.preventDefault();var n=this.getRange(),r=document.createElement("div"),o=n.cloneContents();r.dataset.lake_diagram_content_editor_data=!0,r.appendChild(o),e.clipboardData.setData("text/html",r.outerHTML),e.clipboardData.setData("text",r.innerText)}}function xz(e,t,n){Z_(t,(function(t){if(1===t.nodeType){var n=t.getAttribute("style");n&&n.includes("font-size: x-small;")&&(t.style["font-size"]="".concat(e,"px"))}}),(function(e){return e.childNodes}));var r=[];Z_(t,(function(e){1===e.nodeType&&"FONT"===e.tagName&&r.push(e)}),(function(e){return e.childNodes})),r.length>0&&(n&&!n.collapsed&&Z_(n.commonAncestorContainer,(function(e){1===e.nodeType&&n.isPointInRange(e,0)&&(e.style["font-size"]="")}),(function(e){return e.childNodes})),r.forEach((function(t){var n=t.parentNode,r=document.createElement("span");r.style["font-size"]="".concat(e,"px"),n.insertBefore(r,t),r.appendChild(t),hz(t);var o=r.childNodes[0];o&&"SPAN"===o.tagName&&1===r.childNodes.length&&(Object.keys(ZA).forEach((function(e){o.style[e]&&"font-size"!==e&&(r.style[e]=o.style[e])})),hz(o)),"SPAN"===n.tagName&&1===n.childNodes.length&&(Object.keys(ZA).forEach((function(e){r.style[e]&&"font-size"!==e&&(n.style[e]=r.style[e])})),hz(r))})))}function Oz(e){return(Oz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cz(Object(n),!0).forEach((function(t){Ez(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ez(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sz(e,t){return(Sz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tz(e);if(t){var o=Tz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rz(this,n)}}function Rz(e,t){return!t||"object"!==Oz(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tz(e){return(Tz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dz=ke,Az=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sz(e,t)}(i,e);var t,n,r,o=Pz(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).eventHelper=new QF,e.isBegin=!1,e.readyCommands={},e.compositing=!1,e.eventObj={},e}return t=i,(n=[{key:"batchEdit",value:function(e,t,n){var r,o=this,i=window.getSelection();try{r=i.getRangeAt(0)}catch(e){}e.forEach((function(e){var r=document.createRange();r.selectNodeContents(e),i.removeAllRanges(),i.addRange(r),e.setAttribute("contenteditable",!0),"fontSize"===t?(o._execCommand(t,1),xz(n,e,r)):o._execCommand(t,n),e.removeAttribute("contenteditable")})),i.removeAllRanges(),r&&i.addRange(r)}},{key:"prepareEdit",value:function(){var e=this.dom;if(e){this.updateStartContent();var t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),this.emit("prepareedit")}}},{key:"closest",value:function(e,t){return pz(e,t,this.dom)}},{key:"getRange",value:function(){if(!this.dom)return null;var e=window.getSelection();try{var t=e.getRangeAt(0);return this.dom.contains(t.commonAncestorContainer)?t:null}catch(e){return null}}},{key:"_execCommand",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];document.execCommand("styleWithCss",!1,!0);var r=document.execCommand(e,n,t),o={name:e,showUI:n,value:t,result:r};return{result:r,eventObj:o}}},{key:"convertFontSize",value:function(e){var t=this.getRange();xz(e,this.dom,t)}},{key:"execReadyCommand",value:function(){this.readyCommands.fontSize&&this.convertFontSize(this.readyCommands.fontSize.value),this.readyCommands={}}},{key:"execCommand",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getRange();if(r&&e){if("fontSize"===e){var o=this._execCommand(e,1,n),i=o.result,a=o.eventObj;return this.convertFontSize(t),this.afterExecCommand({name:e,value:t,result:i,eventObj:a}),i}var c=this._execCommand(e,t,n),s=c.result,l=c.eventObj;if("createLink"===e&&s){r=this.getRange(),l.target=pz(r.commonAncestorContainer,"a",this.dom)||1===r.commonAncestorContainer.nodeType&&r.commonAncestorContainer.querySelector("a");for(var u=this.dom.querySelectorAll("a"),f=0;f<u.length;f++){var p=u[f];p.setAttribute("target","_blank"),p.style.cursor="default",wz(p.getAttribute("href"))&&p.setAttribute("href","")}}return this.afterExecCommand({name:e,value:t,result:s,eventObj:l}),s}}},{key:"getFirstTag",value:function(e){return vz(e,this.dom)}},{key:"afterExecCommand",value:function(e){var t=e.name,n=e.value,r=e.result,o=e.eventObj;if(this.getRange().collapsed)if(this.readyCommands[t])Object.assign(this.readyCommands[t],{value:n,result:r,cancel:!this.readyCommands[t].cancel});else{var i=this.getRange().startContainer,a=i===this.dom?this.getFirstTag("SPAN"):this.closest(i,(function(e){return 1===e.nodeType}));this.readyCommands[t]={value:n,result:r,cancel:!!this.closest(a,(function(e){return dz(e,"strikethrough"===t?"line-through":t)}))}}this.emit("execcommand",o),this.emitChangeEvent()}},{key:"emitChangeEvent",value:function(){this.emit("change",{dom:this.dom})}},{key:"beginEdit",value:function(){this.isBegin=!0,this.emit("beginedit",this.eventObj),document.execCommand("styleWithCss",!1,!0),this.dom.classList.remove("selection-transparent");var e=escape(this.dom.innerText);this.dom.style.cursor="text",("%u200B"===e||"%u200D"===e)&&this.getRange().collapse(),this.emit("selectionchange")}},{key:"forceEndEdit",value:function(){this.isBegin&&(this.endEdit(),this.prepareEdit())}},{key:"updateStartContent",value:function(){this.eventObj&&(this.eventObj.startHTML=az(this.dom.innerHTML))}},{key:"bind",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.eventHelper,o=_z({insertParagraphKey:function(e){return(e.metaKey||e.ctrlKey||e.altKey)&&13===e.which},cancelKey:function(e){return 9===e.which||13===e.which||27===e.which}},n),i=o.insertParagraphKey,a=o.cancelKey;this.originCursor=e.style.cursor,this.dom=e,e.setAttribute("contenteditable",!0),e.setAttribute("spellcheck",!1),e.focus({preventScroll:!0}),this.eventObj={dom:e},this.updateStartContent(),r.bind(e,"contextmenu",(function(e){t.isBegin&&e.stopPropagation()})),r.bind(document,"selectionchange",(function(){t.compositing||(t.execReadyCommand(),t.emit("selectionchange"))}),{onKey:"addEventListener",offKey:"removeEventListener"}),r.bind(e,"keydown",(function(e){if(Dz("mod+k",e)&&(e.preventDefault(),e.stopPropagation(),t.execCommand("createLink",XN("链接"))),t.isBegin){if(i(e))return t.execCommand("insertParagraph"),e.stopPropagation(),void e.preventDefault();if(a(e))return e.preventDefault(),e.stopPropagation(),void t.forceEndEdit();if(Dz("mod+s",e))return;e.stopPropagation()}else{if(Dz("mod+c",e)||Dz("mod+v",e)||Dz("mod+x",e)||Dz("shift+enter",e)||Dz("space",e))return;if(Dz("mod+enter",e))return e.preventDefault(),e.stopPropagation(),void t.beginEdit();if(mz(e))return e.stopPropagation(),void t.beginEdit();e.preventDefault()}})),r.bind(e,"compositionstart",(function(){t.compositing=!0})),r.bind(e,"compositionend",(function(){t.compositing=!1})),r.bind(e,"input",(function(e){e.stopPropagation(),t.isBegin?t.emitChangeEvent():e.preventDefault()})),r.bind(e,"paste",bz.bind(this)),r.bind(e,"copy",kz.bind(this)),r.bind(e,"cut",(function(e){kz.call(t,e,"cut")}))}},{key:"endEdit",value:function(){this.isBegin=!1,this.eventObj.endHTML=az(this.dom.innerHTML),this.dom.style.cursor=this.originCursor,this.dom.classList.add("selection-transparent"),this.emit("endedit",this.eventObj)}},{key:"unbind",value:function(){var e=this.dom,t=this.eventHelper;e&&(e.removeAttribute("contenteditable"),e.removeAttribute("spellcheck"),t.unbind(),this.endEdit(),this.dom=void 0)}},{key:"query",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dom,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getRange(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.readyCommands;return gz(e,t,n)}},{key:"destroy",value:function(){this.unbind(),this.eventHelper=void 0}}])&&jz(t.prototype,n),r&&jz(t,r),i}(_n.a);function Mz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iz(e,t,n){return t&&Nz(e.prototype,t),n&&Nz(e,n),e}Az.className="ContentEditor";var Lz=function(){function e(t){Mz(this,e),this.graphicGroup=t,this.dx=0,this.dy=0}return Iz(e,[{key:"translate",value:function(e,t){this.graphicGroup.update({matrix:[1,0,0,0,1,0,e,t,1]}),this.dx=e,this.dy=t}},{key:"getBBox",value:function(){return this.graphicGroup.getBBox()}},{key:"destroy",value:function(){this.graphicGroup.destroy()}}]),e}(),Fz=function(){function e(t){Mz(this,e),this.diagram=t,this.delegations=[]}return Iz(e,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.diagram,n=new Fj;"function"==typeof e?e(n):((e=e.map((function(e){return"string"==typeof e&&(e=t.find(e)),e}))).sort((function(e,t){return e.getZIndex()-t.getZIndex()})),e.forEach((function(e){var t=new yP({element:e.graphicGroup});n.add(t)}))),t.frontRootGroup.prepend(n);var r=new Lz(n);return this.delegations.push(r),r}},{key:"clear",value:function(){var e=this;this.delegations.forEach((function(t){e.remove(t)}))}},{key:"remove",value:function(e){var t=this.delegations;t.splice(t.indexOf(e),1),e.destroy()}},{key:"destroy",value:function(){this.diagram=void 0,this.delegations=void 0}}]),e}();function zz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zz(Object(n),!0).forEach((function(t){Vz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qz(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Hz(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qz(i,r,o,a,c,"next",e)}function c(e){qz(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Uz(e){var t=new Image;return new Promise((function(n,r){t.onload=function(){n(t)},t.onerror=function(){r(new Error("unable to load url ".concat(e)))},t.crossOrigin="anonymous",t.src=e}))}function Wz(e){return Kz.apply(this,arguments)}function Kz(){return(Kz=Hz(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s,l,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,Uz(t);case 3:return r=e.sent,o=document.createElement("canvas"),i=Bz({width:r.naturalWidth,height:r.naturalHeight},n),a=i.width,c=i.height,s=i.backgroundColor,o.width=a,o.height=c,l=o.getContext("2d"),s&&(l.fillStyle=s,l.fillRect(0,0,a,c)),l.drawImage(r,0,0,a,c),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yz(Object(n),!0).forEach((function(t){$z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gz(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Zz(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gz(i,r,o,a,c,"next",e)}function c(e){Gz(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Jz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qz(e){return"jpg"===e||"jpeg"===e}function eB(e){var t=(new XMLSerializer).serializeToString(e);return t=t.replace(/[\u200B-\u200D\uFEFF]/g,"").replace(/[\x00-\x1F\x7F-\x9F]/g,""),"data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent('<?xml version="1.0" encoding="utf-8"?>'+t)))}function tB(e,t){if(t.image&&t.image.src){var n=document.createElement("img");n.setAttribute("src",t.image.src),e.appendChild(n)}}function nB(e,t){if(t.noteContent){var n=document.createElement("p");n.innerHTML=t.noteContent,e.appendChild(n)}}function rB(e){var t=document.createElement("td");return e.textContent&&(t.innerHTML=e.textContent),tB(t,e),nB(t,e),t}Fz.className="Delegator";var oB=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.diagram=t}var t,n,r,o,i,a;return t=e,(n=[{key:"getContentArea",value:function(e){var t=1/0,n=1/0,r=-1/0,o=-1/0;return e.childNodes.forEach((function(e){if("defs"!==e.tagName.toLowerCase()){var i=e.getBBox(),a=i.x,c=i.y,s=i.width,l=i.height;a<t&&(t=a),a+s>r&&(r=a+s),c<n&&(n=c),c+l>o&&(o=c+l)}})),{left:t,top:n,width:r-t,height:o-n}}},{key:"_getSVG",value:function(){var e=this.diagram.getStaticSVG();e.style.position="fixed",e.style.visibility="hidden",document.body.appendChild(e);var t=this.getContentArea(e),n=t.left,r=t.top,o=t.width,i=t.height;return e.setAttribute("viewBox",[n-2,r-2,o+4,i+4].join(",")),e.setAttribute("width",o),e.setAttribute("height",i),e.style.width="".concat(o,"px"),e.style.height="".concat(i,"px"),e.style.position="relative",e.style.visibility="visible",document.body.removeChild(e),e}},{key:"canvas",value:(a=Zz(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.backgroundColor,r=this.svg(),e.next=5,Promise.all(Array.from(r.querySelectorAll("image"),function(){var e=Zz(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.getAttribute("href"))){e.next=6;break}return e.next=4,Wz(n);case 4:r=e.sent,t.setAttribute("href",r.toDataURL("image/png"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return o=t.width||parseFloat(r.getAttribute("width")),i=t.height||parseFloat(r.getAttribute("height")),a=window.devicePixelRatio>2?window.devicePixelRatio:2,e.next=10,Wz(eB(r),{backgroundColor:n,width:o*a,height:i*a});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"json",value:function(e){var t=this.diagram,n={head:Xz({},t.head),body:[]};return t.rootGroup.rendererElement.childNodes.forEach((function(e,r){var o=t.getCell(e);if(o.model.zIndex=r,o.isRoot&&!o.model.isPlaceholder){var i=gd()(o.model);i.children&&0===i.children.length&&delete i.children,Z_(i,(function(){void 0!==i.html&&(i.html=az(i.html))})),n.body.push(i)}})),"string"===e?JSON.stringify(n):n}},{key:"svg",value:function(e){var t=this._getSVG();return"string"===e||"dom-string"===e?'<?xml version="1.0" encoding="utf-8"?>'+(new XMLSerializer).serializeToString(t):t}},{key:"image",value:function(){var e=this.svg(),t=new Image;return t.src=eB(e),t}},{key:"blob",value:(i=Zz(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"jpeg",n=o.length>1&&void 0!==o[1]?o[1]:{},Qz(t)&&(n.backgroundColor="#fff"),e.next=5,this.canvas(n);case 5:return r=e.sent,e.abrupt("return",new Promise((function(e){r.toBlob(e,"image/".concat(t),"jpeg"===t?.8:1)})));case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"download",value:(o=Zz(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"jpeg",n=a.length>1&&void 0!==a[1]?a[1]:{},Qz(t)&&(n.backgroundColor="#fff"),e.next=5,this.canvas(n);case 5:r=e.sent,o=document.createElement("a"),i=n.filename||"yuque_diagram",o.download="".concat(i,".").concat(t),o.href=r.toDataURL("image/".concat(t)),o.click();case 11:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"_textContent",value:function(e){if(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent}return""}},{key:"doc",value:function(e){var t=this,n=document.createElement("div");return e.forEach((function(e){Z_(e,(function(e){if(pE(e.depth,[0,3])){if(e.textContent){var r=document.createElement("h".concat(e.depth+1));r.innerHTML=e.textContent,n.appendChild(r)}return tB(n,e),void nB(n,e)}return t.list([e]).childNodes.forEach((function(e){n.appendChild(e)})),!1}))})),n}},{key:"table",value:function(e){var t=document.createElement("table");e.forEach((function(e){Z_(e,(function(e,n){if(e.parent=n,!e.children||0===e.children.length){var r=document.createElement("tr"),o=rB(e);for(r.prepend(o);n;){var i=rB(n);r.prepend(i),n=n.parent}t.appendChild(r)}}))}));var n=0;return t.childNodes.forEach((function(e){var t=e.childNodes.length;t>n&&(n=t)})),t.childNodes.forEach((function(e){for(var t=e.childNodes.length,r=0;r<n-t;r++){var o=document.createElement("td");e.appendChild(o)}})),t}},{key:"list",value:function(e){var t=document.createElement("div");return e.forEach((function(e){var n=document.createElement("ul");Z_(e,(function(e,t){e.level=t?t.level+1:1;var r=document.createElement("li");t?t.childContainer.appendChild(r):n.appendChild(r),e.textContent&&(r.innerHTML=e.textContent),tB(r,e),nB(r,e),e.children&&e.children.length>0&&(e.childContainer=document.createElement("ul"),t?t.childContainer.appendChild(e.childContainer):n.appendChild(e.childContainer))})),t.appendChild(n)})),t}},{key:"dom",value:function(e){var t=this,n=this.diagram,r=n.settings.copyType;e||(e=n.getCells().filter((function(e){return e.isRoot}))),e=n.deduplicate(e);var o=document.createElement("div"),i=document.createElement("div"),a=[];e.forEach((function(e){a=a.concat(e.getAllCells())}));var c=a.reduce((function(e,t){return e[t.model.id]=gd()(t.computedProps)||{},e[t.model.id].x=t.x,e[t.model.id].y=t.y,e}),{})||{},s=n.delegator.create(a),l=s.getBBox();s.destroy(),c.bbox=l;var u=e.map((function(e){return Xz({},gd()(e.model))}));i.dataset.lake_diagram_body=JSON.stringify(u);var f,p=JSON.stringify(c);return i.dataset.lake_extra_informations=p,o.appendChild(i),u.forEach((function(n,r){n.depth=e[r].depth,J_(n,(function(e,t){e.depth=t.depth+1})),Z_(n,(function(e){e.textContent=t._textContent(e.html),e.note&&e.note.content&&(e.noteContent=t._textContent(e.note.content))}))})),f="doc"===r?this.doc(u):"table"===r?this.table(u):this.list(u),o.appendChild(f),o}},{key:"html",value:function(){return this.dom().outerHTML}},{key:"getText",value:function(){return this.dom().innerText}},{key:"clipboard",value:function(e){var t=this.dom(e);return{html:t.innerHTML,text:t.textContent}}},{key:"destroy",value:function(){this.diagram=void 0}}])&&Jz(t.prototype,n),r&&Jz(t,r),e}();oB.className="Exporter";var iB=n(346),aB=n.n(iB);function cB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sB=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new Fj;n.css({"pointer-events":"none"}),this.diagram=t,this.group=n,this.arr=[],this.eventHelper=new QF}var t,n,r;return t=e,(n=[{key:"bind",value:function(){var e=this,t=this.diagram,n=this.eventHelper;n.unbind(),n.bind(t,"afterchange",(function(t){var n=t.action;e.arr.length>0&&("update"===n||"delete"===n)&&e.draw()}))}},{key:"show",value:function(){this.group.show()}},{key:"hide",value:function(){this.group.hide()}},{key:"select",value:function(e){var t=this.diagram.viewport.zoom;e=e.filter((function(e){return e.multiSelectHighlight&&e.state.visible})),this.render(e,(function(e){return e.isLine?{type:"outline",shapeStyle:{fill:"none",stroke:QA,"stroke-width":2/t}}:{type:"rect",shapeStyle:{fill:"none",stroke:"#fff","stroke-width":1/t},shadowStyle:{fill:"none",stroke:e.locked?eM:QA,"stroke-width":1/t}}}))}},{key:"dock",value:function(e){this.render(e,(function(){return{type:"outline",shapeStyle:{"stroke-width":1,stroke:QA,fill:"none"},shadowStyle:{"stroke-width":2.5,stroke:"#E6F0FB",fill:"none"}}}))}},{key:"render",value:function(e,t){var n=this.group,r=this.diagram;hE(e,this.arr.map((function(e){return e.cell})))||(this.clear(),e&&!e.some((function(e){return!e||!e.isCell}))&&(r.frontRootGroup.add(n),this.bind(),this.arr=e.map((function(e){var r=t(e),o=r.type,i=r.shapeStyle,a=r.shadowStyle,c={cell:e,type:"function"==typeof o?o(e):o,shape:i&&new ZS(i),shadow:a&&new ZS(a)};return c.shadow&&n.add(c.shadow),c.shape&&n.add(c.shape),c})),this.draw()))}},{key:"_updateShape",value:function(e){var t=e.cell,n=e.type,r=e.shape,o=e.shadow,i=t.getKeyShape();if(i){var a,c=i.attr("stroke-width"),s=c/2,l=t.graphicGroup.matrix.concat([]),u=i.getBBox();if(a="outline"===n?i.attr("d"):CS(-s,-s,u.width+c,u.height+c),r.update({matrix:l,d:a}),o){var f=parseFloat(o.attr("stroke-width"))+parseFloat(r.attr("stroke-width")),p=u.width+c,d=u.height+c,h=a;t.isLine||(h=aB()(a).scale(1+f/p,1+f/d).translate(-f/2,-f/2).toString()),o.update({matrix:l,d:h})}}}},{key:"_draw",value:function(){var e=this;this.arr.forEach((function(t){e._updateShape(t)}))}},{key:"draw",value:function(){this.arr.length>0&&this._draw()}},{key:"clear",value:function(){this.destroyed||0===this.arr.length||(this.arr=[],this.group.clear(),this.group.remove(),this.eventHelper.unbind())}},{key:"destroy",value:function(){this.eventHelper.destroy(),this.group.destroy(),this.diagram=void 0,this.group=void 0,this.arr=void 0,this.destroyed=!0}}])&&cB(t.prototype,n),r&&cB(t,r),e}();function lB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}sB.className="Highlight";var uB=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.diagram=t}var t,n,r;return t=e,(n=[{key:"json",value:function(e){this.diagram.add(e.body)}},{key:"clipboard",value:function(){return"clipboard"}},{key:"destroy",value:function(){this.diagram=void 0}}])&&lB(t.prototype,n),r&&lB(t,r),e}();function fB(e){return(fB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hB(e,t){return(hB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yB(e);if(t){var o=yB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vB(this,n)}}function vB(e,t){return!t||"object"!==fB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yB(e){return(yB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}uB.className="Importer";var gB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hB(e,t)}(i,e);var t,n,r,o=mB(i);function i(){return pB(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(){}},{key:"reset",value:function(){}},{key:"pressKey",value:function(e){var t=e.diagram,n=e.keys,r=void 0===n?[]:n,o=e.isKey,i=void 0===o?function(e){return r.includes(e.key)}:o,a=e.onPress,c=void 0===a?function(){}:a,s=e.onCancel,l=void 0===s?function(){}:s,u=t.signal.keydown;this.bind(t,"keydown",(function(e){i(e)&&!u[e.key]&&(u[e.key]=!0,c(e))})),this.bind(window,"keyup",(function(e){u[e.key]&&(u[e.key]=!1,l(e))})),this.bind(window,"blur",(function(){for(var e in u)u[e]=!1}))}}])&&dB(t.prototype,n),r&&dB(t,r),i}(QF);function bB(e){return(bB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xB(e,t){return(xB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function OB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_B(e);if(t){var o=_B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CB(this,n)}}function CB(e,t){return!t||"object"!==bB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _B(e){return(_B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var EB=ke,jB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xB(e,t)}(i,e);var t,n,r,o=OB(i);function i(){return wB(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"keydown",(function(t){EB("mod+z",t)?(e.command.execute("Undo"),e.tryFocus()):(EB("mod+y",t)||EB("shift+mod+z",t))&&(e.command.execute("Redo"),e.tryFocus())}))}}])&&kB(t.prototype,n),r&&kB(t,r),i}(gB);function SB(e){return fe.macos?e.metaKey:e.ctrlKey}function PB(e){return(PB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DB(e,t){return(DB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function AB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=NB(e);if(t){var o=NB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return MB(this,n)}}function MB(e,t){return!t||"object"!==PB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function NB(e){return(NB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DB(e,t)}(i,e);var t,n,r,o=AB(i);function i(){return RB(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"keydown",(function(t){if(SB(t)&&"/"===t.key){if(e.command.enable("Collapse"))return e.command.execute("Collapse");if(e.command.enable("Expand"))return e.command.execute("Expand")}}))}}])&&TB(t.prototype,n),r&&TB(t,r),i}(gB);function LB(e){return(LB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BB(e,t){return(BB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function VB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=HB(e);if(t){var o=HB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qB(this,n)}}function qB(e,t){return!t||"object"!==LB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function HB(e){return(HB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var UB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BB(e,t)}(i,e);var t,n,r,o=VB(i);function i(){return FB(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){var t=e.selector;this.bind(window,"mousedown",(function(n){var r=e.selector.selections,o=e.getCell(n.target);o&&o.state.selected&&e.contentEditor.isBegin||(o?n.shiftKey||(fe.macos?n.metaKey:n.ctrlKey)?r.includes(o)?t.select(r.filter((function(e){return e!==o}))):t.select(r.concat([o])):r.includes(o)||t.select([o]):bE(n.target,(function(e){return e.dataset.lake_prevent_click_unselect||e.classList.contains("lake-diagram-prevent-mouse-select")}),window.document,(function(e){return e.parentNode}),(function(e){return!e}))||r.length>0&&t.clear(),o&&o.state.selected&&!e.contentEditor.isBegin&&n.preventDefault())}))}}])&&zB(t.prototype,n),r&&zB(t,r),i}(gB);function WB(e){return(WB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XB(e,t){return(XB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ZB(e);if(t){var o=ZB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GB(this,n)}}function GB(e,t){return!t||"object"!==WB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ZB(e){return(ZB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var JB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XB(e,t)}(i,e);var t,n,r,o=$B(i);function i(){return KB(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"collapsedbutton:click",(function(t){var n=t.nativeEvent;if(n.stopPropagation(),n.target.closest("[data-diagram-collapsed-button=true]")){if(e.command.enable("Collapse"))return e.command.execute("Collapse");if(e.command.enable("Expand"))return e.command.execute("Expand")}}))}}])&&YB(t.prototype,n),r&&YB(t,r),i}(gB);function QB(e){return(QB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nV(e,t){return(nV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iV(e);if(t){var o=iV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oV(this,n)}}function oV(e,t){return!t||"object"!==QB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iV(e){return(iV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var aV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nV(e,t)}(i,e);var t,n,r,o=rV(i);function i(){return eV(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"scroll",(function(e){(e.ctrlKey||fe.macos&&e.metaKey)&&(e.preventDefault(),e.stopPropagation())})),this.bind(e,"wheel",(function(t){if(t.ctrlKey||fe.macos&&t.metaKey){t.preventDefault(),t.stopPropagation();var n=t.wheelDelta||-t.deltaY;if(e.emit("wheelzoom"),Math.abs(n)>0){var r=e.viewport.zoom;n>0?e.viewport.setViewport(1.05*r):e.viewport.setViewport(r*(1/1.05))}}}))}}])&&tV(t.prototype,n),r&&tV(t,r),i}(gB);function cV(e){return(cV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uV(e,t){return(uV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dV(e);if(t){var o=dV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pV(this,n)}}function pV(e,t){return!t||"object"!==cV(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dV(e){return(dV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uV(e,t)}(i,e);var t,n,r,o=fV(i);function i(){return sV(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"copy",(function(t){e.command.execute("Copy",{e:t})}))}}])&&lV(t.prototype,n),r&&lV(t,r),i}(gB);function mV(e){return(mV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gV(e,t){return(gV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kV(e);if(t){var o=kV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wV(this,n)}}function wV(e,t){return!t||"object"!==mV(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kV(e){return(kV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gV(e,t)}(i,e);var t,n,r,o=bV(i);function i(){return vV(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"cut",(function(t){e.command.execute("Cut",{e:t})}))}}])&&yV(t.prototype,n),r&&yV(t,r),i}(gB);function OV(e){return(OV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EV(e,t){return(EV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=PV(e);if(t){var o=PV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SV(this,n)}}function SV(e,t){return!t||"object"!==OV(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function PV(e){return(PV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var RV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EV(e,t)}(i,e);var t,n,r,o=jV(i);function i(){return CV(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"paste",(function(t){e.command.execute("Paste",{e:t})}))}}])&&_V(t.prototype,n),r&&_V(t,r),i}(gB);function TV(e){return(TV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MV(e,t){return(MV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=LV(e);if(t){var o=LV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return IV(this,n)}}function IV(e,t){return!t||"object"!==TV(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LV(e){return(LV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var FV=ke,zV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MV(e,t)}(i,e);var t,n,r,o=NV(i);function i(){return DV(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"keydown",(function(t){FV("mod+=",t)?(t.preventDefault(),e.command.execute("ZoomIn")):FV("mod+shift+=",t)?(t.preventDefault(),e.command.execute("FitViewport")):FV("mod+-",t)?(t.preventDefault(),e.command.execute("ZoomOut")):FV("mod+0",t)?e.command.execute("ActualSize"):FV("mod+8",t)&&e.command.execute("FocusSelection")}))}}])&&AV(t.prototype,n),r&&AV(t,r),i}(gB);function BV(e){return(BV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HV(e,t){return(HV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=KV(e);if(t){var o=KV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WV(this,n)}}function WV(e,t){return!t||"object"!==BV(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function KV(e){return(KV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var YV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HV(e,t)}(i,e);var t,n,r,o=UV(i);function i(){return VV(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"keydown",(function(t){!SB(t)&&["Backspace","Delete"].includes(t.key)&&(t.preventDefault(),e.command.execute("Delete"),e.tryFocus())}))}}])&&qV(t.prototype,n),r&&qV(t,r),i}(gB);function XV(e){return(XV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZV(e,t){return(ZV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function JV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eq(e);if(t){var o=eq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QV(this,n)}}function QV(e,t){return!t||"object"!==XV(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eq(e){return(eq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tq=document.createElement("div"),nq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZV(e,t)}(i,e);var t,n,r,o=JV(i);function i(){return $V(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){var t=e.contentEditor;this.bind(t,"change",(function(t){var n=t.dom,r=e.getCell(n);!e.signal.preventUpdateCellContent&&r&&e.update(r,{html:n.innerHTML})})),this.bind(t,"beginedit",(function(t){var n=t.dom;e.signal.contentEditing=!0;var r=e.getCell(n);r&&r.beginEditContent()})),this.bind(t,"endedit",(function(t){var n=t.dom,r=t.startHTML,o=t.endHTML;e.signal.contentEditing=!1;var i=e.getCell(n);i&&(i.endEditContent(),tq.innerHTML=o,""===tq.textContent&&(o=-1!==o.indexOf("<br>")?o.replace("<br>","".concat(JA,"<br>")):JA),r!==o&&o!==JA?e.command.execute("UpdateCellContent",{id:i.model.id,startHTML:r,endHTML:o}):i.shouldRefreshEndEditContent()&&e.update(i))}))}}])&&GV(t.prototype,n),r&&GV(t,r),i}(gB);function rq(e){return(rq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aq(e,t){return(aq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lq(e);if(t){var o=lq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sq(this,n)}}function sq(e,t){return!t||"object"!==rq(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lq(e){return(lq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var uq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aq(e,t)}(i,e);var t,n,r,o=cq(i);function i(){return oq(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){var t;this.bind(e,"mousedown",(function(n){clearTimeout(t),t=setTimeout((function(){e.getCell(n.target)?e.tryFocus():e.focus()}))}))}}])&&iq(t.prototype,n),r&&iq(t,r),i}(gB);function fq(e){return(fq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dq(e,t){return(dq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vq(e);if(t){var o=vq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mq(this,n)}}function mq(e,t){return!t||"object"!==fq(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vq(e){return(vq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dq(e,t)}(i,e);var t,n,r,o=hq(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).edges=void 0,e}return t=i,(n=[{key:"init",value:function(e){var t=this;this.bind(e,"afterselect",(function(){var n=e.selector.selections,r=t.edges;1===n.length?(r&&r.forEach((function(e){return e.resizer.end()})),t.edges=n.filter((function(e){return e.isLine})),t.edges.forEach((function(e){return e.resizer.begin()}))):(r&&r.forEach((function(e){return e.resizer.end()})),t.edges=void 0)}))}}])&&pq(t.prototype,n),r&&pq(t,r),i}(gB);function gq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wq(e,t){for(var n=e.getCellsByZIndex().filter((function(e){return!e.isLine&&!e.locked})),r=n.length-1;r>=0;r--){var o=n[r],i=o.getConnection(t);if(i)return i===o?{id:o.model.id,connection:null}:{id:o.model.id,connection:i}}return{id:null,connection:t}}function kq(e,t){var n=gq(t,2),r=n[0],o=n[1],i=e.createSVGPoint();return i.x=r,i.y=o,i}function xq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cq(e,t){var n=RE(e.x,e.y,t.x,t.y);if(n>=5*Math.PI/4&&n<7*Math.PI/4)return"N";if(n>=7*Math.PI/4||n<Math.PI/4)return"E";if(n>=Math.PI/4&&n<3*Math.PI/4)return"S";if(n>=3*Math.PI/4&&n<5*Math.PI/4)return"W";throw new Error("unexpected radian ".concat(n))}function _q(e,t){var n=xq(e,2),r=n[0],o=n[1],i=xq(t,2),a=i[0],c=i[1],s=SE(r,o,a,c);Math.abs(s)<.1&&Math.abs(c-o)<8?t[1]=o:Math.abs(s)>10&&Math.abs(a-r)<8&&(t[0]=r)}function Eq(e){return(Eq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jq(Object(n),!0).forEach((function(t){Pq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tq(e,t,n){return(Tq="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Iq(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Dq(e,t){return(Dq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Aq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Iq(e);if(t){var o=Iq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mq(this,n)}}function Mq(e,t){return!t||"object"!==Eq(t)&&"function"!=typeof t?Nq(e):t}function Nq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iq(e){return(Iq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dq(e,t)}(i,e);var t,n,r,o=Aq(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).onMouseMove=function(t){var n=Nq(e),r=n.diagram,o=n.line,i=n.source,a=wq(r,e.getPoint(t));if(e.cacheEndpointId!==a.id&&(r.highlight.dock([r.find(a.id)]),e.cacheEndpointId=a.id),o){if(a.connection&&!a.id){var c=o.getEndpoint(o.source);_q([c.x,c.y],a.connection)}r.update(o,{target:a})}else i&&function(e,t){return t.id!==e.id||(t.connection&&e.connection?PE(t.connection[0],t.connection[1],e.connection[0],e.connection[1])>8:void 0)}(i,a)&&e.beginInsertLine({source:i,target:a})},e.onMouseDown=function(t){var n=wq(Nq(e).diagram,e.getPoint(t));e.source=n},e.onMouseUp=function(){var t=Nq(e),n=t.diagram,r=t.line;if(e.clear(),n.interaction.changeMode("edit"),r){var o=r.getFirstInsertControlPoints();o&&(r.model.controlPoints=o),n.command.execute("Add",{model:Sq(Sq({},r.model),{},{id:null})})}},e.cacheEndpointId=null,e.diagramType="default",e.cellType="line",e}return t=i,(n=[{key:"getSetting",value:function(){var e=this.diagram,t=this.diagramType;return e.settings[t]}},{key:"getPoint",value:function(e){return this.diagram.viewport.invertClient([e.clientX,e.clientY])}},{key:"beginInsertLine",value:function(e){var t=e.source,n=e.target,r=this.diagram,o=this.cellType,i=this.getSetting()[o],a=i.shape,c=i.marker,s=i.html,l=r.add({type:o,shape:a,source:t,html:s,target:Sq(Sq({},n),{},{marker:c})})[0];this.line=l}},{key:"init",value:function(e){var t=this;this.diagram=e,this.bind(e,"begininsertline",(function(e){t.beginInsertLine(e)})),this.bind(e,"mousemove",this.onMouseMove),this.bind(e,"mousedown",this.onMouseDown),this.bind(e,"mouseup",this.onMouseUp),this.bind(window,"keyup",(function(n){"Esc"!==n.key&&"Escape"!==n.key||(t.clear(),e.interaction.changeMode("edit"))}))}},{key:"clear",value:function(){var e=this.line,t=this.diagram;t&&(this.cacheEndpointId&&t.highlight.clear(),this.cacheEndpointId=null,e&&t.remove(e),this.line=null,this.source=null)}},{key:"unbind",value:function(){this.clear(),Tq(Iq(i.prototype),"unbind",this).call(this)}}])&&Rq(t.prototype,n),r&&Rq(t,r),i}(gB);function Fq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zq=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.diagram=t,this.modes={edit:[new jB,new IB,new UB,new JB,new aV,new hV,new xV,new RV,new zV,new YV,new nq,new uq,new yq],read:[new IB,new UB,new JB,new zV,new aV,new uq,new hV],beginInsetLine:[new Lq],none:[]},this.defaultCursors={read:"grab",beginInsetLine:"crosshair"},this.defaultCursor="default",this.currentMode=null}var t,n,r;return t=e,(n=[{key:"_removeCurrentMode",value:function(){this.currentMode&&this.modes[this.currentMode].forEach((function(e){e.reset(),e.unbind()}))}},{key:"init",value:function(e){this.changeMode(e)}},{key:"addDefaultCursor",value:function(e){Object.assign(this.defaultCursors,e)}},{key:"registerMode",value:function(e,t){var n=this.modes;n[e]?n[e]=n[e].concat(t):this.modes[e]=t}},{key:"getModeCursor",value:function(){return this.defaultCursors[this.currentMode]||this.defaultCursor}},{key:"changeMode",value:function(e){var t=this,n=this.modes[e];this._removeCurrentMode(),n.forEach((function(e){e.diagram=t.diagram,e.init(t.diagram)}));var r=this.defaultCursors[e]||this.defaultCursor;this.currentMode=e,this.diagram.setCursor(r)}},{key:"destroy",value:function(){this._removeCurrentMode(),this.diagram=void 0,this.modes=void 0,this.currentMode=void 0}}])&&Fq(t.prototype,n),r&&Fq(t,r),e}();function Bq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}zq.className="Interaction";var Hq=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.diagram=t,this.fill={color:"#ffffff"}}var t,n,r;return t=e,(n=[{key:"init",value:function(e){Object.assign(this,{size:[200,200]},e),this.eventHelper=new QF,this.visible&&this.render(),this.bind()}},{key:"calculateBBox",value:function(){var e=this.diagram,t=this.size,n=e.rootGroup.getBBox(),r=e.viewport.zoom;if("auto"===t){var o={},i=e.width/r,a=e.height/r;if(n.width<i){var c=n.x+n.width/2,s=i/2;o.left=c-s,o.right=c+s}else o.left=n.x,o.right=n.x+n.width;if(n.height<a){var l=n.y+n.height/2,u=a/2;o.top=l-u,o.bottom=l+u}else o.top=n.y,o.bottom=n.y+n.height;return o}return 0===n.width&&0===n.height?Array.isArray(t)?{top:0,bottom:t[1],left:0,right:t[0]}:{top:0,bottom:e.height,left:0,right:e.width}:{top:Math.floor(n.y/t[1])*t[1],bottom:Math.ceil((n.y+n.height)/t[1])*t[1],left:Math.floor(n.x/t[0])*t[0],right:Math.ceil((n.x+n.width)/t[0])*t[0]}}},{key:"getBBox",value:function(){return this.calculateBBox()}},{key:"render",value:function(){var e=this.diagram,t=this.size,n=this.fill,r=e.defs,o=e.backRootGroup,i=rT(),a=new MT,c=new WT({dx:0,dy:2,stdDeviation:8,"flood-color":"rgba(115, 115, 115, 0.08)"});a.attr({id:i}),a.add(c),r.add(a);var s=Bq(t,2),l=s[0],u=s[1],f=new zP({x:0,y:0,width:l,height:u,fill:n.color});f.css({filter:"url(#".concat(i,")"),"pointer-events":"none"}),o.add(f),this.element=f}},{key:"bind",value:function(){var e=this;if(this.visible){var t=Un()((function(){e.update()}),16);this.eventHelper.bind(this.diagram,"afterviewportchange",t)}}},{key:"update",value:function(e){e&&Object.assign(this,e);var t=this.diagram,n=this.fill,r=this.size;if(this.visible){this.element||this.render();var o=Bq(r,2),i=o[0],a=o[1],c=t.viewport.paperBox,s=c.left,l=c.top;this.element.update({x:s,y:l,width:i,height:a,fill:n&&n.color||"#fff"})}}},{key:"destroy",value:function(){this.element&&this.element.destroy(),this.eventHelper.destroy()}}])&&qq(t.prototype,n),r&&qq(t,r),e}();function Uq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Hq.className="Paper";var Wq=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.diagram=t}var t,n,r;return t=e,(n=[{key:"init",value:function(e){var t=this;this.behaviours=[],e.forEach((function(e){t.registerPlugin(e)}))}},{key:"registerCell",value:function(e){this.diagram.Cells[e.className]=e}},{key:"registerPlugin",value:function(e){var t=this,n=this.diagram,r=e.Cells,o=e.Commands,i=e.Extends,a=e.modes,c=e.defaultCursors;r&&r.forEach((function(e){t.registerCell(e)})),a&&a.forEach((function(e){var r=e.mode,o=e.Behaviours.map((function(e){return new e}));n.interaction.registerMode(r,o),t.behaviours=t.behaviours.concat(o)})),o&&o.forEach((function(e){n.command.register(e)})),i&&n.addExtend(i),c&&n.interaction.addDefaultCursor(c)}},{key:"destroy",value:function(){this.diagram=void 0,this.behaviours.forEach((function(e){return e.destroy()}))}}])&&Uq(t.prototype,n),r&&Uq(t,r),e}();function Kq(e){return(Kq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Wq.className="Register";var Xq=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.diagram=t,this.selections=[]}var t,n,r;return t=e,(n=[{key:"_select",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.diagram,o=r.cellMap;"string"==typeof e&&(e=[o[e]]),Array.isArray(e)&&"string"==typeof e[0]&&(e=e.map((function(e){return o[e]}))),"object"===Kq(e)&&e.isCell&&(e=[e]),e.forEach((function(e){if(e.state.selected!==n){var r=t.selections.indexOf(e);n?(e.select(),-1===r&&t.selections.push(e)):(e.unSelect(),-1!==r&&t.selections.splice(r,1))}}))}},{key:"select",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)||(e=[e]);var n=this.diagram,r=this.selections,o={selections:r.concat([])},i={selections:e.concat([]).map((function(e){return n.find(e)})).filter((function(e){return e}))},a={before:o,after:i,selections:i.selections},c=hE(o.selections,i.selections);!c&&n.emit("beforeselectionchange",a),n.emit("beforeselect",a),this._select(o.selections,!1),this._select(e,t),n.emit("afterselect",a),!c&&n.emit("afterselectionchange",a)}},{key:"clear",value:function(){this.select([])}},{key:"destroy",value:function(){this.diagram=void 0,this.selectedCell=void 0}}])&&Yq(t.prototype,n),r&&Yq(t,r),e}();Xq.className="Selector";var $q=1e-6,Gq="undefined"!=typeof Float32Array?Float32Array:Array,Zq=Math.random;Math.PI;function Jq(){var e=new Gq(9);return Gq!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Qq(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function eH(e){var t=new Gq(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function tH(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function nH(e,t,n,r,o,i,a,c,s){var l=new Gq(9);return l[0]=e,l[1]=t,l[2]=n,l[3]=r,l[4]=o,l[5]=i,l[6]=a,l[7]=c,l[8]=s,l}function rH(e,t,n,r,o,i,a,c,s,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=i,e[5]=a,e[6]=c,e[7]=s,e[8]=l,e}function oH(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function iH(e,t){if(e===t){var n=t[1],r=t[2],o=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=o}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function aH(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],s=t[6],l=t[7],u=t[8],f=u*a-c*l,p=-u*i+c*s,d=l*i-a*s,h=n*f+r*p+o*d;return h?(h=1/h,e[0]=f*h,e[1]=(-u*r+o*l)*h,e[2]=(c*r-o*a)*h,e[3]=p*h,e[4]=(u*n-o*s)*h,e[5]=(-c*n+o*i)*h,e[6]=d*h,e[7]=(-l*n+r*s)*h,e[8]=(a*n-r*i)*h,e):null}function cH(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],s=t[6],l=t[7],u=t[8];return e[0]=a*u-c*l,e[1]=o*l-r*u,e[2]=r*c-o*a,e[3]=c*s-i*u,e[4]=n*u-o*s,e[5]=o*i-n*c,e[6]=i*l-a*s,e[7]=r*s-n*l,e[8]=n*a-r*i,e}function sH(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],c=e[6],s=e[7],l=e[8];return t*(l*i-a*s)+n*(-l*o+a*c)+r*(s*o-i*c)}function lH(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4],s=t[5],l=t[6],u=t[7],f=t[8],p=n[0],d=n[1],h=n[2],m=n[3],v=n[4],y=n[5],g=n[6],b=n[7],w=n[8];return e[0]=p*r+d*a+h*l,e[1]=p*o+d*c+h*u,e[2]=p*i+d*s+h*f,e[3]=m*r+v*a+y*l,e[4]=m*o+v*c+y*u,e[5]=m*i+v*s+y*f,e[6]=g*r+b*a+w*l,e[7]=g*o+b*c+w*u,e[8]=g*i+b*s+w*f,e}function uH(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4],s=t[5],l=t[6],u=t[7],f=t[8],p=n[0],d=n[1];return e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=c,e[5]=s,e[6]=p*r+d*a+l,e[7]=p*o+d*c+u,e[8]=p*i+d*s+f,e}function fH(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4],s=t[5],l=t[6],u=t[7],f=t[8],p=Math.sin(n),d=Math.cos(n);return e[0]=d*r+p*a,e[1]=d*o+p*c,e[2]=d*i+p*s,e[3]=d*a-p*r,e[4]=d*c-p*o,e[5]=d*s-p*i,e[6]=l,e[7]=u,e[8]=f,e}function pH(e,t,n){var r=n[0],o=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function dH(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function hH(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function mH(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function vH(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function yH(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,c=r+r,s=o+o,l=n*a,u=r*a,f=r*c,p=o*a,d=o*c,h=o*s,m=i*a,v=i*c,y=i*s;return e[0]=1-f-h,e[3]=u-y,e[6]=p+v,e[1]=u+y,e[4]=1-l-h,e[7]=d-m,e[2]=p-v,e[5]=d+m,e[8]=1-l-f,e}function gH(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],s=t[6],l=t[7],u=t[8],f=t[9],p=t[10],d=t[11],h=t[12],m=t[13],v=t[14],y=t[15],g=n*c-r*a,b=n*s-o*a,w=n*l-i*a,k=r*s-o*c,x=r*l-i*c,O=o*l-i*s,C=u*m-f*h,_=u*v-p*h,E=u*y-d*h,j=f*v-p*m,S=f*y-d*m,P=p*y-d*v,R=g*P-b*S+w*j+k*E-x*_+O*C;return R?(R=1/R,e[0]=(c*P-s*S+l*j)*R,e[1]=(s*E-a*P-l*_)*R,e[2]=(a*S-c*E+l*C)*R,e[3]=(o*S-r*P-i*j)*R,e[4]=(n*P-o*E+i*_)*R,e[5]=(r*E-n*S-i*C)*R,e[6]=(m*O-v*x+y*k)*R,e[7]=(v*w-h*O-y*b)*R,e[8]=(h*x-m*w+y*g)*R,e):null}function bH(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function wH(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function kH(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function xH(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function OH(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function CH(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function _H(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function EH(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function jH(e,t){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],c=e[5],s=e[6],l=e[7],u=e[8],f=t[0],p=t[1],d=t[2],h=t[3],m=t[4],v=t[5],y=t[6],g=t[7],b=t[8];return Math.abs(n-f)<=$q*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-p)<=$q*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(o-d)<=$q*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-h)<=$q*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-m)<=$q*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(c-v)<=$q*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(s-y)<=$q*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(l-g)<=$q*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(u-b)<=$q*Math.max(1,Math.abs(u),Math.abs(b))}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var SH=lH,PH=OH;function RH(){var e=new Gq(2);return Gq!=Float32Array&&(e[0]=0,e[1]=0),e}function TH(e){var t=new Gq(2);return t[0]=e[0],t[1]=e[1],t}function DH(e,t){var n=new Gq(2);return n[0]=e,n[1]=t,n}function AH(e,t){return e[0]=t[0],e[1]=t[1],e}function MH(e,t,n){return e[0]=t,e[1]=n,e}function NH(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function IH(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function LH(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function FH(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function zH(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function BH(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function VH(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function qH(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function HH(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function UH(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function WH(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function KH(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function YH(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function XH(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function $H(e){var t=e[0],n=e[1];return t*t+n*n}function GH(e,t){return e[0]=-t[0],e[1]=-t[1],e}function ZH(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function JH(e,t){var n=t[0],r=t[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e}function QH(e,t){return e[0]*t[0]+e[1]*t[1]}function eU(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function tU(e,t,n,r){var o=t[0],i=t[1];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e}function nU(e,t){t=t||1;var n=2*Zq()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function rU(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o,e[1]=n[1]*r+n[3]*o,e}function oU(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o+n[4],e[1]=n[1]*r+n[3]*o+n[5],e}function iU(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[3]*o+n[6],e[1]=n[1]*r+n[4]*o+n[7],e}function aU(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[4]*o+n[12],e[1]=n[1]*r+n[5]*o+n[13],e}function cU(e,t,n,r){var o=t[0]-n[0],i=t[1]-n[1],a=Math.sin(r),c=Math.cos(r);return e[0]=o*c-i*a+n[0],e[1]=o*a+i*c+n[1],e}function sU(e,t){var n=e[0],r=e[1],o=t[0],i=t[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(o*o+i*i),c=a&&(n*o+r*i)/a;return Math.acos(Math.min(Math.max(c,-1),1))}function lU(e){return e[0]=0,e[1]=0,e}function uU(e){return"vec2("+e[0]+", "+e[1]+")"}function fU(e,t){return e[0]===t[0]&&e[1]===t[1]}function pU(e,t){var n=e[0],r=e[1],o=t[0],i=t[1];return Math.abs(n-o)<=$q*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-i)<=$q*Math.max(1,Math.abs(r),Math.abs(i))}var dU,hU=XH,mU=IH,vU=LH,yU=FH,gU=KH,bU=YH,wU=$H,kU=(dU=RH(),function(e,t,n,r,o,i){var a,c;for(t||(t=2),n||(n=0),c=r?Math.min(r*t+n,e.length):e.length,a=n;a<c;a+=t)dU[0]=e[a],dU[1]=e[a+1],o(dU,dU,i),e[a]=dU[0],e[a+1]=dU[1];return e});function xU(){var e=new Gq(3);return Gq!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function OU(e){var t=new Gq(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function CU(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function _U(e,t,n){var r=new Gq(3);return r[0]=e,r[1]=t,r[2]=n,r}function EU(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function jU(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function SU(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function PU(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function RU(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function TU(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function DU(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function AU(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function MU(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function NU(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function IU(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function LU(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function FU(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function zU(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.hypot(n,r,o)}function BU(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o}function VU(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function qU(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function HU(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function UU(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function WU(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function KU(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],c=n[1],s=n[2];return e[0]=o*s-i*c,e[1]=i*a-r*s,e[2]=r*c-o*a,e}function YU(e,t,n,r){var o=t[0],i=t[1],a=t[2];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e}function XU(e,t,n,r,o,i){var a=i*i,c=a*(2*i-3)+1,s=a*(i-2)+i,l=a*(i-1),u=a*(3-2*i);return e[0]=t[0]*c+n[0]*s+r[0]*l+o[0]*u,e[1]=t[1]*c+n[1]*s+r[1]*l+o[1]*u,e[2]=t[2]*c+n[2]*s+r[2]*l+o[2]*u,e}function $U(e,t,n,r,o,i){var a=1-i,c=a*a,s=i*i,l=c*a,u=3*i*c,f=3*s*a,p=s*i;return e[0]=t[0]*l+n[0]*u+r[0]*f+o[0]*p,e[1]=t[1]*l+n[1]*u+r[1]*f+o[1]*p,e[2]=t[2]*l+n[2]*u+r[2]*f+o[2]*p,e}function GU(e,t){t=t||1;var n=2*Zq()*Math.PI,r=2*Zq()-1,o=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*o,e[1]=Math.sin(n)*o,e[2]=r*t,e}function ZU(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,e}function JU(e,t,n){var r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e}function QU(e,t,n){var r=n[0],o=n[1],i=n[2],a=n[3],c=t[0],s=t[1],l=t[2],u=o*l-i*s,f=i*c-r*l,p=r*s-o*c,d=o*p-i*f,h=i*u-r*p,m=r*f-o*u,v=2*a;return u*=v,f*=v,p*=v,d*=2,h*=2,m*=2,e[0]=c+u+d,e[1]=s+f+h,e[2]=l+p+m,e}function eW(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function tW(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function nW(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function rW(e,t){var n=e[0],r=e[1],o=e[2],i=t[0],a=t[1],c=t[2],s=Math.sqrt(n*n+r*r+o*o)*Math.sqrt(i*i+a*a+c*c),l=s&&WU(e,t)/s;return Math.acos(Math.min(Math.max(l,-1),1))}function oW(e){return e[0]=0,e[1]=0,e[2]=0,e}function iW(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function aW(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function cW(e,t){var n=e[0],r=e[1],o=e[2],i=t[0],a=t[1],c=t[2];return Math.abs(n-i)<=$q*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=$q*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-c)<=$q*Math.max(1,Math.abs(o),Math.abs(c))}var sW=PU,lW=RU,uW=TU,fW=zU,pW=BU,dW=CU,hW=VU,mW=function(){var e=xU();return function(t,n,r,o,i,a){var c,s;for(n||(n=3),r||(r=0),s=o?Math.min(o*n+r,t.length):t.length,c=r;c<s;c+=n)e[0]=t[c],e[1]=t[c+1],e[2]=t[c+2],i(e,e,a),t[c]=e[0],t[c+1]=e[1],t[c+2]=e[2];return t}}();function vW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yW=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.diagram=t}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.focusPoint=[0,0,1],this.minZoom=.2,this.maxZoom=2,this.zoom=1,this.autoFitPadding=8,this.m=null,this.scrollBarSize=20,this.eventHelper=new QF,this._initContainerSize(),this.setViewport(1),this._bindEvent()}},{key:"getViewportClientBox",value:function(){var e=this.diagram,t=this.scrollBarSize,n=e.viewportContainer.getBoundingClientRect(),r=n.x,o=n.y,i=n.width-t,a=n.height-t;return{minX:r,minY:o,maxX:r+i,maxY:o+a,x:r,y:o,width:i,height:a}}},{key:"getViewportBox",value:function(){var e=this.getViewportClientBox(),t=e.minX,n=e.minY,r=e.maxX,o=e.maxY,i=e.width,a=e.height,c=this.invertClient([t,n]),s=this.invertClient([r,o]);return{minX:c[0],minY:c[1],maxX:s[0],maxY:s[1],x:c[0],y:c[1],width:i,height:a}}},{key:"_resetFocusPoint",value:function(){var e=this.focusPoint,t=this.getViewportClientBox();e[0]=t.x+t.width/2,e[1]=t.y+t.height/2}},{key:"_bindEvent",value:function(){var e=this,t=this.diagram,n=this.eventHelper,r=t.viewportContainer;n.bind(r,"scroll",Un()((function(){CE(Math.floor(e.scrollLeft),r.scrollLeft,1)&&CE(Math.floor(e.scrollTop),r.scrollTop,1)||(e._setScrollLeft(r.scrollLeft),e._setScrollTop(r.scrollTop),e._change())}),16)),n.bind(t,"aftercommandexecute",(function(t){if(t.isModelChange){if(e.isPreventDefault||e.destroyed)return;e.refresh()}})),this._trackVisualFocus(),this._trackSingleSelect()}},{key:"preventDefault",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isPreventDefault=e}},{key:"_trackSingleSelect",value:function(){var e=this,t=this.diagram;this.eventHelper.bind(t,"afterselect",(function(){var n=t.selector.selections;if(1===n.length){var r=n[0];e.scrollIntoView(r)}}))}},{key:"scrollIntoView",value:function(e){var t=this.diagram,n=this.scrollBarSize,r=t.width,o=t.height,i=t.canvas.getBoundingClientRect();if(!(i.width<=r&&i.height<=o)){var a=this.convertViewport([e.x,e.y]),c=this.convertViewport([e.x+e.width,e.y+e.height]),s=this.scrollLeft,l=this.scrollTop;a[0]<0?s-=Math.abs(a[0])+20:c[0]>r-n&&(s+=c[0]-r+n+20),a[1]<0?l-=Math.abs(a[1])+20:c[1]>o-n&&(l+=c[1]-o+n+20),s===this.scrollLeft&&l===this.scrollTop||this.moveTo(s,l)}}},{key:"_trackVisualFocus",value:function(){var e=this,t=this.diagram,n=this.focusPoint,r=this.eventHelper;r.bind(t,"mousemove",(function(e){var t=e.clientX,r=e.clientY;n[0]=t,n[1]=r})),r.bind(t,"mouseleave",(function(t){t.relatedTarget&&1===t.relatedTarget.nodeType&&t.relatedTarget.closest(".lake-diagram-prevent-mouseleave-reset-focus-point")||e._resetFocusPoint()}))}},{key:"_resizeViewport",value:function(){var e=this.diagram,t=e.viewportContainer,n=e.width,r=e.height;t.style.width="".concat(n,"px"),t.style.height="".concat(r,"px"),t.style.maxWidth="".concat(n,"px"),t.style.maxHeight="".concat(r,"px")}},{key:"_initContainerSize",value:function(){this.diagram.viewportContainer.style.overflow="auto",this._resizeViewport()}},{key:"_change",value:function(){var e=this.scrollLeft,t=this.scrollTop,n=this.canvasWidth,r=this.canvasHeight,o=this.viewBox,i=this.diagram,a=i.viewportContainer,c=i.canvas;i.emit("beforeviewportchange"),this._resizeViewport(),c.rendererElement.style.display="block",c.rendererElement.style.width="".concat(n,"px"),c.rendererElement.style.height="".concat(r,"px"),c.rendererElement.setAttribute("viewBox",o.join(",")),a.scrollLeft=Math.floor(e),a.scrollTop=Math.floor(t),i.emit("afterviewportchange"),this._setMatrix()}},{key:"_setMatrix",value:function(){var e=this.zoom,t=this.scrollLeft,n=this.scrollTop,r=this.viewBox;this.n=[e,0,0,0,e,0,-e*r[0],-e*r[1],1],this.m=[e,0,0,0,e,0,-t-e*r[0],-n-e*r[1],1]}},{key:"focusFirstRoot",value:function(){var e=this.diagram,t=e.getCells().filter((function(e){return e.isRoot}))[0];t&&(this.autoFit(),e.viewport.focus([t.x+t.width/2,t.y+t.height/2]),e.viewport.setViewport(1))}},{key:"moveTo",value:function(e,t){this._setScrollLeft(e),this._setScrollTop(t),this._change()}},{key:"getPadding",value:function(){var e=this.diagram;return e.options.padding||[e.height/2,e.width/2]}},{key:"_restoreCanvasTlPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoom;this.setViewport(t);var n=this.invertViewport([0,0]);this.moveTo(this.scrollLeft+(e[0]-n[0])*t,this.scrollTop+(e[1]-n[1])*t)}},{key:"refresh",value:function(){var e=this.getViewportClientBox();this.setViewport(this.zoom,[e.x,e.y])}},{key:"_setScrollLeft",value:function(e){var t=this.diagram,n=this.canvasWidth,r=this.scrollBarSize,o=n-t.width+r,i=e;e<0&&(i=0),e>o&&(i=o),this.scrollLeft=i}},{key:"_setScrollTop",value:function(e){var t=this.diagram,n=this.canvasHeight,r=this.scrollBarSize,o=n-t.height+r,i=e;e<0&&(i=0),e>o&&(i=o),this.scrollTop=i}},{key:"setViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.zoom,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.focusPoint,n=this.minZoom,r=this.maxZoom;e<n?e=n:e>r&&(e=r),this.zoom=e;var o,i,a=this.diagram,c=this.m,s=a.width,u=a.paper,p=u.getBBox(),d=this.getPadding(p,e),h=this.getViewportClientBox(),m=p.right-p.left,v=p.bottom-p.top,y=m*e+2*d[1],g=v*e+2*d[0],b=[p.left-d[1]/e,p.top-d[0]/e,y/e,g/e];if(c){var w=[t[0]-h.x,t[1]-h.y,1],k=l.invert([],c),x=f.transformMat3([],[w[0],w[1],1],k),O=[e,0,0,0,e,0,-e*b[0],-e*b[1],1],C=f.transformMat3([],x,O);o=C[0]-w[0],i=C[1]-w[1]}else o=(y-s)/2,i=d[0]-p.top;this.paperBox=p,this.canvasWidth=y,this.canvasHeight=g,this.zoom=e,this.viewBox=b,this._setScrollLeft(o),this._setScrollTop(i),this._change()}},{key:"convertViewport",value:function(e){var t=this.m;return f.transformMat3([],[e[0],e[1],1],t)}},{key:"invertViewport",value:function(e){var t=this.m,n=l.invert([],t);return f.transformMat3([],[e[0],e[1],1],n)}},{key:"convertViewportAbs",value:function(e){var t=this.n;return f.transformMat3([],[e[0],e[1],1],t)}},{key:"invertViewportAbs",value:function(e){var t=this.n,n=l.invert([],t);return f.transformMat3([],[e[0],e[1],1],n)}},{key:"convertClient",value:function(e){var t=this.m,n=this.getViewportClientBox(),r=f.transformMat3([],[e[0],e[1],1],t);return[r[0]+n.x,r[1]+n.y]}},{key:"invertClient",value:function(e){var t=this.m,n=this.getViewportClientBox(),r=[e[0]-n.x,e[1]-n.y,1],o=l.invert([],t),i=f.transformMat3([],[r[0],r[1],1],o);return[i[0],i[1]]}},{key:"getCenter",value:function(){var e=this.getViewportClientBox();return this.invertClient([e.x+e.width/2,e.y+e.height/2])}},{key:"toObject",value:function(){var e=this.zoom,t=this.diagram;return{zoom:e,tlCanvasPoint:this.invertViewport([0,0]),width:t.width,height:t.height}}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tlCanvasPoint||e.originCanvasTlPoint;if(t){var n=e.zoom;this._restoreCanvasTlPoint(t,n)}else"number"==typeof e.scrollLeft&&"number"==typeof e.scrollTop&&(this.setViewport(e.zoom),this.moveTo(e.scrollLeft,e.scrollTop))}},{key:"setWYSIWYG",value:function(e){var t=this.diagram,n=this.scrollBarSize;if(t.width>e.width&&t.height>e.height)this.set({zoom:e.zoom,tlCanvasPoint:e.tlCanvasPoint});else{var r=Math.min((t.width-n)/(e.width-n),(t.height-n)/(e.height-n))*e.zoom;this.set({zoom:r,tlCanvasPoint:e.tlCanvasPoint})}}},{key:"_focus",value:function(e){var t=this.m,n=this.getViewportClientBox(),r=f.transformMat3([],[e[0],e[1],1],t),o=[n.width/2,n.height/2],i=o[0]-r[0],a=o[1]-r[1];this._setScrollLeft(this.scrollLeft-i),this._setScrollTop(this.scrollTop-a),this._setMatrix()}},{key:"focus",value:function(e){this._focus(e),this._change()}},{key:"autoFit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.minZoom,n=e.maxZoom,r=e.zoom,o=this.diagram,i=this.autoFitPadding,a=o.rootGroup,c=a.getBBox();if(t=t||this.minZoom,n=n||1,null==r){var s=this.getViewportClientBox();s.width-=2*i,s.height-=2*i,r=Math.min(s.width/c.width,s.height/c.height)}r<t?r=t:r>n&&(r=n),this._focus([c.x+c.width/2,c.y+c.height/2]),this._resetFocusPoint(),this.setViewport(r)}},{key:"destroy",value:function(){this.eventHelper.destroy(),this.diagram=void 0,this.destroyed=!0}},{key:"width",get:function(){return this.diagram.width}},{key:"height",get:function(){return this.diagram.height}}])&&vW(t.prototype,n),r&&vW(t,r),e}();function gW(e){return"line"===e.type&&e.children&&delete e.children,e}yW.className="Viewport";var bW=n(243),wW=n.n(bW);function kW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OW(e){return(OW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var CW={find:function(e){if(null!=e){var t=this.cellMap;return"object"===OW(e)&&e.isCell?e:t[e]}},_draw:function(e,t,n){var r=this;this.emit("beforedraw",n),e.forEach((function(e){e.draw()})),t.forEach((function(e){r.layout(e)})),this.drawRelatedLines(e),this.emit("afterdraw",n)},_processSiblingSheets:function(e){var t=this.cellMap;e.sort((function(e,t){return t[3]-e[3]}));for(var n=0;n<e.length;n++){var r=e[n],o=t[r[0]],i=t[r[2]];if(o&&i){var a=r[1];"before"!==a&&"after"!==a||i.graphicGroup[a](o.graphicGroup)}}},getRelatedLines:function(e){var t=this.cellMap,n=e.reduce((function(e,t){return e[t.root.model.id]=!0,e}),{}),r=this.getCells().filter((function(e){return e.isLine})),o=[];return r.forEach((function(e){["source","target"].some((function(r){var o=e[r].id,i=t[o];return o&&!i||i&&n[i.root.model.id]}))&&o.push(e)})),o},drawRelatedLines:function(e){this.getRelatedLines(e).forEach((function(e){e.draw()}))},_add:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n={action:"add"};this.emit("beforechange",n);var r=this.cellMap,o=this.rootGroup,i=[],a=[];t.forEach((function(t){var n,o,c,s=t.model,l=t.options,u=[];if(gW(s),l.parent){if(c=r[l.parent],o=c.root.model,n=e._getCellConstructors(o.type),yE(c.model,s),l.nth>=0){var f=c.model.children;mE(f,f.indexOf(s),l.nth)}}else o=s,c=null,n=e._getCellConstructors(s.type);Z_(s,(function(t,i){i&&i.id&&(c=r[i.id]),void 0!==t.html&&(t.html=az(t.html)),t.id=t.id||rT();var a=t.id,s=c?c.depth+1:0,l=0===s?n[0]:n[n.length-1],f={model:t,cellMap:r,parent:c,depth:s,diagram:e},p=r[o.id];p&&(f.root=p);var d=new l(f);0===s&&(d.isRoot=!0),r[a]=d,u.push(d)}));var p=r[o.id];p&&(i[p.model.id]=p),a=a.concat(u)})),a.sort((function(e,t){return e.zIndex-t.zIndex})),a.forEach((function(e){o.add(e.graphicGroup)}));var c=[];t.forEach((function(e){var t=e.options;t.siblingSheets&&(c=c.concat(t.siblingSheets))})),this._processSiblingSheets(c);var s=t.map((function(e){return e.model}));n.models=s,this._draw(a,Object.values(i),n),this.emit("afterchange",n);var l=s.map((function(e){return r[e.id]}));return l},add:function(e,t){var n,r={};if(Array.isArray(e))n=e.map((function(e){return{model:e}}));else{if(!tE()(e))throw new Error("Params is illegal");n=[{model:e,options:t}]}return Array.isArray(t)?n.forEach((function(e,n){e.options=t[n]})):tE()(t)&&n.forEach((function(e){e.options=t})),n.forEach((function(e){e.options||(e.options=r)})),this._add(gd()(n))},_update:function(e){var t=this,n=this.cellMap,r=[],o={action:"update",models:[]},i={},a=[];e=e.map((function(e){var n=t.find(e.id);return n?(e.cell=n,o.models.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kW(Object(n),!0).forEach((function(t){xW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:n.model.id},e.model)),e):null})).filter((function(e){return e})),this.emit("beforechange",o),e.forEach((function(e){var t=e.model,o=e.options,c=e.cell,s=c.parent;if(void 0!==o.parent)if(s=n[o.parent]){if(c.parent||(c.parent=s,c.root=s.root,yE(s.model,c.model)),c.parent&&c.parent!==s){var l=c.parent.model.children;l.splice(l.indexOf(c.model),1),c.parent=s,c.root=s.root,yE(s.model,c.model)}c.depth=s.depth+1}else if(null===s&&c.parent){var u=c.parent.model.children;u.splice(u.indexOf(c.model),1),c.parent=null,c.root=c}var f=o.nth;if(void 0!==f&&s){var p=s.model.children;mE(p,p.indexOf(c.model),f)}o.siblingSheets&&(a=a.concat(o.siblingSheets)),c.updateModel(t),r.push(c),void 0!==t.collapsed&&Z_(c.model,(function(e){var t=n[e.id];t!==c&&t.drawCollapse()})),i[c.root.model.id]=c.root})),this._processSiblingSheets(a),this._draw(r,Object.values(i),o),this.emit("afterchange",o)},update:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(("string"==typeof e||"object"===OW(e)&&e.isCell)&&tE()(n))t=[{id:e}];else{if(!Array.isArray(e))throw new Error("Please set id !");t=e.map((function(e){return{id:e}}))}return tE()(n)?t.forEach((function(e){e.model=n})):Array.isArray(n)&&t.forEach((function(e,t){e.model=n[t]})),tE()(r)?t.forEach((function(e){e.options=r})):Array.isArray(r)?t.forEach((function(e,t){e.options=r[t]})):t.forEach((function(e){e.options={}})),t.forEach((function(e){e.model=e.model||{},e.model=wW()(e.model),e.options=e.options||{},e.options=wW()(e.options)})),this._update(t)},_remove:function(e){var t=this,n=e.map((function(e){return t.find(e)})).filter((function(e){return e}));if(0!==n.length){n=this.deduplicate(n);var r=this.cellMap,o=n.map((function(e){return e.getAllCells()})).reduce((function(e,t){return e.concat(t)})),i=dE(n.map((function(e){return e.root}))),a=[],c={action:"remove",roots:i,models:a};n.forEach((function(e){a.push(e.model)})),this.emit("beforechange",c),n.forEach((function(e){if(c.models.push(e.model),e.parent){var t=e.parent.model.children;t.splice(t.indexOf(e.model),1)}})),o.forEach((function(e){e.destroy();var n=t.selector.selections.indexOf(e);-1!==n&&t.selector.selections.splice(n,1),delete r[e.model.id]})),i.forEach((function(e){t.layout(e.model.id)})),this.drawRelatedLines(i),this.emit("afterchange",c)}},remove:function(e){return Array.isArray(e)||(e=[e]),this._remove(e)}};function _W(e){return function(e){if(Array.isArray(e))return SW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||jW(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||jW(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jW(e,t){if(e){if("string"==typeof e)return SW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SW(e,t):void 0}}function SW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var PW={deduplicate:function(e){var t=this;if(!e||0===e.length)return e;if((e=e.concat([])).every((function(t){return t.depth===e[0].depth})))return e;e.sort((function(e,t){return e.depth-t.depth}));for(var n=0;n<e.length;n++){var r=e[n];r&&J_(r.model,(function(n){n=t.find(n.id);var r=e.indexOf(n);-1!==r&&(e[r]=null)}))}return e.filter((function(e){return e}))},snapshot:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[t.map((function(e){return gd()(e.model)})),t.map((function(t){return e.getCellOptions(t)}))]},getStaticSVG:function(){var e=this.getCells().filter((function(e){return e.state.beginEdit||e.state.selected||e.state.highlight}));e.forEach((function(e){return e.setDefault()})),this.frontRootGroup.update({visibility:"hidden"}),this.backRootGroup.update({visibility:"hidden"});var t=this.canvas.rendererElement.cloneNode(!0);return t.querySelector('[data-element="back_group"]').remove(),t.querySelector('[data-element="front_group"]').remove(),e.forEach((function(e){return e.updateState()})),this.frontRootGroup.update({visibility:"visible"}),this.backRootGroup.update({visibility:"visible"}),t},getCell:function(e){var t=this.canvasContainer,n=this.cellMap;if(!e||!t.contains(e))return null;for(var r=Object.keys(n),o=0;o<r.length;o++){var i=n[r[o]];if(i.graphicGroup.rendererElement.contains(e))return i}return null},getCellOptions:function(e){var t=this,n=this.cellMap,r=[];return Z_(e.model,(function(e){var o=n[e.id],i=t.getSibling(o);i&&(i.unshift(o.model.id),i.push(o.getZIndex()),r.push(i))})),{parent:e.parent&&e.parent.model.id,nth:e.getNth(),siblingSheets:r}},getSibling:function(e){var t=e.graphicGroup.getSiblingRendererElement();return t?(t[1]=this.getCell(t[1]).model.id,t):null},getCells:function(){var e=[];return this.deepEach((function(t){e.push(t)})),e},getCellsByZIndex:function(){var e=[];return this.deepEach((function(t){e.push([t,t.getZIndex()])})),e.sort((function(e,t){var n=EW(e,2)[1],r=EW(t,2)[1];return n>r?1:n<r?-1:0})),e.map((function(e){return e[0]}))},getCellByPoint:function(e){for(var t=this.getCellsByZIndex(),n=t.length-1;n>=0;n--){var r=t[n];if(!r.locked){var o=r.width,i=r.height,a=r.matrix,c=EW(f.transformMat3([],[].concat(_W(e),[1]),l.invert([],a)),2),s=c[0],u=c[1];if(s>=0&&u>=0&&s<=o&&u<=i)return r}}}},RW={changePaper:function(e){Object.assign(this.paper,e),this.viewport.refresh()},changeSize:function(e,t){this.width=e,this.height=t,this.viewport.refresh()}};function TW(e){return(TW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return AW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AW(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MW(Object(n),!0).forEach((function(t){IW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zW=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(LW(this,e),!t.diagram)throw new Error("cell requires diagram!");Object.assign(this,NW({model:{},parent:null,computedProps:{},penetratedKeys:[],anchors:[],stroke:{width:1}},t)),this.root=this.root||this,this.type=this.root.model.type,this.isCell=!0,this.matrix=[1,0,0,0,1,0,0,0,1],this.graphicGroup=new Fj,this.eventHelper=new QF,this.state={visible:!0},this.zIndex=this.model.zIndex||0,this.cache={},this.options=t,this.multiSelectHighlight=!0,this.penetratedKeys=["strokeStyle"].concat(this.penetratedKeys)}var t,n,r;return t=e,(n=[{key:"canDelete",value:function(){return!0}},{key:"canFill",value:function(){return!0}},{key:"canStroke",value:function(){return!0}},{key:"canStrokeWidth",value:function(){return!0}},{key:"canStrokeStyle",value:function(){return!0}},{key:"canMove",value:function(){return!1}},{key:"canCollapse",value:function(){var e=this.model;return e.children&&e.children.length>0&&!0!==this.collapsed}},{key:"canExpand",value:function(){var e=this.model;return e.children&&e.children.length>0&&!0===this.collapsed}},{key:"convertStrokeStyle",value:function(){if("dash"===this.stroke.style){var e=this.stroke.width||1;return{"stroke-dasharray":[e,3*e].join(" ")}}return{"stroke-dasharray":"none"}}},{key:"setDefault",value:function(){}},{key:"get",value:function(e){return gd()(this[e])}},{key:"getOuterWidth",value:function(){return this.model.width}},{key:"isDiscrete",value:function(){}},{key:"beginEditContent",value:function(){}},{key:"endEditContent",value:function(){}},{key:"shouldRefreshEndEditContent",value:function(){return!1}},{key:"isContentEmpty",value:function(){var e=this.html,t=document.createElement("div");return t.innerHTML=e,!t.textContent||"%E2%80%8B"===encodeURI(t.textContent)}},{key:"draw",value:function(){}},{key:"getRelativePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.width,r=this.height,o=this.getCanvasPoint({x:e.x*(n+2*t),y:e.y*(r+2*t)},t);return o}},{key:"getCanvasPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.matrix,r=f.transformMat3([],[e.x-t,e.y-t,1],n),o=DW(r,2),i=o[0],a=o[1];return{x:i,y:a}}},{key:"rotateTo",value:function(e){var t=[1,0,0,0,1,0,0,0,1];l.fromRotation(t,e),this.matrix[0]=t[0],this.matrix[1]=t[1],this.matrix[3]=t[3],this.matrix[4]=t[4],this.graphicGroup.update({matrix:this.matrix})}},{key:"getAbsBBox",value:function(){var e=this.getRelativePoint({x:0,y:0}),t=this.getRelativePoint({x:1,y:0}),n=this.getRelativePoint({x:0,y:1}),r=this.getRelativePoint({x:1,y:1}),o=Math.min(e.x,t.x,n.x,r.x),i=Math.min(e.y,t.y,n.y,r.y),a=Math.max(e.x,t.x,n.x,r.x),c=Math.max(e.y,t.y,n.y,r.y);return{minX:o,minY:i,maxX:a,maxY:c,x:o,y:i,width:a-o,height:c-i}}},{key:"eventDelegation",value:function(){}},{key:"getEventObject",value:function(e){return e}},{key:"getChildren",value:function(){var e=this.cellMap;return this.model.children.map((function(t){return e[t.id]}))}},{key:"getAllCells",value:function(){var e=this.cellMap,t=[];return Z_(this.model,(function(n){t.push(e[n.id])})),t}},{key:"getSiblings",value:function(){var e=this,t=this.cellMap;return this.parent.model.children.filter((function(t){return t.id!==e.model.id})).map((function(e){return t[e.id]}))}},{key:"getLastSibling",value:function(){return this.getSiblings()[this.parent.model.children.indexOf(this.model)-1]}},{key:"getNextSibling",value:function(){return this.getSiblings()[this.parent.model.children.indexOf(this.model)]}},{key:"delegateEvent",value:function(e,t,n){var r=this,o=this.eventHelper,i=this.diagram;o.bind(e,t,(function(e){return i.emit(n,r.getEventObject(e))}))}},{key:"hide",value:function(){this.graphicGroup.css({display:"none"}),this.state.visible=!1}},{key:"show",value:function(){this.graphicGroup.css({display:""}),this.state.visible=!0}},{key:"updateState",value:function(){}},{key:"select",value:function(){this.state.selected=!0,this.state.highlight=!1,this.updateState()}},{key:"unSelect",value:function(){this.state.selected=!1,this.updateState()}},{key:"highlight",value:function(){this.state.highlight=!0,this.updateState()}},{key:"unHighlight",value:function(){this.state.highlight=!1,this.updateState()}},{key:"toBack",value:function(){this.graphicGroup.toBack()}},{key:"toFront",value:function(){this.graphicGroup.toFront()}},{key:"forward",value:function(){this.graphicGroup.forward()}},{key:"backward",value:function(){this.graphicGroup.backward()}},{key:"closest",value:function(e,t){return bE(this,e,t)}},{key:"getZIndex",value:function(){return this.graphicGroup.getZIndex()}},{key:"getNth",value:function(){return this.parent?this.parent.model.children.indexOf(this.model):0}},{key:"forEach",value:function(e){var t=this.cellMap;this.model.children.forEach((function(n,r){e(t[n.id],r)}))}},{key:"deepEach",value:function(e){var t=this.cellMap;Z_(this.model,(function(n){e(t[n.id])}))}},{key:"deepEachWithoutSelf",value:function(e){var t=this.cellMap;J_(this.model,(function(n){e(t[n.id])}))}},{key:"render",value:function(){}},{key:"update",value:function(e){this.updateModel(e),this.draw()}},{key:"updateModel",value:function(e){e&&(rE()(this.model,e,(function(e,t){if(Array.isArray(e))return t})),this.normalize(),this.merge())}},{key:"normalize",value:function(){var e=this;Object.keys(this.model).forEach((function(t){var n=e.model[t];null==n?e.model[t]=void 0:tE()(n)&&(Object.values(n).every((function(e){return null==e}))?e.model[t]=void 0:Object.keys(n).forEach((function(r){null==n[r]&&(e.model[t][r]=void 0)})))}))}},{key:"merge",value:function(){var e=this,t=this.model,n=this.penetratedKeys;Object.keys(t).filter((function(e){return n.includes(e)})).forEach((function(n){var r=t[n],o=e.default&&gd()(e.default[n]);tE()(r)&&o?Object.keys(r).forEach((function(t){var i=r[t];e[n][t]=null==i?o[t]:i})):e[n]=null==r?o:r}))}},{key:"isCacheStale",value:function(){for(var e=this,t=this.cache,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.some((function(n){var r=t[n],o=e[n];if(tE()(o)&&tE()(r))for(var i in o)if(o[i]!==r[i])return!0;return r!==o}))}},{key:"getPoint",value:function(e){var t=this.anchors,n=TW(e);if("string"===n){var r=t.find((function(t){return t.name===e}));if(r)return this.getRelativePoint(r)}if("number"===n)if(e>=1&&e<t.length){var o=t[e-1];if(o)return this.getRelativePoint(o)}else if(e>=0)return this.getPointAtLength(e);if(Array.isArray(e)){var i=DW(e,2),a=i[0],c=i[1];return e.every((function(e){return e>=0&&e<=1}))?this.getRelativePoint({x:a,y:c}):{x:a,y:c}}throw new Error("unknown connection point ".concat(e))}},{key:"getKeyShape",value:function(){var e;return J_(this.graphicGroup,(function(t){if(t.isPath)return e=t,!1})),e}},{key:"getSvgPoint",value:function(e){var t=e.x,n=e.y,r=this.diagram.canvas.rendererElement.createSVGPoint();return r.x=t,r.y=n,r}},{key:"isPointInShape",value:function(e){var t=this.matrix,n=DW(f.transformMat3([],[e.x,e.y,1],l.invert([],t)),2),r=n[0],o=n[1],i=this.getSvgPoint({x:r,y:o}),a=this.getKeyShape();return a.isPointInFill(i)||a.isPointInStroke(i)}},{key:"getIntersectionPoint",value:function(e,t){for(var n=RE(e.x,e.y,t.x,t.y),r=e.x,o=e.y,i=n<=Math.PI/2||n>=3*Math.PI/2?1:-1,a=n>=Math.PI?-1:1,c=Math.abs(Math.tan(n))>1;this.isPointInShape({x:r,y:o});)c?(r+=a/Math.tan(n),o+=a):(r+=i,o+=i*Math.tan(n));return{x:r,y:o}}},{key:"getPointAtLength",value:function(e){var t=this.getKeyShape(),n=t.getTotalLength(),r=t.getPointAtLength(e*n);return this.getCanvasPoint(r)}},{key:"getConnection",value:function(e){var t=this.matrix,n=[e[0],e[1],1],r=DW(f.transformMat3([],n,l.invert([],t)),2),o=r[0],i=r[1],a=this.width,c=this.height;if(!(o<-8||o>a+8||i<-8||i>c+8)){for(var s=this.getKeyShape(),u=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;n||(n=e.getBoundingClientRect()),e.rendererElement&&(e=e.rendererElement);var o=n,i=o.top,a=o.right,c=o.bottom,s=o.left,l=gq(t,2),u=l[0],f=l[1];if(!(u<s-r||u>a+r||f<i-r||f>c+r)){for(var p=s+(a-s)/2,d=i+(c-i)/2,h=e.closest("svg"),m=u>a?a:u<s?s:u,v=f>c?c:f<i?i:f,y=s;y<=p&&PE(u,f,y,f)<=r;){var g=kq(h,[y,f]);if(e.isPointInStroke(g))return[y,v];y++}for(y=a;y>=p&&PE(u,f,y,f)<r;){var b=kq(h,[y,f]);if(e.isPointInStroke(b))return[y,v];y--}for(var w=i;w<=c&&PE(u,f,u,w)<=r;){var k=kq(h,[u,w]);if(e.isPointInStroke(k))return[m,w];w++}for(w=c;w>=d&&PE(u,f,u,w)<=r;){var x=kq(h,[u,w]);if(e.isPointInStroke(x))return[m,w];w--}}}(s,[o,i],{top:0,right:a,bottom:c,left:0}),p=this.anchors,d=u||[o,i],h=0;h<p.length;h++){var m=p[h],v=[m.x*a,m.y*c];if(PE(d[0],d[1],v[0],v[1])<=8)return m.name||[m.x,m.y]}if(u)return[u[0]/a,u[1]/c];var y=this.getSvgPoint({x:o,y:i});return s.isPointInFill(y)?this:void 0}}},{key:"drawPosition",value:function(){}},{key:"drawCollapse",value:function(){}},{key:"drawInherit",value:function(){}},{key:"destroy",value:function(){this.eventHelper.destroy(),this.graphicGroup.destroy(),this.destroyed=!0}}])&&FW(t.prototype,n),r&&FW(t,r),e}();function BW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BW(Object(n),!0).forEach((function(t){qW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}zW.className="Cell";var UW=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,VW({algorithms:{},model:{},parse:function(){return{}}},t))}var t,n,r;return t=e,(n=[{key:"_parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.parse,o=VW({w:e.width||10,h:e.height||10,quadrants:e.quadrants||2,quadrant:e.quadrant||"1",direction:e.direction||[1,0],collapsed:e.collapsed||!1,layout:e.layout,origin:e,depth:n,children:[],parent:t},r(e));if(o.quadrants&&(o.quadrants=this._parseQuadrants(o.quadrants)||["1","2"]),o.quadrant&&(o.quadrant=String(o.quadrant)),e.children)for(var i=0;i<e.children.length;i++){var a=e.children[i];o.children.push(this._parse.call(this,a,o,n+1))}return o}},{key:"_buildTree",value:function(){var e=this.model,t=this._parse(e);t.x=void 0!==e.x?e.x:0,t.y=void 0!==e.y?e.y:0,t.layout=t.layout||"standard",this.tree=t}},{key:"_parseQuadrants",value:function(e){var t=e;if("number"==typeof e&&e>0){t=[];for(var n=1;n<e+1;n++)t.push(String(n))}return t}},{key:"_splitTreeByQuadrant",value:function(){var e=this,t=this.tree.quadrants;t.forEach((function(t){var n=VW(VW({},e.tree),{},{isQuadrantTree:!0,children:[]});e[t+"Tree"]=n})),this.tree.children.forEach((function(n){-1!==t.indexOf(n.quadrant)?e[n.quadrant+"Tree"].children.push(n):e[t[0]+"Tree"].children.push(n)}))}},{key:"_splitSubTrees",value:function(){var e=this;this.tree.quadrants.forEach((function(t){var n=e[t+"Tree"];if(n){var r=[];Z_(n,(function(e){e.layout&&(e.isQuadrantTree||(e.isSubTree=!0),r.unshift(e))})),e[t+"SubTrees"]=r}}))}},{key:"_layout",value:function(){var e,t=this,n=this.algorithms,r=this.tree.quadrants;r.forEach((function(o,i){var a=t[o+"Tree"];if(a){var c=e=a.direction;if(i>0){var s=2*Math.PI*i/r.length;c=[parseInt(e[0]*Math.cos(s)),parseInt(e[1]*Math.cos(s))]}t[o+"SubTrees"].forEach((function(e){e.x=e.x||0,e.y=e.y||0;var t=1/0,r=-1/0,o=1/0,i=-1/0;e.children&&e.children.length>0&&n[e.layout].layout(e,{direction:String(!e.isQuadrantTree&&e.direction||c)}),Z_(e,(function(e){var n=e.x,a=e.y,c=e.x+e.w,s=e.y+e.h;n<t&&(t=n),a<o&&(o=a),c>r&&(r=c),s>i&&(i=s)})),e.tx=t,e.ty=o,e.tw=r-t,e.th=i-o}))}}))}},{key:"execute",value:function(){return this._buildTree(),this._splitTreeByQuadrant(),this._splitSubTrees(),this._layout(),this.tree}}])&&HW(t.prototype,n),r&&HW(t,r),e}();function WW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return XW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XW(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZW(e){var t=new sS,n=new zP({x:-3,y:-3,width:6,height:6,rx:1,stroke:"#096DD9",fill:"white"}),r=new zP({x:-10,y:-10,width:20,height:20,fill:"transparent"});return t.add(r),t.add(n),t.css({cursor:"move"}),t.dataset({lake_prevent_click_unselect:!0}),{group:t,shape:n,name:e}}var JW=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$W(this,e),Object.assign(this,t);var n=this.group,r=this.cell,o=["source","target"].map((function(e){return ZW(e)}));o.forEach((function(e){return n.add(e.group)})),this.buttons=o,this.diagram=r.diagram,this.eventHelper=new QF,this.cacheEndpointId=null}var t,n,r;return t=e,(n=[{key:"update",value:function(){var e=this.buttons,t=this.cell,n=this.diagram;if(this.group.parent){var r=YW(e,2),o=r[0],i=r[1],a=bS(t.d),c=a[0].slice(1),s=a[a.length-1],l=s.slice(s.length-2),u=1/n.viewport.zoom;if(o.group.update({scale:u,x:c[0],y:c[1]}),i.group.update({scale:u,x:l[0],y:l[1]}),"straight"===t.shape){var f=RE(c[0],c[1],l[0],l[1]);e.forEach((function(e){return e.group.update({rotate:f})}))}else e.forEach((function(e){return e.group.update({rotate:0})}))}}},{key:"bindEvent",value:function(){var e,t,n,r=this,o=this.buttons,i=this.cell,a=this.diagram,c=this.eventHelper,s=function(){a.resetCursor(),e=void 0,t=void 0,n=void 0,r.cacheEndpointId&&a.highlight.clear(),r.cacheEndpointId=null};o.forEach((function(n){var r=n.name,o=n.group;c.bind(o,"mousedown",(function(){e=r,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WW(Object(n),!0).forEach((function(t){KW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({connection:null,id:null,marker:null},i.model[e])}))})),c.bind(a,"mousemove",(function(t){if("source"===e||"target"===e){var o="source"===e?"target":"source",c=a.viewport.invertClient([t.clientX,t.clientY]);if((n=wq(a,c)).connection&&!n.id){var s=i.getEndpoint(i[o]);_q([s.x,s.y],n.connection)}r.cacheEndpointId!==n.id&&(a.highlight.dock([a.find(n.id)]),r.cacheEndpointId=n.id),a.update(i,KW({},e,n)),a.setCursor("move"),r.update()}})),c.bind(a,"mouseup",(function(){"source"!==e&&"target"!==e||(a.update(i,KW({},e,t)),a.command.execute("Update",{id:i.model.id,model:KW({},e,n)}),s())})),c.bind(a,"keydown",(function(n){var o=r.cell,i=r.diagram;!e||"Esc"!==n.key&&"Escape"!==n.key||(i.update(o,KW({},e,t)),r.update(),s())})),c.bind(a,"afterviewportchange",Un()((function(){var e=r.buttons,t=r.cell;e&&t&&r.update()}),16))}},{key:"begin",value:function(){this.update(),this.bindEvent()}},{key:"end",value:function(){this.eventHelper.unbind()}},{key:"destroy",value:function(){this.eventHelper.unbind(),this.group&&this.group.clear(),this.group=null,this.diagram=null,this.cell=null,this.buttons=null}}])&&GW(t.prototype,n),r&&GW(t,r),e}();function QW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tK(e){var t=new sS,n=new zP({x:-3,y:-3,rx:3,ry:3,width:6,height:6,stroke:"#096DD9",fill:"white"}),r=new zP({x:-10,y:-10,width:20,height:20,fill:"transparent"});return t.add(r),t.add(n),t.css({cursor:"move"}),t.dataset({lake_prevent_click_unselect:!0}),{group:t,shape:n,index:e}}var nK=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};QW(this,e),Object.assign(this,t);var n=this.group,r=this.cell,o=r.controlPoints.map((function(e,t){return tK(t)}));o.forEach((function(e){return n.add(e.group)})),this.buttons=o,this.diagram=r.diagram,this.eventHelper=new QF}var t,n,r;return t=e,(n=[{key:"update",value:function(){var e=this.buttons,t=this.cell,n=this.diagram,r=this.group;if(r.parent)if(t.isLoop)r.css({display:"none"});else{r.css({display:""});var o=1/n.viewport.zoom;e.forEach((function(e){var n=e.group,r=e.index,i=t.getControlPointButtonPosition(r);n.update({scale:o,x:i[0],y:i[1]})}))}}},{key:"bindEvent",value:function(){var e,t,n=this,r=this.buttons,o=this.cell,i=this.diagram,a=this.eventHelper,c=function(){i.resetCursor(),e=void 0,t=void 0};r.forEach((function(n){var r=n.index,c=n.group;a.bind(c,"mousedown",(function(){e=r,t={controlPoints:gd()(o.controlPoints)},i.setCursor("move")}))})),a.bind(i,"mousemove",(function(t){if(void 0!==e){var n=i.viewport.invertClient([t.clientX,t.clientY]),r=o.controlPoints[e];r[0]=n[0],r[1]=n[1],o.draw()}})),a.bind(i,"mouseup",(function(){if(void 0!==e){var n=gd()(o.controlPoints);i.update(o,t),i.command.execute("Update",{id:o.model.id,model:{controlPoints:n}}),c()}})),a.bind(i,"keydown",(function(r){var o=n.cell,i=n.diagram;!e||"Esc"!==r.key&&"Escape"!==r.key||(i.update(o,t),n.update(),c())})),a.bind(i,"afterviewportchange",Un()((function(){var e=n.buttons,t=n.cell;e&&t&&n.update()}),16))}},{key:"begin",value:function(){this.update(),this.bindEvent()}},{key:"end",value:function(){this.eventHelper.unbind()}},{key:"destroy",value:function(){this.eventHelper.unbind(),this.group&&this.group.clear(),this.group=null,this.diagram=null,this.cell=null,this.buttons=null}}])&&eK(t.prototype,n),r&&eK(t,r),e}();function rK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oK=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new Fj,r=[],o=new Fj,i=new JW({group:o,cell:t});if(n.add(o),r.push(i),t.controlPoints.length>0){var a=new Fj,c=new nK({group:a,cell:t});n.add(a),r.push(c)}this.diagram=t.diagram,this.subResizers=r,this.group=n}var t,n,r;return t=e,(n=[{key:"update",value:function(){this.subResizers.forEach((function(e){return e.update()}))}},{key:"bindEvent",value:function(){this.subResizers.forEach((function(e){return e.bindEvent()}))}},{key:"begin",value:function(){var e=this.subResizers;this.diagram.frontRootGroup.prepend(this.group),e.forEach((function(e){return e.begin()}))}},{key:"end",value:function(){var e=this.subResizers,t=this.group;e.forEach((function(e){return e.end()})),t&&t.remove()}},{key:"destroy",value:function(){var e=this.subResizers;this.group.remove(),e.forEach((function(e){return e.destroy()}))}}])&&rK(t.prototype,n),r&&rK(t,r),e}();function iK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var aK=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cell=t}var t,n,r;return t=e,(n=[{key:"render",value:function(){}},{key:"update",value:function(){}},{key:"draw",value:function(){}},{key:"drawInherit",value:function(){}},{key:"drawPosition",value:function(){}},{key:"setDefault",value:function(){}},{key:"updateState",value:function(){}},{key:"destroy",value:function(){}}])&&iK(t.prototype,n),r&&iK(t,r),e}();function cK(e){return(cK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sK(Object(n),!0).forEach((function(t){uK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dK(e,t,n){return(dK="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yK(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function hK(e,t){return(hK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yK(e);if(t){var o=yK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vK(this,n)}}function vK(e,t){return!t||"object"!==cK(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yK(e){return(yK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hK(e,t)}(i,e);var t,n,r,o=mK(i);function i(){return fK(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.cell,t=e.graphicGroup,n={"stroke-linecap":"round","stroke-linejoin":"round"},r=new ZS(n),o=new ZS(n);t.add(r),this.element=r,this.hitElement=o,e.wireElement=r,this.initMarker()}},{key:"initMarker",value:function(){var e=this.cell.diagram.defs,t=10,n=new xT({markerWidth:4,markerHeight:4,refX:7,refY:5,orient:"auto-start-reverse",viewBox:[0,0,t,t]});n.attr({id:rT()}),e.add(n);var r=new ZS({d:OS([["M",0,0],["L",t,5],["L",0,t],["Z"]]),fill:"#595959",stroke:"#595959"});n.add(r),this.marker=n,this.markerPath=r}},{key:"draw",value:function(){var e=this.cell,t=this.element,n=this.marker,r=this.hitElement,o=e.d,i=e.stroke,a=e.graphicGroup,c={d:o},s="url(#".concat(n.attr("id"),")");c["marker-start"]="arrow"===e.source.marker?s:null,c["marker-end"]="arrow"===e.target.marker?s:null,this.markerPath.update({fill:i.color,stroke:i.color}),t.update(lK(lK({stroke:i.color,"stroke-width":i.width,fill:"none"},e.convertStrokeStyle()),c)),!r.parent&&a.insertAfter(r,t),r.update({stroke:"rgba(255,255,255,0)","stroke-width":i.width+8,fill:"none",d:c.d})}},{key:"destroy",value:function(){this.marker.destroy(),dK(yK(i.prototype),"destroy",this).call(this)}}])&&pK(t.prototype,n),r&&pK(t,r),i}(aK);function bK(e){return(bK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CK(e,t){return(CK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jK(e);if(t){var o=jK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EK(this,n)}}function EK(e,t){return!t||"object"!==bK(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jK(e){return(jK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var SK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CK(e,t)}(i,e);var t,n,r,o=_K(i);function i(){return xK(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.cell,t=e.graphicGroup,n=new lP({styleSheets:e.textAreaContentStyleSheets,html:e.html});n.htmlContainer.classList.add("selection-transparent"),t.add(n),this.element=n,e.textAreaElement=n,this.initCalculatedDOM(),this.update()}},{key:"initCalculatedDOM",value:function(){var e=this.cell.diagram,t=document.createElement("div");e.calculatedContainer.appendChild(t),this.calculatedDOM=t}},{key:"update",value:function(){var e=this.cell,t=this.calculatedDOM,n=e.cache,r=e.textAreaContentStyleSheets;n.html!==e.html&&(t.innerHTML=e.html),this.updateStyleSheets(),["html","width","height"].some((function(t){return n[t]!==e[t]}))&&(wE(t,r),this._setBBox())}},{key:"updateStyleSheets",value:function(){for(var e=this.cell,t=e.textAreaContentStyleSheets,n=e.getPadding(),r=e.isDiscrete(),o=0;o<t.length;o++){var i=t[o];if("self"===i.query){var a=e.getOuterWidth();i.css.width=a&&!r?a-n[1]-n[3]+"px":""}}}},{key:"getPosition",value:function(){return{x:0,y:0}}},{key:"calculateBBox",value:function(){var e=this.calculatedDOM;e.style.display="inline-block";var t=e.getBoundingClientRect();return e.style.display="none",t}},{key:"_setBBox",value:function(){this.box=this.calculateBBox()}},{key:"getBBox",value:function(){return this.box}},{key:"draw",value:function(){var e=this.cell,t=this.element,n=this.box,r=e.cache,o=e.textAreaContentStyleSheets,i={};r.html!==e.html&&(i.html=e.html),["html","width","height"].some((function(t){return r[t]!==e[t]}))&&(wE(t.htmlContainer,o),Object.assign(i,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wK(Object(n),!0).forEach((function(t){kK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:Math.ceil(n.width),height:Math.ceil(n.height)},this.getPosition()))),Object.keys(i).length>0&&(t.update(i),"read"===e.diagram.interaction.currentMode&&t.htmlContainer.querySelectorAll("a").forEach((function(e){var t=e.href,n=window.location.origin+window.location.pathname;(t===n||t.startsWith(n+location.search+"#"))&&e.removeAttribute("target")})))}},{key:"destroy",value:function(){this.element.destroy(),this.calculatedDOM.remove()}}])&&OK(t.prototype,n),r&&OK(t,r),i}(aK);function PK(e){return(PK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DK(e,t){return(DK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function AK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=NK(e);if(t){var o=NK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return MK(this,n)}}function MK(e,t){return!t||"object"!==PK(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function NK(e){return(NK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}SK.className="TextArea",SK.configName="textArea",SK.zIndex=2;var IK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DK(e,t)}(i,e);var t,n,r,o=AK(i);function i(){return RK(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"updateStyleSheets",value:function(){var e=this.cell,t=e.textAreaContentStyleSheets.find((function(e){return"self"===e.query}));e.diagram.contentEditor.isBegin&&e.diagram.contentEditor.dom===e.textAreaElement.htmlContainer?(t.css.padding="4px 8px",t.css["min-height"]="28px",t.css["min-width"]="54px"):(e.isContentEmpty()?t.css.padding=0:t.css.padding="4px 8px",t.css["min-height"]=0,t.css["min-width"]=0)}},{key:"getPosition",value:function(){var e=this.cell,t=this.box,n=e.getTextAreaPosition();return{x:n.x-t.width/2,y:n.y-t.height/2}}},{key:"calculateBBox",value:function(){var e=this.calculatedDOM;e.style.display="inline-block";var t=e.getBoundingClientRect();return e.style.display="none",t}}])&&TK(t.prototype,n),r&&TK(t,r),i}(SK);function LK(e){return(LK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FK(Object(n),!0).forEach((function(t){BK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qK(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WK(e,t,n){return(WK="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=GK(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function KK(e,t){return(KK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=GK(e);if(t){var o=GK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return XK(this,n)}}function XK(e,t){return!t||"object"!==LK(t)&&"function"!=typeof t?$K(e):t}function $K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GK(e){return(GK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ZK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KK(e,t)}(i,e);var t,n,r,o=YK(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return HK(this,i),t=fE({default:{textAreaContentStyleSheets:[{query:"self",css:{outline:"none","white-space":"normal","letter-spacing":"normal","font-size":"14px","font-family":'PingFangSC-Regular, "PingFang SC", sans-serif',"line-height":"1.74","word-break":"break-word","box-sizing":"border-box",padding:"4px",background:"white",color:tM}}],shape:"straight",stroke:{color:"#595959",width:2},html:'<div style="text-align: center;">'.concat(JA,"</div>"),source:{},target:{},controlPoints:[]},penetratedKeys:["source","target","stroke","fill","html","shape","controlPoints"]},t),e=o.call(this,t),Object.assign($K(e),gd()(t.default)),e.Subcells=[gK,IK],e.subcells=e.Subcells.map((function(t){return new t($K(e))})),e.render(),e.isLine=!0,e.isLoop=!1,e.resizer=new oK($K(e)),e}return t=i,(n=[{key:"isDrawable",value:function(){var e=this.diagram,t=this.target,n=this.source,r=e.find(n.id),o=n.id&&!r||r&&!1===r.state.visible,i=e.find(t.id),a=t.id&&!i||i&&!1===i.state.visible;return!(o||a)}},{key:"shouldRefreshEndEditContent",value:function(){return this.isContentEmpty()}},{key:"canFill",value:function(){return!1}},{key:"canMove",value:function(){var e=this;return["source","target"].every((function(t){var n=e[t];return!n.id&&Array.isArray(n.connection)}))}},{key:"beginEditContent",value:function(){this.textAreaElement.css({outline:"1px solid #096DD9"})}},{key:"endEditContent",value:function(){this.textAreaElement.css({outline:"none"})}},{key:"getPointByPercent",value:function(e){var t=this.wireElement,n=t.getTotalLength();return t.getPointAtLength(e*n)}},{key:"getPadding",value:function(){return[0,0,0,0]}},{key:"getEndpoint",value:function(e){var t=this.diagram,n=e.id,r=e.connection,o=t.find(n);if(o)return r?o.getPoint(r):o.getPoint([.5,.5]);if(Array.isArray(r)){var i=VK(r,2);return{x:i[0],y:i[1]}}return r}},{key:"getAbsBBox",value:function(){var e=this.wireElement.rendererElement.getBBox();return{x:e.x,y:e.y,width:e.width,height:e.height,minX:e.x,minY:e.y,maxX:e.x+e.width,maxY:e.y+e.height}}},{key:"getShapeObj",value:function(){var e=this.shape;return this.constructor.Shapes[e]}},{key:"getFirstInsertControlPoints",value:function(){return this.getShapeObj().getFirstInsertControlPoints(this)}},{key:"getTextAreaPosition",value:function(){return this.getShapeObj().getTextAreaPosition(this)}},{key:"getControlPointButtonPosition",value:function(e){return this.getShapeObj().getControlPointButtonPosition(this,e)}},{key:"getPath",value:function(){var e=this.shape,t=this.sourceCell,n=this.isLoop,r=this.getShapeObj();if(n){var o=t.getPoint([1,.5]);return OS([["M",o.x,o.y-8],["l",16,-4],["l",0,24],["L",o.x,o.y+8]])}if(r)return r.getPath(this);throw new Error("unsupported line shape ".concat(e))}},{key:"updatePath",value:function(){this.isCacheStale("shape","source","target")&&(this.d=this.getPath())}},{key:"render",value:function(){var e=this.model;this.subcells.forEach((function(e){return e.render()})),this.updateModel(e)}},{key:"updateModel",value:function(e){WK(GK(i.prototype),"updateModel",this).call(this,e),this.subcells.forEach((function(e){e.update()}))}},{key:"draw",value:function(){if(this.isDrawable()){var e=this.source,t=this.target,n=this.diagram,r=n.find(e.id),o=n.find(t.id);this.isLoop=null!=r&&r===o,this.sourceCell=r,this.targetCell=o,this.show(),this.updatePath(),this.subcells.forEach((function(e){return e.draw()})),this.drawPosition()}else this.hide()}},{key:"updateCache",value:function(){var e=this,t=this.cache;["shape","source","target"].forEach((function(n){var r=e[n];t[n]=tE()(r)?zK({},r):r}))}},{key:"drawPosition",value:function(){if(this.isCacheStale("matrix")){var e=this.graphicGroup,t=this.matrix;e.update({matrix:t}),this.resizer.update()}}},{key:"getPoints",value:function(){var e=this.source,t=this.target,n=this.sourceCell,r=this.targetCell,o=this.getEndpoint(e),i=this.getEndpoint(t);if(!o||!i)return[o,i];var a=this.controlPoints.map((function(e){var t=VK(e,2);return{x:t[0],y:t[1]}})),c=a.length;return n&&!e.connection&&(o=n.getIntersectionPoint(o,a[0]||i)),r&&!t.connection&&(i=r.getIntersectionPoint(i,a[c-1]||o)),[o].concat(a).concat(i)}},{key:"destroy",value:function(){this.subcells.forEach((function(e){return e.destroy()})),this.resizer.destroy(),WK(GK(i.prototype),"destroy",this).call(this)}}])&&UK(t.prototype,n),r&&UK(t,r),i}(zW);ZK.className="LineCell",ZK.Shapes={},ZK.registerShape=function(e,t){this.Shapes[e]=zK({getFirstInsertControlPoints:function(){return!1},getTextAreaPosition:function(e){return e.getPointByPercent(.5)},getControlPointButtonPosition:function(e,t){return e.controlPoints[t]}},t)},ZK.registerShape("straight",{getPath:function(e){return _S(e.getPoints())}}),ZK.registerShape("curve",{getControlPointButtonPosition:function(e,t){var n=e.controlPoints,r=e.diagram,o=e.subcells.find((function(e){return e instanceof IK})),i=n[t].concat([]);return e.isContentEmpty()&&!r.contentEditor.isBegin||(i[1]+=o.box.height/2),i},getTextAreaPosition:function(e){return e.controlPoints.length>0?{x:e.controlPoints[0][0],y:e.controlPoints[0][1]}:e.getPointByPercent(.5)},getPath:function(e){var t=e.getPoints();if(2===t.length)return _S(t);if(3===t.length)return OS([["M",t[0].x,t[0].y],["Q",(t[1].x-.25*t[2].x-.25*t[0].x)/.5,(t[1].y-.25*t[2].y-.25*t[0].y)/.5,t[2].x,t[2].y]]);var n=function(e,t){for(var n=[],r=0,o=e.length;o-2*!t>r;r+=2){var i=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?o-4===r?i[3]={x:+e[0],y:+e[1]}:o-2===r&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[o-2],y:+e[o-1]}:o-4===r?i[3]=i[2]:r||(i[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n}(t.reduce((function(e,t){return e.push(t.x),e.push(t.y),e}),[]));return n.unshift(["M",t[0].x,t[0].y]),OS(n)},getFirstInsertControlPoints:function(e){var t=e.getPointAtLength(.5);return[[t.x,t.y]]}});var JK=ZK;zW.Line=JK;var QK=zW,eY={plugins:[]},tY=n(100),nY=n.n(tY),rY="2.0.0";function oY(e){return(oY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iY(Object(n),!0).forEach((function(t){cY(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lY(e,t,n){return(lY="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dY(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function uY(e,t){return(uY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dY(e);if(t){var o=dY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pY(this,n)}}function pY(e,t){return!t||"object"!==oY(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dY(e){return(dY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hY=ke,mY=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uY(e,t)}(i,e);var t,n,r,o=fY(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=aY({locale:{},container:null,width:500,height:500,plugins:[],paper:null,padding:null,mode:"edit",head:{}},e),(t=o.call(this,e)).options=e,t.nativeEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","hover","drop","dragover","touchstart","touchmove","touchend","keydown","keyup","keypress","compositionstart","compositionend","wheel","scroll","copy","paste","cut","contextmenu"],t.Cells={Cell:QK,Line:QK.Line},t.head=aY({version:rY},e.head),t.cellMap={},t.elementMap={},t.signal={keydown:{}},t.settings={};var n=e.container,r=t._createViewportContainer(),a=t._createCanvasContainer(),c=t._createInputElement();return t.container=n,t.viewportContainer=r,t.canvasContainer=a,t.input=c,n.appendChild(r),r.appendChild(a),r.appendChild(c),t.width=e.width,t.height=e.height,t.calculatedContainer=t._appendCalculatedContainer(),t._initMixin(),t._initCanvas(),t._initExtend(),t._bindGlobalEvent(),t}return t=i,(n=[{key:"_bindGlobalEvent",value:function(){i._boundGlobalEvent||(window.addEventListener("mousedown",(function(e){!e.target.closest("[data-lake_prevent_click_unselect]")||e.target.matches("input")||e.target.matches("textarea")||e.preventDefault()})),i._boundGlobalEvent=!0)}},{key:"_createViewportContainer",value:function(){var e=document.createElement("div");return e.style.position="relative",e.style.outline="none",e.style["user-select"]="text",e.setAttribute("tabindex",0),e.setAttribute("focusable",!0),e.setAttribute("dragable",!1),e.addEventListener("dragstart",(function(e){return e.preventDefault()})),e}},{key:"_createCanvasContainer",value:function(){return document.createElement("div")}},{key:"_createInputElement",value:function(){var e=this,t=document.createElement("div");return t.setAttribute("contenteditable",!0),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.right="0",t.style.bottom="0",t.style.width="100px",t.style.height="40px",t.margin="auto",t.style["z-index"]=2,t.style.outline="none",t.style.opacity=0,t.style["pointer-events"]="none",t.addEventListener("keydown",(function(t){hY("mod+v",t)||e.selector.selections.length>0&&(hY("mod+c",t)||hY("mod+x",t))||t.preventDefault()})),t}},{key:"_appendCalculatedContainer",value:function(){var e=this.options.container,t=document.createElement("div"),n=document.createElement("div");return t.appendChild(n),e.appendChild(t),t.style.opacity=0,t.style.height=0,t.style.width=0,t.style.overflow="hidden",n.style.width="10000px",n}},{key:"_initMixin",value:function(){var e=this;Object.keys(d).forEach((function(t){var n=d[t];Object.assign(e,n)}))}},{key:"_initExtend",value:function(){var e=this.options;this.extend={},this.addExtend(Object.keys(p).map((function(e){return p[e]}))),this.register.init(eY.plugins.concat(e.plugins)),this.paper.init(e.paper||{size:[828,1170]}),this.viewport.init(),this.interaction.init(e.mode)}},{key:"_initCanvas",value:function(){var e=this.canvasContainer,t=this.calculatedContainer;this.canvas=new Gj({container:e,calculatedContainer:t}),this.rootGroup=new Fj,this.frontRootGroup=new Fj,this.backRootGroup=new Fj,this.frontRootGroup.dataset({element:"front_group"}),this.backRootGroup.dataset({element:"back_group"}),this.defs=new $R,this.canvas.add(this.defs),this.canvas.add(this.backRootGroup),this.canvas.add(this.rootGroup),this.canvas.add(this.frontRootGroup)}},{key:"_getCellConstructors",value:function(e){var t=this.Cells;if(!e)return[t.Cell];var n=e.charAt(0).toUpperCase()+e.substring(1),r=t[n+"Root"],o=t[n+"Cell"];return r&&o?[r,o]:o||(o=t[n])?[o]:void 0}},{key:"addExtend",value:function(e){var t=this;e.forEach((function(e){var n=e.className,r=n.charAt(0).toLowerCase()+n.substring(1),o=new e(t);t.extend[r]=o,t[r]=o}))}},{key:"inherit",value:function(e,t){var n=this.cellMap;t||(t=this.getCells().filter((function(e){return e.isRoot}))),t.forEach((function(t){Z_(t.model,(function(t,r){t=n[t.id],r=r&&n[r.id]||t.parent,t.computedProps=r?nY()({},r.computedProps,kE(t,e)):kE(t,e)}))}))}},{key:"deepEach",value:function(e){var t=this.cellMap;Object.keys(t).forEach((function(n){e(t[n])}))}},{key:"on",value:function(e,t){var n=this.viewportContainer;-1!==this.nativeEvents.indexOf(e)&&n.addEventListener(e,t),lY(dY(i.prototype),"on",this).call(this,e,t)}},{key:"off",value:function(e,t){var n=this.viewportContainer;-1!==this.nativeEvents.indexOf(e)&&n.removeEventListener(e,t),lY(dY(i.prototype),"off",this).call(this,e,t)}},{key:"focus",value:function(){var e=this.input,t=window.getSelection(),n=document.createRange();e.innerHTML="ddd",n.setStart(e.childNodes[0],1),n.setEnd(e.childNodes[0],2),t.removeAllRanges(),t.addRange(n)}},{key:"tryFocus",value:function(){this.viewportContainer.contains(document.activeElement)||this.focus()}},{key:"layout",value:function(e){var t=this.find(e);if(t){if(!t.isRoot)throw new Error("Only root type cell can be layouted!");if(t.executeLayout){var n=this.cellMap;t.executeLayout(),this.emit("afterrootcelllayout",{root:this}),Z_(t.model,(function(e){var r=n[e.id];r!==t&&r.drawPosition()}))}}}},{key:"clear",value:function(){this.rootGroup.clear(),this.cellMap={}}},{key:"destroy",value:function(){if(!this.destroyed){var e=this.canvas,t=this.viewportContainer,n=this.extend,r=this.calculatedContainer;this.deepEach((function(e){e.destroy()})),Object.keys(n).forEach((function(e){n[e].destroy()})),t.parentNode.removeChild(t),r.remove(),e.destroy(),this.destroyed=!0}}},{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",t=e.split(":");if(!this.exporter[t[0]])throw new Error("Export of ".concat(t[0]," is not supported"));return this.exporter[t[0]](t[1])}},{key:"import",value:function(e){var t=this.importer.json(e);return this.viewport.refresh(),t}},{key:"setCursor",value:function(e){this.canvas.css({cursor:e})}},{key:"resetCursor",value:function(){this.setCursor(this.interaction.getModeCursor())}}])&&sY(t.prototype,n),r&&sY(t,r),i}(_n.a);aK.TextArea=SK,aK.Wire=gK;var vY=aK;function yY(e){return(yY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wY(e,t){return(wY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=OY(e);if(t){var o=OY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xY(this,n)}}function xY(e,t){return!t||"object"!==yY(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function OY(e){return(OY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var CY=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wY(e,t)}(i,e);var t,n,r,o=kY(i);function i(){return gY(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"afterselect",(function(){var t=e.selector.selections;t.length>1?e.highlight.select(t.concat([])):e.highlight.clear()}))}}])&&bY(t.prototype,n),r&&bY(t,r),i}(gB);function _Y(e){return(_Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SY(e,t){return(SY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=TY(e);if(t){var o=TY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RY(this,n)}}function RY(e,t){return!t||"object"!==_Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TY(e){return(TY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var DY=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SY(e,t)}(i,e);var t,n,r,o=PY(i);function i(){return EY(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){var t,n,r,o,i;this.bind(e,"mousedown",(function(a){var c=e.getCell(a.target);(a.target===e.canvas.rendererElement||c&&c.toDragCanvas&&c.toDragCanvas())&&0===a.button&&(t=!0,n=a.clientX,r=a.clientY,o=e.viewport.scrollLeft,i=e.viewport.scrollTop)})),this.bind(e,"mousemove",(function(a){if(!e.signal.draggingcanvas&&t&&Math.abs(n-a.clientX)+Math.abs(r-a.clientY)>3&&(e.signal.draggingcanvas=!0,e.setCursor("grabbing")),e.signal.draggingcanvas&&void 0!==o){var c=o-(a.clientX-n),s=i-(a.clientY-r);e.viewport.moveTo(c,s)}})),this.bind(window,"mouseup",(function(){t&&(e.signal.draggingcanvas=!1,t=void 0,n=void 0,r=void 0,o=void 0,i=void 0,e.resetCursor())}))}}])&&jY(t.prototype,n),r&&jY(t,r),i}(gB),AY=n(347),MY=n.n(AY);function NY(e){return(NY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FY(e,t,n){return(FY="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qY(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function zY(e,t){return(zY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function BY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qY(e);if(t){var o=qY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return VY(this,n)}}function VY(e,t){return!t||"object"!==NY(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qY(e){return(qY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var HY=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zY(e,t)}(i,e);var t,n,r,o=BY(i);function i(){return IY(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"unbindMousemoveEvent",value:function(){this.mouseMoveEvent&&(this.unbind(this.mouseMoveEvent),this.mouseMoveEvent=void 0)}},{key:"init",value:function(e){var t,n,r,o=this;e.signal.mouseMultiSelecting=!1;var i=new ZS({fill:"rgba(9, 109, 217, .05)",stroke:QA});function a(o){if(t){e.signal.mouseMultiSelecting=!0,n=e.viewport.invertClient([o.clientX,o.clientY]);var a={minX:Math.min(t[0],n[0]),minY:Math.min(t[1],n[1]),width:Math.abs(n[0]-t[0]),height:Math.abs(n[1]-t[1])},c=CS(a.minX,a.minY,a.width,a.height);a.maxX=a.minX+a.width,a.maxY=a.minY+a.height,i.update({d:c}),hE(r=e.getCells().filter((function(e){if(e.state.visible){var t=e.getAbsBBox();if(jE(t,a)){if(e.isLine){var n=e.d;if(!_E(a,t)&&0===MY()(c,n).length)return!1}return!0}}return!1})),e.selector.selections)||e.selector.select(r)}}i.dataset({testid:"mouse-drag-multi-select"}),this.selectBox=i,this.bind(e,"mousedown",(function(n){(function(t){if(t.target===e.canvas.rendererElement)return!0;var n=e.getCell(t.target);return!(!n||!n.locked)})(n)&&(o.unbindMousemoveEvent(),o.mouseMoveEvent=o.bind(window,"mousemove",Un()(a,16)),e.frontRootGroup.add(i),t=e.viewport.invertClient([n.clientX,n.clientY]))})),this.bind(window,"mouseup",(function(){t&&e.tryFocus(),e.signal.mouseMultiSelecting=!1,r&&e.selector.select(r),r=void 0,t=void 0,n=void 0,o.unbindMousemoveEvent(),i.remove(),i.update({d:""})}))}},{key:"unbind",value:function(e){!e&&this.selectBox&&(this.selectBox.remove(),this.selectBox=void 0),FY(qY(i.prototype),"unbind",this).call(this,e)}}])&&LY(t.prototype,n),r&&LY(t,r),i}(gB);function UY(e){return(UY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YY(e,t){return(YY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=GY(e);if(t){var o=GY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $Y(this,n)}}function $Y(e,t){return!t||"object"!==UY(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function GY(e){return(GY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ZY=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YY(e,t)}(i,e);var t,n,r,o=XY(i);function i(){return WY(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.pressKey({diagram:e,keys:["Alt","Control","Meta","Shift"]})}}])&&KY(t.prototype,n),r&&KY(t,r),i}(gB);function JY(e){return(JY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tX(e,t){return(tX=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oX(e);if(t){var o=oX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rX(this,n)}}function rX(e,t){return!t||"object"!==JY(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oX(e){return(oX=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var iX=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tX(e,t)}(i,e);var t,n,r,o=nX(i);function i(){return QY(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"keydown",(function(t){SB(t)&&"a"===t.key&&(t.preventDefault(),t.stopPropagation(),e.command.execute("SelectAll"),e.tryFocus())}))}}])&&eX(t.prototype,n),r&&eX(t,r),i}(gB);function aX(e){return(aX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lX(e,t){return(lX=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pX(e);if(t){var o=pX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fX(this,n)}}function fX(e,t){return!t||"object"!==aX(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pX(e){return(pX=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dX=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lX(e,t)}(i,e);var t,n,r,o=uX(i);function i(){return cX(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){function t(){"dragCanvas"===e.interaction.currentMode&&(e.interaction.changeMode("edit"),e.rootGroup.css({"pointer-events":"initial"}))}this.bind(e,"keydown",(function(t){" "!==t.key||e.signal.cellDragStart||(t.preventDefault(),t.stopPropagation(),"dragCanvas"!==e.interaction.currentMode&&(e.highlight.clear(),e.rootGroup.css({"pointer-events":"none"}),e.interaction.changeMode("dragCanvas")))})),this.bind(window,"keyup",t),this.bind(window,"blur",t)}}])&&sX(t.prototype,n),r&&sX(t,r),i}(gB);gB.AfterContentEditorChange=nq,gB.AfterSelectionChangeMultiSelectHighlight=CY,gB.KeyboardCollapseExpand=IB,gB.KeyboardDelete=YV,gB.KeyboardPressModifierKey=ZY,gB.KeyboardSelectAll=iX,gB.KeyboardSwitchEditAndDragCanvas=dX,gB.KeyboardUndoRedo=jB,gB.KeyboardZoom=zV,gB.MouseCollapse=JB,gB.MouseDragCanvas=DY,gB.MouseDragMultiSelect=HY,gB.MouseSelect=UB,gB.MouseWheelZoom=aV,gB.MouseClickInsertLine=Lq;var hX=gB;sD.Add=gD,sD.Collapse=aA,sD.Compound=UD,sD.Expand=hA,sD.NoneExecuteCompound=JD,sD.Redo=SA,sD.Delete=DM,sD.Remove=SD,sD.Undo=kA,sD.UpdateCellContent=nN,sD.Update=ID,sD.ZoomIn=NA,sD.ZoomOut=qA,sD.ZoomTo=GA,sD.CreateLink=tI,sD.BeginInsertLine=WL,sD.LockSelected=gI;var mX=sD;window.____lake_diagram_version=rY;var vX="#959EA6",yX="#096dd9",gX=["#A287E1","#E48484","#69B1E4","#DE81C6","#77C386","#DFB85D","#8169BF"],bX=49,wX=22,kX="rgba(52, 155, 249, .2)";function xX(e){var t=function(e){var t=e.type.split("/");return t[t.length-1]}(e);return Le.IMAGE_EXT.includes(t)}function OX(e){var t=e.naturalWidth/e.naturalHeight,n=e.firstInsertRatio?e.naturalWidth*e.firstInsertRatio:e.naturalWidth;return e.width=n>=480?480:n,e.height=e.width/t,e}function CX(e){return"0,1"===(e=String(e))||"0,-1"===e}function _X(e){return e<=2?3:e>=2&&e<=4?2:1}function EX(e){var t=e.radius,n=e.outer,r=e.width+2*n,o=e.height+2*n;return"capsule"===e.shape&&(t=r<o?r/2:o/2),CS(-n,-n,r,o,t)}function jX(e){return(jX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RX(e,t){return(RX=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function TX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=AX(e);if(t){var o=AX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DX(this,n)}}function DX(e,t){return!t||"object"!==jX(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function AX(e){return(AX=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var MX=s.Path,NX=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RX(e,t)}(i,e);var t,n,r,o=TX(i);function i(){return SX(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getSytle",value:function(){var e=this.cell,t=e.border,n=e.computedProps,r=kE(t,{fill:!0});return r.stroke=t.stroke||n.treeEdge.stroke,r["stroke-width"]=e.getBorderStrokeWidth(),"line"===t.shape&&(r.stroke="rgba(255,255,255,0)",r.fill="rgba(255,255,255,0)"),r}},{key:"render",value:function(){var e=this.cell,t=e.graphicGroup,n=new MX;t.add(n),this.element=n,e.borderElement=n}},{key:"drawInherit",value:function(){this.draw()}},{key:"draw",value:function(){var e=this.cell,t=this.element,n=e.cache,r=e.width,o=e.height,i=e.border,a=i.outer,c=i.radius,s=i.shape,l=this.getSytle(),u=xE(l,n.borderStyle,["stroke","fill","stroke-width"]);r===n.width&&o===n.height&&Wp()(i,n.border)||(u.d=EX({radius:c,outer:a,width:r,height:o,shape:s})),Object.keys(u).length>0&&(t.update(u),n.borderStyle=l)}},{key:"destroy",value:function(){this.element.destroy()}}])&&PX(t.prototype,n),r&&PX(t,r),i}(vY);function IX(e){return(IX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zX(e,t){return(zX=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function BX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qX(e);if(t){var o=qX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return VX(this,n)}}function VX(e,t){return!t||"object"!==IX(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qX(e){return(qX=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}NX.className="Border",NX.configName="border",NX.zIndex=1;var HX=s.Path,UX=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zX(e,t)}(i,e);var t,n,r,o=BX(i);function i(){return LX(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"setDefault",value:function(){this.element.remove()}},{key:"updateState",value:function(){var e=this.element,t=this.cell,n=t.outline,r=t.graphicGroup,o=this.getSytle();o.d=this.getPath(),t.state.highlight&&Object.assign(o,n.highlight),t.state.selected&&Object.assign(o,n.selected),t.state.beginEdit&&Object.assign(o,n.beginEdit),(t.state.highlight||t.state.selected)&&(r.add(e),e.toBack(),t.treeEdgeElement&&t.treeEdgeElement.toBack()),e.update(o)}},{key:"render",value:function(){var e=this.cell,t=e.outline,n=new HX(t.default);this.element=n,e.outlineElement=n}},{key:"getSytle",value:function(){return kE(this.cell.border,{stroke:!0,fill:!0,"stroke-width":!0})}},{key:"getPath",value:function(){var e=this.cell,t=e.width,n=e.height,r=e.outline,o=e.border,i=r.radius,a=r.outer,c=o.shape;return"line"===o.shape&&(a-=2,i-=2),EX({radius:i,outer:a,width:t,height:n,shape:c})}},{key:"draw",value:function(){var e=this.cell,t=this.element,n=e.cache,r=e.width,o=e.height,i=xE(this.getSytle(),n.borderStyle,["stroke","fill","stroke-width"]);r===n.width&&o===n.height||(i.d=this.getPath()),Object.keys(i).length>0&&t.update(i)}},{key:"destroy",value:function(){this.element.destroy()}}])&&FX(t.prototype,n),r&&FX(t,r),i}(vY);function WX(e){return(WX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KX(Object(n),!0).forEach((function(t){XX(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZX(e,t){return(ZX=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function JX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=e$(e);if(t){var o=e$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QX(this,n)}}function QX(e,t){return!t||"object"!==WX(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function e$(e){return(e$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}UX.className="Outline",UX.configName="outline",UX.zIndex=3;var t$=s.Image,n$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZX(e,t)}(a,e);var t,n,r,i=JX(a);function a(){return $X(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.cell,t=new t$;this.element=t,e.imageElement=t}},{key:"draw",value:function(){var e=this.cell,t=this.element,n=e.graphicGroup,r=e.image,i=e.contentBox,a=e.getPadding();if(r.src){n.children.includes(t)||n.add(t);var c=o.resizeImage({maxWidth:3e3,src:r.src,data:YX(YX({},r),{},{originWidth:r.naturalWidth,originHeight:r.naturalHeight})});t.update({href:c||r.src,x:i.x+(i.width-r.width)/2,y:a[0],width:r.width,height:r.height}),t.dataset({raw_src:r.src})}else t.remove()}},{key:"destroy",value:function(){this.element.destroy()}}])&&GX(t.prototype,n),r&&GX(t,r),a}(vY);n$.className="ImageSubcell",n$.configName="image",n$.zIndex=2;var r$=n$;function o$(e){return(o$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a$(e,t){return(a$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l$(e);if(t){var o=l$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s$(this,n)}}function s$(e,t){return!t||"object"!==o$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l$(e){return(l$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u$=s.Html,f$="#464646";var p$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a$(e,t)}(i,e);var t,n,r,o=c$(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e);var n=e.note,r=n.width,a=n.height,c=n.padding;return t.size=[r+c[1]+c[3],a+c[0]+c[2]],t}return t=i,(n=[{key:"render",value:function(){var e=this.cell.note,t=e.width,n=e.height,r=new u$({width:t,height:n}),o=r.htmlContainer;o.classList.add("lake-diagram-note"),o.classList.add("lake-icon"),o.classList.add("lake-icon-diagram-cell-note"),o.style.color=f$,o.style["font-size"]=t+"px",o.style.width=t+"px",o.style.height=n+"px",o.style["line-height"]=t+"px",this.element=r}},{key:"draw",value:function(){var e,t,n=this.cell,r=this.element,o=n.model,i=n.note,a=n.graphicGroup,c=n.width,s=n.height,l=n.border;o.note?(r.attr({x:c-i.width-i.padding[1],y:(s-i.height)/2}),l.fill&&(r.htmlContainer.style.color=(e=l.fill,.3*(t=zn()(e).toRgb()).r+.59*t.g+.11*t.b>127.5?f$:"#fff")),a.add(r)):r.remove()}}])&&i$(t.prototype,n),r&&i$(t,r),i}(vY);function d$(e){return(d$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v$(e,t,n){return(v$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w$(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function y$(e,t){return(y$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w$(e);if(t){var o=w$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b$(this,n)}}function b$(e,t){return!t||"object"!==d$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w$(e){return(w$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}p$.className="Note",p$.zIndex=3;var k$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y$(e,t)}(i,e);var t,n,r,o=g$(i);function i(){return h$(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"calculateBBox",value:function(){var e=v$(w$(i.prototype),"calculateBBox",this).call(this),t=this.cell,n=this.calculatedDOM,r=t.image&&t.image.src;return n.textContent||t.state.beginEdit||!r?e:{width:e.width+1,height:0}}},{key:"calculateUnlimitBBox",value:function(){var e=this.calculatedDOM;return e.style.width="auto",e.getBoundingClientRect()}},{key:"updateStyleSheets",value:function(){for(var e=this.cell,t=e.textAreaContentStyleSheets,n=e.model,r=e.minWidth,o=e.minHeight,i=e.getPadding(),a=i[1]+i[3]+e.getNoteWidth(),c=i[0]+i[2],s=0;s<t.length;s++){var l=t[s];"self"===l.query&&(n.width?(l.css.width=n.width-a+"px",l.css["max-width"]=""):n.image&&n.image.src&&n.image.width?this.calculateBBox().width<n.image.width&&(l.css.width=n.image.width-1+"px",l.css["max-width"]=""):(l.css["max-width"]="480px",l.css.width=""),l.css["min-width"]=r-a+"px",l.css["min-height"]=o-c+"px")}}},{key:"getPosition",value:function(){var e=this.cell,t=e.image,n=e.contentBox,r=t&&t.src&&t.height+2||0;return{x:n.x,y:n.y+r}}}])&&m$(t.prototype,n),r&&m$(t,r),i}(vY.TextArea);function x$(e){return(x$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _$(e,t,n){return(_$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R$(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function E$(e,t){return(E$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R$(e);if(t){var o=R$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S$(this,n)}}function S$(e,t){return!t||"object"!==x$(t)&&"function"!=typeof t?P$(e):t}function P$(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R$(e){return(R$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}k$.className="TextArea";var T$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E$(e,t)}(i,e);var t,n,r,o=j$(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O$(this,i),t=fE({default:{x:0,y:0,collapsed:!1,html:JA,layout:{},image:{width:0,height:0},note:{width:14,height:14,padding:[0,8,0,0]}},anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}],Subcells:[NX,k$,UX,r$,p$],penetratedKeys:["x","y","width","height","collapsed","quadrant","zIndex","html","layout","rainbow","tapered","note","treeEdge"]},t),(e=o.call(this,t)).model.children||(e.model.children=[]),e.isMindmap=!0,e.multiSelectHighlight=!1,e.penetratedKeys=e.penetratedKeys.concat(e.Subcells.map((function(e){return e.configName}))),t.Subcells.sort((function(e,t){return e.zIndex-t.zIndex})),t.Subcells.forEach((function(t){var n=t.configName;n&&(e[n]={},!e.default[n]&&(e.default[n]={}))})),Object.assign(P$(e),gd()(e.default)),e.initSubcell(),e.render(),e.eventDelegation(),e}return t=i,(n=[{key:"showCollapsedButton",value:function(){this.state.collapsedButtonVisible||(this.state.collapsedButtonVisible=!0,this.updateState())}},{key:"hideCollapsedButton",value:function(){this.state.collapsedButtonVisible&&(this.state.collapsedButtonVisible=!1,this.updateState())}},{key:"findSubcell",value:function(e){return this.subcells.find((function(t){return t.constructor.className===e}))}},{key:"shouldRefreshEndEditContent",value:function(){return this.isContentEmpty()&&this.image&&this.image.src}},{key:"canStroke",value:function(){return"line"!==this.border.shape}},{key:"canStrokeWidth",value:function(){return!1}},{key:"canStrokeStyle",value:function(){return!1}},{key:"canFill",value:function(){return"line"!==this.border.shape}},{key:"get",value:function(e){if("layout"===e)return gd()(this.computedProps.layout);var t=_$(R$(i.prototype),"get",this).call(this,e);return"border"===e?(t.stroke=t.stroke||this.computedProps.treeEdge.stroke,t["stroke-width"]=this.getBorderStrokeWidth(),t):"treeEdge"===e?(t.stroke=this.computedProps.treeEdge.stroke,t["stroke-width"]=this.getTreeEdgeStrokeWidth(),t):t}},{key:"getKeyShape",value:function(){return this.borderElement}},{key:"getPadding",value:function(){return[4,8,4,8]}},{key:"getBorderStrokeWidth",value:function(){return this.border["stroke-width"]||this.getDefaultStrokeWidth()}},{key:"getTreeEdgeStrokeWidth",value:function(){return this.treeEdge["stroke-width"]||this.getDefaultStrokeWidth()}},{key:"getDefaultStrokeWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.depth,t=this.root,n=t.tapered;return n&&_X(e)||3}},{key:"initSubcell",value:function(){var e=this;this.subcells=this.Subcells.map((function(t){return new t(e)}))}},{key:"getSiblings",value:function(){var e=this,t=_$(R$(i.prototype),"getSiblings",this).call(this);return 1===this.depth?t.filter((function(t){return t.computedProps.layout.quadrant===e.computedProps.layout.quadrant})):t}},{key:"eventDelegation",value:function(){var e=this.graphicGroup,t=this.imageElement;this.delegateEvent(t,"mouseenter","mindmapcellimage:mouseenter"),this.delegateEvent(t,"mouseleave","mindmapcellimage:mouseleave"),this.delegateEvent(e,"mouseenter","mindmapcell:mouseenter"),this.delegateEvent(e,"mouseleave","mindmapcell:mouseleave")}},{key:"render",value:function(){this.subcells.forEach((function(e){e.render()})),this.updateModel(this.model)}},{key:"draw",value:function(){this.drawInner(),this.updateCache(),this.updateState()}},{key:"updateModel",value:function(e){e&&""===e.html&&(e.html="&#8203;"),_$(R$(i.prototype),"updateModel",this).call(this,e),this.calculate()}},{key:"isInCollapsed",value:function(){for(var e=this.parent;e;){if(!0===e.collapsed)return!0;e=e.parent}return!1}},{key:"getCellQuadrant",value:function(){for(var e=this;1!==e.depth;)e=e.parent;return e.model.quadrant}},{key:"drawInner",value:function(){this.subcells.forEach((function(e){e.draw()})),this.drawCollapse(),this.drawPosition()}},{key:"drawInherit",value:function(){this.subcells.forEach((function(e){e.drawInherit()}))}},{key:"drawPosition",value:function(){this.subcells.forEach((function(e){e.drawPosition()}));var e=this.graphicGroup,t=this.x,n=this.y,r=this.cache;if(!r.matrix||t!==r.matrix[6]||n!==r.matrix[7]){var o=[1,0,0,0,1,0,t,n,1];e.update({matrix:o}),r.matrix=o,this.matrix=o}}},{key:"drawCollapse",value:function(){this.isInCollapsed()?this.hide():this.show()}},{key:"getNoteWidth",value:function(){return this.model.note&&this.findSubcell("Note").size[0]||0}},{key:"calculate",value:function(){this.calculateSize()}},{key:"calculateSize",value:function(){var e=this,t=this.cache,n=this.getPadding(),r={noteWidth:this.getNoteWidth(),padding:n},o=this.findSubcell("TextArea");o.update(),this.textAreaBBox=o.getBBox(),t.html&&this.html&&t.html!==this.html&&(this.model.height=null),["width","height","html","image"].some((function(n){return t[n]!==e[n]}))&&(this.calculateImageSize(r),this.contentHeight=this.getContentHeight(r),this.contentWidth=this.getContentWidth(r),this.height=this.getHeight(r),this.width=this.getWidth(r),this.contentBox=this.getContentBox(r))}},{key:"getContentBox",value:function(e){var t=e.padding,n=e.noteWidth,r=this.width,o=this.contentWidth,i=this.contentHeight;return{x:(r-o-t[1]-t[3]-n)/2+t[3],y:t[0],width:o,height:i}}},{key:"getHasModelSizeContentWidth",value:function(e,t){var n,r=this.model,o=this.border,i=e[1]+e[3]+t,a=r.width-i;return"capsule"===o.shape&&(n=r.width>r.height?r.width-r.height+i:r.width/2,a=Math.min(a,n)),a}},{key:"calculateImageSize",value:function(e){var t=e.padding,n=e.noteWidth,r=this.image,o=this.model;if(!r.height||o.height){if(!r.src)return Object.assign(r,{width:0,height:0});var a=r.naturalWidth/r.naturalHeight,c=this.getTextAreaHeight(),s=this.getHasModelSizeContentWidth(t,n),l=o.height-t[0]-t[2]-c-4,u=((l=Math.max(l>0?l:0,36))>0?s/l:a)<=a?s/a:l,f=u*a;_$(R$(i.prototype),"updateModel",this).call(this,{image:{width:f,height:u}})}}},{key:"getWidth",value:function(e){var t,n=e.padding,r=e.noteWidth,o=this.isPlaceholder,i=this.model,a=this.border,c=this.contentWidth,s=this.contentHeight;if(o)return i.width;if(i.width)t=i.width;else if(t=c+n[1]+n[3]+r,"capsule"===a.shape){var l=n[1]+n[3];s>l&&(t+=s-l)}return lE(Math.ceil(t),this.minWidth)}},{key:"getHeight",value:function(e){var t=e.padding;return this.isPlaceholder?this.model.height:lE(this.contentHeight+t[0]+t[2],this.minHeight)}},{key:"getContentWidth",value:function(e){var t=e.padding,n=e.noteWidth,r=this.textAreaBBox,o=this.image,i=this.model;return i.width?i.width-n-t[1]-t[3]:Math.ceil(Math.max(r.width,o.width))||100}},{key:"getTextAreaHeight",value:function(){var e=this.textAreaBBox,t=this.image,n=this.diagram;return t.src&&this.isContentEmpty()&&!n.contentEditor.isBegin?0:e.height}},{key:"getContentHeight",value:function(){var e=this.image,t=this.getTextAreaHeight();return Math.ceil(t+e.height)}},{key:"updateState",value:function(){this.setDefault(),this.subcells.forEach((function(e){e.updateState()}))}},{key:"setDefault",value:function(){this.subcells.forEach((function(e){e.setDefault()}))}},{key:"updateCache",value:function(){this.cache.width=this.width,this.cache.height=this.height,this.cache.html=this.html,this.cache.collapsed=this.collapsed}},{key:"toDragCanvas",value:function(){return"read"===this.diagram.interaction.currentMode}},{key:"preventDelete",value:function(){return!1}},{key:"beginEditContent",value:function(){this.state.beginEdit=!0,this.updateState()}},{key:"endEditContent",value:function(){this.state.beginEdit=!1,this.updateState()}},{key:"getEventObject",value:function(e){return{cell:this,nativeEvent:e}}},{key:"destroy",value:function(){this.subcells.forEach((function(e){e.destroy()})),_$(R$(i.prototype),"destroy",this).call(this)}},{key:"minWidth",get:function(){var e=this.border;if(e){var t=e.shape;if("rect"===t)return 38;if("capsule"===t)return 42}return 32}},{key:"minHeight",get:function(){return 16}},{key:"isPlaceholder",get:function(){return this.model.isPlaceholder}}])&&C$(t.prototype,n),r&&C$(t,r),i}(QK);function D$(e){return(D$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N$(e,t){return(N$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F$(e);if(t){var o=F$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L$(this,n)}}function L$(e,t){return!t||"object"!==D$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F$(e){return(F$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}T$.className="MindmapBase";var z$=s.Path,B$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N$(e,t)}(i,e);var t,n,r,o=I$(i);function i(){return A$(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.cell,t=e.graphicGroup,n=new z$({fill:"none","stroke-linecap":"round","stroke-linejoin":"round"});n.rendererElement.style["pointer-events"]="none",t.add(n),this.element=n,e.treeEdgeElement=n}},{key:"VH",value:function(e,t){return"M".concat(e[0],",").concat(e[1]," L").concat(e[0],",").concat(t[1]," L").concat(t[0],",").concat(t[1])}},{key:"curveHVH",value:function(){var e,t,n,r,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=this.cell,s=c.parent,l=.618,u=4,f=4,p=36,d="";return c.x>s.x?(t=1===c.depth?[s.x-c.x+s.width-p,s.y-c.y+s.height/2]:[s.x-c.x+s.width,s.y-c.y+s.height/2+i],(n=[0,c.height/2])[1]+=a,r=[t[0]+u,t[1]],e=(o=[n[0]-f,n[1]])[0]-r[0],d+="M".concat(t[0]," ").concat(t[1]," "),d+="L".concat(r[0]," ").concat(r[1]," "),d+="C".concat(r[0]+e*(1-l)," ").concat(r[1],", ").concat(o[0]-e*l," ").concat(o[1],", ").concat(o[0]," ").concat(o[1]," "),d+="L".concat(n[0]," ").concat(n[1]),"line"===c.border.shape&&(d+="L".concat(n[0]+c.width," ").concat(n[1]))):(t=1===c.depth?[s.x-c.x+p,s.y-c.y+s.height/2]:[s.x-c.x,s.y-c.y+s.height/2+i],(n=[c.width,c.height/2])[1]+=a,r=[t[0]-u,t[1]],o=[n[0]+f,n[1]],e=r[0]-o[0],d+="M".concat(t[0]," ").concat(t[1]," "),d+="L".concat(r[0]," ").concat(r[1]," "),d+="C".concat(r[0]-e*(1-l)," ").concat(r[1],", ").concat(o[0]+e*l," ").concat(o[1],", ").concat(o[0]," ").concat(o[1]," "),d+="L".concat(n[0]," ").concat(n[1]),"line"===c.border.shape&&(d+="L".concat(n[0]-c.width," ").concat(n[1]))),d}},{key:"VHV",value:function(){var e,t,n=this.cell,r=n.parent,o={x:r.x-n.x,y:r.y-n.y},i="";n.y<r.y?(e=[o.x+r.width/2,o.y],t=[n.width/2,n.height]):(e=[o.x+r.width/2,o.y+r.height],t=[n.width/2,0]);var a=(e[1]+t[1])/2;return i+="M".concat(e[0]," ").concat(e[1]," "),i+="L".concat(e[0]," ").concat(a," "),i+="L".concat(t[0]," ").concat(a," "),i+="L".concat(t[0]," ").concat(t[1])}},{key:"HVH",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.cell,a=i.parent,c="";return i.x>a.x?(e=1===i.depth?[a.x-i.x+a.width,a.y-i.y+a.height/2]:[a.x-i.x+a.width,a.y-i.y+a.height/2+r],(t=[0,i.height/2])[1]+=o,n=(a.x-i.x+a.width)/2,"line"===i.border.shape&&(t[0]+=i.width)):(e=1===i.depth?[a.x-i.x,a.y-i.y+a.height/2]:[a.x-i.x,a.y-i.y+a.height/2+r],(t=[i.width,i.height/2])[1]+=o,n=(a.x-i.x+i.width)/2,"line"===i.border.shape&&(t[0]-=i.width)),c+="M".concat(e[0]," ").concat(e[1]," "),c+="L".concat(n," ").concat(e[1]," "),c+="L".concat(n," ").concat(t[1]," "),c+="L".concat(t[0]," ").concat(t[1])}},{key:"curveVHV",value:function(){var e,t,n,r,o,i=this.cell,a=i.parent,c={x:a.x-i.x,y:a.y-i.y},s="",l=1===i.depth?0:8;return i.y<a.y?(t=[c.x+a.width/2,c.y],n=[i.width/2,i.height],r=[t[0],t[1]-l],o=[n[0],n[1]+0],e=r[1]-o[1]):(t=[c.x+a.width/2,c.y+a.height],n=[i.width/2,0],r=[t[0],t[1]+l],o=[n[0],n[1]-0],e=r[1]-o[1]),s+="M".concat(t[0]," ").concat(t[1]," "),s+="L".concat(r[0]," ").concat(r[1]," "),s+="C".concat(r[0]," ").concat(r[1]-.382*e,", ").concat(o[0]," ").concat(o[1]+.618*e,", ").concat(o[0]," ").concat(o[1]," "),s+="L".concat(n[0]," ").concat(n[1])}},{key:"getStandardLayoutPath",value:function(){var e=this.cell,t=e.parent,n=e.computedProps,r=n.layout,o=n.treeEdge.shape;if(CX(String(r&&r.direction||[1,0])))return"polyline"===o?this.VHV():this.curveVHV();var i=0,a=0;return"line"===t.border.shape&&(i=t.height/2),"line"===e.border.shape&&(a=e.height/2),"polyline"===o?this.HVH(i,a):this.curveHVH(i,a)}},{key:"getIndentLayoutPath",value:function(){var e=this.cell,t=e.parent,n=e.computedProps.treeEdge.shape,r=t.x-e.x,o=t.y-e.y,i=t.x+t.width/2-(e.x+e.width)>0,a=-e.height/2,c="";if("polyline"===n)c+="M".concat(r+t.width/2,",").concat(o+t.height," L").concat(r+t.width/2,",").concat(e.height+a),c+=i?"L".concat(e.width,",").concat(e.height+a):"L0,".concat(e.height+a);else{var s=i?Math.abs(e.x+e.width-(t.x+t.width/2)):Math.abs(e.x-(t.x+t.width/2));c+="M".concat(r+t.width/2,",").concat(o+t.height," L").concat(r+t.width/2,",").concat(e.height-s+a),c+=i?"A ".concat(s," ").concat(s,", 0, 0, 1, ").concat(e.width,", ").concat(e.height+a):"A ".concat(s," ").concat(s,", 0, 0, 0, ",0,", ").concat(e.height+a)}return c}},{key:"getTimelineLayoutPath",value:function(){var e=this.cell,t=e.parent,n=e.depth%2==1,r={x:t.x-e.x,y:t.y-e.y};if(n){if(0===e.getNth())return"M".concat(r.x+t.width,",").concat(r.y+t.height/2," L0,").concat(e.height/2);var o=e.getLastSibling(),i={x:o.x-e.x,y:o.y-e.y};return"M".concat(i.x+o.width,",").concat(i.y+o.height/2," L0,").concat(e.height/2)}var a=t.getNth()%2==1;return this.VH([r.x+t.width/2,a?r.y+t.height:r.y],[0,e.height/2])}},{key:"getPath",value:function(){var e=this.cell.computedProps.layout.type;return"indent"===e?this.getIndentLayoutPath():"timeline"===e?this.getTimelineLayoutPath():this.getStandardLayoutPath()}},{key:"getSytle",value:function(){var e=this.cell;return{stroke:e.computedProps.treeEdge.stroke,"stroke-width":e.getTreeEdgeStrokeWidth()}}},{key:"drawPosition",value:function(){var e=this.cell,t=this.element,n=e.cache,r=this.getPath();n.treeEdgePath!==r&&(t.update({d:r}),n.treeEdgePath=r)}},{key:"drawInherit",value:function(){this.draw()}},{key:"draw",value:function(){var e=this.cell,t=this.element,n=e.cache,r=this.getPath(),o=this.getSytle(),i=xE(o,n.treeEdgeStyle,["stroke","stroke-width"]);n.treeEdgePath!==r&&(i.d=r,n.treeEdgePath=r),Object.keys(i).length>0&&(t.update(i),n.treeEdgeStyle=gd()(o))}},{key:"destroy",value:function(){this.element.destroy()}}])&&M$(t.prototype,n),r&&M$(t,r),i}(vY);function V$(e){return(V$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U$(e,t){return(U$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y$(e);if(t){var o=Y$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K$(this,n)}}function K$(e,t){return!t||"object"!==V$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y$(e){return(Y$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}B$.className="TreeEdge",B$.configName="treeEdge",B$.zIndex=1;var X$=s.Group,$$=s.Html,G$=s.Path,Z$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U$(e,t)}(i,e);var t,n,r,o=W$(i);function i(){return q$(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.cell,t=new X$;this.element=t,e.delegateEvent(t,"click","collapsedbutton:click"),e.collapsedButtonElement=t}},{key:"_drawHotArea",value:function(){var e=this.element,t=this.bbox,n=new G$;n.update({fill:"rgba(255, 255, 255, 0)",d:CS(-8,-8,t.width+16,t.height+16)}),e.add(n),n.toBack()}},{key:"_getCurrent",value:function(e){var t=this.cell,n=t.computedProps.treeEdge,r=t.x,o=t.y,i=t.width,a=t.height;return e+r+o+n.stroke+i+a}},{key:"_setBBox",value:function(){var e,t,n=this.direction,r=this.circleButtonWidth,o=this.circleButtonHeight;switch(n){case"top":case"bottom":e=r,t=o+8;break;case"left":t=o,e=r+8;break;default:t=o,e=r+8}this.bbox={width:e,height:t}}},{key:"drawCollapse",value:function(){var e,t=this.cell,n=this.element,r=this.direction,o=t.computedProps,i=t.diagram,a=t.graphicGroup,c=i.viewport.zoom;switch(n.clear(),a.add(n),r){case"top":e=-90;break;case"bottom":e=90;break;case"left":e=180;break;default:e=0}var s=["position: absolute","border-radius: 16px","width: 16px","height: 16px","cursor: pointer","background: white","border: ".concat(t.getTreeEdgeStrokeWidth(),"px solid ").concat(o.treeEdge.stroke),"transform: rotate(".concat(e,"deg)")],l=new $$({html:'<span style="'.concat(s.join(";"),'" data-diagram-collapsed-button=true></span>'),x:0,y:0,width:0,height:0});n.add(l);var u=l.htmlContainer.querySelector("span"),f=u.getBoundingClientRect(),p=f.width/c,d=f.height/c;l.update({width:p,height:d}),u.addEventListener("mouseenter",(function(){u.style.background=o.treeEdge.stroke,u.style["background-repeat"]="no-repeat",u.style["background-position"]="1px 1px",u.style["background-image"]="url(".concat("https://gw.alipayobjects.com/zos/bmw-prod/c8f8bbfd-df13-421d-85f1-e310d67c89fc.svg",")")})),u.addEventListener("mouseout",(function(){u.style.background="white",u.style["background-image"]="none"})),this.circleButtonWidth=p,this.circleButtonHeight=d,this._setBBox(),this._drawTail(),this._drawHotArea(),this._updatePosition(),this.current=this._getCurrent("collapseButton")}},{key:"drawExpand",value:function(){var e=this.cell,t=this.element,n=e.computedProps,r=e.diagram.viewport.zoom,o=e.graphicGroup;t.clear(),o.add(t);var i=-1;e.deepEach((function(){i++}));var a=["position: absolute","padding: 0px 4px","border-radius: 12px","height: 16px","font-size: 12px","color: white","cursor: pointer","background: ".concat(n.treeEdge.stroke)],c=new $$({html:'<span style="'.concat(a.join(";"),'" data-diagram-collapsed-button=true>').concat(i,"</span>"),x:0,y:0,width:0,height:0});t.add(c);var s=c.htmlContainer;s.style["line-height"]="16px";var l=s.querySelector("span").getBoundingClientRect(),u=l.width/r,f=l.height/r;c.update({width:u,height:f}),this.circleButtonWidth=u,this.circleButtonHeight=f,this._setBBox(),this._drawTail(),this._drawHotArea(),this._updatePosition(),this.current=this._getCurrent("expandButton")}},{key:"_drawTail",value:function(){var e,t=this.element,n=this.circleButtonWidth,r=this.circleButtonHeight,o=this.direction,i=this.cell,a=i.computedProps,c={x:n/2,y:r/2};switch(o){case"top":e="M".concat(c.x," ").concat(r," L").concat(c.x," ").concat(r+8);break;case"bottom":e="M".concat(c.x," 0 L").concat(c.x," -").concat(8);break;case"left":e="M".concat(n," ").concat(c.y," L").concat(n+8," ").concat(c.y);break;default:e="M0 ".concat(c.y," L-").concat(8," ").concat(c.y)}t.add(new G$({d:e,stroke:a.treeEdge.stroke,"stroke-width":i.getTreeEdgeStrokeWidth()}))}},{key:"_updatePosition",value:function(){var e,t,n=this.cell,r=this.element,o=this.direction,i=this.bbox,a=n.border,c=n.computedProps.layout,s=i.width,l=i.height;switch(o){case"top":e=n.width/2-s/2,t=-(s+8);break;case"bottom":e=n.width/2-s/2,t=n.height+8;break;case"left":t="line"===a.shape&&"standard"===c.type?n.height-l/2:n.height/2-l/2,e=-s;break;default:t="line"===a.shape&&"standard"===c.type?n.height-l/2:n.height/2-l/2,e=n.width+8}r.update({matrix:[1,0,0,0,1,0,e,t,1]})}},{key:"drawPosition",value:function(){this.draw()}},{key:"updateState",value:function(){this.draw()}},{key:"_setDirection",value:function(){var e=this.cell,t=e.computedProps,n=e.root,r=t.layout,o=CX(String(r&&r.direction||[1,0]));if("standard"===r.type)if(o){var i=e.y+e.height/2<n.y+n.height/2;this.direction=i?"top":"bottom"}else{var a=e.x+e.width/2<n.x+n.width/2;this.direction=a?"left":"right"}else if("indent"===r.type){var c=e.x+e.width/2<n.x+n.width/2;this.direction=c?"left":"right"}else this.direction="right"}},{key:"draw",value:function(){var e=this.cell,t=this.element,n=this.current,r=e.state;this._setDirection(),e.canExpand()?n!==this._getCurrent("expandButton")&&this.drawExpand():e.canCollapse()&&r.collapsedButtonVisible?n!==this._getCurrent("collapseButton")&&this.drawCollapse():("none"!==n&&t.remove(),this.current=this._getCurrent("none"))}},{key:"destroy",value:function(){this.element.destroy()}}])&&H$(t.prototype,n),r&&H$(t,r),i}(vY);function J$(e){return(J$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tG(e,t,n){return(tG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=iG(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function nG(e,t){return(nG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iG(e);if(t){var o=iG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oG(this,n)}}function oG(e,t){return!t||"object"!==J$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iG(e){return(iG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Z$.className="CollapsedButton",Z$.configName="bollapsedButton",Z$.zIndex=1;var aG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nG(e,t)}(i,e);var t,n,r,o=rG(i);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Q$(this,i);var t=14,n=1===e.depth?400:"normal",r=1===e.depth?'PingFangSC-Medium, "PingFang SC"':'PingFangSC-Regular, "PingFang SC"';return e=fE({default:{collapsedButton:{},border:{outer:0,radius:3,shape:"line",fill:"rgba(255,255,255,0)"},outline:{outer:3,radius:6,fill:"rgba(255,255,255,0)","stroke-width":1,highlight:{stroke:"#349BF9","stroke-width":1},beginEdit:{stroke:yX,fill:"rgba(255,255,255,0)","stroke-width":1},selected:{stroke:yX,fill:"rgba(52, 155, 249, .15)","stroke-width":1}},treeEdge:{}},textAreaContentStyleSheets:[{query:"self",css:{outline:"none","white-space":"normal","letter-spacing":"0.1px","font-size":"".concat(t,"px"),"font-weight":"".concat(n),"font-family":r,"line-height":"1.74","word-break":"break-word",color:tM}}],Subcells:[B$,Z$]},e),o.call(this,e)}return t=i,(n=[{key:"getPadding",value:function(){var e,t=this.model;return e=1===this.depth?"line"===this.border.shape?[2,8,2,8]:[6,12,6,12]:this.depth>1?"line"===this.border.shape?[2,8,2,8]:[6,8,6,8]:tG(iG(i.prototype),"getPadding",this).call(this),t.note&&(e[1]/=2),e}}])&&eG(t.prototype,n),r&&eG(t,r),i}(T$);function cG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}aG.className="MindmapCell";var lG=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};cG(this,e),this.options=t,Object.assign(this,t)}var t,n,r;return t=e,(n=[{key:"getHGap",value:function(){return 20}},{key:"getVGap",value:function(){return 20}},{key:"postOrder",value:function(e,t,n){var r=this;!e.children||e.isSubTree&&n||e.collapsed||e.children.forEach((function(n){r.postOrder(n,t,e)})),t(e,n)}},{key:"postOrderChildren",value:function(e,t,n){var r=this;!e.children||e.isSubTree&&n||e.collapsed||e.children.forEach((function(n){r.postOrderChildren(n,t,e),t(n,e)}))}},{key:"preOrder",value:function(e,t,n){var r=this,o=e.children;t(e,n),!o||e.isSubTree&&n||e.collapsed||e.children.forEach((function(n){r.preOrder(n,t,e)}))}},{key:"preOrderChildren",value:function(e,t,n){var r=this;!e.children||e.isSubTree&&n||e.collapsed||e.children.forEach((function(n){t(n,e),r.preOrderChildren(n,t,e)}))}},{key:"deepEach",value:function(e,t){var n=this,r=e.children;t(e),r&&e.children.forEach((function(e){n.deepEach(e,t)}))}},{key:"move",value:function(e,t,n){this.deepEach(e,(function(e){e.x+=t,e.y+=n}))}},{key:"setKeys",value:function(e){this.isVertical?(this.breadthAxis="x",this.breadthNorm="w",this.breadthGap="hgap",this.depthAxis="y",this.depthNorm="h",this.depthGap="vgap"):(this.breadthAxis="y",this.breadthNorm="h",this.breadthGap="vgap",this.depthAxis="x",this.depthNorm="w",this.depthGap="hgap"),this.isPositive="1,0"===e||"0,1"===e}},{key:"normalize",value:function(e){var t=this,n=this.isVertical;this.preOrder(e,(function(e){var r={node:e,isVertical:n};e.vgap=t.getVGap(r),e.hgap=t.getHGap(r)}))}},{key:"setSubTreeNodeDepth",value:function(e,t,n){this.isVertical?this.move(e,0,t-e[n]):this.move(e,t-e[n],0)}},{key:"setSubTreeNodeBreadth",value:function(e,t,n){this.isVertical?this.move(e,t-e[n],0):this.move(e,0,t-e[n])}},{key:"layout",value:function(e,t){var n=t.direction,r=CX(n);this.isVertical=r,this.normalize(e),this.setKeys(n),this.execute(e,n)}},{key:"setDepth",value:function(){}},{key:"setBreadth",value:function(){}},{key:"setZIndex",value:function(e){var t=this.breadthAxis,n=this.breadthNorm,r=[];this.preOrder(e,(function(e){var o=e.children;if(r.push(e),o&&!e.collapsed){var i=e[t]+e[n]/2;o.sort((function(e,r){return Math.abs(e[t]+e[n]-i)-Math.abs(r[t]+r[n]-i)}))}})),r.reverse().forEach((function(e,t){e.zIndex=t}))}},{key:"execute",value:function(e){this.setDepth(e),this.setBreadth(e),this.setZIndex(e)}}])&&sG(t.prototype,n),r&&sG(t,r),e}();function uG(e){return(uG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dG(e,t,n){return(dG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yG(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function hG(e,t){return(hG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yG(e);if(t){var o=yG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vG(this,n)}}function vG(e,t){return!t||"object"!==uG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yG(e){return(yG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hG(e,t)}(i,e);var t,n,r,o=mG(i);function i(){return fG(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"normalize",value:function(e){this.preOrderChildren(e,(function(e,t){e.ancestors=[t].concat(t.ancestors||[])})),dG(yG(i.prototype),"normalize",this).call(this,e)}},{key:"setDepth",value:function(e){var t=this,n=this.depthAxis,r=this.depthNorm,o=this.depthGap,i=this.isPositive;this.preOrderChildren(e,(function(e){var a,c=e.isSubTree,s=c?"t":"",l=s+n,u=s+r,f=e.parent,p=e[o];a=i?f[n]+f[r]+p:f[n]-e[u]-p,c&&t.setSubTreeNodeDepth(e,a,l),e[l]=a}))}},{key:"getBreadthGap",value:function(e,t){var n,r,o=this.breadthGap;if(e.parent===t.parent)return t[o];e.depth<t.depth?(n=t,r=e):(n=e,r=t);for(var i=n.depth-r.depth,a=0;a<r.ancestors.length;a++){var c=a+i;if(r.ancestors[a]===n.ancestors[c])return n.ancestors[c-1][o]}}},{key:"getBreadthByChildren",value:function(e){var t=e.children,n=e.breadthAxis,r=e.node,o=e.breadthNorm,i=e.norm,a=t[t.length-1];return(t[0][n]+a[n]+a[o]-r[i])/2}},{key:"setBreadth",value:function(e){var t,n=this,r=this.breadthAxis,o=this.breadthNorm,i=this.breadthGap,a=this.isVertical,c=e.x,s=e.y;this.postOrder(e,(function(c,s){if(s){var l,u,f=c.isSubTree&&c!==e,p=f?"t":"",d=p+r,h=p+o;if(t){var m=c.children;if(!m||0===m.length||f||c.collapsed){var v=n.getBreadthGap(c,t);l=t.maxBreadth+v}else{l=n.getBreadthByChildren({children:m,breadthAxis:r,node:c,breadthNorm:o,norm:h,isVertical:a}),c.minBreadth=Math.min(c.minBreadth,l);var y=s.children[s.children.indexOf(c)-1];if(y){var g=y.maxBreadth+y[i]-c.minBreadth;g>0&&(u=g)}}}else l=0;f&&n.setSubTreeNodeBreadth(c,l,d),c[d]=l,u&&(a?n.move(c,u,0):n.move(c,0,u),c.maxBreadth+=u);var b=c[d]+c[h];c.maxBreadth=Math.max(b,c.maxBreadth||0),s.maxBreadth=Math.max(b,c.maxBreadth,s.maxBreadth||0);var w=c[d];c.minBreadth=Math.min(w,c.minBreadth||1/0),s.minBreadth=Math.min(w,c.minBreadth,s.minBreadth||1/0),t=c}})),e[r]=this.getBreadthByChildren({children:e.children,breadthAxis:r,node:e,breadthNorm:o,norm:o,isVertical:a}),e.isSubTree&&(e.maxBreadth=0),a?this.move(e,c-e.x,0):this.move(e,0,s-e.y)}},{key:"layout",value:function(e,t){var n=t.direction;"0,1"===n||"1,0"===n||"-1,0"===n||"0,-1"===n?dG(yG(i.prototype),"layout",this).call(this,e,{direction:n}):console.warn("The standard Layout only support vertical or horizontal direction")}}])&&pG(t.prototype,n),r&&pG(t,r),i}(lG);function bG(e){return(bG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xG(e,t){return(xG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function OG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_G(e);if(t){var o=_G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CG(this,n)}}function CG(e,t){return!t||"object"!==bG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _G(e){return(_G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}gG.className="Standard";var EG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xG(e,t)}(i,e);var t,n,r,o=OG(i);function i(){return wG(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"setDepth",value:function(e){var t=this,n=this.depthAxis,r=this.depthNorm,o=this.depthGap,i=this.isPositive;this.preOrderChildren(e,(function(e){var a,c=e.isSubTree,s=c?"t":"",l=s+n,u=s+r,f=e.parent,p=e[o];a=i?f[n]+f[u]/2+p:f[n]+f[u]/2-e[u]-p,c&&t.setSubTreeNodeDepth(e,a,l),e[l]=a}))}},{key:"setBreadth",value:function(e){var t=this,n=this.breadthAxis,r=this.breadthNorm,o=this.breadthGap,i=this.isVertical,a=e.x,c=e.y,s=null;this.preOrder(e,(function(i){var a=i[o],c=i.isSubTree&&i!==e,l=c?"t":"",u=l+n,f=l+r,p=s?s[u]+s[f]+a:0;c&&t.setSubTreeNodeBreadth(i,p,u),i[u]=p,s=i})),i?this.move(e,a-e.x,0):this.move(e,0,c-e.y)}}])&&kG(t.prototype,n),r&&kG(t,r),i}(lG);function jG(e){return(jG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RG(e,t,n){return(RG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=MG(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function TG(e,t){return(TG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function DG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=MG(e);if(t){var o=MG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return AG(this,n)}}function AG(e,t){return!t||"object"!==jG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function MG(e){return(MG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}EG.className="Indent";var NG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TG(e,t)}(i,e);var t,n,r,o=DG(i);function i(){return SG(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"normalize",value:function(e){e.chainNodes=[e],this.preOrderChildren(e,(function(e,t){e.chainNodes=[e].concat(t.chainNodes||[]),e.index=t.children.indexOf(e),e.indexOdd=e.index%2==1,e.depthOdd=e.depth%2==1})),RG(MG(i.prototype),"normalize",this).call(this,e)}},{key:"setDepth",value:function(e){var t=this.depthAxis,n=this.depthNorm,r=this.depthGap;e.maxDepth=e[t]+e[n],e.maxOddDepth=e.maxDepth,e.maxEvenDepth=e.maxDepth,this.preOrderChildren(e,(function(e,o){var i=e.indexOdd,a=e.depthOdd,c=e.chainNodes;e[t]=a?i?o.maxOddDepth+e[r]:o.maxEvenDepth+e[r]:o[t]+o[n]/2+e[r],e.selfDepth=e[t]+e[n],e.maxDepth=e.selfDepth,e.maxOddDepth=e.selfDepth,e.maxEvenDepth=e.selfDepth,a&&(i?o.maxEvenDepth=Math.max(o.maxEvenDepth,e.selfDepth):o.maxOddDepth=Math.max(o.maxOddDepth,e.selfDepth));for(var s=0;s<c.length-1;s++){var l=c[s],u=c[s+1];l.depthOdd&&(l.indexOdd?u.maxOddDepth=Math.max(u.maxOddDepth,l.maxDepth):u.maxEvenDepth=Math.max(u.maxEvenDepth,l.maxDepth)),u.maxDepth=Math.max(u.maxDepth,l.maxDepth)}}))}},{key:"setBreadth",value:function(e){var t=this,n=this.breadthAxis,r=this.breadthNorm,o=this.breadthGap;e.maxBreadth=e[n]+e[r],e.minBreadth=e[n],this.preOrderChildren(e,(function(e,i){e.depthOdd?e[n]=i[n]+(i[r]-e[r])/2:i.indexOdd?e[n]=i.maxBreadth+e[o]:e[n]=i.minBreadth-e[o]-e[r],e.minBreadth=e[n],e.maxBreadth=e[n]+e[r];for(var a=0;a<e.chainNodes.length-1;a++){var c=e.chainNodes[a],s=e.chainNodes[a+1];if(!c.depthOdd){var l=0===c.index?s:s.children[c.index-1];if(s.indexOdd){var u=l[n]+l[r];u>c.minBreadth&&function(){var e=u-c.minBreadth+c[o];t.deepEach(c,(function(t){t[n]+=e,t.minBreadth+=e,t.maxBreadth+=e}))}()}else{var f=l[n];f<c.maxBreadth&&function(){var e=c.maxBreadth-f+c[o];t.deepEach(c,(function(t){t[n]-=e,t.minBreadth-=e,t.maxBreadth-=e}))}()}}s.minBreadth=Math.min(c.minBreadth,s.minBreadth),s.maxBreadth=Math.max(c.maxBreadth,s.maxBreadth)}}))}}])&&PG(t.prototype,n),r&&PG(t,r),i}(lG);function IG(e){return(IG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FG(e,t){return(FG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=VG(e);if(t){var o=VG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return BG(this,n)}}function BG(e,t){return!t||"object"!==IG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function VG(e){return(VG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}NG.className="Backbone";var qG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FG(e,t)}(n,e);var t=zG(n);function n(){return LG(this,n),t.apply(this,arguments)}return n}(NG);function HG(e){return(HG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KG(e,t){return(KG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$G(e);if(t){var o=$G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return XG(this,n)}}function XG(e,t){return!t||"object"!==HG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $G(e){return($G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}qG.className="Timeline";var GG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KG(e,t)}(i,e);var t,n,r,o=YG(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return UG(this,i),t=fE({default:{border:{outer:0,radius:4,shape:"rect",fill:"#596086","stroke-width":2,stroke:"rgba(0, 0, 0, 0)"},outline:{outer:2,radius:6,"stroke-width":2,selected:{stroke:yX,fill:"rgba(52, 155, 249, .15)","stroke-width":1},highlight:{stroke:"#349BF9",fill:"none"},beginEdit:{stroke:yX}},textArea:{className:"lake-diagram-mindmap-root"},layout:{type:"standard",direction:[1,0],quadrants:2,quadrant:1},treeEdge:{stroke:"#959EA6"},tapered:!1,rainbow:!0,note:{width:20,height:20,padding:[0,8,0,0]}},textAreaContentStyleSheets:[{query:"self",css:{"letter-spacing":"normal","font-size":"18px","font-family":'PingFangSC-Medium, "PingFang SC"',"line-height":"1.74","word-break":"break-word",outline:"none",color:"white"}}]},t),(e=o.call(this,t)).isRoot=!0,e.initLayoutEngine(),e}return t=i,(n=[{key:"canCollapse",value:function(){return!1}},{key:"getPadding",value:function(){return[6,this.model.note?8:16,6,16]}},{key:"initLayoutEngine",value:function(){var e=this.cellMap,t=this.model;this.layoutHelper=new UW({model:t,parse:function(t){var n=e[t.id];return{w:n.width,h:n.height,layout:n.layout.type,quadrants:n.layout.quadrants,direction:n.layout.direction,quadrant:n.computedProps.layout.quadrant,collapsed:t.collapsed,border:{shape:n.border.shape},cell:n}},algorithms:{timeline:new qG,standard:new gG({getBreadthByChildren:function(e){var t=e.children,n=e.breadthAxis,r=e.node,o=e.breadthNorm,i=e.norm,a=e.isVertical,c=t.length,s=t[0],l=t[c-1];if(!a){if("line"===t[0].border.shape&&"line"===r.border.shape)return(t[0][n]+t[0][o]+l[n]+l[o])/2-r[i];if("line"===t[0].border.shape&&"line"!==r.border.shape)return(t[0][n]+t[0][o]+l[n]+l[o]-r[o])/2;if("line"!==t[0].border.shape&&"line"===r.border.shape&&s===l)return t[0][n]+s[o]/2-r[i]}return(t[0][n]+l[n]+l[o]-r[i])/2},getHGap:function(e){var t=e.isVertical,n=e.node.depth;return t?1===n?48:24:64},getVGap:function(e){var t,n=e.isVertical,r=e.node,o=r.depth,i=r.border;return n?t=64:1===o?t=24:(t=2===o?10:8,"line"!==i.shape&&(t*=2)),t}}),indent:new EG({getHGap:function(e){var t=e.isVertical,n=e.node.depth;return t?1===n?48:24:16},getVGap:function(e){var t,n=e.node,r=e.isVertical,o=n.depth,i=n.border;return r?t=32:1===o?t=24:(t=2===o?10:8,"line"!==i.shape&&(t*=2)),t}})}})}},{key:"_layoutPosition",value:function(e){e.forEach((function(e){var t=e.cell;t.x=e.x||0,t.y=e.y||0}))}},{key:"_layoutZIndex",value:function(e){var t=this,n=this.diagram,r=n.rootGroup;n.contentEditor.isBegin||(e=e.filter((function(e){return e.cell!==t&&void 0!==e.zIndex})).sort((function(e,t){return e.zIndex-t.zIndex}))).forEach((function(e){var n=e.cell;r.insertBefore(n.graphicGroup,t.graphicGroup)}))}},{key:"executeLayout",value:function(){var e=this.layoutHelper.execute(),t=[];Z_(e,(function(e){t.push(e)})),this._layoutPosition(t),this._layoutZIndex(t)}},{key:"minWidth",get:function(){return 52}}])&&WG(t.prototype,n),r&&WG(t,r),i}(T$);function ZG(e){return(ZG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eZ(e,t){return(eZ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rZ(e);if(t){var o=rZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nZ(this,n)}}function nZ(e,t){return!t||"object"!==ZG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rZ(e){return(rZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}GG.className="MindmapRoot";var oZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eZ(e,t)}(i,e);var t,n,r,o=tZ(i);function i(){return JG(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"updateControlPoints",value:function(e){var t=this.beforeData,n=this.afterData;e.forEach((function(e){var r=e.model,o=r.controlPoints,i=[0,0];["source","target"].forEach((function(e){var o=r[e]&&r[e].id,a=t[o],c=n[o];if(a&&c){var s=u.sub([],c,a);i=u.add(i,i,s)}})),hE(i,[0,0])||(i=i.map((function(e){return e/2})),e.update({controlPoints:o.map((function(e){return[e[0]+i[0],e[1]+i[1]]}))}))}))}},{key:"getRelatedCells",value:function(e){var t=this.diagram,n=[];return e.forEach((function(e){var r=e.model;["source","target"].forEach((function(e){var o=r[e]&&r[e].id;if(o){var i=t.find(o);i&&n.push(i)}}))})),n}},{key:"getData",value:function(e){var t={};return this.getRelatedCells(e).forEach((function(e){var n=e.getRelativePoint({x:.5,y:.5});t[e.model.id]=[n.x,n.y]})),t}},{key:"getLines",value:function(){return this.diagram.getCells().filter((function(e){return e.isLine})).filter((function(e){return e.isDrawable()&&e.model.controlPoints}))}},{key:"onBeforeChange",value:function(){var e=this.getLines();Object.assign(this.beforeData,this.getData(e))}},{key:"onAfterChange",value:function(){var e=this.getLines();Object.assign(this.afterData,this.getData(e)),this.updateControlPoints(e)}},{key:"reset",value:function(){this.beforeData={},this.afterData={}}},{key:"init",value:function(){var e=this.diagram;this.reset(),this.bind(e,"beforechange",this.onBeforeChange.bind(this)),this.bind(e,"afterchange",this.onAfterChange.bind(this))}}])&&QG(t.prototype,n),r&&QG(t,r),i}(hX);function iZ(e){return(iZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sZ(e,t){return(sZ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fZ(e);if(t){var o=fZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uZ(this,n)}}function uZ(e,t){return!t||"object"!==iZ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fZ(e){return(fZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sZ(e,t)}(i,e);var t,n,r,o=lZ(i);function i(){return aZ(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){var t=e.contentEditor;this.bind(e,"afterselect",(function(){if(!e.destroyed){var n=e.selector.selections;if(1===n.length){var r=n[0].textAreaElement;if(!r)return;var o=r.htmlContainer;t.dom&&t.dom!==o&&t.unbind(),t.dom||!e.viewportContainer.contains(o)||e.signal.mouseMultiSelecting||t.bind(o),t.isBegin||t.prepareEdit()}else t.unbind(),e.focus()}})),this.bind(e,"dblclick",(function(n){var r=n.target;if(r!==t.dom||!t.isBegin){var o=e.getCell(r);o&&o.textAreaElement&&(o.textAreaElement.htmlContainer===t.dom||o.borderElement&&o.borderElement.rendererElement===r||o.imageElement&&o.imageElement.rendererElement===r)&&(o.state.selected||e.selector.select(o),e.command.execute("BeginEditContent"))}})),this.bind(e,"click",(function(t){var n=e.getCell(t.target);n&&n.textAreaElement&&n.textAreaElement.htmlContainer.contains(t.target)&&"A"===t.target.tagName&&t.preventDefault()}))}}])&&cZ(t.prototype,n),r&&cZ(t,r),i}(hX);function dZ(e){return(dZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vZ(e,t){return(vZ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bZ(e);if(t){var o=bZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gZ(this,n)}}function gZ(e,t){return!t||"object"!==dZ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bZ(e){return(bZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wZ={treeEdge:{stroke:!0,shape:!0},layout:!0};var kZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vZ(e,t)}(i,e);var t,n,r,o=yZ(i);function i(){return hZ(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"beforedraw",(function(t){t&&(function(e,t){var n=e.action,r=e.models,o=[];"add"===n?o=o.concat(r):"update"===n&&r.forEach((function(e){o.push(e)})),o.length>0&&(o=o.map((function(e){return t.find(e.id)})),t.inherit(wZ,o),o.forEach((function(e){e.deepEach((function(t){t!==e&&t.drawInherit()}))})))}(t,e),function(e,t){if("update"===e.action){var n=e.models.filter((function(e){return t.find(e.id).isRoot}));n.length>0&&n.forEach((function(e){if(void 0!==e.tapered||void 0!==e.rainbow){var n=t.find(e.id);void 0!==e.rainbow&&(!1===e.rainbow?n.forEach((function(e){e.updateModel({treeEdge:{stroke:vX}})})):n.forEach((function(e,t){e.updateModel({treeEdge:{stroke:gX[t%7]}})})),t.inherit(wZ,[n])),n.deepEachWithoutSelf((function(e){e.drawInner()}))}}))}}(t,e))}))}}])&&mZ(t.prototype,n),r&&mZ(t,r),i}(hX);function xZ(e){return(xZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _Z(e,t){return(_Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function EZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=SZ(e);if(t){var o=SZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jZ(this,n)}}function jZ(e,t){return!t||"object"!==xZ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SZ(e){return(SZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var PZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_Z(e,t)}(i,e);var t,n,r,o=EZ(i);function i(){return OZ(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"mindmapcell:mouseenter",(function(t){var n=t.cell;!e.signal.draggingMindmapCell&&n.isMindmap&&!n.model.isPlaceholder&&n.highlight()})),this.bind(e,"mindmapcell:mouseleave",(function(e){var t=e.cell;t&&t.isMindmap&&t.unHighlight()}))}}])&&CZ(t.prototype,n),r&&CZ(t,r),i}(hX);function RZ(e){return(RZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AZ(e,t){return(AZ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=IZ(e);if(t){var o=IZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return NZ(this,n)}}function NZ(e,t){return!t||"object"!==RZ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function IZ(e){return(IZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var LZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AZ(e,t)}(i,e);var t,n,r,o=MZ(i);function i(){return TZ(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"mindmapcell:mouseenter",(function(t){var n=t.cell;!e.signal.draggingMindmapCell&&n.isMindmap&&!n.model.isPlaceholder&&n.canCollapse()&&n.showCollapsedButton()})),this.bind(e,"mindmapcell:mouseleave",(function(e){var t=e.cell,n=e.nativeEvent;t&&t.isMindmap&&(!n.relatedTarget||!n.relatedTarget.closest('[data-lake_mindmap_add_button="true"]'))&&t.hideCollapsedButton()}))}}])&&DZ(t.prototype,n),r&&DZ(t,r),i}(hX);function FZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FZ(Object(n),!0).forEach((function(t){BZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VZ(Object(n),!0).forEach((function(t){HZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UZ(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,c,s,l,u,f,p,d=e._root,h={data:r},m=e._x0,v=e._y0,y=e._x1,g=e._y1;if(!d)return e._root=h,e;for(;d.length;)if((l=t>=(i=(m+y)/2))?m=i:y=i,(u=n>=(a=(v+g)/2))?v=a:g=a,o=d,!(d=d[f=u<<1|l]))return o[f]=h,e;if(c=+e._x.call(null,d.data),s=+e._y.call(null,d.data),t===c&&n===s)return h.next=d,o?o[f]=h:e._root=h,e;do{o=o?o[f]=new Array(4):e._root=new Array(4),(l=t>=(i=(m+y)/2))?m=i:y=i,(u=n>=(a=(v+g)/2))?v=a:g=a}while((f=u<<1|l)==(p=(s>=a)<<1|c>=i));return o[p]=d,o[f]=h,e}var WZ=function(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o};function KZ(e){return e[0]}function YZ(e){return e[1]}function XZ(e,t,n){var r=new $Z(null==t?KZ:t,null==n?YZ:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function $Z(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function GZ(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ZZ=XZ.prototype=$Z.prototype;function JZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ZZ.copy=function(){var e,t,n=new $Z(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=GZ(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=GZ(t));return n},ZZ.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return UZ(this.cover(t,n),t,n,e)},ZZ.addAll=function(e){var t,n,r,o,i=e.length,a=new Array(i),c=new Array(i),s=1/0,l=1/0,u=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,c[n]=o,r<s&&(s=r),r>u&&(u=r),o<l&&(l=o),o>f&&(f=o));if(s>u||l>f)return this;for(this.cover(s,l).cover(u,f),n=0;n<i;++n)UZ(this,a[n],c[n],e[n]);return this},ZZ.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,c,s=o-n,l=this._root;n>e||e>=o||r>t||t>=i;)switch(c=(t<r)<<1|e<n,(a=new Array(4))[c]=l,l=a,s*=2,c){case 0:o=n+s,i=r+s;break;case 1:n=o-s,i=r+s;break;case 2:o=n+s,r=i-s;break;case 3:n=o-s,r=i-s}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},ZZ.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},ZZ.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ZZ.find=function(e,t,n){var r,o,i,a,c,s,l,u=this._x0,f=this._y0,p=this._x1,d=this._y1,h=[],m=this._root;for(m&&h.push(new WZ(m,u,f,p,d)),null==n?n=1/0:(u=e-n,f=t-n,p=e+n,d=t+n,n*=n);s=h.pop();)if(!(!(m=s.node)||(o=s.x0)>p||(i=s.y0)>d||(a=s.x1)<u||(c=s.y1)<f))if(m.length){var v=(o+a)/2,y=(i+c)/2;h.push(new WZ(m[3],v,y,a,c),new WZ(m[2],o,y,v,c),new WZ(m[1],v,i,a,y),new WZ(m[0],o,i,v,y)),(l=(t>=y)<<1|e>=v)&&(s=h[h.length-1],h[h.length-1]=h[h.length-1-l],h[h.length-1-l]=s)}else{var g=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),w=g*g+b*b;if(w<n){var k=Math.sqrt(n=w);u=e-k,f=t-k,p=e+k,d=t+k,r=m.data}}return r},ZZ.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,c,s,l,u,f,p,d=this._root,h=this._x0,m=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=i>=(c=(h+v)/2))?h=c:v=c,(u=a>=(s=(m+y)/2))?m=s:y=s,t=d,!(d=d[f=u<<1|l]))return this;if(!d.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,p=f)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,r?(o?r.next=o:delete r.next,this):t?(o?t[f]=o:delete t[f],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[p]=d:this._root=d),this):(this._root=o,this)},ZZ.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},ZZ.root=function(){return this._root},ZZ.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},ZZ.visit=function(e){var t,n,r,o,i,a,c=[],s=this._root;for(s&&c.push(new WZ(s,this._x0,this._y0,this._x1,this._y1));t=c.pop();)if(!e(s=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&s.length){var l=(r+i)/2,u=(o+a)/2;(n=s[3])&&c.push(new WZ(n,l,u,i,a)),(n=s[2])&&c.push(new WZ(n,r,u,l,a)),(n=s[1])&&c.push(new WZ(n,l,o,i,u)),(n=s[0])&&c.push(new WZ(n,r,o,l,u))}return this},ZZ.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new WZ(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,c=t.y0,s=t.x1,l=t.y1,u=(a+s)/2,f=(c+l)/2;(i=o[0])&&n.push(new WZ(i,a,c,u,f)),(i=o[1])&&n.push(new WZ(i,u,c,s,f)),(i=o[2])&&n.push(new WZ(i,a,f,u,l)),(i=o[3])&&n.push(new WZ(i,u,f,s,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},ZZ.x=function(e){return arguments.length?(this._x=e,this):this._x},ZZ.y=function(e){return arguments.length?(this._y=e,this):this._y};var eJ=s.Path;var tJ=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];JZ(this,e),this.diagram=t,this.drawHotArea=n,this.eventHelper=new QF,this.hotAreas=[],this.activated=!1,this._bindEvent()}var t,n,r;return t=e,(n=[{key:"turnOn",value:function(){this.update(),this.activated=!0}},{key:"turnOff",value:function(){this.activated=!1}},{key:"_bindEvent",value:function(){var e=this,t=this.diagram,n=this.drawHotArea,r=this.eventHelper,o=this.activated;r.bind(t,"afterrootcelllayout",(function(t){var n=t.root;o&&e.update(n)})),n&&r.bind(t,"afterviewportchange",(function(){e.draw()}))}},{key:"update",value:function(e){var t,n=this.diagram,r=this.drawHotArea;if(0!==(t=e?[e]:n.getCells().filter((function(e){return e.isRoot&&e.isMindmap}))).length){var o=[],i=t.map((function(e){return gd()(e.model)}));i.forEach((function(e){Z_(e,(function(e){var t=n.find(e.id);e.minX=t.x,e.minY=t.y,e.maxX=t.x+t.width,e.maxY=t.y+t.height,e.depth=t.depth,e.layout=t.computedProps.layout,e.visible=t.state.visible,e.isRoot=t.isRoot,e.root=t.root.model.id}))})),i.forEach((function(e){Z_(e,(function(e,t,n){if(!e.isPlaceholder&&e.visible){var r=CX(e.layout.direction),i=t?function(e,t,n){var r=n.children,o=e;if(!n.parent)for(;r[o]&&r[o].layout.quadrant!==t.layout.quadrant;)o++;if(r[o]&&r[o].layout.quadrant===t.layout.quadrant)return r[o]}(n+1,e,t):null,a=t?function(e,t,n){var r=n.children,o=e;if(!n.parent)for(;r[o]&&r[o].layout.quadrant!==t.layout.quadrant;)o--;if(r[o]&&r[o].layout.quadrant===t.layout.quadrant)return r[o]}(n-1,e,t):null;o=r?o.concat(function(e,t,n,r){var o,i,a,c,s="placeholder",l=[],u=t?t.children.indexOf(e):0,f=e.root;if(e.isRoot)e.children&&0!==e.children.length&&0!==e.children.filter((function(e){return 2===e.layout.quadrant})).length||l.push({minX:e.minX-90,minY:e.minY-60,maxX:e.maxX+90,maxY:(e.minY+e.maxY)/2,parent:e.id,id:e.id+"2"+s,nth:e.children.length,quadrant:2,color:"orange",root:f}),e.children&&0!==e.children.length&&0!==e.children.filter((function(e){return 1===e.layout.quadrant})).length||l.push({minX:e.minX-90,minY:(e.minY+e.maxY)/2,maxX:e.maxX+90,maxY:e.maxY+60,parent:e.id,id:e.id+"1"+s,nth:e.children.length,quadrant:1,color:"pink",root:f});else{var p=t.children,d=1===e.depth&&1===e.layout.quadrant,h=1===e.depth&&2===e.layout.quadrant;if(r||l.push({minX:(a=e.minX-16,c=p[u-1],c&&c.isPlaceholder&&c.layout.quadrant===e.layout.quadrant&&(a=c.minX),h||d?a-90:a),minY:d?e.minY-90:e.minY,maxX:(e.minX+e.maxX)/2,maxY:h?e.maxY+90:e.maxY,parent:t.id,id:(r?r.id:void 0)+e.id+t.id+s,quadrant:e.layout.quadrant,color:"yellow",nth:u,root:f}),n?l.push({minX:(e.minX+e.maxX)/2,minY:2===e.layout.quadrant?Math.max(e.minY,n.minY):d?e.minY-90:e.minY,maxX:(n.minX+n.maxX)/2,maxY:1===e.layout.quadrant?Math.min(e.maxY,n.maxY):h?e.maxY+90:e.maxY,parent:t.id,id:e.id+(n?n.id:void 0)+t.id+s,quadrant:e.layout.quadrant,color:"blue",nth:u+1,root:f}):l.push({minX:(e.minX+e.maxX)/2,minY:d?e.minY-90:e.minY,maxX:(o=e.maxX+16,i=p[u+1],i&&i.isPlaceholder&&i.layout.quadrant===e.layout.quadrant&&(o=i.maxX+30),h||d?o+90:o),maxY:h?e.maxY+90:e.maxY,parent:t.id,id:e.id+void 0+t.id+s,color:"red",nth:u+1,addOrder:"push",quadrant:e.layout.quadrant,root:f}),!e.children||0===e.children.length||1===e.children.length&&e.children[0].isPlaceholder){var m={minX:e.minX,maxX:e.maxX};e.minY>t.minY?(m.minY=e.maxY,m.maxY=e.maxY+100):(m.minY=e.minY-100,m.maxY=e.minY),l.push(qZ(qZ({},m),{},{parent:e.id,id:NaN+e.id+s,nth:0,color:"green",quadrant:e.layout.quadrant,addOrder:"push",root:f}))}}return l}(e,t,i,a)):o.concat(function(e,t,n,r){var o,i,a,c,s="placeholder",l=[],u=t?t.children.indexOf(e):0,f=e.root;if(e.isRoot)e.children&&0!==e.children.length&&0!==e.children.filter((function(e){return 2===e.layout.quadrant})).length||l.push({minX:e.minX-90,minY:e.minY-60,maxX:(e.minX+e.maxX)/2,maxY:e.maxY+60,parent:e.id,id:e.id+"2"+s,nth:e.children.length,quadrant:2,color:"orange",root:f}),e.children&&0!==e.children.length&&0!==e.children.filter((function(e){return 1===e.layout.quadrant})).length||l.push({minX:(e.minX+e.maxX)/2,minY:e.minY-60,maxX:e.maxX+90,maxY:e.maxY+60,parent:e.id,id:e.id+"1"+s,nth:e.children.length,quadrant:1,color:"pink",root:f});else{var p,d=t.children,h=90,m=1===e.depth&&1===e.layout.quadrant,v=1===e.depth&&2===e.layout.quadrant;r||l.push({minX:m?e.minX-h:e.minX,minY:(a=e.minY-16,c=d[u-1],c&&c.isPlaceholder&&c.layout.quadrant===e.layout.quadrant&&(a=c.minY),v||m?a-90:a),maxX:v?e.maxX+h:e.maxX,maxY:(e.minY+e.maxY)/2,parent:t.id,id:(r?r.id:void 0)+e.id+t.id+s,quadrant:e.layout.quadrant,color:"yellow",nth:u,root:f}),n?l.push({minX:2===e.layout.quadrant?e.minX:1===e.depth?e.minX-h:e.minX,minY:(e.minY+e.maxY)/2,maxX:1===e.layout.quadrant?e.maxX:1===e.depth?e.maxX+h:e.maxX,maxY:(n.minY+n.maxY)/2,parent:t.id,id:e.id+(n?n.id:void 0)+t.id+s,quadrant:e.layout.quadrant,color:"blue",nth:u+1,root:f}):l.push({minX:m?e.minX-h:e.minX,minY:(e.minY+e.maxY)/2,maxX:v?e.maxX+h:e.maxX,maxY:(o=e.maxY+16,i=d[u+1],i&&i.isPlaceholder&&i.layout.quadrant===e.layout.quadrant&&(o=i.maxY+30),v||m?o+90:o),parent:t.id,id:e.id+void 0+t.id+s,color:"red",nth:u+1,addOrder:"push",quadrant:e.layout.quadrant,root:f}),(!e.children||0===e.children.length||1===e.children.length&&e.children[0].isPlaceholder)&&(p=e.minX>t.minX?{minX:e.maxX,minY:e.minY-0,maxX:e.maxX+100,maxY:e.maxY+0}:{minX:e.minX-100,minY:e.minY-0,maxX:e.minX,maxY:e.maxY+0},l.push(zZ(zZ({},p),{},{parent:e.id,id:NaN+e.id+s,nth:0,color:"green",quadrant:e.layout.quadrant,addOrder:"push",root:f})))}return l}(e,t,i,a))}}))})),this.hotAreas=o,this.buildQuadtree(),r&&this.draw()}}},{key:"buildQuadtree",value:function(){var e=XZ(),t=this.hotAreas.map((function(e){return[e.minX,e.minY,e.maxX-e.minX,e.maxY-e.minY,e]}));e.addAll(t),this.quadtree=e,this.maxWidth=gE(t,(function(e){return e[2]})),this.maxHeight=gE(t,(function(e){return e[3]}))}},{key:"_search",value:function(e,t){var n=this.quadtree,r=this.maxWidth,o=this.maxHeight,i=[];return n.visit((function(n,a,c,s,l){var u=n.data;return u&&u[0]+u[2]>=e&&u[0]<e&&u[1]+u[3]>=t&&u[1]<t&&i.push(u[4]),a>=e||c>=t||s+r<e||l+o<t})),i}},{key:"hit",value:function(e){return this._search(e[0],e[1])[0]}},{key:"draw",value:function(){var e=this.diagram.frontRootGroup;e.clear(),this.hotAreas.forEach((function(t){var n=t.minX,r=t.minY,o=t.maxX,i=t.maxY,a=t.color,c=new eJ({d:CS(n,r,o-n,i-r),fill:a,opacity:.5,"pointer-events":"none"});e.add(c)}))}},{key:"destroy",value:function(){this.eventHelper.destroy(),this.diagram=void 0,this.drawHotArea=void 0,this.eventHelper=void 0}}])&&QZ(t.prototype,n),r&&QZ(t,r),e}();function nJ(e){return(nJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aJ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lJ(e,t,n){return(lJ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dJ(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function uJ(e,t){return(uJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dJ(e);if(t){var o=dJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pJ(this,n)}}function pJ(e,t){return!t||"object"!==nJ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dJ(e){return(dJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hJ=s.Rect;var mJ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uJ(e,t)}(i,e);var t,n,r,o=fJ(i);function i(){return cJ(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){var t,n,r,o,i,a,c,s,l,u,f,p,d=new tJ(e);function h(){if(e.viewport.preventDefault(!1),n&&e.remove(n.id),n){var u=gd()(r);u.forEach((function(e){Z_(e,(function(e){delete e.zIndex}))})),n.parent===n.root&&u.forEach((function(e){e.layout?e.layout.quadrant=n.quadrant:e.layout={quadrant:n.quadrant}}));var f=t.map((function(e,t){return{parent:n.parent,nth:n.nth+t}})),h=e.find(n.parent);t.forEach((function(e,t){var n=u[t];1===e.depth&&h.depth>0&&n&&n.treeEdge&&n.treeEdge.stroke&&delete n.treeEdge.stroke})),h.isRoot&&u.forEach((function(t,n){var r=e.query.appendChildModel(h,n);t.treeEdge?t.treeEdge.stroke||(t.treeEdge.stroke=r.treeEdge.stroke):t.treeEdge={stroke:r.treeEdge.stroke}})),e.command.execute("MindmapMoveNode",{dragCells:t,dragCellModels:r,addCellModels:u,addOptions:f,dragCellOptions:s})}else r&&e.add(r,s);l&&e.delegator.remove(l),l=void 0,t=void 0,r=void 0,n=void 0,o=void 0,i=void 0,s=void 0,a=void 0,c=void 0,p=void 0,e.signal.draggingMindmapCell=!1,d.turnOff()}this.mindmapHotAreaHelper=d,this.bind(e,"mousedown",(function(n){var r=n.target,a=n.clientX,c=n.clientY,s=n.button,l=e.getCell(r);l&&l.isMindmap&&!l.isRoot&&0===s&&!e.signal.contentEditing&&(o=a,i=c,e.selector.selections.length>1&&e.selector.selections.includes(l)?(t=(t=e.selector.selections.concat([])).filter((function(e){return!e.isRoot})),(t=e.deduplicate(t)).sort((function(e,t){return e.getNth()-t.getNth()})),p=!0):t=[l])})),this.bind(e,"mousemove",(function(h){if(t&&0!==t.length){if(!r&&Math.abs(o-h.clientX)+Math.abs(i-h.clientY)>10&&!e.signal.contentEditing){e.selector.clear(),r=t.map((function(e){return gd()(e.model)})),s=t.map((function(t){return e.getCellOptions(t)}));var m=e.viewport.invertClient([h.clientX,h.clientY]);l=e.delegator.create((function(e){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=new hJ({x:t-24.5-r,y:n-11+r,height:wX,width:bX,rx:4,ry:4,fill:kX}),i=new hJ({x:t-24.5+r,y:n-11-r,height:wX,width:bX,rx:4,ry:4,fill:kX});e.add(o),e.add(i)}(e,m[0],m[1],p?3:0)})),e.remove(t),e.signal.draggingMindmapCell=!0,d.turnOn(),e.viewport.preventDefault(),a=h.clientX,c=h.clientY,e.emit("mindmap:afterdragchildcellstart")}if(l){var v=e.viewport.zoom;u=(h.clientX-a)/v,f=(h.clientY-c)/v,l.translate(u,f)}if(r){var y=e.viewport.invertClient([h.clientX,h.clientY]),g=d.hit(y);n&&(g?n.id!==g.id&&e.remove(n.id):e.remove(n.id)),g&&(e.find(g.id)||iJ(e.add(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rJ(Object(n),!0).forEach((function(t){oJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isPlaceholder:!0,width:32,height:10,border:{shape:"rect",fill:"#C5E3FF"},treeEdge:{stroke:"#C5E3FF"},layout:{quadrant:g.quadrant}},g),{parent:g.parent,nth:g.nth}),1)[0].toBack()),n=g}}})),this.bind(e,"keydown",(function(e){27===e.which&&h()})),this.bind(e,"mouseup",(function(){h()})),this.bind(e,"mouseleave",(function(){h()}))}},{key:"unbind",value:function(){this.mindmapHotAreaHelper&&(this.mindmapHotAreaHelper.destroy(),this.mindmapHotAreaHelper=void 0),lJ(dJ(i.prototype),"unbind",this).call(this)}}])&&sJ(t.prototype,n),r&&sJ(t,r),i}(hX);function vJ(e){return(vJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bJ(e,t){return(bJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xJ(e);if(t){var o=xJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kJ(this,n)}}function kJ(e,t){return!t||"object"!==vJ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xJ(e){return(xJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var OJ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bJ(e,t)}(i,e);var t,n,r,o=wJ(i);function i(){return yJ(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){var t,n,r,o,i,a,c,s,l=0,u=0,f=[];this.bind(e,"mousedown",(function(o){var i=o.target,a=o.clientX,c=o.clientY,l=o.button,u=e.getCell(i);u&&u.isRoot&&0===l&&!e.signal.contentEditing&&(n=a,r=c,e.selector.selections.length>1&&e.selector.selections.includes(u)?(t=e.selector.selections.concat([]),s=t.map((function(e){return e.model.id})),t=t.filter((function(e){return e.isRoot})),(t=e.deduplicate(t)).sort((function(e,t){return e.getNth()-t.getNth()}))):s=(t=[u]).map((function(e){return e.model.id})))})),this.bind(e,"mousemove",(function(s){if(t&&0!==t.length){if(!a&&Math.abs(n-s.clientX)+Math.abs(r-s.clientY)>3&&!e.signal.contentEditing){if(0===(t=t.filter((function(e){return!e.isLine||!e.source.id&&!e.target.id}))).length)return;e.selector.clear(),t.forEach((function(e){e.deepEach((function(e){e.state.visible&&f.push(e)}))})),c=e.getRelatedLines(t),f=f.concat(c),a=e.delegator.create(f.filter((function(t){if(t.isLine){var n=e.find(t.source.id),r=e.find(t.target.id),o=n&&n.root,i=r&&r.root;if(o&&i&&o!==i&&(!f.includes(o)||!f.includes(i)))return!1}return!0}))),f.forEach((function(e){e.hide()}));var p=e.viewport.invertClient([s.clientX,s.clientY]);o=p[0],i=p[1],e.signal.draggingMindmapCell=!0}if(a){var d=e.viewport.invertClient([s.clientX,s.clientY]);l=d[0]-o,u=d[1]-i,a.translate(l,u)}}})),this.bind(e,"mouseup",(function(){!function(){if(a){f.forEach((function(e){e.show()}));var p=dE(t.concat(c)),d=p.map((function(e){if(e.isLine){var t={};return["source","target"].forEach((function(n){var r=e[n];if(!r.id&&r.connection){var o=r.connection;t[n]={connection:[o[0]+l,o[1]+u]}}})),t}return{x:e.x+l,y:e.y+u}})),h=gd()(s);e.command.execute("Update",{id:p,model:d,select:function(){h&&e.selector.select(h)}}),e.delegator.remove(a)}t=void 0,n=void 0,r=void 0,o=void 0,i=void 0,a=void 0,c=void 0,s=void 0,e.signal.draggingMindmapCell=!1,l=0,u=0,f=[]}()}))}}])&&gJ(t.prototype,n),r&&gJ(t,r),i}(hX);function CJ(e){return(CJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_J(Object(n),!0).forEach((function(t){jJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PJ(e,t){return(PJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=DJ(e);if(t){var o=DJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TJ(this,n)}}function TJ(e,t){return!t||"object"!==CJ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function DJ(e){return(DJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var AJ="#BFBFBF",MJ="rgba(255, 255, 255, 0.65)";function NJ(){var e=new s.Group,t=new s.Path({fill:"rgba(255,255,255,0)"}),n=new s.Path({stroke:AJ,fill:MJ}),r=new s.LinearGradient,o=new s.Path({fill:"url(#".concat(r.id,")")});return e.dataset({lake_prevent_click_unselect:!0,lake_mindmap_add_button:!0}),t.css({cursor:"default"}),n.css({cursor:"pointer"}),e.add(t),e.add(n),{group:e,background:t,btn:n,tail:o,gradient:r}}function IJ(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.group,a=e.background,c=e.btn,s=e.tail,l=e.gradient,u=e.zoom,f=e.verticalAlign,p=void 0===f?"center":f,d=e.tailConfig,h=9/u,m=4/u,v={x:t+r/2,y:n+o/2},y=0,g=o;"bottom"===p&&(y=o/2,g+=h),a.update({d:CS(t,n,r,g)});var b=v.x,w=v.y+y;if(c.update({stroke:AJ,d:jS(b,w,h)+"M".concat(b,",").concat(w-m," L").concat(b,",").concat(w+m)+"M".concat(b+m,",").concat(w," L").concat(b-m,",").concat(w),"stroke-width":2/u}),d){var k=d.stroke,x=d.position,O=10/u,C="rgba(255,255,255,0)";i.add(s),"right"===x?(l.update("l(0) 0:".concat(k," 1:").concat(C)),s.update({d:CS(b+h,w-d["stroke-width"]/2,O,d["stroke-width"])})):"left"===x?(l.update("l(0) 0:".concat(C," 1:").concat(k)),s.update({d:CS(b-O-h,w-d["stroke-width"]/2,O,d["stroke-width"])})):"bottom"===x?(l.update("l(270) 0:".concat(C," 1:").concat(k)),s.update({d:CS(b-d["stroke-width"]/2,w+h,d["stroke-width"],O)})):"top"===x&&(l.update("l(270) 0:".concat(k," 1:").concat(C)),s.update({d:CS(b-d["stroke-width"]/2,w-O-h,d["stroke-width"],O)}))}else s.remove()}var LJ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PJ(e,t)}(i,e);var t,n,r,o=RJ(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).horizontalElements=NJ(),e.verticalElements=NJ(),e}return t=i,(n=[{key:"init",value:function(e){var t,n=this,r=e.frontRootGroup,o=e.defs,i=this.horizontalElements,a=this.verticalElements,c=function(){},s=function(){};function l(){i.group.remove(),a.group.remove(),c=function(){},s=function(){},t&&t.hideCollapsedButton(),t=void 0}function u(e){return i.group.rendererElement.contains(e)||a.group.rendererElement.contains(e)}o.add(i.gradient),o.add(a.gradient),this.horizontalElements=i,this.verticalElements=a,this.bind(i.btn,"click",(function(n){n.stopPropagation(),e.selector.select([t]),c(),l()})),this.bind(a.btn,"click",(function(n){n.stopPropagation(),e.selector.select([t]),s(),l()})),[i,a].forEach((function(e){var r=e.group,o=e.btn;n.bind(r,"mouseenter",(function(e){e.stopPropagation(),o.update({stroke:"#595959",fill:"white"})})),n.bind(r,"mouseleave",(function(e){e.stopPropagation(),o.update({stroke:AJ,fill:MJ}),t&&t.graphicGroup.rendererElement.contains(e.relatedTarget)||u(e.relatedTarget)||l()}))})),this.bind(e,"afterchange",nm()((function(){!t||e.find(t.model.id)&&!t.collapsed||l()}),16)),this.bind(e,"mindmapcell:mouseenter",(function(n){var o=n.cell;if(!e.signal.draggingMindmapCell&&o.isMindmap&&!o.collapsed){var l=CX(o.computedProps.layout.direction),u=e.viewport.zoom,f=38/u,p=o.canCollapse()?-24:0,d=(l||"line"!==o.border.shape?-1:0)/u+p,h={x:o.x+o.width-d,y:o.y,width:f,height:o.height},m={x:o.x+(o.width-f)/2,y:o.y+o.height-d,width:f,height:f};if(t=o,i.group.remove(),a.group.remove(),o.isRoot)l?(s=function(){e.command.execute("MindmapAppendChild")},m.tailConfig=EJ({position:"top"},e.query.appendChildAddButtonTail(o).treeEdge),1===o.computedProps.layout.quadrants&&"0,-1"===String(o.computedProps.layout.direction)&&(m.y=o.y-f,m.tailConfig.position="bottom")):(c=function(){e.command.execute("MindmapAppendChild")},h.tailConfig=EJ({position:"left"},e.query.appendChildAddButtonTail(o).treeEdge),1===o.computedProps.layout.quadrants&&"-1,0"===String(o.computedProps.layout.direction)&&(h.x=o.x-f+d,h.tailConfig.position="right"));else if(l)o.y<o.parent.y&&(m.y=o.y-f+d),h.x-=d,m.tailConfig=EJ({position:o.y>o.parent.y?"top":"bottom"},e.query.appendChildAddButtonTail(o).treeEdge),s=function(){e.command.execute("MindmapAppendChild")},c=function(){e.command.execute("MindmapAppendSibling")};else{var v=o.x+o.width/2<o.parent.x+o.parent.width/2;v&&(h.x=o.x-f+d),m.height-=4*d,"line"===o.border.shape&&"standard"===o.computedProps.layout.type&&(h.verticalAlign="bottom"),h.tailConfig=EJ({position:v?"right":"left"},e.query.appendChildAddButtonTail(o).treeEdge),s=function(){e.command.execute("MindmapAppendSibling")},c=function(){e.command.execute("MindmapAppendChild")}}l?(r.add(a.group),IJ(EJ(EJ({},m),{},{zoom:u},a))):(r.add(i.group),IJ(EJ(EJ({},h),{},{zoom:u},i)))}})),this.bind(e,"mindmapcell:mouseleave",(function(t){var n=t.nativeEvent;u(n.relatedTarget)||e.elementMap.fullScreenBtn.contains(n.relatedTarget)||l()})),this.bind(e.contentEditor,"beginedit",(function(){l()})),this.bind(e.contentEditor,"change",(function(){l()})),this.bind(e,"afterselect",(function(){(e.selector.selections.length>1||1===e.selector.selections.length&&e.selector.selections[0]!==t)&&l()})),this.bind(e,"afterviewportchange",(function(){l()}))}}])&&SJ(t.prototype,n),r&&SJ(t,r),i}(hX);function FJ(e){return(FJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VJ(e,t){return(VJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=UJ(e);if(t){var o=UJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return HJ(this,n)}}function HJ(e,t){return!t||"object"!==FJ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function UJ(e){return(UJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var WJ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VJ(e,t)}(i,e);var t,n,r,o=qJ(i);function i(){return zJ(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"dragover",(function(e){e.preventDefault()})),this.bind(e,"drop",(function(t){t.preventDefault();var n=Array.from(t.dataTransfer.files).filter((function(e){return xX(e)}));n[0]&&e.emit("importimage",{files:n,from:"drop"})}))}}])&&BJ(t.prototype,n),r&&BJ(t,r),i}(hX);function KJ(e){return(KJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YJ(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return XJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XJ(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function XJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZJ(e,t){return(ZJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function JJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eQ(e);if(t){var o=eQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QJ(this,n)}}function QJ(e,t){return!t||"object"!==KJ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eQ(e){return(eQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rQ(e,t,n){return t&&nQ(e.prototype,t),n&&nQ(e,n),e}var oQ=s.Path,iQ={"top-right":"nesw-resize","top-left":"nwse-resize","bottom-right":"nwse-resize","bottom-left":"nesw-resize"},aQ=function(){function e(){tQ(this,e);var t=new oQ({stroke:"white",fill:"#096dd9"});t.css({cursor:"nesw-resize"}),t.dataset({lake_prevent_click_unselect:!0}),this.element=t,this.position="top-right"}return rQ(e,[{key:"contains",value:function(e){return this.element.rendererElement.contains(e)}},{key:"update",value:function(e,t){var n=e.computedProps.layout||e.layout;if(n){var r,o,i,a=n.direction,c=n.quadrant,s=n.quadrants,l=Math.min(c,s),u=2;"line"===e.border.shape?u=1:"capsule"===e.border.shape&&(u=-(e.width>e.height?e.height:e.width)/9),a[0]<0&&1===l||a[0]>0&&2===l?(r="top-left",o=e.x-u,i=e.y-u):a[1]>0&&1===l?(r="bottom-right",o=e.x+e.width+u,i=e.y+e.height+u):(r="top-right",o=e.x+e.width+u,i=e.y-u);var f=4/t,p=1/t;this.position=r,this.element.update({"stroke-width":p,d:jS(o,i,f-p)}),this.element.css({cursor:iQ[r]})}}},{key:"remove",value:function(){this.element.remove()}}]),e}(),cQ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZJ(e,t)}(n,e);var t=JJ(n);function n(){var e;tQ(this,n);var r=new aQ;return(e=t.call(this)).handle=r,e}return rQ(n,[{key:"init",value:function(e){var t=this.handle,n=null,r=null,o=null,i=null,a=nm()((function(a){if(o&&r&&n){var c=e.find(n),s=e.viewport.zoom,l=t.position,u=(a.clientX-o.x)*(["top-left"].includes(l)?-1:1),f=(a.clientY-o.y)*(["bottom-right"].includes(l)?1:-1);i={width:lE(r.width+u*s,c.minWidth),height:lE(r.height+f*s,c.minHeight)},e.update(c,i)}}),10);function c(t){o=null,document.body.removeEventListener("mousemove",a),e.signal.draggingMindmapCell=!1,n&&r&&i&&(t.stopPropagation(),e.update(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$J(Object(n),!0).forEach((function(t){GJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.model)),e.command.execute("Update",{id:n,model:i}))}this.bind(e,"afterchange",(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.models,i=r.action;if(o&&"update"===i){var a,c=YJ(o);try{for(c.s();!(a=c.n()).done;){var s=a.value;s.id===n&&t.update(e.cellMap[s.id],e.viewport.zoom)}}catch(e){c.e(e)}finally{c.f()}}})),this.bind(e,"mousedown",(function(i){if(t.contains(i.target)){var s=n&&e.find(n);if(s&&s.isMindmap){var l=s.textAreaBBox;r={width:s.width,height:s.height,textArea:l.width*l.height,model:{width:s.model.width||null,height:s.model.height||null}},e.signal.draggingMindmapCell=!0,o={x:i.clientX,y:i.clientY},document.body.addEventListener("mousemove",a),document.body.addEventListener("click",c,{once:!0})}}})),this.bind(e,"afterselectionchange",(function(){var r=e.selector.selections;if(1===r.length){var o=r[0];if(o.isMindmap)return o.state.selected?(t.update(o,e.viewport.zoom),e.frontRootGroup.add(t.element),void(n=o.model.id)):(n=null,void t.remove())}t.remove()})),this.bind(e,"afterviewportchange",(function(){var r=n&&e.cellMap[n];r&&r.state.selected?t.update(r,e.viewport.zoom):t.remove()}))}}]),n}(hX);function sQ(e){return(sQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uQ(e,t){return(uQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dQ(e);if(t){var o=dQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pQ(this,n)}}function pQ(e,t){return!t||"object"!==sQ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dQ(e){return(dQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hQ=s.Path,mQ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uQ(e,t)}(i,e);var t,n,r,o=fQ(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).mask=new hQ({"stroke-width":1,stroke:"#1890FF",fill:"rgba(24, 144, 255, 0.15)"}),e.mask.css({"pointer-events":"none"}),e}return t=i,(n=[{key:"init",value:function(e){var t=this.mask;t.dataset({lake_prevent_click_unselect:!0});var n=null,r=!0;this.bind(e,"keyup",(function(r){if(n)switch(r.key){case"Delete":case"Backspace":e.command.execute("Update",{id:n,model:{width:null,height:null,image:null}}),t.remove()}})),this.bind(e,"mousedown",(function(t){var n=t.target.closest("image"),o=n&&e.getCell(n);r=!o||!o.state.selected})),this.bind(e,"click",(function(o){var i=o.target.closest("image"),a=i&&e.getCell(i);a&&!r?(o.stopPropagation(),a.endEditContent(),e.selector.select([a],!1),function(e,n){var r=["x","y","width","height"].reduce((function(e,t){return e[t]=parseFloat(n.getAttribute(t)),e}),{});t.update({d:CS(e.x+r.x-1,e.y+r.y-1,r.width+2,r.height+2,1)})}(a,i),e.frontRootGroup.add(t),n=a.model.id,e.tryFocus(),r=!0):o.target!==t.rendererElement&&(n=null,t.remove())})),this.bind(e,"afterselectionchange",(function(){n&&(n=null,t.remove())})),this.bind(e,"mindmap:afterdragchildcellstart",(function(){n&&(n=null,t.remove())}))}}])&&lQ(t.prototype,n),r&&lQ(t,r),i}(hX);function vQ(e){return(vQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yQ(Object(n),!0).forEach((function(t){bQ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xQ(e,t){return(xQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function OQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_Q(e);if(t){var o=_Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CQ(this,n)}}function CQ(e,t){return!t||"object"!==vQ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _Q(e){return(_Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var EQ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xQ(e,t)}(i,e);var t,n,r,o=OQ(i);function i(){return wQ(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){var t,n,r,o,i,a,c,s=!1;function l(){s?t&&e.remove(t):(c=rT(),e.command.execute("Add",{model:gQ({id:c,x:t.x+i,y:t.y+a},e.query.insertRootModel())}),e.remove(t)),n&&n.destroy(),t=void 0,r=void 0,o=void 0,i=void 0,a=void 0,s=!1,n=void 0,e.interaction.changeMode("edit"),c&&(e.selector.select([c]),c=void 0)}this.bind(e,"mouseenter",(function(i){if(!n){var a=e.viewport.invertClient([i.clientX,i.clientY]);t=e.add(gQ({x:a[0],y:a[1]},e.query.insertRootModel()))[0],n=e.delegator.create([t]),r=i.clientX,o=i.clientY,t.hide()}})),this.bind(e,"mousemove",(function(t){n&&(i=(t.clientX-r)/e.viewport.zoom,a=(t.clientY-o)/e.viewport.zoom,n.translate(i,a))})),this.bind(window,"mouseleave",(function(){s=!0,l()})),this.bind(window,"mouseup",(function(t){n&&(e.viewportContainer.contains(t.target)||(s=!0),l())})),this.bind(e,"keydown",(function(e){27===e.which&&(s=!0,l())}))}}])&&kQ(t.prototype,n),r&&kQ(t,r),i}(hX);function jQ(e){return(jQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PQ(e,t){return(PQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=DQ(e);if(t){var o=DQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TQ(this,n)}}function TQ(e,t){return!t||"object"!==jQ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function DQ(e){return(DQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var AQ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PQ(e,t)}(i,e);var t,n,r,o=RQ(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var t=document.createElement("div"),n=document.createElement("span");return n.classList.add("lake-icon"),n.classList.add("lake-icon-full-screen"),n.classList.add("lake-prevent-card-activated"),t.appendChild(n),t.style["z-index"]="1033",t.style["border-radius"]="4px",t.style.position="absolute",t.style.width="".concat(20,"px"),t.style.height="".concat(20,"px"),t.style.color="#fff",t.style.cursor="pointer",t.style["box-shadow"]="0px 2px 8px 0px rgba(0, 0, 0, 0.08)",t.style["background-color"]="rgba(0, 0, 0, 0.65)",t.style["text-align"]="center",e.fullScreenBtn=t,e.imageBrowser=Bs(),e}return t=i,(n=[{key:"init",value:function(e){var t,n,r=this,o=this.fullScreenBtn,i=this.imageBrowser;e.elementMap.fullScreenBtn=o;var a=function(){o.remove(),n&&r.unbind(n),t=void 0,n=void 0};this.bind(o,"click",(function(){if(t){var e=t.image,n=t.imageElement.rendererElement;i.open([{src:n.getAttribute("data-raw_src"),msrc:n.getAttribute("href"),w:e.naturalWidth,h:e.naturalHeight}],0)}})),this.bind(o,"mouseleave",(function(e){t.imageElement.rendererElement.contains(e.relatedTarget)||a()})),this.bind(e,"mindmapcellimage:mouseenter",(function(i){var c=i.cell;if(!e.signal.draggingMindmapCell){document.body.appendChild(o);var s=c.imageElement.getBoundingClientRect(),l=c.image;t=c,l.width>30&&l.height>30?(o.style.top="".concat(s.top+window.pageYOffset+6,"px"),o.style.left="".concat(s.right+window.pageXOffset-26,"px")):(o.style.top="".concat(s.top+window.pageYOffset-20,"px"),o.style.left="".concat(s.left+window.pageXOffset,"px")),n=r.bind(e,"afterviewportchange",(function(){a()}))}})),this.bind(e,"mindmapcellimage:mouseleave",(function(e){var t=e.nativeEvent;o.contains(t.relatedTarget)||a()})),this.bind(e,"mindmap:afterdragchildcellstart",(function(){a()}))}}])&&SQ(t.prototype,n),r&&SQ(t,r),i}(hX);function MQ(e){return(MQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LQ(e,t){return(LQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=BQ(e);if(t){var o=BQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zQ(this,n)}}function zQ(e,t){return!t||"object"!==MQ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BQ(e){return(BQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var VQ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LQ(e,t)}(i,e);var t,n,r,o=FQ(i);function i(){return NQ(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(window,"click",(function(t){t.target.closest(".lake-diagram-note")&&e.command.execute("MindmapOpenNote")}))}}])&&IQ(t.prototype,n),r&&IQ(t,r),i}(hX);function qQ(e){return(qQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WQ(e,t){return(WQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=XQ(e);if(t){var o=XQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return YQ(this,n)}}function YQ(e,t){return!t||"object"!==qQ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function XQ(e){return(XQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WQ(e,t)}(i,e);var t,n,r,o=KQ(i);function i(){return HQ(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"keydown",(function(t){"Tab"===t.key?(t.preventDefault(),t.altKey?e.command.execute("MindmapAppendParent"):e.command.execute("MindmapAppendChild")):"Enter"===t.key&&(t.preventDefault(),t.shiftKey?e.command.execute("MindmapInsertRoot"):e.selector.selections[0]&&e.selector.selections[0].isRoot?e.command.execute("MindmapAppendChild"):t.altKey?e.command.execute("MindmapPrependSibling"):e.command.execute("MindmapAppendSibling"))}))}}])&&UQ(t.prototype,n),r&&UQ(t,r),i}(hX);function GQ(e){return(GQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QQ(e,t){return(QQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function e0(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=n0(e);if(t){var o=n0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return t0(this,n)}}function t0(e,t){return!t||"object"!==GQ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function n0(e){return(n0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r0=ke,o0=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QQ(e,t)}(i,e);var t,n,r,o=e0(i);function i(){return ZQ(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"keydown",(function(t){if(37===t.which||38===t.which||39===t.which||40===t.which){t.preventDefault();var n=e.selector,r=n.selections;if(0!==r.length&&r[0].isMindmap){var o,i,a,c=r[r.length-1],s=e.getCells().filter((function(e){return e.state.visible})),l=CX(c.computedProps.layout.direction);if(r0("right",t)){if(!c.isRoot&&c.x<c.parent.x&&!l)return void n.select([c.parent]);i="x",a=!0}else if(r0("left",t)){if(!c.isRoot&&c.x>c.parent.x&&!l)return void n.select([c.parent]);i="x",a=!1}else if(r0("up",t)){if(!c.isRoot&&c.y>c.parent.y&&l)return void n.select([c.parent]);i="y",a=!1}else if(r0("down",t)){if(!c.isRoot&&c.y<c.parent.y&&l)return void n.select([c.parent]);i="y",a=!0}var u="x"===i?"width":"height",f="x"===i?"y":"x",p="x"===i?"height":"width",d=c[f]+c[p]/2,h=c[f]+c[p];(o=(o=(o=a?s.filter((function(e){return c[i]+c[u]<e[i]})):s.filter((function(e){return e[i]+e[u]<c[i]}))).filter((function(e){var t=e[f]+e[p],n=t<c[f],r=e[f]>h,o=e[f]<=c[f]&&t>=h;return!(n||r)||o}))).sort((function(e,t){if(a){if(e[i]!==t[i])return e[i]-t[i]}else if(e[i]+e[u]!==t[i]+t[u])return t[i]+t[u]-(e[i]+e[u]);return Math.min(Math.abs(d-e[f]),Math.abs(d-(e[f]+e[p])))-Math.min(Math.abs(d-t[f]),Math.abs(d-(t[f]+t[p])))})))[0]&&n.select([o[0]])}}}))}}])&&JQ(t.prototype,n),r&&JQ(t,r),i}(hX);function i0(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function a0(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){i0(i,r,o,a,c,"next",e)}function c(e){i0(i,r,o,a,c,"throw",e)}a(void 0)}))}}var c0={};function s0(e,t){c0[e]=t}function l0(e){return c0[e]}function u0(e){return f0.apply(this,arguments)}function f0(){return(f0=a0(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.arrayBuffer();case 3:return n=e.sent,e.next=6,crypto.subtle.digest("SHA-256",n);case 6:return r=e.sent,o=Array.from(new Uint8Array(r)),i=o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",i);case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,t.arrayBuffer();case 16:return a=e.sent,c=Array.from(new Uint8Array(a)),s=c.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",s.length>100&&s.substring(0,100));case 20:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function p0(e){if(e.image&&e.image.uploadInfo&&e.image.uploadInfo.hash){var t=l0(e.image.uploadInfo.hash);t?(e.image.src=t,e.image.uploadInfo.state=2):e.image.uploadInfo.state=-2}}function d0(e){e.body.forEach((function(e){Z_(e,(function(e){p0(e)}))}))}function h0(e){var t=e.export();return d0(t),t}function m0(e){return v0.apply(this,arguments)}function v0(){return(v0=a0(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s,l,u,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.file,r=t.uploader,o=t.enable,i=t.callback,n){e.next=3;break}return e.abrupt("return");case 3:if(!n.type){e.next=7;break}if(a=n.type.split("/").pop(),Le.IMAGE_EXT.includes(a)){e.next=7;break}return e.abrupt("return");case 7:if(o()){e.next=9;break}return e.abrupt("return");case 9:return c=URL.createObjectURL(n),e.next=12,u0(n);case 12:return s=e.sent,l=new Image,u={src:c,naturalWidth:void 0,naturalHeight:void 0,uploadInfo:{hash:s,fileName:n.name,fileType:n.type,fileSize:n.size,state:0}},l.onload=function(){Object.assign(u,{naturalWidth:l.naturalWidth,naturalHeight:l.naturalHeight}),i(u)},l.src=c,e.next=19,r.image(n);case 19:if(f=e.sent){e.next=23;break}return u.uploadInfo.state=-1,e.abrupt("return",u);case 23:return s0(s,f),e.abrupt("return",u);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y0(e,t){return new Promise((function(n){if(e.destroyed)n();else if(t.isCompleted())n();else{var r,o=Date.now();fs.warning(XN("图片上传中，请稍候")),function e(){t.isCompleted()||Date.now()-o>=36e4?(r&&clearTimeout(r),n()):r=setTimeout(e,6e3)}()}}))}function g0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b0(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w0(e){return e.command.enable("Collapse")?e.command.execute("Collapse"):e.command.enable("Expand")?e.command.execute("Expand"):void 0}function k0(e){return e.command.enable("Collapse")||e.command.enable("Expand")}function x0(e){return e.command.enable("Expand")}function O0(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"curve-arrow",n=t.split("-"),r=g0(n,2),o=r[0],i=r[1],a=e.selector.selections;if(2===a.length&&a.every((function(e){return e.isMindmap}))){var c=e.add([{type:"line",source:{id:a[0].model.id},target:{id:a[1].model.id}}]),s=c[0].getPointAtLength(.5);return e.remove(c),e.command.execute("Add",{model:{type:"line",shape:o,source:{id:a[0].model.id},target:{id:a[1].model.id,marker:i},controlPoints:[[s.x,s.y]]}})}e.command.execute("BeginInsertLine",{shape:o,marker:i})}function C0(e){var t=e.diagram,n=e.onImageInputChange,r=e.onSave;return[{name:"save",title:XN("保存"),hotkey:fe.macos?"⌘+S":"Ctrl+S",icon:"save",disabled:!1,execCommand:function(){r()}},{name:"undo",title:XN("撤销"),hotkey:fe.macos?"⌘+Z":"Ctrl+Z",icon:"undo",disabled:!t.command.enable("Undo"),execCommand:function(){t.command.execute("Undo")}},{name:"redo",title:XN("重做"),hotkey:fe.macos?"⌘+Shift+Z":"Ctrl+Shift+Z",icon:"redo",disabled:!t.command.enable("Redo"),execCommand:function(){t.command.execute("Redo")}},{type:"separator"},{name:"beginInsertRoot",title:XN("插入主节点"),hotkey:"Shift+Enter",icon:"insert-root",disabled:!t.command.enable("MindmapBeginInsertRoot"),execCommand:function(){t.command.execute("MindmapBeginInsertRoot")}},{name:"append",title:XN("插入同级"),hotkey:"Enter",icon:"insert-sibling",disabled:!t.command.enable("MindmapAppendSibling"),execCommand:function(){t.command.execute("MindmapAppendSibling")}},{name:"appendChild",title:XN("插入子级"),hotkey:"Tab",icon:"insert-child",disabled:!t.command.enable("MindmapAppendChild"),execCommand:function(){t.command.execute("MindmapAppendChild")}},{name:"insertLine",title:XN("线条"),hotkey:fe.macos?"⌘+L":"Ctrl+L",type:"dropdown",mode:"button",defaultKey:"curve-arrow",data:[{key:"curve",icon:"line-curve"},{key:"curve-arrow",icon:"line-curve-arrow"}],onClick:function(e){var n=e.key;O0(t,n)},onSelect:function(e){var n=e.key;O0(t,n)}},{name:"insertNote",title:XN("备注"),icon:"diagram-toolbar-note",disabled:!t.command.enable("MindmapOpenNote"),execCommand:function(){t.command.execute("MindmapOpenNote")}},{name:"createLink",title:XN("插入链接"),hotkey:fe.macos?"⌘+K":"Ctrl+K",icon:"link",disabled:!t.command.enable("CreateLink"),execCommand:function(){t.command.execute("CreateLink")}},{name:"insertImage",title:XN("插入图片"),type:"upload",icon:"image",accept:Le.IMAGE_EXT.map((function(e){return"."+e})).join(","),disabled:!t.command.enable("MindmapAttachImage"),onChange:n},{type:"separator"},{name:"collapseExpand",title:XN("折叠"),hotkey:fe.macos?"⌘+/":"Ctrl+/",icon:"collapse-node",disabled:!k0(t),active:x0(t),execCommand:function(){w0(t)}}]}function _0(e){var t=e.file,n=e.uploader,r=e.diagram,o=e.from;return new Promise((function(e){m0({file:t,uploader:n,enable:function(){return r.command.enable("MindmapAttachImage")||r.command.enable("MindmapInsertImage")},callback:function(t){"clipboard"===o&&(t.firstInsertRatio=1/window.devicePixelRatio),0===r.selector.selections.length||"drop"===o?r.command.execute("MindmapInsertImage",{image:t}):1===r.selector.selections.length&&r.command.execute("MindmapAttachImage",{image:t}),e(t)}})}))}function E0(e){return(E0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P0(e,t){return(P0=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R0(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D0(e);if(t){var o=D0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T0(this,n)}}function T0(e,t){return!t||"object"!==E0(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D0(e){return(D0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}window.___uplaodFileHashMap=c0;var A0=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P0(e,t)}(i,e);var t,n,r,o=R0(i);function i(){return j0(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){var t=this;this.bind(e,"keydown",(function(n){if(SB(n)&&"l"===n.key){var r=e.selector.selections;t.cell=r[0],O0(e)}}))}}])&&S0(t.prototype,n),r&&S0(t,r),i}(hX);function M0(e){return(M0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L0(e,t){return(L0=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F0(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B0(e);if(t){var o=B0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z0(this,n)}}function z0(e,t){return!t||"object"!==M0(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B0(e){return(B0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V0=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L0(e,t)}(i,e);var t,n,r,o=F0(i);function i(){return N0(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"keydown",(function(t){SB(t)&&["Backspace","Delete"].includes(t.key)&&e.command.execute("MindmapRemoveSingleNode")}))}}])&&I0(t.prototype,n),r&&I0(t,r),i}(hX);function q0(e){return(q0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W0(e,t,n){return(W0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$0(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function K0(e,t){return(K0=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y0(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$0(e);if(t){var o=$0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X0(this,n)}}function X0(e,t){return!t||"object"!==q0(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $0(e){return($0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G0=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K0(e,t)}(i,e);var t,n,r,o=Y0(i);function i(){return H0(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e,t=this.diagram,n=t.selector.selections,r=n[n.length-1];r.model.collapsed&&(t.update(r,{collapsed:!1}),this.originSelectedCollapsed=!0),e=r.isRoot?function(e,t){var n=t.model.children.map((function(t){return e.find(t.id)})),r=n.filter((function(e){return 2===e.computedProps.layout.quadrant})),o=n.filter((function(e){return 1===e.computedProps.layout.quadrant})),i={},a={parent:t.model.id};return o.length<3?(i.layout={quadrant:1},a.nth=o.length):(i.layout={quadrant:2},a.nth=r.length>0?r[0].getNth():0),{model:i,cellOptions:a}}(t,r):{model:{},cellOptions:{parent:r.model.id,nth:r.model.children?r.model.children.length:0}};var o=t.find(e.cellOptions.parent);nY()(e.model,t.query.appendChildModel(o)),e.model.id=this.id,Object.assign(this,e),this.selectedCellId=r.model.id,W0($0(i.prototype),"execute",this).call(this),t.contentEditor.beginEdit()}},{key:"forward",value:function(){var e=this.selectedCellId,t=this.diagram;this.originSelectedCollapsed&&t.update(e,{collapsed:!1}),W0($0(i.prototype),"forward",this).call(this)}},{key:"backward",value:function(){var e=this.selectedCellId,t=this.diagram;this.originSelectedCollapsed&&t.update(e,{collapsed:!0}),W0($0(i.prototype),"backward",this).call(this),t.selector.select([e])}}])&&U0(t.prototype,n),r&&U0(t,r),i}(mX.Add);function Z0(e){return(Z0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e1(e,t,n){return(e1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o1(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function t1(e,t){return(t1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=o1(e);if(t){var o=o1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return r1(this,n)}}function r1(e,t){return!t||"object"!==Z0(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o1(e){return(o1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}G0.className="MindmapAppendChild",G0.enable=function(e){var t=e.selector.selections;return 1===t.length&&t.every((function(e){return e.isMindmap}))};var i1=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&t1(e,t)}(i,e);var t,n,r,o=n1(i);function i(){return J0(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.diagram,n=this.addType,r=t.selector.selections,o=r[r.length-1],a={model:{html:"".concat(XN(""))},cellOptions:{parent:o.parent.model.id,nth:n&&"prepend"===n?o.getNth():o.getNth()+e}};1===o.depth&&(a.model.layout={quadrant:o.computedProps.layout.quadrant});var c=t.find(a.cellOptions.parent);nY()(a.model,t.query.appendChildModel(c)),a.model.id=this.id,Object.assign(this,a),this.selectedCellId=o.model.id,e1(o1(i.prototype),"execute",this).call(this),t.contentEditor.beginEdit()}},{key:"backward",value:function(){var e=this.selectedCellId,t=this.diagram;e1(o1(i.prototype),"backward",this).call(this),t.selector.select([e])}}])&&Q0(t.prototype,n),r&&Q0(t,r),i}(mX.Add);function a1(e){return(a1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s1(e,t){return(s1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f1(e);if(t){var o=f1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u1(this,n)}}function u1(e,t){return!t||"object"!==a1(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f1(e){return(f1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}i1.className="MindmapAddSibling",i1.enable=function(e){var t=e.selector.selections;return 1===t.length&&t.every((function(e){return!e.isRoot&&e.isMindmap}))};var p1=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s1(e,t)}(n,e);var t=l1(n);function n(){return c1(this,n),t.apply(this,arguments)}return n}(i1);function d1(e){return(d1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v1(e,t,n){return(v1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w1(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function y1(e,t){return(y1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w1(e);if(t){var o=w1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b1(this,n)}}function b1(e,t){return!t||"object"!==d1(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w1(e){return(w1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}p1.className="MindmapAppendSibling";var k1=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y1(e,t)}(i,e);var t,n,r,o=g1(i);function i(){return h1(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){v1(w1(i.prototype),"execute",this).call(this,0)}}])&&m1(t.prototype,n),r&&m1(t,r),i}(i1);function x1(e){return(x1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _1(e,t){return(_1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S1(e);if(t){var o=S1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j1(this,n)}}function j1(e,t){return!t||"object"!==x1(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S1(e){return(S1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}k1.className="MindmapPrependSibling";var P1=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_1(e,t)}(i,e);var t,n,r,o=E1(i);function i(){return O1(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e=this.addCellModels,t=this.addOptions;this.diagram.add(e,t),this.select(e.map((function(e){return e.id})))}},{key:"forward",value:function(){var e=this.addCellModels,t=this.addOptions,n=this.diagram;n.remove(e.map((function(e){return e.id}))),n.add(e,t),this.select(e.map((function(e){return e.id})))}},{key:"backward",value:function(){var e=this.dragCellModels,t=this.dragCellOptions,n=this.diagram;n.remove(e.map((function(e){return e.id}))),n.add(e,t),this.select(e.map((function(e){return e.id})))}}])&&C1(t.prototype,n),r&&C1(t,r),i}(mX);function R1(e){return(R1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A1(e,t,n){return(A1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L1(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function M1(e,t){return(M1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L1(e);if(t){var o=L1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I1(this,n)}}function I1(e,t){return!t||"object"!==R1(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L1(e){return(L1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}P1.className="MindmapMoveNode";var F1=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M1(e,t)}(i,e);var t,n,r,o=N1(i);function i(){return T1(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram,t=this.image,n=e.selector.selections,r=n[n.length-1],o=r.model;this.id=o.id,this.model={image:OX(t),width:null,height:null},e.signal.preventUpdateCellContent=!0,r.textAreaElement.htmlContainer===e.contentEditor.dom&&(e.contentEditor.execCommand("justifyCenter"),e.contentEditor.updateStartContent(),this.model.html=e.contentEditor.dom.innerHTML),e.signal.preventUpdateCellContent=!1,A1(L1(i.prototype),"execute",this).call(this)}}])&&D1(t.prototype,n),r&&D1(t,r),i}(mX.Update);function z1(e){return(z1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V1(e,t){return(V1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U1(e);if(t){var o=U1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H1(this,n)}}function H1(e,t){return!t||"object"!==z1(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U1(e){return(U1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}F1.className="MindmapAttachImage",F1.enable=function(e){var t=e.selector.selections;return 1===t.length&&t[0].isMindmap};var W1=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V1(e,t)}(i,e);var t,n,r,o=q1(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).queue=!1,t}return t=i,(n=[{key:"execute",value:function(){this.diagram.interaction.changeMode("beginAddMindmapRoot")}}])&&B1(t.prototype,n),r&&B1(t,r),i}(mX);function K1(e){return(K1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z1(e,t,n){return(Z1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=t2(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function J1(e,t){return(J1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=t2(e);if(t){var o=t2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return e2(this,n)}}function e2(e,t){return!t||"object"!==K1(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function t2(e){return(t2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}W1.className="MindmapBeginInsertRoot";var n2=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J1(e,t)}(i,e);var t,n,r,o=Q1(i);function i(){return $1(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram,t=this.x,n=this.y;if(this.model=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y1(Object(n),!0).forEach((function(t){X1(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.query.insertRootModel()),null!=t&&null!=n)Object.assign(this.model,{x:t,y:n});else{var r=e.getCells().filter((function(e){return e.isRoot})),o=r[r.length-1];Object.assign(this.model,{x:o.x+20,y:o.y+o.height+20})}Z1(t2(i.prototype),"execute",this).call(this)}}])&&G1(t.prototype,n),r&&G1(t,r),i}(mX.Add);function r2(e){return(r2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i2(e,t){return(i2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a2(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s2(e);if(t){var o=s2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c2(this,n)}}function c2(e,t){return!t||"object"!==r2(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s2(e){return(s2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n2.className="MindmapInsertRoot";var l2=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i2(e,t)}(n,e);var t=a2(n);function n(){return o2(this,n),t.apply(this,arguments)}return n}(mX.CreateLink);function u2(e){return(u2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d2(e,t,n){return(d2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y2(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function h2(e,t){return(h2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m2(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y2(e);if(t){var o=y2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v2(this,n)}}function v2(e,t){return!t||"object"!==u2(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y2(e){return(y2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}l2.className="MindmapCreateLink";var g2=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h2(e,t)}(i,e);var t,n,r,o=m2(i);function i(){return f2(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e=this,t=this.diagram,n=this.image;this.model={type:"mindmap",image:OX(n),html:""};var r=t.viewport.getCenter();this.model.x=r[0]-this.model.image.width/2,this.model.y=r[1]-this.model.image.height/2,d2(y2(i.prototype),"execute",this).call(this),nm()((function(){var n=t.selector.selections;1===n.length&&n[0].model.id===e.id&&t.contentEditor.execCommand("justifyCenter")}),16)()}}])&&p2(t.prototype,n),r&&p2(t,r),i}(mX.Add);function b2(e){return(b2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w2(e){return function(e){if(Array.isArray(e))return k2(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k2(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C2(e,t){return(C2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _2(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j2(e);if(t){var o=j2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E2(this,n)}}function E2(e,t){return!t||"object"!==b2(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j2(e){return(j2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}g2.className="MindmapInsertImage",g2.enable=function(e){return 0===e.selector.selections.length};var S2=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C2(e,t)}(i,e);var t,n,r,o=_2(i);function i(){return x2(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"processNotRoot",value:function(){}},{key:"processRoot",value:function(){}},{key:"execute",value:function(){var e=this.diagram.selector.selections.concat([]).sort((function(e,t){return e.getNth()-t.getNth()}));e[0].parent?this.processNotRoot(e):this.processRoot(e)}},{key:"forward",value:function(){var e=this.diagram,t=this.forwardRemoveId,n=this.forwardSnapshot,r=this.forwardSelections;e.remove(t),e.add.apply(e,w2(n)),e.selector.select(r)}},{key:"backward",value:function(){var e=this.diagram,t=this.backwardRemoveId,n=this.backwardSnapshot,r=this.backwardSelections;e.remove(t),e.add.apply(e,w2(n)),e.selector.select(r)}}])&&O2(t.prototype,n),r&&O2(t,r),i}(mX);function P2(e){return(P2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R2(Object(n),!0).forEach((function(t){D2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N2(e,t){return(N2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I2(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F2(e);if(t){var o=F2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L2(this,n)}}function L2(e,t){return!t||"object"!==P2(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F2(e){return(F2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z2(e,t){return e=e.filter((function(e){return e.isMindmap})),t.deduplicate(e)}S2.className="Snapshot";var B2=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N2(e,t)}(i,e);var t,n,r,o=I2(i);function i(){return A2(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"processNotRoot",value:function(e){var t=this.diagram,n=(e=z2(e,t))[e.length-1],r=n.getNth(),o=n.parent,i=o.model.id,a=T2(T2({},t.query.appendChildModel(o)),{},{id:rT(),html:"",children:[]});1===n.depth&&(a.layout=T2({},n.model.layout)),this.backwardRemoveId=i,this.backwardSnapshot=t.snapshot([o]),this.backwardSelections=t.selector.selections.map((function(e){return e.model.id})),1===n.depth&&e.forEach((function(e){e.updateModel({layout:null})})),t.add(a,{parent:i,nth:r}),t.update(e,{},{parent:a.id}),t.selector.select(a.id),this.forwardRemoveId=i,this.forwardSnapshot=t.snapshot([o]),this.forwardSelections=t.selector.selections.map((function(e){return e.model.id}))}},{key:"processRoot",value:function(e){var t=this.diagram,n=(e=t.deduplicate(e))[0],r={id:rT(),html:"",x:n.x,y:n.y,type:"mindmap",children:e.map((function(e){var t=gd()(e.model);return delete t.type,delete t.x,delete t.y,delete t.layout,t}))};Z_(r,(function(e){delete e.zIndex})),this.backwardRemoveId=r.id,this.backwardSnapshot=t.snapshot(e),this.backwardSelections=t.selector.selections.map((function(e){return e.model.id})),t.remove(e),t.add(r),t.selector.select(r.id),this.forwardRemoveId=e.map((function(e){return e.model.id})),this.forwardSnapshot=t.snapshot([t.find(r.id)]),this.forwardSelections=t.selector.selections.map((function(e){return e.model.id}))}}])&&M2(t.prototype,n),r&&M2(t,r),i}(S2);function V2(e){return(V2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q2(Object(n),!0).forEach((function(t){U2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y2(e,t){return(Y2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X2(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G2(e);if(t){var o=G2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $2(this,n)}}function $2(e,t){return!t||"object"!==V2(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G2(e){return(G2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}B2.className="MindmapAppendParent",B2.enable=function(e){var t=z2(e.selector.selections,e);return t.length>0&&t.every((function(e){return e.isMindmap&&e.parent===t[0].parent}))};var Z2=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y2(e,t)}(i,e);var t,n,r,o=X2(i);function i(){return W2(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"processNotRoot",value:function(e){var t=this.diagram,n=e[0],r=n.getChildren(),o=n.getNth(),i=n.parent.model.id;this.backwardRemoveId=r.map((function(e){return e.model.id})),this.backwardSnapshot=t.snapshot([n]),this.backwardSelections=t.selector.selections.map((function(e){return e.model.id}));for(var a=0;a<r.length;a++){var c=r[a];t.update(c,{},{parent:i,nth:o+a})}t.remove(n),t.selector.select(r),this.forwardRemoveId=n.model.id,this.forwardSnapshot=t.snapshot(r),this.forwardSelections=t.selector.selections.map((function(e){return e.model.id}))}},{key:"processRoot",value:function(e){var t=this.diagram,n=e[0],r=n.getChildren();this.backwardRemoveId=r.map((function(e){return e.model.id})),this.backwardSnapshot=t.snapshot([n]),this.backwardSelections=t.selector.selections.map((function(e){return e.model.id})),t.remove(n);var o=t.add(r.map((function(e){var t=H2(H2(H2({},n.model),e.model),{},{layout:H2(H2({},n.layout),e.layout),x:e.x,y:e.y});return Z_(t,(function(e){delete e.zIndex})),t})));t.selector.select(r),this.forwardRemoveId=n.model.id,this.forwardSnapshot=t.snapshot(o),this.forwardSelections=t.selector.selections.map((function(e){return e.model.id}))}}])&&K2(t.prototype,n),r&&K2(t,r),i}(S2);function J2(e){return(J2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e5(e,t){return(e5=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function t5(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=r5(e);if(t){var o=r5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return n5(this,n)}}function n5(e,t){return!t||"object"!==J2(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r5(e){return(r5=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Z2.className="MindmapRemoveSingleNode",Z2.enable=function(e){var t=e.selector.selections;return 1===t.length&&t.every((function(e){return e.isMindmap}))};var o5=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&e5(e,t)}(i,e);var t,n,r,o=t5(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).queue=!1,t}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram,t=e.selector.selections[0];e.emit("opennote",{cell:t})}}])&&Q2(t.prototype,n),r&&Q2(t,r),i}(mX);function i5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a5(e){return(a5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c5(e,t){return e.reduce((function(e,t){return"object"===a5(e)?e[t]:e}),t)}function s5(e,t,n){var r=e.length;e.reduce((function(e,t,o){if(o===r-1)return e[t]=n,n;if("object"===a5(e[t]))return e[t];if(void 0===e[t]){var i={};return e[t]=i,i}return{}}),t)}function l5(e,t){var n=gz(t.find(e.id).textAreaElement.htmlContainer);return e.children&&(n.children=e.children.map((function(e){return l5(e,t)}))),n}function u5(e,t,n){var r,o=n.children,i=c5(t=t.split("."),n);if(o&&o.length>1)for(var a=0;a<o.length;a++){var c=c5(t,o[a]);if(void 0!==r){if(c!==r){r=void 0;break}}else r=c}return r?s5(t,e,r):i&&s5(t,e,i),e}o5.className="MindmapOpenNote",o5.isModelChange=!1,o5.enable=function(e){var t=e.selector.selections;return 1===t.length&&t.every((function(e){return e.isMindmap}))};var f5=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.diagram=t}var t,n,r;return t=e,(n=[{key:"appendChildAddButtonTail",value:function(e){var t=e.root.rainbow;return e.isRoot?{treeEdge:{stroke:t?gX[e.model.children.length%gX.length]:vX,"stroke-width":e.getDefaultStrokeWidth(e.depth+1)}}:{treeEdge:{stroke:e.computedProps.treeEdge.stroke,"stroke-width":e.getDefaultStrokeWidth(e.depth+1)}}}},{key:"appendChildTransitiveCommon",value:function(e,t){u5(e,"border.shape",t.model)}},{key:"appendChildTransitiveTextFormat",value:function(e,t){var n={};u5(n,"fontSize",l5(t.model,this.diagram)),n.fontSize&&14!==n.fontSize&&(e.html='<span style="font-size: '.concat(n.fontSize,'px;">').concat(JA,"</span>"))}},{key:"appendChildTreeEdge",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.root,o=r.rainbow;s5(["treeEdge","stroke"],e,o?gX[(t.model.children.length+n)%gX.length]:vX)}},{key:"appendChildModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={};return e.isRoot?this.appendChildTreeEdge(n,e,t):(this.appendChildTransitiveCommon(n,e),this.appendChildTransitiveTextFormat(n,e)),n}},{key:"insertRootModel",value:function(){return{html:"".concat(XN("思维导图")),type:"mindmap"}}},{key:"destroy",value:function(){this.diagram=void 0}}])&&i5(t.prototype,n),r&&i5(t,r),e}();function p5(e,t){var n=[],r=[],o={};e.forEach((function(e){"line"===e.type||"edge"===e.type?n.push(e):r.push(e)})),r.forEach((function(e){Z_(e,(function(e){var n=rT();o[e.id]=n,t[n]=t[e.id],e.id=n}))})),n.forEach((function(e){var n=rT();t[n]=t[e.id],e.id=n,e.source&&e.source.id&&o[e.source.id]&&(e.source.id=o[e.source.id]),e.target&&e.target.id&&o[e.target.id]&&(e.target.id=o[e.target.id])}))}function d5(e){return(d5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h5(e){return function(e){if(Array.isArray(e))return m5(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m5(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g5(e,t){return(g5=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b5(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k5(e);if(t){var o=k5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w5(this,n)}}function w5(e,t){return!t||"object"!==d5(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k5(e){return(k5=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}f5.className="Query";var x5=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g5(e,t)}(i,e);var t,n,r,o=b5(i);function i(){return v5(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"_processMindmapCell",value:function(e){var t=this,n=this.diagram,r=e.body,o=e.extraInformations,i=n.selector.selections.filter((function(e){return e.isMindmap})),a=r.filter((function(e){return"mindmap"===e.type}));if(i.length>0){var c=i[0];a.forEach((function(e){delete e.type,delete e.layout,delete e.treeEdge;var t=o[e.id];c.isRoot&&(e.treeEdge=t.treeEdge),e.options={parent:c.model.id}}))}else a.forEach((function(e){var n=o[e.id];e.x="number"==typeof e.x?e.x:n.x,e.y="number"==typeof e.y?e.y:n.y,e.x+=t.offset[0],e.y+=t.offset[1],e.children&&e.children.forEach((function(e){var t=o[e.id];t.treeEdge&&t.treeEdge.stroke&&(e.treeEdge?e.treeEdge.stroke||(e.treeEdge.stroke=t.treeEdge.stroke):e.treeEdge={stroke:t.treeEdge.stroke})}))}))}},{key:"_processLineCell",value:function(e){var t=this.diagram,n=e.body,r=e.extraInformations,o=t.selector.selections,i=e.body.filter((function(e){return"line"===e.type}));if(o.length>0&&o.some((function(e){return!e.isLine})))vE.apply(void 0,[n].concat(h5(i)));else{var a=this.offset,c=i.filter((function(e){return e.source&&e.source.id&&!t.find(e.source.id)&&!r[e.source.id]||e.target&&e.target.id&&!t.find(e.target.id)&&!r[e.target.id]}));vE.apply(void 0,[i].concat(h5(c))),vE.apply(void 0,[n].concat(h5(c))),i.forEach((function(e){["source","target"].forEach((function(t){var n=e[t];!n.id&&n.connection&&(n.connection[0]+=a[0],n.connection[1]+=a[1])})),e.controlPoints&&e.controlPoints.forEach((function(e){e[0]+=a[0],e[1]+=a[1]}))}))}}},{key:"_getOffset",value:function(e,t){var n=this.diagram,r=[6,6];if(e.length>0){var o=t[e.sort((function(e,t){return e.y-t.y}))[0].id];if(o&&null!=o.x&&null!=o.y){var i=n.viewport.focusPoint;r=[(i=n.viewport.invertClient(i))[0]-o.x,i[1]-o.y]}}return r}},{key:"_getDataByPlainText",value:function(e){var t=this.viewportCenter,n=this.diagram.selector.selections,r=cz(e);if((n.length>1||n.some((function(e){return!e.isMindmap})))&&(r=null),0===n.length&&r&&r.length>1&&(r.forEach((function(e,t){e.treeEdge={stroke:gX[t%gX.length]}})),r=[{children:r}]),r){var o={bbox:null};return r.forEach((function(e){e.type="mindmap",Z_(e,(function(e){var t=rT();e.id=t,o[t]={}})),o[e.id]={x:t[0],y:t[1]}})),{body:r,extraInformations:o}}return!1}},{key:"_clipboardHtmlAndText",value:function(e,t){var n=this.diagram,r=iz(e);if(!r&&t&&(r=this._getDataByPlainText(t)),r){var o=r,i=o.body,a=o.extraInformations;p5(i,a),this.offset=this._getOffset(i,a),i.forEach((function(e){e.type||(e.type="mindmap"),Z_(e,(function(e){e.zIndex=void 0}))})),this._processMindmapCell(r),this._processLineCell(r);var c=i.map((function(e){var t=e.options||{};return delete e.options,t}));r.execute=function(){n.add(i,c)},r.execute()}return r}},{key:"_clipboardFile",value:function(e){var t=this.diagram,n=Array.from(e).filter((function(e){return xX(e)}));n[0]&&t.emit("importimage",{files:n,from:"clipboard"})}},{key:"clipboard",value:function(e){var t=e.html,n=e.text,r=e.files,o=this.diagram;return this.viewportCenter=o.viewport.getCenter(),r&&r.length?this._clipboardFile(r):this._clipboardHtmlAndText(t,n)}}])&&y5(t.prototype,n),r&&y5(t,r),i}(p.Importer);function O5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C5=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.colors=[["#000000","#262626","#595959","#8C8C8C","#BFBFBF","#D9D9D9","#E9E9E9","#F5F5F5","#FAFAFA","#FFFFFF"],["#69B1E4","#E482D4","#77C386","#E48484","#A287E1","#DFB85D","#6EC4C4","#C28976","#6F81DB","#B1C774"],["#E6F4FC","#FAEDF6","#E9F7E9","#FCEFED","#EFE8FA","#FCF6E1","#E4F7F5","#F7EDE6","#E8EEFC","#F7FAE6"],["#C4E4F5","#F2D0E8","#CEEBD2","#FBD3D0","#DBCEF5","#F7E9BC","#C0EBE5","#EBD5CA","#C2CDF0","#E5EDCA"],["#91CAED","#EDA6D9","#9DD1A6","#EFACA9","#C0ABEB","#EBD28D","#9AD6D4","#D6AC9A","#91A2E3","#D0E09D"],["#5493C7","#BA5FA6","#579C67","#BD6468","#8169BF","#B88F44","#509FA1","#9C6657","#5461B8","#8CA357"],["#234870","#6B2D62","#244F31","#703039","#392E6E","#6B4C1D","#214D52","#4F2B24","#262A69","#415222"]]}var t,n,r;return t=e,(n=[{key:"_map",value:function(){for(var e={},t=this.colors,n=0,r=t.length;n<r;n++)for(var o=0,i=t[n].length;o<i;o++)e[t[n][o]]={y:n,x:o};return e}},{key:"getStroke",value:function(e){var t=this._map[e];return t&&(2===t.y||3===t.y&&t.x>2&&t.x<5)?this.colors[4][t.x]:e}},{key:"getColors",value:function(){return this.colors}},{key:"destroy",value:function(){this.colors=void 0}}])&&O5(t.prototype,n),r&&O5(t,r),e}();C5.className="Palette";var _5=hX.MouseDragCanvas,E5=hX.MouseDragMultiSelect,j5=hX.KeyboardPressModifierKey,S5=hX.KeyboardSelectAll,P5=hX.KeyboardSwitchEditAndDragCanvas,R5={Cells:[aG,GG],Extends:[f5,x5,C5],defaultCursors:{dragCanvas:"grab"},modes:[{mode:"edit",Behaviours:[pZ,hX.AfterSelectionChangeMultiSelectHighlight,kZ,oZ,mJ,LJ,WJ,OJ,cQ,mQ,E5,AQ,VQ,LZ,$Q,o0,j5,S5,P5,V0,A0]},{mode:"dragCanvas",Behaviours:[P5,_5]},{mode:"read",Behaviours:[kZ,o0,S5,PZ,_5,AQ,VQ,LZ]},{mode:"beginAddMindmapRoot",Behaviours:[kZ,EQ]}],Commands:[G0,p1,P1,F1,W1,l2,k1,n2,g2,B2,Z2,o5]},T5=[{name:"arrow-1",width:100,height:80,outline:{name:"polygon",points:[{x:49.4351641,y:0},{x:-181188398e-21,y:40.0053069},{x:49.4351641,y:80},{x:49.4351641,y:59.6453069},{x:100,y:59.6453069},{x:100,y:20.9653069},{x:49.4351641,y:20.9653069}]},scene:[],thumb:[{name:"polygon",points:[{x:16.2620321,y:7.99867328},{x:7,y:15.9997347},{x:16.2620321,y:23.9986733},{x:16.2620321,y:19.9277347},{x:25.7357163,y:19.9277347},{x:25.7357163,y:12.1917347},{x:16.2620321,y:12.1917347}]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"arrow-2",width:100,height:80,outline:{name:"polygon",points:[{x:50.5648359,y:-671073958e-22},{x:100,y:40.0053069},{x:50.5648359,y:80},{x:50.5648359,y:59.6453069},{x:0,y:59.6453069},{x:0,y:20.9653069},{x:50.5648359,y:20.9653069}]},scene:[],thumb:[{name:"polygon",points:[{x:16.4736842,y:7.99867328},{x:25.7357163,y:15.9997347},{x:16.4736842,y:23.9986733},{x:16.4736842,y:19.9277347},{x:7,y:19.9277347},{x:7,y:12.1917347},{x:16.4736842,y:12.1917347}]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"arrow-3",width:138,height:80,outline:{name:"polygon",points:[{x:92.2158589,y:0},{x:137.5,y:40},{x:92.2158589,y:80},{x:92.2158589,y:55.9003245},{x:46.7965867,y:55.9003245},{x:46.7965867,y:80},{x:88817842e-23,y:40.0053069},{x:46.7965867,y:0},{x:46.7965867,y:24.6624715},{x:92.2158589,y:24.6624715}]},scene:[],thumb:[{name:"polygon",points:[{x:19.8639344,y:8},{x:27.109397,y:16},{x:19.8639344,y:24},{x:19.8639344,y:19.1800649},{x:12.5968509,y:19.1800649},{x:12.5968509,y:24},{x:5.10939702,y:16.0010614},{x:12.5968509,y:8},{x:12.5968509,y:12.9324943},{x:19.8639344,y:12.9324943}]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"circle",width:100,height:100,outline:{name:"ellipse",cx:50,cy:50,rx:50,ry:50},scene:[],thumb:[{name:"ellipse",cx:16,cy:16.5333333,rx:9,ry:9}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"collate",width:42,height:36,outline:{d:[["M",40.3837262,0],["C",40.6808145,0,40.9625216,.132096,41.1525116,.3604931],["C",41.478533,.7524209,41.4542938,1.3198118,41.1146853,1.6825771],["L",41.0232331,1.7687854],["L",20.9996243,18.0064637],["L",41.0232331,34.2312146],["C",41.2190021,34.3940632,41.3440192,34.6242958,41.3757431,34.8738407],["L",41.3837518,35],["C",41.3837518,35.5128358,40.997686,35.9355072,40.5003473,35.9932723],["L",40.3837262,36],["L",1.9253140000000002,36],["C",1.6282257999999992,36,1.3465187000000007,35.867904,1.1565287000000009,35.6395069],["C",.8305071999999996,35.2475791,.8547464999999992,34.6801882,1.1943549999999998,34.317423],["L",1.2858070999999995,34.2312146],["L",20.9996243,18.0064637],["L",1.2858070999999995,1.7687854],["C",1.0900382000000004,1.6059368,.9650210999999995,1.3757042,.9332972000000002,1.1261593],["L",.9252885000000006,1],["C",.9252885000000006,.4871642,1.3113542000000002,.0644928,1.8086929000000005,.0067277],["L",1.9253140000000002,0],["L",40.3837262,0],["Z"]]},scene:[],thumb:[{d:[["M",23.6671476,9],["C",23.787916,9,23.9022194,9.0545637,23.9781629,9.1484658],["C",24.1170814,9.3202349,24.0904508,9.5720969,23.9186817,9.7110154],["L",23.9186817,9.7110154],["L",16.142839,16],["L",23.9186817,22.2889846],["C",23.9938034,22.3497394,24.0437485,22.4350446,24.0607217,22.5285699],["L",24.0671476,22.6],["C",24.0671476,22.8209139,23.8880615,23,23.6671476,23],["L",23.6671476,23],["L",8.3328524,23],["C",8.212084,23,8.0977806,22.9454363,8.0218371,22.8515342],["C",7.8829186,22.6797651,7.9095492,22.4279031,8.0813183,22.2889846],["L",8.0813183,22.2889846],["L",15.856839,16],["L",8.0813183,9.7110154],["C",8.0061966,9.6502606,7.9562515,9.5649554,7.9392783,9.4714301],["L",7.9328524,9.4],["C",7.9328524,9.1790861,8.1119385,9,8.3328524,9],["L",8.3328524,9],["Z"]]}],discrete:!0,anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.02,name:"NW"},{x:0,y:.98,name:"SW"},{x:1,y:.02,name:"NE"},{x:1,y:.98,name:"SE"}]},{name:"comment-2",width:113,height:100,outline:{d:[["M",18.75,0],["L",93.75,0],["C",104.105339,-0,112.5,8.3946609,112.5,18.75],["L",112.5,59.4444576],["C",112.5,69.7997966,104.105339,78.1944576,93.75,78.1944576],["L",53.1187263,78.1944576],["L",53.1187263,78.1944576],["L",21.9728275,100],["L",21.9728275,78.1916318],["L",18.75,78.1916318],["C",8.3946609,78.1916318,0,69.7969708,0,59.4416318],["L",0,18.75],["C",-0,8.3946609,8.3946609,0,18.75,0],["Z"]]},scene:[],thumb:[{d:[["M",10,9],["L",22,9],["C",23.6568542,9,25,10.3431458,25,12],["L",25,18.700459],["C",25,20.3573132,23.6568542,21.700459,22,21.700459],["L",15.4989962,21.700459],["L",15.4989962,21.700459],["L",10.5156524,25.2421473],["L",10.5156524,21.7],["L",10,21.7],["C",8.3431458,21.7,7,20.3568542,7,18.7],["L",7,12],["C",7,10.3431458,8.3431458,9,10,9],["Z"]]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"comment",width:76,height:60,outline:{d:[["M",1,49],["C",.4477153,49,0,48.5522847,0,48],["L",0,1],["C",-0,.4477153,.4477153,0,1,0],["L",75,0],["C",75.5522847,-0,76,.4477153,76,1],["L",76,48],["C",76,48.5522847,75.5522847,49,75,49],["L",45.6,49],["L",38,60],["L",30.4,49],["L",1,49],["Z"]]},scene:[],thumb:[{d:[["M",7,22],["C",6.4477153,22,6,21.5522847,6,21],["L",6,10],["C",6,9.4477153,6.4477153,9,7,9],["L",25,9],["C",25.5522847,9,26,9.4477153,26,10],["L",26,21],["C",26,21.5522847,25.5522847,22,25,22],["L",18,22],["L",16,25],["L",14,22],["L",7,22],["Z"]]}],padding:[0,10,10,10],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"connector",width:44,height:44,outline:{name:"ellipse",cx:22,cy:22,rx:22,ry:22},scene:[],thumb:[{name:"ellipse",cx:16,cy:16,rx:9,ry:9}],discrete:!0,anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:.145,y:.145,name:"NW"},{x:.145,y:.855,name:"SW"},{x:.855,y:.145,name:"NE"},{x:.855,y:.855,name:"SE"}]},{name:"data",width:124,height:60,outline:{d:[["M",17.1403103,0],["L",122.687657,0],["C",123.239942,-0,123.687657,.4477153,123.687657,1],["C",123.687657,1.0896438,123.675604,1.1788806,123.65182,1.2653118],["L",107.823852,58.7853118],["C",107.704434,59.2192873,107.309796,59.52,106.85969,59.52],["L",1.3123427,59.52],["C",.7600579,59.52,.3123427,59.0722847,.3123427,58.52],["C",.3123427,58.4303562,.3243965,58.3411194,.34818,58.2546882],["L",16.1761477,.7346882],["C",16.2955661,.3007127,16.6902043,-0,17.1403103,0],["Z"]]},scene:[],thumb:[{d:[["M",7.6068779,10],["L",27.4750629,10],["C",27.6959768,10,27.8750629,10.1790861,27.8750629,10.4],["C",27.8750629,10.4358575,27.8702414,10.4715522,27.860728,10.5061247],["L",24.7787871,21.7061247],["C",24.7310198,21.8797149,24.5731645,22,24.3931221,22],["L",4.5249371,22],["C",4.3040232,22,4.1249371,21.8209139,4.1249371,21.6],["C",4.1249371,21.5641425,4.1297586,21.5284478,4.139272,21.4938753],["L",7.2212129,10.2938753],["C",7.2689802,10.1202851,7.4268355,10,7.6068779,10],["Z"]]}],padding:[0,12,0,12],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:.095,y:.5,name:"W"},{x:.905,y:.5,name:"E"},{x:.23,y:.02,name:"NW"},{x:.015,y:.98,name:"SW"},{x:.985,y:.02,name:"NE"},{x:.77,y:.98,name:"SE"}]},{name:"database",width:70,height:80,outline:{d:[["M",35,0],["C",53.9753466,0,69.4238162,5.273994,69.9842524,11.8539517],["L",69.995311,11.8537712],["L",69.995311,12.022052],["L",70,12.2242015],["C",70,12.2917139,69.998433,12.3590985,69.995311,12.426351],["L",69.995311,67.977948],["C",69.6862333,74.6359505,54.1366666,80,35,80],["C",16.0547001,80,.6251167,74.7426951,.0185218,68.1772958],["L",.004689,67.977948],["L",0,11.8537712],["L",.0157476,11.8539517],["C",.5761838,5.273994,16.0246534,0,35,0],["Z"]]},scene:[{d:[["M",70,13],["C",70,19.0751322,54.3299662,24,35,24],["C",15.8633334,24,.3137667,19.1731371,.004689,13.1819051],["L",0,13]]}],thumb:[{d:[["M",16,7],["C",20.337222099999998,7,23.8683009,8.1866487,23.9964006,9.6671391],["L",23.9989282,9.6670985],["L",23.9989282,9.7049617],["L",24,9.750445299999999],["C",24,9.7656356,23.9996418,9.7807972,23.9989282,9.795929000000001],["L",23.9989282,22.2950383],["C",23.9282819,23.7930889,20.3740952,25,16,25],["C",11.6696457,25,8.1428838,23.8171064,8.0042336,22.3398916],["L",8.0010718,22.2950383],["L",8,9.6670985],["L",8.0035994,9.6671391],["C",8.1316991,8.1866487,11.6627779,7,16,7],["Z"]]},{d:[["M",24,10],["C",24,11.1045695,20.418278,12,16,12],["C",11.6259048,12,8.0717181,11.1223886,8.0010718,10.0330737],["L",8,10]]}],padding:[16,10,0,10],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:0,y:.15,name:"NW"},{x:0,y:.85,name:"SW"},{x:1,y:.15,name:"NE"},{x:1,y:.85,name:"SE"}]},{name:"decision",width:160,height:80,outline:{d:[["M",79.8944272,.4472136],["L",157.211146,39.1055728],["C",157.705124,39.3525621,157.905348,39.9532351,157.658359,40.4472136],["C",157.561596,40.640741,157.404673,40.7976635,157.211146,40.8944272],["L",79.8944272,79.5527864],["C",79.3313722,79.8343139,78.6686278,79.8343139,78.1055728,79.5527864],["L",.7888544,40.8944272],["C",.2948759000000001,40.6474379,.09465150000000011,40.0467649,.34164079999999997,39.5527864],["C",.4384045000000001,39.359259,.5953269999999999,39.2023365,.7888544,39.1055728],["L",78.1055728,.4472136],["C",78.6686278,.1656861,79.3313722,.1656861,79.8944272,.4472136],["Z"]]},scene:[],thumb:[{d:[["M",5.5303015,15.6625354],["L",15.7852498,9.1366592],["C",15.9162764,9.0532787,16.0837236,9.0532787,16.2147502,9.1366592],["L",26.4696985,15.6625354],["C",26.656075,15.7811387,26.7110162,16.0283736,26.5924129,16.2147502],["C",26.5609814,16.2641425,26.5190908,16.3060331,26.4696985,16.3374646],["L",16.2147502,22.8633408],["C",16.0837236,22.9467213,15.9162764,22.9467213,15.7852498,22.8633408],["L",5.5303015,16.3374646],["C",5.343925,16.2188613,5.2889839,15.9716264,5.4075871,15.7852498],["C",5.4390186,15.7358575,5.4809092,15.6939669,5.5303015,15.6625354],["Z"]]}],padding:[10,24,10,24],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"delay",width:120,height:60,outline:{d:[["M",1,0],["L",90,0],["C",106.568542,-0,120,13.4314575,120,30],["C",120,46.5685425,106.568542,60,90,60],["L",1,60],["C",.4477153,60,0,59.5522847,0,59],["L",0,1],["C",-0,.4477153,.4477153,0,1,0],["Z"]]},scene:[],thumb:[{d:[["M",6.4,11.0666667],["L",20,11.0666667],["C",23.3137085,11.0666667,26,13.7529582,26,17.0666667],["C",26,20.3803752,23.3137085,23.0666667,20,23.0666667],["L",6.4,23.0666667],["C",6.1790861,23.0666667,6,22.8875806,6,22.6666667],["L",6,11.4666667],["C",6,11.2457528,6.1790861,11.0666667,6.4,11.0666667],["Z"]]}],padding:[0,10,0,10],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:.02,y:.015,name:"NW"},{x:.02,y:.985,name:"SW"},{x:.81,y:0,name:"NE"},{x:.81,y:1,name:"SE"}]},{name:"diamond",width:100,height:100,outline:{d:[["M",50.5029462,.2083271],["L",99.7916729,49.4970538],["C",100.069442,49.7748233,100.069442,50.2251767,99.7916729,50.5029462],["L",50.5029462,99.7916729],["C",50.2251767,100.069442,49.7748233,100.069442,49.4970538,99.7916729],["L",.2083271,50.5029462],["C",-.0694424,50.2251767,-.0694424,49.7748233,.2083271,49.4970538],["L",49.4970538,.2083271],["C",49.7748233,-.0694424,50.2251767,-.0694424,50.5029462,.2083271],["Z"]]},scene:[],thumb:[{d:[["M",16.2852309,7.0928427],["L",24.9119336,15.7195454],["C",25.0681433,15.8757552,25.0681433,16.1290212,24.9119336,16.2852309],["L",16.2852309,24.9119336],["C",16.1290212,25.0681433,15.8757552,25.0681433,15.7195454,24.9119336],["L",7.0928427,16.2852309],["C",6.936633,16.1290212,6.936633,15.8757552,7.0928427,15.7195454],["L",15.7195454,7.0928427],["C",15.8757552,6.936633,16.1290212,6.936633,16.2852309,7.0928427],["Z"]]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"display",width:120,height:60,outline:{d:[["M",18.559242,0],["L",108.388294,0],["C",108.593661,-124e-7,108.794047,.0632157,108.962224,.18108],["C",116.320741,5.3381999,120,15.2778399,120,30],["C",120,43.9124351,116.326183,53.8383306,108.978548,59.7776865],["C",108.800609,59.9215337,108.578719,60,108.349908,60],["L",18.559242,60],["C",18.2079174,60,17.8823628,59.8156369,17.70166,59.5143473],["L",.3084873,30.5143473],["C",.1185966,30.1977386,.1185966,29.8022614,.3084873,29.4856527],["L",17.70166,.4856527],["C",17.8823628,.1843631,18.2079174,0,18.559242,0],["Z"]]},scene:[],thumb:[{d:[["M",8.7974767,10],["L",24.1863956,10],["L",24.1863956,10],["C",25.6811795,11.0207233,26.4285714,13.0207233,26.4285714,16],["C",26.4285714,18.8174994,25.6811795,20.8174994,24.1863956,22],["L",8.7974767,22],["C",8.6564465,22,8.525838,21.9257329,8.4537242,21.8045343],["L",5.1216988,16.2045343],["C",5.0467021,16.0784903,5.0467021,15.9215097,5.1216988,15.7954657],["L",8.4537242,10.1954657],["C",8.525838,10.0742671,8.6564465,10,8.7974767,10],["Z"]]}],padding:[0,10,0,10],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:.2,y:.14,name:"NW"},{x:.2,y:.86,name:"SW"},{x:.92,y:.14,name:"NE"},{x:.92,y:.86,name:"SE"}]},{name:"document",width:120,height:72,outline:{d:[["M",1,0],["L",119,0],["C",119.552285,-0,120,.4477153,120,1],["L",120,63.2943312],["C",119.999975,63.8466024,119.552271,64.2943066,119,64.2943066],["C",118.874051,64.2943066,118.749236,64.2705132,118.63212,64.2241781],["C",108.562735,60.240377,99.0186463,58.2432881,89.9998549,58.2329113],["C",75.8605271,58.216643,73.9215376,58.9595768,59.9999032,65.0379103],["C",46.0782688,71.1162438,44.1653018,71.9832913,29.9999516,72],["C",20.7325008,72.010162,10.9291929,69.6914094,.590028,65.0437423],["C",.2309588,64.882365,-0,64.5253236,0,64.1316572],["L",0,1],["C",-0,.4477153,.4477153,0,1,0],["Z"]]},scene:[],thumb:[{d:[["M",6,10],["L",26,10],["L",26,23.0414063],["C",24.237687,22.2996937,22.5710122,21.9279131,20.9999758,21.9260644],["C",18.6434212,21.9232914,18.3202563,22.0499279,15.9999839,23.0860074],["C",13.6797115,24.122087,13.3608836,24.2698792,11,24.2726331],["C",9.4260668,24.274461,7.7594002,23.864052,6,23.0414063],["L",6,10],["Z"]]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:.9,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:.02,y:.015,name:"NW"},{x:0,y:.9,name:"SW"},{x:.98,y:.015,name:"NE"},{x:1,y:.9,name:"SE"}]},{name:"internal-storage",width:80,height:80,outline:{name:"rect",x:0,y:0,width:80,height:80,rx:0,ry:0},scene:[{d:[{name:"M",x:0,y:8},{name:"L",x:80,y:8}]},{d:[{name:"M",x:8,y:0},{name:"L",x:8,y:80}]}],thumb:[{name:"rect",x:8,y:8,width:17,height:17,rx:.4,ry:.4},{d:[{name:"M",x:8.5,y:12.5},{name:"L",x:24.5,y:12.5}]},{d:[{name:"M",x:12.5,y:8.5},{name:"L",x:12.5,y:24.5}]}],padding:[10,10,0,16],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:.02,y:.015,name:"NW"},{x:.02,y:.985,name:"SW"},{x:.98,y:.015,name:"NE"},{x:.98,y:.985,name:"SE"}]},{name:"loop-limit",width:120,height:60,outline:{d:[["M",17.5871195,0],["L",102.429999,0],["C",102.7204,-0,102.996458,.1262398,103.186409,.3459021],["L",119.75641,19.5077312],["C",119.913532,19.6894304,120,19.9216166,120,20.1618291],["L",120,59],["C",120,59.5522847,119.552285,60,119,60],["L",1,60],["C",.4477153,60,0,59.5522847,0,59],["L",0,20.1621158],["C",0,19.92173,.0865921,19.6893882,.2439196,19.5076371],["L",16.831039,.3455213],["C",17.0209853,.1260876,17.2968941,0,17.5871195,0],["Z"]]},scene:[],thumb:[{d:[["M",9.5170283,11.0666667],["L",22.4862374,11.0666667],["C",22.6043417,11.0666667,22.7164089,11.1188597,22.7924108,11.2092607],["L",25.9061734,14.9129485],["C",25.9667743,14.9850307,26,15.0761829,26,15.1703545],["L",26,22.6666667],["C",26,22.8875806,25.8209139,23.0666667,25.6,23.0666667],["L",6.4,23.0666667],["C",6.1790861,23.0666667,6,22.8875806,6,22.6666667],["L",6,15.1704681],["C",6,15.0762275,6.0332743,14.9850132,6.0939556,14.9129087],["L",9.210984,11.2091073],["C",9.286986,11.118798,9.3989942,11.0666667,9.5170283,11.0666667],["Z"]]}],padding:[0,10,0,10],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:.1,y:.15,name:"NW"},{x:.02,y:.985,name:"SW"},{x:.9,y:.15,name:"NE"},{x:.98,y:.985,name:"SE"}]},{name:"manual-input",width:118,height:60,outline:{d:[["M",.8676336,15.6420323],["L",116.867634,.1512179],["C",117.415059,.0781139,117.918097,.4626272,117.991201,1.0100523],["C",117.99706,1.0539311,118,1.0981505,118,1.1424188],["L",118,59],["C",118,59.5522847,117.552285,60,117,60],["L",1,60],["C",.4477152,60,0,59.5522847,0,59],["L",0,16.6332332],["C",0,16.1321084,.3709182,15.7083644,.8676336,15.6420323],["Z"]]},scene:[],thumb:[{d:[["M",6.3471791,12.618128],["L",25.5471791,10.0603243],["C",25.7661584,10.0311521,25.9673249,10.1850212,25.9964971,10.4040005],["C",25.9988298,10.4215108,26,10.4391564,26,10.4568214],["L",26,21.2666667],["C",26,21.4875806,25.8209139,21.6666667,25.6,21.6666667],["L",6.4,21.6666667],["C",6.1790861,21.6666667,6,21.4875806,6,21.2666667],["L",6,13.0146251],["C",6,12.8141269,6.1484367,12.6446042,6.3471791,12.618128],["Z"]]}],padding:[16,10,0,10],anchors:[{x:.5,y:.195,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:.02,y:.985,name:"SW"},{x:.98,y:.015,name:"NE"},{x:.98,y:.985,name:"SE"}]},{name:"manual-loop",width:120,height:60,outline:{d:[["M",1.3143594,0],["L",118.682087,0],["C",119.234371,-0,119.682087,.4477153,119.682087,1],["C",119.682087,1.0910107,119.669662,1.1815953,119.645158,1.2692451],["L",103.43015,59.2692451],["C",103.309369,59.7012703,102.915669,60,102.467078,60],["L",17.3668015,60],["C",16.917245,60,16.5229467,59.7000072,16.4030326,59.2667387],["L",.3505905,1.2667387],["C",.2032748,.7344638,.5153458,.1835468,1.0476207,.0362311],["C",1.1344943,.0121874,1.2242199,-0,1.3143594,0],["Z"]]},scene:[],thumb:[{d:[["M",6.5216709,11.0666667],["L",25.4769568,11.0666667],["C",25.6978707,11.0666667,25.8769568,11.2457528,25.8769568,11.4666667],["C",25.8769568,11.5020572,25.8722601,11.5372913,25.8629896,11.5714461],["L",22.8230148,22.7714461],["C",22.7757173,22.9457017,22.6175425,23.0666667,22.4369821,23.0666667],["L",9.5311679,23.0666667],["C",9.3502305,23.0666667,9.1918239,22.9452058,9.1448706,22.7704667],["L",6.1353736,11.5704667],["C",6.0780465,11.3571206,6.2045248,11.1376966,6.4178708,11.0803694],["C",6.451721,11.0712737,6.4866199,11.0666667,6.5216709,11.0666667],["Z"]]}],padding:[0,10,0,10],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:.1,y:.5,name:"W"},{x:.9,y:.5,name:"E"},{x:.02,y:.015,name:"NW"},{x:.22,y:.985,name:"SW"},{x:.98,y:.015,name:"NE"},{x:.78,y:.985,name:"SE"}]},{name:"merge",width:50,height:36,outline:{d:[["M",48.9094474,1.5703958],["L",25.82137,34.8172272],["C",25.5063491,35.2708574,24.883234299999998,35.3832223,24.4296042,35.0682014],["C",24.3316502,35.0001778,24.246653600000002,34.9151812,24.17863,34.8172272],["L",1.0905526000000005,1.5703958],["C",.7755317000000002,1.1167657,.8878967000000006,.4936509,1.3415268000000005,.17863],["C",1.5090014000000007,.0623282,1.7080259000000009,0,1.9119226000000005,0],["L",48.0880774,0],["C",48.6403621,0,49.0880774,.4477153,49.0880774,1],["C",49.0880774,1.2038967,49.0257492,1.4029212,48.9094474,1.5703958],["Z"]]},scene:[],thumb:[{d:[["M",25.5482177,9.6324953],["L",16.3254934,22.5443093],["C",16.1970898,22.7240743,15.9472698,22.765711,15.7675047,22.6373074],["C",15.7315865,22.6116515,15.7001625,22.5802275,15.6745066,22.5443093],["L",6.4517823,9.6324953],["C",6.3233787,9.4527302,6.3650154,9.2029102,6.5447805,9.0745066],["C",6.6126207,9.0260493,6.6939065,9,6.7772757,9],["L",25.2227243,9],["C",25.4436382,9,25.6227243,9.1790861,25.6227243,9.4],["C",25.6227243,9.4833692,25.596675,9.564655,25.5482177,9.6324953],["Z"]]}],discrete:!0,anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:0,y:0,name:"NW"},{x:0,y:1,name:"SW"},{x:1,y:0,name:"NE"},{x:1,y:1,name:"SE"}]},{name:"multi-document",width:120,height:80,outline:{d:[["M",119,-0],["C",119.552285,-0,120,.4477153,120,1],["L",120,57.6634711],["C",120.00004,58.2157781,119.552307,58.6635113,119,58.6635113],["C",118.846121,58.6635113,118.694318,58.6280008,118.556406,58.5597438],["C",117.079303,57.8286782,115.893834,57.3066398,115,56.9936286],["L",114.744,56.868],["L",114.744526,63.1694166],["C",114.744553,63.7217167,114.296826,64.1694445,113.744526,64.1694445],["C",113.610972,64.1694445,113.478771,64.1426929,113.355724,64.0907684],["C",111.834645,63.4488877,110.620494,62.9604303,109.71327,62.6253962],["L",109.714286,71.1461039],["C",109.714249,71.6983687,109.26655,72.1460677,108.714286,72.1460677],["C",108.59377,72.1460677,108.474247,72.1242823,108.361482,72.0817624],["C",98.4971172,68.3622546,89.1471649,66.4976545,80.3116246,66.4879622],["C",66.4538962,66.4727606,64.5535237,67.1669765,50.9091531,72.8467226],["C",37.2647825,78.5264687,35.3899142,79.3366596,21.5066816,79.351889],["C",12.4628087,79.3615937,5.4112062,77.2136321,.351874,72.9080041],["C",.1286374,72.7179927,0,72.4396044,0,72.1464509],["L",0,11.7804604],["C",0,11.2281757,.4477153,10.7804604,1,10.7804604],["L",5.255,10.78],["L",5.2554745,6.3902302],["C",5.2554745,5.8379455,5.7031897,5.3902302,6.2554745,5.3902302],["L",10.51,5.39],["L",10.5109489,1],["C",10.5109489,.4477153,10.9586642,-0,11.5109489,-0],["L",119,-0],["Z"]]},scene:[{d:[["M",10,5.3902302],["L",113.744526,5.3902302],["C",114.29681,5.3902302,114.744526,5.8379455,114.744526,6.3902302],["L",114.744526,61.6827625],["L",114.744526,61.6827625]]},{d:[["M",3,10.7804604],["L",108.714286,10.7804604],["C",109.26657,10.7804604,109.714286,11.2281757,109.714286,11.7804604],["L",109.714286,69.602221],["L",109.714286,69.602221]]}],thumb:[{d:[["M",8.4444444,10.4296499],["L",8.4444444,8],["L",28.4444444,8],["L",28.4444444,19.5606936],["C",28.0673004,19.4077004,26.2625497,18.3360173,25.8924529,18.2092979]]},{d:[["M",6.2222222,13.090719],["L",6.2222222,10.7555556],["L",25.4444444,10.7555556],["L",25.4444444,21.8666667],["C",25.0819671,21.7196232,23.3557041,21.1217914,23,21]]},{d:[["M",4.3333333,13.5111111],["L",22.3333333,13.5111111],["L",22.3333333,23.8011738],["C",20.6331063,23.1515551,19.0251483,22.8259361,17.5094592,22.824317],["C",15.2359257,22.8218883,14.9241458,22.9328011,12.6856163,23.8402371],["C",10.4470867,24.7476731,10.1394911,24.8771148,7.8617733,24.8795322],["C",6.3432947,24.8811295,5.1671481,24.5216767,4.3333333,23.8011738],["L",4.3333333,13.5111111],["Z"]]}],padding:[16,10,16,10],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:.88,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:.08,y:.1,name:"NW"},{x:0,y:.91,name:"SW"},{x:.98,y:.02,name:"NE"},{x:.885,y:.91,name:"SE"}]},{name:"off-page",width:38,height:38,outline:{d:[["M",.3999999999999986,0],["L",37.6,0],["C",37.8209139,0,38,.1790861,38,.4],["L",38,19.0323398],["C",38,19.1391572,37.9572763,19.2415374,37.8813478,19.3166695],["L",19.2813478,37.7216028],["C",19.125486199999997,37.8758298,18.874513800000003,37.8758298,18.7186522,37.7216028],["L",.11865219999999965,19.3166695],["C",.04272369999999981,19.2415374,0,19.1391572,0,19.0323398],["L",0,.4],["C",0,.1790861,.17908609999999925,0,.3999999999999986,0],["Z"]]},scene:[],thumb:[{d:[["M",8.4,8],["L",23.6,8],["C",23.8209139,8,24,8.1790861,24,8.4],["L",24,15.9169777],["C",24,16.0237952,23.9572763,16.1261753,23.8813478,16.2013075],["L",16.2813478,23.7216028],["C",16.1254862,23.8758298,15.8745138,23.8758298,15.7186522,23.7216028],["L",8.1186522,16.2013075],["C",8.0427237,16.1261753,8,16.0237952,8,15.9169777],["L",8,8.4],["C",8,8.1790861,8.1790861,8,8.4,8],["Z"]]}],discrete:!0,anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:0,y:0,name:"NW"},{x:1,y:0,name:"NE"}]},{name:"or",width:44,height:44,outline:{name:"ellipse",cx:22,cy:22,rx:22,ry:22},scene:[{d:[{name:"M",x:0,y:21.5},{name:"L",x:44,y:21.5}]},{d:[{name:"M",x:21.5,y:0},{name:"L",x:21.5,y:44}]}],thumb:[{name:"ellipse",cx:16,cy:17,rx:9,ry:9},{d:[["M",7,17],["L",25,17],["M",16,8],["L",16,26]]}],discrete:!0,anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:.145,y:.145,name:"NW"},{x:.145,y:.855,name:"SW"},{x:.855,y:.145,name:"NE"},{x:.855,y:.855,name:"SE"}]},{name:"parallelogram",width:137,height:87,outline:{d:[["M",38.1579057,0],["L",135.980025,0],["C",136.53231,-0,136.980025,.4477153,136.980025,1],["C",136.980025,1.136127,136.952232,1.2708207,136.898349,1.3958294],["L",100.260418,86.3958293],["C",100.102374,86.7624912,99.7413671,87,99.3420943,87],["L",1.5199747,87],["C",.9676899,87,.5199747,86.5522847,.5199747,86],["C",.5199747,85.863873,.5477675,85.7291793,.6016506,85.6041707],["L",37.2395816,.6041707],["C",37.3976255,.2375088,37.7586329,-0,38.1579057,0],["Z"]]},scene:[],thumb:[{d:[["M",11.2637585,9],["L",26.3933844,9],["C",26.6142983,9,26.7933844,9.1790861,26.7933844,9.4],["C",26.7933844,9.4541707,26.7823813,9.507777,26.7610424,9.5575677],["L",21.1038995,22.7575677],["C",21.040868,22.9046413,20.8962528,23,20.7362415,23],["L",5.6066156,23],["C",5.3857017,23,5.2066156,22.8209139,5.2066156,22.6],["C",5.2066156,22.5458293,5.2176187,22.492223,5.2389576,22.4424323],["L",10.8961005,9.2424323],["C",10.959132,9.0953587,11.1037472,9,11.2637585,9],["Z"]]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"polygon",width:96,height:91,outline:{name:"polygon",points:[{x:48,y:0},{x:95.5528258,y:34.5491503},{x:77.3892626,y:90.4508497},{x:18.6107374,y:90.4508497},{x:.44717419000000014,y:34.5491503}]},scene:[],thumb:[{name:"polygon",points:[{x:16,y:7},{x:24.5595086,y:13.2188471},{x:21.2900673,y:23.2811529},{x:10.7099327,y:23.2811529},{x:7.44049135,y:13.2188471}]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"preparation",width:120,height:60,outline:{d:[["M",19.9840694,0],["L",99.6873184,0],["C",100.023525,-0,100.33723,.1689467,100.522259,.4496594],["L",119.639798,29.4535248],["C",119.858585,29.7854538,119.859975,30.2154564,119.64334,30.5487937],["L",100.798808,59.5449283],["C",100.614349,59.8287556,100.298826,60,99.960325,60],["L",20.1720063,60],["C",19.83462,60,19.5199796,59.8298739,19.3352402,59.5475604],["L",.3565669,30.5448953],["C",.1398092,30.2136523,.1388534,29.7857253,.3541294,29.4535175],["L",19.1448658,.4561827],["C",19.3292042,.1717169,19.6450984,0,19.9840694,0],["Z"]]},scene:[],thumb:[{d:[["M",9.1753609,10],["L",22.7586938,10],["C",22.8919773,10,23.016505,10.0663866,23.0907953,10.1770457],["L",26.8513724,15.7786117],["C",26.9413749,15.912675,26.9419451,16.0877051,26.8528179,16.2223519],["L",23.1470284,21.8207859],["C",23.072951,21.9326965,22.9476882,22,22.8134814,22],["L",9.2130739,22],["C",9.0793157,22,8.9544098,21.9331428,8.8802274,21.8218405],["L",5.1471359,16.2207607],["C",5.057961,16.0869638,5.0575691,15.9127763,5.1461411,15.7785795],["L",8.8415196,10.1796593],["C",8.9155518,10.067492,9.0409649,10,9.1753609,10],["Z"]]}],padding:[0,10,0,10],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:.26,y:.02,name:"NW"},{x:.26,y:.98,name:"SW"},{x:.74,y:.02,name:"NE"},{x:.74,y:.98,name:"SE"}]},{name:"process",width:120,height:60,outline:{name:"rect",x:0,y:0,width:120,height:60,rx:1,ry:1},scene:[],thumb:[{d:[["M",6.4,10.5],["L",25.6,10.5],["C",25.8209139,10.5,26,10.6790861,26,10.9],["L",26,22.1],["C",26,22.3209139,25.8209139,22.5,25.6,22.5],["L",6.4,22.5],["C",6.1790861,22.5,6,22.3209139,6,22.1],["L",6,10.9],["C",6,10.6790861,6.1790861,10.5,6.4,10.5],["Z"]]}],padding:[0,10,0,10],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"rect",width:100,height:100,outline:{name:"polygon",points:[{x:0,y:0},{x:100,y:0},{x:100,y:100},{x:0,y:100}]},scene:[],thumb:[{d:[["M",8.4,8],["L",23.6,8],["C",23.8209139,8,24,8.1790861,24,8.4],["L",24,23.6],["C",24,23.8209139,23.8209139,24,23.6,24],["L",8.4,24],["C",8.1790861,24,8,23.8209139,8,23.6],["L",8,8.4],["C",8,8.1790861,8.1790861,8,8.4,8],["Z"]]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"rounded-rect",width:100,height:100,outline:{d:[["M",18.75,0],["L",81.25,0],["Q",100,0,100,18.75],["L",100,81.25],["Q",100,100,81.25,100],["L",18.75,100],["Q",0,100,0,81.25],["L",0,18.75],["Q",0,0,18.75,0],["Z"]]},scene:[],thumb:[{d:[["M",11,8],["L",21,8],["C",22.6568542,8,24,9.3431458,24,11],["L",24,21],["C",24,22.6568542,22.6568542,24,21,24],["L",11,24],["C",9.3431458,24,8,22.6568542,8,21],["L",8,11],["C",8,9.3431458,9.3431458,8,11,8],["Z"]]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"sort",width:44,height:44,outline:{d:[["M",22.707552999999997,.7084468],["L",43.2664758,21.2933397],["C",43.6564052,21.6837616,43.6564052,22.3162384,43.2664758,22.7066603],["L",22.707552999999997,43.2915532],["C",22.3172753,43.682324,21.6841104,43.6827236,21.293339699999997,43.2924459],["C",21.2930419,43.2921485,21.292744399999997,43.291851,21.292447000000003,43.2915532],["L",.7335241999999997,22.7066603],["C",.3435948,22.3162384,.3435948,21.6837616,.7335241999999997,21.2933397],["L",21.292447000000003,.7084468],["C",21.6827247,.317676,22.3158896,.3172764,22.706660300000003,.7075541],["C",22.7069581,.7078515,22.707255600000003,.708149,22.707552999999997,.7084468],["Z"]]},scene:[{d:[{name:"M",x:.1242938,y:22},{name:"L",x:43.8757062,y:22}]}],thumb:[{d:[["M",16.2830212,7.2833787],["L",24.706338,15.7173359],["C",24.8623098,15.8735046,24.8623098,16.1264954,24.706338,16.2826641],["L",16.2830212,24.7166213],["C",16.1269101,24.8729296,15.8736442,24.8730894,15.7173359,24.7169784],["C",15.7172168,24.7168594,15.7170978,24.7167404,15.7169788,24.7166213],["L",7.293662,16.2826641],["C",7.1376902,16.1264954,7.1376902,15.8735046,7.293662,15.7173359],["L",15.7169788,7.2833787],["C",15.8730899,7.1270704,16.1263558,7.1269106,16.2826641,7.2830216],["C",16.2827832,7.2831406,16.2829022,7.2832596,16.2830212,7.2833787],["Z"],["M",7.3175141,15.7333333],["L",25.2158192,15.7333333]]}],discrete:!0,anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"star",width:96,height:91,outline:{name:"polygon",points:[{x:48,y:75},{x:18.6107374,y:90.4508497},{x:24.2235871,y:57.7254249},{x:.44717419000000014,y:34.5491503},{x:33.3053687,y:29.7745751},{x:48,y:0},{x:62.6946313,y:29.7745751},{x:95.5528258,y:34.5491503},{x:71.7764129,y:57.7254249},{x:77.3892626,y:90.4508497}]},scene:[],thumb:[{name:"polygon",points:[{x:16,y:21},{x:10.1221475,y:24.0901699},{x:11.2447174,y:17.545085},{x:6.48943484,y:12.9098301},{x:13.0610737,y:11.954915},{x:16,y:6},{x:18.9389263,y:11.954915},{x:25.5105652,y:12.9098301},{x:20.7552826,y:17.545085},{x:21.8778525,y:24.0901699}]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]},{name:"start-end",width:120,height:60,outline:{d:[["M",30,0],["l",60,0],["a",30,30,0,0,1,0,60],["l",-60,0],["a",30,30,0,0,1,0,-60],["Z"]]},scene:[],thumb:[{d:[["M",11,10],["L",21,10],["C",24.3137085,10,27,12.6862915,27,16],["C",27,19.3137085,24.3137085,22,21,22],["L",11,22],["C",7.6862915,22,5,19.3137085,5,16],["C",5,12.6862915,7.6862915,10,11,10],["Z"]]}],padding:[0,10,0,10],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:.11,y:.11,name:"NW"},{x:.11,y:.89,name:"SW"},{x:.89,y:.11,name:"NE"},{x:.89,y:.89,name:"SE"}]},{name:"stored-data",width:120,height:60,outline:{d:[["M",13.7777709,0],["L",120,0],["C",111.115006,4.7754794,106.672509,14.7754794,106.672509,30],["C",106.672509,44.2961128,111.115006,54.2961128,120,60],["L",13.7777709,60],["C",4.2600422,53.6223342,-.3265282,43.6223342,.0180598,30],["C",.4106176,14.4813071,4.997188,4.4813072,13.7777709,0],["Z"]]},scene:[],thumb:[{d:[["M",7.7592332,10],["L",26.7592332,10],["C",24.3123052,10.9550959,23.0888412,12.9550959,23.0888412,16],["C",23.0888412,18.8592226,24.3123052,20.8592226,26.7592332,22],["L",7.7592332,22],["C",5.853146,20.7244668,4.9346072,18.7244668,5.0036168,16],["C",5.0822332,12.8962614,6.000772,10.8962614,7.7592332,10],["Z"]]}],padding:[0,20,0,10],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:.93,y:.5,name:"E"},{x:.1,y:0,name:"NW"},{x:.1,y:1,name:"SW"},{x:.995,y:.01,name:"NE"},{x:.995,y:.99,name:"SE"}]},{name:"subroutine",width:120,height:60,outline:{name:"rect",x:0,y:0,width:120,height:60,rx:1,ry:1},scene:[{d:[{name:"M",x:8,y:-0},{name:"L",x:8,y:60}]},{d:[{name:"M",x:112,y:-0},{name:"L",x:112,y:60}]}],thumb:[{d:[["M",6.4,10],["L",25.6,10],["C",25.8209139,10,26,10.1790861,26,10.4],["L",26,21.6],["C",26,21.8209139,25.8209139,22,25.6,22],["L",6.4,22],["C",6.1790861,22,6,21.8209139,6,21.6],["L",6,10.4],["C",6,10.1790861,6.1790861,10,6.4,10],["Z"],["M",10,10],["L",10,22],["M",22,10],["L",22,22]]}],padding:[0,20,0,20],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:.02,y:.015,name:"NW"},{x:.02,y:.985,name:"SW"},{x:.98,y:.015,name:"NE"},{x:.98,y:.985,name:"SE"}]},{name:"summing-junction",width:44,height:44,outline:{name:"ellipse",cx:22,cy:22,rx:22,ry:22},scene:[{d:[["M",6.44365,6.44365],["l",31.1127,31.1127],["m",-31.1127,0],["l",31.1127,-31.1127]]}],thumb:[{name:"ellipse",cx:16,cy:17,rx:9,ry:9},{d:[["M",9.636,10.636],["l",12.727922,12.727922],["m",0,-12.727922],["l",-12.727922,12.727922]]}],discrete:!0,anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"},{x:.145,y:.145,name:"NW"},{x:.145,y:.855,name:"SW"},{x:.855,y:.145,name:"NE"},{x:.855,y:.855,name:"SE"}]},{name:"triangle",width:100,height:87,outline:{name:"polygon",points:[{x:50,y:0},{x:100,y:87},{x:-141931921e-23,y:87}]},scene:[],thumb:[{name:"polygon",points:[{x:16,y:8},{x:25,y:24},{x:7,y:24}]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]}];function D5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A5(Object(n),!0).forEach((function(t){N5(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N5(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L5(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F5=function(e,t){var n=I5(["x","y"].map((function(n){return e[n]+2*(t[n]-e[n])})),2);return{x:n[0],y:n[1]}},z5=function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}},B5=function(e,t){var n=t/180*Math.PI,r=Math.sin(n),o=Math.cos(n),i=e.x,a=e.y;return{x:i*o-a*r,y:i*r+a*o}},V5=function(e,t,n){var r={x:e.x-t.x,y:e.y-t.y},o=B5(r,n);return{x:o.x+t.x,y:o.y+t.y}},q5=function(e,t,n,r){var o,i,a=I5(e,2),c=a[0],s=a[1],l=z5(c,s),u=t,f=z5(l,u),p=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}(l,u),d=n.w/n.h;return"width"===r?i=(o=p)/d:o=d*(i=p),{x:f.x-o/2,y:f.y-i/2,w:o,h:i,r:n.r}},H5=function(e){var t=e.x,n=e.y;return{x:t+e.w/2,y:n+e.h/2}},U5=function(e){var t=e.x,n=e.y;return 180*Math.atan2(n,t)/Math.PI};function W5(e,t,n,r){var o=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},o={x:n.x-e.x,y:n.y-e.y},i=U5(r);return U5(o)-i}(H5(n),e,t),i=n.r+o;return i>=180&&(i-=360),i<=-180&&(i+=360),r&&(i=r*Math.round(i/r)),M5(M5({},n),{},{r:i})}var K5=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rect=t,this._tl=null,this._tr=null,this._br=null,this._bl=null,this._tc=null,this._bc=null,this._rc=null,this._lc=null,this._center=null}var t,n,r;return t=e,(n=[{key:"center",get:function(){return this._center||(this._center=H5(this.rect)),this._center}},{key:"tl",get:function(){if(!this._tl){var e=this.rect,t=e.x,n=e.y,r=e.r;this._tl=V5({x:t,y:n},this.center,r)}return this._tl}},{key:"tr",get:function(){if(!this._tr){var e=this.rect,t=e.x,n=e.y,r=e.w,o=e.r;this._tr=V5({x:t+r,y:n},this.center,o)}return this._tr}},{key:"br",get:function(){return this._br||(this._br=F5(this.tl,this.center)),this._br}},{key:"bl",get:function(){return this._bl||(this._bl=F5(this.tr,this.center)),this._bl}},{key:"tc",get:function(){return this._tc||(this._tc=z5(this.tl,this.tr)),this._tc}},{key:"bc",get:function(){return this._bc||(this._bc=z5(this.br,this.bl)),this._bc}},{key:"rc",get:function(){return this._rc||(this._rc=z5(this.tr,this.br)),this._rc}},{key:"lc",get:function(){return this._lc||(this._lc=z5(this.tl,this.bl)),this._lc}}])&&D5(t.prototype,n),r&&D5(t,r),e}();function Y5(e,t,n,r){var o=new K5(n),i=null,a=[],c=e;if(r){switch(t){case"tl":case"br":a=[o.tl,o.br];break;case"tr":case"bl":a=[o.tr,o.bl];break;case"tc":case"bc":a=[o.tc,o.bc],i="height";break;case"lc":case"rc":a=[o.lc,o.rc],i="width";break;default:a=[]}2===a.length&&(c=function(e,t){var n=t.x,r=t.y,o=I5(e,2),i=o[0],a=o[1];if(CE(i.x,a.x))return{x:i.x,y:r};if(CE(i.y,a.y))return{x:n,y:i.y};var c=SE(i.x,i.y,a.x,a.y),s=-1/c,l=(c*i.x+r-i.y-s*n)/(c-s);return{x:l,y:i.y-c*(i.x-l)}}(a,e))}var s=[];switch(t){case"tl":s=[o.br];break;case"tr":s=[o.bl];break;case"bl":s=[o.tr];break;case"br":s=[o.tl];break;case"bc":s=[o.tl,o.tr];break;case"tc":s=[o.bl,o.br];break;case"lc":s=[o.tr,o.br];break;case"rc":s=[o.tl,o.bl];break;default:s=[]}var l,u,f,p,d,h,m,v,y,g,b=s.length;return 1===b?(u=s[0],f=c,p=n.r,d=z5(u,f),h=V5(f,d,-p),m=h.x,v=h.y,y=Math.abs(2*(m-d.x)),g=Math.abs(2*(v-d.y)),l={x:d.x-y/2,y:d.y-g/2,w:y,h:g,r:p}):2===b&&(l=r?q5(s,c,n,i):function(e,t,n){var r,o,i,a=I5(e.map((function(e){return B5(e,-n)})),2),c=a[0],s=a[1],l=B5(t,-n);CE(c.y,s.y)?(r=Math.abs(c.x-s.x),o=Math.abs(l.y-c.y),i={x:(c.x+s.x)/2,y:(c.y+l.y)/2}):CE(c.x,s.x)&&(o=Math.abs(c.y-s.y),r=Math.abs(l.x-c.x),i={x:(c.x+l.x)/2,y:(c.y+s.y)/2});var u=B5(i,n);return{x:u.x-r/2,y:u.y-o/2,w:r,h:o,r:n}}(s,c,n.r)),l}function X5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$5(Object(n),!0).forEach((function(t){Z5(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z5(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J5=s.Group,Q5=s.FixedGroup,e3=s.Path,t3=s.Image,n3="#096DD9",r3={lake_prevent_click_unselect:!0,vertex_resize_controller:!0};function o3(e){var t=new Q5,n=new e3({d:CS(-3,-3,6,6,1),stroke:n3,fill:"white"});return t.add(n),n.dataset(G5(G5({},r3),{},{type:"point"})),{group:t,shape:n,name:e}}function i3(e){var t=new J5,n=new e3({stroke:"rgba(255,255,255,0)"}),r=new e3({stroke:n3});return n.dataset(G5(G5({},r3),{},{type:"line"})),t.add(r),t.add(n),{visShape:r,shape:n,name:e,group:t}}function a3(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[t.x+t.width/2,t.y+t.height/2],o=Math.cos(n),i=Math.sin(n),a=HE(8,r,[r[0]+o,r[1]+i]);return a(e,0)||a(e,4)?"ew-resize":a(e,1)||a(e,5)?"nesw-resize":a(e,2)||a(e,6)?"ns-resize":"nwse-resize"}var c3=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new J5,r=t.diagram,o=i3("tc"),i=i3("bc"),a=i3("lc"),c=i3("rc"),s=o3("tl"),l=o3("tr"),u=o3("bl"),f=o3("br"),p=function(e){var t=new Q5,n=new t3({href:"https://gw.alipayobjects.com/zos/bmw-prod/e219ce81-1f30-43b8-aae6-14d41545d352.svg",x:-8,y:-8,width:16,height:16});return t.add(n),n.dataset({lake_prevent_click_unselect:!0}),t.css({cursor:"pointer"}),{group:t,shape:n,name:e}}("rotate");n.on("mousedown",(function(e){e.stopPropagation(),e.preventDefault()})),n.add(o.group),n.add(i.group),n.add(a.group),n.add(c.group),n.add(s.group),n.add(l.group),n.add(u.group),n.add(f.group),n.add(p.group),this.cell=t,this.diagram=r,this.group=n,this.tl=s,this.tr=l,this.bl=u,this.br=f,this.tc=o,this.bc=i,this.lc=a,this.rc=c,this.rotateBtn=p,this.eventHelper=new QF}var t,n,r;return t=e,(n=[{key:"update",value:function(){var e=this.cell,t=this.tl,n=this.tr,r=this.bl,o=this.br,i=this.tc,a=this.bc,c=this.lc,s=this.rc,l=this.rotateBtn,u=1/this.diagram.viewport.zoom,f=e.rotate/360*2*Math.PI,p=e.getRelativePoint({x:0,y:0}),d=e.getRelativePoint({x:1,y:0}),h=e.getRelativePoint({x:0,y:1}),m=e.getRelativePoint({x:1,y:1}),v=u,y=8*u,g=12*u+e.stroke.width/2,b=e.getCanvasPoint({x:e.width+g,y:-g});t.group.update(G5(G5({},p),{},{scale:u,rotate:f})),n.group.update(G5(G5({},d),{},{scale:u,rotate:f})),r.group.update(G5(G5({},h),{},{scale:u,rotate:f})),o.group.update(G5(G5({},m),{},{scale:u,rotate:f})),l.group.update(G5(G5({},b),{},{scale:u,rotate:f})),i.shape.update({d:"M".concat(p.x,",").concat(p.y," L").concat(d.x,",").concat(d.y),"stroke-width":y}),a.shape.update({d:"M".concat(h.x,",").concat(h.y," L").concat(m.x,",").concat(m.y),"stroke-width":y}),c.shape.update({d:"M".concat(p.x,",").concat(p.y," L").concat(h.x,",").concat(h.y),"stroke-width":y}),s.shape.update({d:"M".concat(d.x,",").concat(d.y," L").concat(m.x,",").concat(m.y),"stroke-width":y}),i.visShape.update({d:"M".concat(p.x,",").concat(p.y," L").concat(d.x,",").concat(d.y),"stroke-width":v}),a.visShape.update({d:"M".concat(h.x,",").concat(h.y," L").concat(m.x,",").concat(m.y),"stroke-width":v}),c.visShape.update({d:"M".concat(p.x,",").concat(p.y," L").concat(h.x,",").concat(h.y),"stroke-width":v}),s.visShape.update({d:"M".concat(d.x,",").concat(d.y," L").concat(m.x,",").concat(m.y),"stroke-width":v})}},{key:"bindEvent",value:function(){var e,t,n,r,o,i,a,c,s=this,l=this.cell,u=this.tl,f=this.tr,p=this.bl,d=this.br,h=this.tc,m=this.bc,v=this.lc,y=this.rc,g=this.rotateBtn,b=this.eventHelper,w=l.diagram,k=w.viewport.zoom;function x(){var t={x:i.x+l.stroke.width/2,y:i.y+l.stroke.width/2,width:Math.max(i.w-l.stroke.width,1),height:Math.max(i.h-l.stroke.width,1),rotate:i.r};return"lc"===e||"rc"===e?t.height=void 0:"tc"!==e&&"bc"!==e||(t.width=void 0),t}[u,f,p,d,h,m,v,y,g].forEach((function(o){var i=o.shape,s=o.name;b.bind(i,"mousedown",(function(o){e=s,n=w.viewport.invertClient([o.clientX,o.clientY]),r={x:l.x,y:l.y,width:l.width,height:l.height,rotate:l.rotate},t={x:l.x-l.stroke.width/2,y:l.y-l.stroke.width/2,w:l.width+l.stroke.width,h:l.height+l.stroke.width,r:l.rotate},w.align.updateToAlginPoints((function(e){return e!==l&&"edge"!==e.model.type})),"tc"!==e&&"bc"!==e||(w.align.preventAlignX=!0),"lc"!==e&&"rc"!==e||(w.align.preventAlignY=!0),a=LE(t.x,t.y+t.h,t.x+t.w,t.y),c=LE(t.x,t.y,t.x+t.w,t.y+t.h)}))})),b.bind(w,"mousemove",(function(r){if(e){var u=w.viewport.invertClient([r.clientX,r.clientY]);if("rotate"===e)i=W5({x:n[0],y:n[1]},{x:u[0],y:u[1]},t,w.signal.keydown.Shift&&15);else{var f=("tl"===e||"br"===e)&&c||("bl"===e||"tr"===e)&&a,p=f&&f.f(u[0]),d=w.signal.keydown.Shift;u[1]=d&&p?p:u[1];var h=w.align.alignByPoint({x:u[0],y:u[1],weight:1,box:l.getAbsBBox()});i=Y5({x:u[0]+h.dx,y:u[1]+h.dy},e,t)}if(w.update(l,x()),s.update(),-1!==["tl","bl","tr","br"].indexOf(e)){var m=a3(w.viewport.invertClient([r.clientX,r.clientY]),l.getAbsBBox(),Math.PI/8);w.setCursor(m)}}else if(r.target.dataset.vertex_resize_controller){var v;if("line"===r.target.dataset.type){var y=bS(r.target.getAttribute("d"));v=a3([y[1][1]-y[0][1],y[1][2]-y[0][2]],{x:-1,y:-1,width:1,height:1},Math.PI/2+.01)}else v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[t.x+t.width/2,t.y+t.height/2],o=Math.cos(n),i=Math.sin(n),a=HE(4,r,[r[0]+o,r[1]+i]);return a(e,0)||a(e,2)?"nesw-resize":"nwse-resize"}(w.viewport.invertClient([r.clientX,r.clientY]),l.getAbsBBox());o||(o=!0),w.setCursor(v)}else o&&(w.resetCursor(),o=void 0)})),b.bind(w,"mouseup",(function(){i&&t&&(t.x!==i.x||t.y!==i.y||t.w!==i.w||t.h!==i.h||t.r!==i.r)&&(w.update(l,r),w.command.execute("Update",{id:l,model:x()})),e=void 0,t=void 0,i=void 0,n=void 0,o=void 0,r=void 0,w.align.reset()})),b.bind(w,"afterviewportchange",Un()((function(){k!==w.viewport.zoom&&(s.update(),k=w.viewport.zoom)})))}},{key:"begin",value:function(){this.cell.diagram.frontRootGroup.add(this.group),this.update(),this.bindEvent()}},{key:"end",value:function(){this.group&&this.group.remove(),this.eventHelper.unbind(),this.diagram&&this.diagram.align.reset()}},{key:"destroy",value:function(){this.diagram&&this.diagram.resetCursor(),this.eventHelper.unbind(),this.group&&this.group.clear(),this.cell=void 0,this.diagram=void 0,this.group=void 0,this.tl=void 0,this.tr=void 0,this.bl=void 0,this.br=void 0}}])&&X5(t.prototype,n),r&&X5(t,r),e}();function s3(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=o?o/180*Math.PI:0,c=Math.sin(a),s=Math.cos(a),l=n/2,u=r/2;return[s*i,c*i,0,-c*i,s*i,0,e+(-l*s+u*c+l),t+(-l*c-u*s+u),1]}function l3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u3=s.Group,f3=s.Path,p3=s.Rect,d3=s.Use,h3="lock-resize-cross";var m3=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.diagram,r=t.width,o=t.height,i=new u3,a=new p3({x:0,y:0,width:r||0,height:o||0,stroke:"#9A9A9A",fill:"none"});if(i.add(a),n.container&&!n.container.querySelector("#".concat(h3))){var c=function(){var e=new u3({id:h3}),t=new f3({d:OS([["M",-3,-3],["L",3,3],["M",-3,3],["L",3,-3]]),stroke:"#FFFFFF","stroke-width":3}),n=new f3({d:OS([["M",-3,-3],["L",3,3],["M",-3,3],["L",3,-3]]),stroke:eM,"stroke-width":1});return e.add(t),e.add(n),e}();n.defs.add(c)}for(var s=[],l=0;l<4;l++){var u=new d3({href:"#".concat(h3)});i.add(u),s.push(u)}var f=s[0],p=s[1],d=s[2],h=s[3];this.group=i,this.cell=t,this.diagram=n,this.rect=a,this.tl=f,this.tr=p,this.bl=h,this.br=d}var t,n,r;return t=e,(n=[{key:"update",value:function(){var e=this.cell,t=this.diagram,n=this.group,r=this.rect,o=this.tr,i=this.bl,a=this.br,c=e.x,s=e.y,l=e.rotate,u=1/t.viewport.zoom,f=e.width/u,p=e.height/u;n.update({matrix:s3(c,s,e.width,e.height,l,u)}),r.update({d:CS(0,0,f,p)}),o.update({matrix:[1,0,0,0,1,0,f,0,1]}),i.update({matrix:[1,0,0,0,1,0,0,p,1]}),a.update({matrix:[1,0,0,0,1,0,f,p,1]})}},{key:"begin",value:function(){this.cell.diagram.frontRootGroup.add(this.group),this.update()}},{key:"end",value:function(){this.group&&this.group.remove()}}])&&l3(t.prototype,n),r&&l3(t,r),e}();function v3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g3(e){switch((e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v3(Object(n),!0).forEach((function(t){y3(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"stroke-linecap":"round","stroke-linejoin":"round"},e)).name){case"rect":return new zP(e);case"ellipse":return new $P(e);case"polygon":return new FR(e);case"path":default:return new ZS(e)}}function b3(e){return(b3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C3(e,t){return(C3=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _3(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j3(e);if(t){var o=j3(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E3(this,n)}}function E3(e,t){return!t||"object"!==b3(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j3(e){return(j3=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S3=s.Group,P3=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C3(e,t)}(i,e);var t,n,r,o=_3(i);function i(){return x3(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.cell,t=new S3;this.element=t,e.graphicGroup.add(t)}},{key:"update",value:function(){var e=this.cell,t=this.element;e.isCacheStale("shape")&&(t.clear(),this.shapeElement=g3(e.stencil.outline),t.add(this.shapeElement))}},{key:"draw",value:function(){var e=this.cell,t=this.shapeElement,n=e.stroke,r=e.fill,o=e.width,i=e.height,a=e.stencil,c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w3(Object(n),!0).forEach((function(t){k3(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.convertStrokeStyle());if(e.isCacheStale("width","height","shape")){var s=o/a.width,l=i/a.height;c.d=t.getPath(s,l)}e.isCacheStale("stroke")&&Object.assign(c,{stroke:n.color,"stroke-width":n.width}),e.isCacheStale("fill")&&(c.fill=r.color),t.update(c)}}])&&O3(t.prototype,n),r&&O3(t,r),i}(vY);function R3(e){return(R3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T3(Object(n),!0).forEach((function(t){A3(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I3(e,t){return(I3=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L3(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z3(e);if(t){var o=z3(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F3(this,n)}}function F3(e,t){return!t||"object"!==R3(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z3(e){return(z3=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}["getTotalLength","isPointInFill","isPointInStroke"].forEach((function(e){Object.defineProperty(P3.prototype,e,{value:function(){var t;return(t=this.shapeElement)[e].apply(t,arguments)}})}));var B3=s.Group,V3=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I3(e,t)}(i,e);var t,n,r,o=L3(i);function i(){return M3(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.cell;this.element=new B3,e.graphicGroup.add(this.element)}},{key:"renderElements",value:function(){var e=this.element,t=this.cell.stencil.scene.map((function(e){return g3(e)}));t.forEach((function(t){e.add(t)})),this.elements=t}},{key:"update",value:function(){var e=this.cell,t=this.elements;e.isCacheStale("shape")&&(t&&t.forEach((function(e){return e.remove()})),this.renderElements())}},{key:"draw",value:function(){var e,t,n=this.cell,r=this.elements,o=n.stroke,i=n.fill,a={};if(n.isCacheStale("width","height")){var c=n.stencil,s=n.width,l=n.height;e=s/c.width,t=l/c.height}n.isCacheStale("stroke")&&(a.stroke=o.color,a["stroke-width"]=o.width),n.isCacheStale("fill")&&(a.fill=i.color),r.forEach((function(n){e&&t?n.update(D3(D3({},a),{},{d:n.getPath(e,t)})):n.update(a)}))}}])&&N3(t.prototype,n),r&&N3(t,r),i}(vY);function q3(e){return(q3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W3(e,t){return(W3=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K3(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X3(e);if(t){var o=X3(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y3(this,n)}}function Y3(e,t){return!t||"object"!==q3(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X3(e){return(X3=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $3=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W3(e,t)}(i,e);var t,n,r,o=K3(i);function i(){return H3(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getPosition",value:function(){var e=this.cell,t=e.isDiscrete(),n=e.width,r=e.height,o=e.image,i=this.getBBox(),a=e.getPadding(),c=o&&o.height||0,s=c+i.height;return t?{x:(n-i.width)/2,y:r+8}:{x:Math.max((n-i.width)/2,a[3]),y:(r-s)/2+(c?c+2:0)}}}])&&U3(t.prototype,n),r&&U3(t,r),i}(vY.TextArea);function G3(e){return(G3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z3(Object(n),!0).forEach((function(t){Q3(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n6(e,t,n){return(n6="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c6(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function r6(e,t){return(r6=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o6(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c6(e);if(t){var o=c6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i6(this,n)}}function i6(e,t){return!t||"object"!==G3(t)&&"function"!=typeof t?a6(e):t}function a6(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c6(e){return(c6=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s6=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r6(e,t)}(i,e);var t,n,r,o=o6(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e6(this,i),t=fE({default:{html:"",x:0,y:0,rotate:0,anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}],opacity:1,locked:!1},textAreaContentStyleSheets:[{query:"self",css:{outline:"none","white-space":"normal","letter-spacing":"normal","font-size":"14px","font-family":'PingFangSC-Regular, "PingFang SC", sans-serif',"min-height":"24px","min-width":"24px","line-height":"1.74","word-break":"break-word",color:tM}}],penetratedKeys:["x","y","width","height","stroke","fill","rotate","html","shape","image","constraints","opacity","locked"]},t),e=o.call(this,t),Object.assign(a6(e),gd()(t.default)),e.graphicGroup.css({cursor:"default"}),e.Subcells=t.Subcells||[P3,V3,$3],e.isVertex=!0,e.initRotateResize(),e.initSubcell(),e.eventDelegation(),e.render(),e}return t=i,(n=[{key:"canMove",value:function(){return!0}},{key:"getRelativePoint",value:function(e){return n6(c6(i.prototype),"getRelativePoint",this).call(this,e,this.stroke.width/2)}},{key:"initRotateResize",value:function(){this.rotateResize=new c3(this),this.lockResize=new m3(this)}},{key:"beginRotateResize",value:function(){this.locked?this.lockResize.begin():this.rotateResize.begin()}},{key:"endRotateResize",value:function(){this.rotateResize.end(),this.lockResize.end()}},{key:"snapAnchor",value:function(e){var t=this,n=this.getRelativePoint({x:.5,y:.5}),r=[e.x-n.x,e.y-n.y];return this.anchors.map((function(e){var o=t.getRelativePoint(e);return J3(J3({},o),{},{rad:u.angle(r,[o.x-n.x,o.y-n.y])})})).sort((function(e,t){return e.rad-t.rad}))}},{key:"initSubcell",value:function(){var e=this;this.subcells=this.Subcells.map((function(t){return new t(e)}))}},{key:"getEventObject",value:function(e){return{cell:this,nativeEvent:e}}},{key:"eventDelegation",value:function(){var e=this.graphicGroup;this.delegateEvent(e,"mouseenter","vertexcell:mouseenter"),this.delegateEvent(e,"mouseleave","vertexcell:mouseleave")}},{key:"updateStencil",value:function(){var e=this,t=this.shape,n=this.stencils,r=t||"process";if(!this.stencil||this.stencil.name!==r){var o=n.find((function(e){return e.name===r}));if(!o)throw new Error("unknown shape ".concat(r));this.stencil=o,this.updateAnchors(),["width","height"].forEach((function(t){null==e[t]&&(e[t]=o[t])})),this.cache={}}}},{key:"updateAnchors",value:function(){for(var e=this.anchors,t=this.stencil,n=function(n){var r=e[n],o=t.anchors.find((function(e){return e.name===r.name}));o&&(e[n]=o)},r=0;r<e.length;r++)n(r)}},{key:"render",value:function(){var e=this.model;this.subcells.forEach((function(e){return e.render()})),this.updateModel(e)}},{key:"updateSize",value:function(){}},{key:"updateModel",value:function(e){if(!this.locked||e.hasOwnProperty("locked")){if(this.constraints&&this.constraints.proportion){var t=this.width/this.height;e.height>0&&null==e.width?e.width=e.height*t:e.width>0&&(e.height=e.width/t)}n6(c6(i.prototype),"updateModel",this).call(this,e),this.updateStencil(),this.updateSize(),this.updateMatrix(),this.subcells.forEach((function(e){e.update()}))}}},{key:"draw",value:function(){this.subcells.forEach((function(e){return e.draw()})),this.graphicGroup.attr({opacity:this.opacity}),this.drawPosition(),this.updateCache()}},{key:"updateCache",value:function(){var e=this,t=this.cache;["x","y","width","height","rotate","shape","fill","stroke"].forEach((function(n){var r=e[n];t[n]=tE()(r)?J3({},r):r}))}},{key:"drawPosition",value:function(){if(this.isCacheStale("matrix")){var e=this.graphicGroup,t=this.matrix;e.update({matrix:t})}}},{key:"canDelete",value:function(){return!this.locked}},{key:"getPadding",value:function(){var e=this.stencil,t=this.width,n=this.height;if(e&&Array.isArray(e.padding)){var r=e.padding,o=t/e.width,i=n/e.height;return r.map((function(e,t){return e*(t%2==0?i:o)}))}return[4,4,4,4]}},{key:"isDiscrete",value:function(){var e=this.stencil;return!!e&&e.discrete}},{key:"updateMatrix",value:function(){if(this.isCacheStale("x","y","width","height","rotate")){var e=this.x,t=this.y,n=this.width,r=this.height,o=this.rotate;this.matrix=s3(e,t,n,r,o)}}},{key:"getKeyShape",value:function(){return this.subcells.find((function(e){return e instanceof P3})).shapeElement}},{key:"destroy",value:function(){this.subcells.forEach((function(e){return e.destroy()})),this.rotateResize.destroy(),n6(c6(i.prototype),"destroy",this).call(this)}}])&&t6(t.prototype,n),r&&t6(t,r),i}(QK);function l6(e){return(l6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u6(Object(n),!0).forEach((function(t){p6(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m6(e,t,n){return(m6="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b6(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function v6(e,t){return(v6=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y6(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b6(e);if(t){var o=b6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g6(this,n)}}function g6(e,t){return!t||"object"!==l6(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b6(e){return(b6=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}s6.className="VertexCell";var w6=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v6(e,t)}(i,e);var t,n,r,o=y6(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d6(this,i),(e=o.call(this,f6({default:{stencils:T5,shape:"process",stroke:{color:"#595959",width:2},fill:{color:"#ffffff"}}},t))).isFlowchart=!0,e}return t=i,(n=[{key:"render",value:function(){m6(b6(i.prototype),"render",this).call(this);var e=this.model;e.width||(e.width=this.width),e.height||(e.height=this.height)}},{key:"getOuterWidth",value:function(){return this.width}}])&&h6(t.prototype,n),r&&h6(t,r),i}(s6);function k6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k6(Object(n),!0).forEach((function(t){O6(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E6(e){return(E6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j6(Object(n),!0).forEach((function(t){P6(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T6(e,t){return(T6=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D6(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M6(e);if(t){var o=M6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A6(this,n)}}function A6(e,t){return!t||"object"!==E6(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M6(e){return(M6=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}w6.className="FlowchartCell";var N6=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};C6(this,e),Object.assign(this,x6({expandRectGap:16},t))}var t,n,r;return t=e,(n=[{key:"getExpandedBBox",value:function(e){var t=this.expandRectGap;return{minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t}}},{key:"getRectLines",value:function(e){var t=500;return[{x1:e.minX,y1:e.minY-t,x2:e.minX,y2:e.maxY+t},{x1:e.minX-t,y1:e.minY,x2:e.maxX+t,y2:e.minY},{x1:e.maxX,y1:e.minY-t,x2:e.maxX,y2:e.maxY+t},{x1:e.minX-t,y1:e.maxY,x2:e.maxX+t,y2:e.maxY}]}},{key:"getVertexLine",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ray",r=500;return"all"===t?[{x1:e.x,y1:e.y,x2:e.x,y2:e.y-r,type:n},{x1:e.x,y1:e.y,x2:e.x-r,y2:e.y,type:n}]:"N"===t||"S"===t?["N"===t?{x1:e.x,y1:e.y,x2:e.x,y2:e.y-r,type:n}:{x1:e.x,y1:e.y,x2:e.x,y2:e.y+r,type:n}]:["W"===t?{x1:e.x,y1:e.y,x2:e.x-r,y2:e.y,type:n}:{x1:e.x,y1:e.y,x2:e.x+r,y2:e.y,type:n}]}},{key:"vMiddleLine",value:function(e,t){var n;n=Math.abs(e.minX-t.maxX)<Math.abs(e.maxX-t.minX)?(e.minX+t.maxX)/2:(e.maxX+t.minX)/2;var r=((e.minY+e.maxY)/2+(t.minY+t.maxY)/2)/2;return{x1:n,y1:r-500,x2:n,y2:r+500}}},{key:"hMiddleLine",value:function(e,t){var n;n=Math.abs(e.minY-t.maxY)<Math.abs(e.maxY-t.minY)?(e.minY+t.maxY)/2:(e.maxY+t.minY)/2;var r=((e.minX+e.maxX)/2+(t.minX+t.maxX)/2)/2;return{x1:r-500,y1:n,x2:r+500,y2:n}}},{key:"cost",value:function(e){var t,n=e.vertex,r=e.end,o=e.middleLine,i=0,a=0;return t=n.distance+AE(n.x,n.y,r.x,r.y),n.from&&n.from.from&&TE(n.x,n.y,n.from.x,n.from.y)!==TE(n.from.x,n.from.y,n.from.from.x,n.from.from.y)&&(i=-1),o&&n.from&&n.from.from&&zE(n,o)&&!zE(n.from.from,o)&&n.from&&n.from.from&&TE(n.x,n.y,n.from.x,n.from.y)!==TE(n.from.x,n.from.y,n.from.from.x,n.from.from.y)&&(a=2),-t+i+a}},{key:"getSide",value:function(e,t){var n=[(e.minX+e.maxX)/2,(e.minY+e.maxY)/2],r=[e.maxX,e.minY],o=[e.maxX,e.maxY],i=[r[0]-n[0],r[1]-n[1]],a=[o[0]-n[0],o[1]-n[1]],c=[t[0]-n[0],t[1]-n[1]],s=u.angle(i,a),l=s/2,f=[0,l],p=[f[1],l+Math.PI-s],d=[p[1],l+Math.PI],h=[2*Math.PI-l,2*Math.PI],m=u.angle(c,[1,0]);return c[1]<0&&(m=2*Math.PI-m),pE(m,f)||pE(m,h)?"E":pE(m,p)?"S":pE(m,d)?"W":"N"}},{key:"dedupePoints",value:function(e){if(e.length>=3){for(var t=[e[0]],n=1;n<e.length-1;n++){var r=e[n-1],o=e[n],i=e[n+1];CE(r.x,o.x)&&CE(i.x,o.x)||CE(r.y,o.y)&&CE(i.y,o.y)||t.push(o)}return t.push(e[e.length-1]),t}return e}},{key:"getExpandPoint",value:function(e,t,n){return"N"===n?{x:e.x,y:t.minY}:"S"===n?{x:e.x,y:t.maxY}:"W"===n?{x:t.minX,y:e.y}:"E"===n?{x:t.maxX,y:e.y}:null}},{key:"find",value:function(e,t){var n=this,r=e.cell,o=t.cell,i=r&&r.getAbsBBox(),a=o&&o.getAbsBBox(),c=i&&this.getExpandedBBox(i),s=a&&this.getExpandedBBox(a),l=[];l=c?l.concat(this.getRectLines(c)):l,l=s?l.concat(this.getRectLines(s)):l;var u,f,p,d=new tj("start"),h=new tj("end"),m=[e.x,e.y],v=[t.x,t.y];Object.assign(d,{x:m[0],y:m[1]}),Object.assign(h,{x:v[0],y:v[1]}),i?(f=this.getSide(i,m),l=l.concat(this.getVertexLine(d,f))):l=l.concat(this.getVertexLine(d,"all","straight")),a?(p=this.getSide(a,v),l=l.concat(this.getVertexLine(h,p))):l=l.concat(this.getVertexLine(h,"all","straight")),o&&r&&("E"===f&&"W"===p?u=r.x+r.width<o.x?this.vMiddleLine(i,a):this.hMiddleLine(i,a):"W"===f&&"E"===p?u=r.x+r.width<o.x?this.hMiddleLine(i,a):this.vMiddleLine(i,a):"S"===f&&"N"===p?u=r.y+r.height>o.y?this.vMiddleLine(i,a):this.hMiddleLine(i,a):"N"===f&&"S"===p&&(u=r.y+r.height>o.y?this.hMiddleLine(i,a):this.vMiddleLine(i,a))),e.d&&("N"===f?d.y-=e.d:"S"===f?d.y+=e.d:"E"===f?d.x+=e.d:"W"===f&&(d.x-=e.d)),t.d&&("N"===p?h.y-=t.d:"S"===p?h.y+=t.d:"E"===p?h.x+=t.d:"W"===p&&(h.x-=t.d)),u&&l.push(u);var y=cj(l);i&&a&&!jE(c,s)&&y.getAllEdges().forEach((function(e){var t=e.startVertex,n=e.endVertex,r={x1:t.x,y1:t.y,x2:n.x,y2:n.y};(FE(r,i)||FE(r,a))&&y.deleteEdge(e)}));var g,b=this.getExpandPoint(d,c,f)||d,w=this.getExpandPoint(h,s,p)||h,k=y.snap(b),x=y.snap(w);return k.from=d,x.from=h,(g=CE(k.x,x.x)&&CE(k.y,x.y)?[]:lj(y,k,x,(function(e,t,r){return n.cost({vertex:e,start:t,end:r,middleLine:u})}))).unshift(d),g.push(h),this.dedupePoints(g)}},{key:"destroy",value:function(){this.destroyed=!0}}])&&_6(t.prototype,n),r&&_6(t,r),e}()),I6=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T6(e,t)}(n,e);var t=D6(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R6(this,n),(e=t.call(this,r)).isEdge=!0,e}return n}(QK.Line);I6.className="EdgeCell",I6.Shapes=Object.assign({},QK.Line.Shapes),I6.registerShape("elbow",{getPath:function(e){var t=e.source,n=e.target,r=e.diagram,o=r.find(t.id),i=r.find(n.id),a=1.3*e.stroke.width,c=e.getEndpoint(t),s=e.getEndpoint(n);if(null!=o&&o===i&&PE(c.x,c.y,s.x,s.y)<8)return OS([["M",(c=o.getPoint([1,.5])).x,c.y-8],["l",16,0],["l",0,16],["L",c.x,c.y+8]]);if(!c||!s)return OS([["M",0,0],["L",50,0],["L",50,50]]);if(o&&!t.connection){var l=i?i.getPoint([.5,.5]):s;c=o.snapAnchor(l)[0]}if(i&&!n.connection){var u=o?o.getPoint([.5,.5]):c;s=i.snapAnchor(u)[0]}return o||i?_S(N6.find(S6(S6({cell:o},c),{},{d:t.marker?a:0}),S6(S6({cell:i},s),{},{d:n.marker?a:0}))):"M".concat(c.x,",").concat(c.y," L").concat(s.x,",").concat(c.y," L").concat(s.x,",").concat(s.y)}});var L6=I6;function F6(e){return(F6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z6(Object(n),!0).forEach((function(t){V6(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U6(e,t){return(U6=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W6(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y6(e);if(t){var o=Y6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K6(this,n)}}function K6(e,t){return!t||"object"!==F6(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y6(e){return(Y6=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X6=vY.TextArea,$6=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U6(e,t)}(i,e);var t,n,r,o=W6(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return q6(this,i),(e=o.call(this,B6({stencils:[{name:"text",width:120,height:60,outline:{name:"rect",x:0,y:0,width:120,height:60,rx:1,ry:1},scene:[],thumb:[{d:[["M",6.4,10.5],["L",25.6,10.5],["C",25.8209139,10.5,26,10.6790861,26,10.9],["L",26,22.1],["C",26,22.3209139,25.8209139,22.5,25.6,22.5],["L",6.4,22.5],["C",6.1790861,22.5,6,22.3209139,6,22.1],["L",6,10.9],["C",6,10.6790861,6.1790861,10.5,6.4,10.5],["Z"]]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]}],default:{fill:{color:"rgba(255,255,255,0)"},shape:"text",stroke:{width:1}}},t))).isText=!0,e}return t=i,(n=[{key:"updateSize",value:function(){var e=this.subcells.find((function(e){return e instanceof X6})),t=this.getPadding();e.update();var n=e.getBBox();this.width="number"!=typeof this.model.width?n.width+t[1]+t[3]:this.width,this.height="number"!=typeof this.model.height?n.height+t[1]+t[3]:this.height}}])&&H6(t.prototype,n),r&&H6(t,r),i}(s6);function G6(e){return(G6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q6(e,t){return(Q6=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function e4(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=n4(e);if(t){var o=n4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return t4(this,n)}}function t4(e,t){return!t||"object"!==G6(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function n4(e){return(n4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}$6.className="TextCell";var r4=s.Image,o4=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q6(e,t)}(a,e);var t,n,r,i=e4(a);function a(){return Z6(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.cell,t=new r4({href:e.image.src,width:e.width,height:e.height});this.element=t,e.graphicGroup.add(t)}},{key:"update",value:function(){var e=this.cell,t=this.element;if(e.isCacheStale("image","width","height")){var n=o.resizeImage({maxWidth:e.width,src:e.image.src,data:{width:e.width,originWidth:e.image.naturalWidth,originHeight:e.image.naturalHeight}});t.update({href:n||e.image.src,width:e.width,height:e.height})}}},{key:"draw",value:function(){}}])&&J6(t.prototype,n),r&&J6(t,r),a}(vY);function i4(e){return(i4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a4(Object(n),!0).forEach((function(t){s4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u4(e,t){return(u4=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f4(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d4(e);if(t){var o=d4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p4(this,n)}}function p4(e,t){return!t||"object"!==i4(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d4(e){return(d4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h4=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u4(e,t)}(n,e);var t=f4(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l4(this,n),(e=t.call(this,c4(c4({stencils:[{name:"image",width:120,height:60,outline:{name:"rect",x:0,y:0,width:120,height:60,rx:1,ry:1},scene:[],thumb:[{d:[["M",6.4,10.5],["L",25.6,10.5],["C",25.8209139,10.5,26,10.6790861,26,10.9],["L",26,22.1],["C",26,22.3209139,25.8209139,22.5,25.6,22.5],["L",6.4,22.5],["C",6.1790861,22.5,6,22.3209139,6,22.1],["L",6,10.9],["C",6,10.6790861,6.1790861,10.5,6.4,10.5],["Z"]]}],anchors:[{x:.5,y:0,name:"N"},{x:.5,y:1,name:"S"},{x:0,y:.5,name:"W"},{x:1,y:.5,name:"E"}]}],default:{fill:{color:"rgba(255,255,255,0)"},image:{},shape:"image",stroke:{width:1}}},r),{},{Subcells:[P3,o4]}))).isImage=!0,["src","naturalWidth","naturalHeight"].forEach((function(t){if(null==e.image[t])throw new Error("missing image key ".concat(t))})),e}return n}(s6);function m4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}h4.className="ImageCell";var v4=s.Group,y4=s.Path,g4=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.diagram=t;var n=new v4;t.frontRootGroup.add(n),Object.assign(this,{style:{stroke:""},tolerance:5,bleed:0,toAlignPoints:[],refLines:[],showLine:!0,preventAlignX:!1,preventAlignY:!1,refLinesGroup:n})}var t,n,r;return t=e,(n=[{key:"_getPointsByBox",value:function(e){var t={x:e.maxX,y:e.minY,weight:0,box:e};return[{x:e.minX,y:e.maxY,weight:0,box:e},t,{x:(e.minX+e.maxX)/2,y:(e.minY+e.maxY)/2,weight:1,box:e}]}},{key:"_getPointsByPoint",value:function(e){return[e]}},{key:"_getPointsByCell",value:function(e){var t=e.getAbsBBox();return this._getPointsByBox(t)}},{key:"drawRefLines",value:function(){var e=this.refLines,t=this.refLinesGroup;t.clear(),e.forEach((function(e){var n=e.x1,r=e.y1,o=e.x2,i=e.y2;t.add(new y4({d:"M".concat(n,",").concat(r," L").concat(o,",").concat(i),stroke:"#FF4E50"}))}))}},{key:"clear",value:function(){this.refLinesGroup.clear()}},{key:"updateToAlginPoints",value:function(e){var t=this,n=this.diagram,r=n.paper,o=n.getCells();e&&(o=o.filter(e));var i=[];if(o.forEach((function(e){i=i.concat(t._getPointsByCell(e))})),r.visible){var a=r.getBBox();i=i.concat(this._getPointsByBox({minX:a.left,minY:a.top,maxX:a.right,maxY:a.bottom}))}this.toAlignPoints=i}},{key:"alignByPoint",value:function(e){return this._align("Point",e)}},{key:"alignByBox",value:function(e){return this._align("Box",e)}},{key:"_align",value:function(e,t){var n=this,r=this.bleed,o=this.showLine,i=this.toAlignPoints,a=this.diagram,c=this.preventAlignX,s=this.preventAlignY,l={dx:0,dy:0},u=this.tolerance/a.viewport.zoom;if(0===i.length)return l;var f=this["_getPointsBy"+e](t),p=[];return this.refLines=[],f.forEach((function(e){p=p.concat(i.map((function(t){return{from:e,to:t,weight:e.weight+t.weight,hDis:Math.abs(t.x-e.x),vDis:Math.abs(t.y-e.y)}})))})),c||(p.sort((function(e,t){return e.hDis-t.hDis})),p.filter((function(e){return e.hDis===p[0].hDis})).forEach((function(e){e.hDis<u&&(l.dx=e.to.x-e.from.x,n.refLines.push({x1:e.to.x,x2:e.to.x,y1:Math.min(e.to.box.minY,e.from.box.minY)-r,y2:Math.max(e.to.box.maxY,e.from.box.maxY)+r}))}))),s||(p.sort((function(e,t){return e.vDis-t.vDis})),p.filter((function(e){return e.vDis===p[0].vDis})).forEach((function(e){e.vDis<u&&(l.dy=e.to.y-e.from.y,n.refLines.push({x1:Math.min(e.to.box.minX,e.from.box.minX)-r,x2:Math.max(e.to.box.maxX,e.from.box.maxX)+r,y1:e.to.y,y2:e.to.y}))}))),o&&this.drawRefLines(),l}},{key:"reset",value:function(){this.clear(),this.preventAlignX=!1,this.preventAlignY=!1}},{key:"destroy",value:function(){this.diagram=void 0}}])&&m4(t.prototype,n),r&&m4(t,r),e}();function b4(e){return(b4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k4(e,t){return(k4=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x4(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C4(e);if(t){var o=C4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O4(this,n)}}function O4(e,t){return!t||"object"!==b4(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C4(e){return(C4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _4(e){return function(e){if(Array.isArray(e))return E4(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E4(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j4(e){var t=1/0,n=1/0,r=-1/0,o=-1/0;return e.forEach((function(e){var i,a,c,s;if("edge"===e.type){var l=[];e.source&&!e.source.id&&e.source.connection&&l.push(e.source.connection),e.target&&!e.target.id&&e.target.connection&&l.push(e.target.connection);var u=l.map((function(e){return e[0]})),f=l.map((function(e){return e[1]}));i=Math.min.apply(Math,_4(u)),a=Math.min.apply(Math,_4(f)),c=Math.max.apply(Math,_4(u)),s=Math.max.apply(Math,_4(f))}else i=e.x,a=e.y,c=e.x+(e.width||0),s=e.y+(e.height||0);i<t&&(t=i),a<n&&(n=a),c>r&&(r=c),s>o&&(o=s)})),{minX:t,minY:n,maxX:r,maxY:o}}function S4(e,t,n){if(e&&!e.id){var r=e.connection;e.connection=[r[0]+t,r[1]+n]}}function P4(e,t,n){"edge"===e.type?(S4(e.source,t,n),S4(e.target,t,n)):(e.x=(e.x||0)+t,e.y=(e.y||0)+n)}g4.className="Align";var R4=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k4(e,t)}(i,e);var t,n,r,o=x4(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).caches={},t}return t=i,(n=[{key:"_clipboardFiles",value:function(e){e.length>0&&this.diagram.emit("importimage",{files:e,from:"clpboard"})}},{key:"resetModels",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.diagram,o=this.caches,i=5;e.forEach((function(e){var n=r.find(e.id)?1:0;o[e.id]||(o[e.id]=[]),(t=o[e.id]).forEach((function(){n++})),P4(e,i*n,i*n),t.push(e.id)}));var a=j4(e);if(!jE(a,r.viewport.getViewportBox())){var c=r.viewport.getCenter(),s=c[0]-(a.minX+a.maxX)/2,l=c[1]-(a.minY+a.maxY)/2;e.forEach((function(e){P4(e,s,l)}))}return p5(e,n),e}},{key:"clipboard",value:function(e){var t=e.html,n=e.files;if(n&&n.length>0)return this._clipboardFiles(n);var r=this.diagram,o=iz(t);if(o){var i=this.resetModels(o.body,o.extraInformations);o.execute=function(){r.add(i)},o.execute()}return o}}])&&w4(t.prototype,n),r&&w4(t,r),i}(p.Importer),T4='<div style="text-align:center;">'.concat(JA,"<br></div>");function D4(e){return(D4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M4(e,t){return(M4=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N4(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F4(e);if(t){var o=F4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I4(this,n)}}function I4(e,t){return!t||"object"!==D4(t)&&"function"!=typeof t?L4(e):t}function L4(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F4(e){return(F4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z4=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M4(e,t)}(i,e);var t,n,r,o=N4(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).default={dragDuplicates:void 0,dragCells:void 0,startPoint:void 0,startBox:void 0,startModels:void 0,startClient:void 0,delegation:void 0,onMouseMoveEvent:void 0,dx:0,dy:0},Object.assign(L4(e),e.default),e}return t=i,(n=[{key:"reset",value:function(){var e=this.diagram;this.delegation&&this.dragCells.forEach((function(e){return e.show()})),this.dragCells&&this.dragCells.length>1&&e.highlight.show(),this.delegation&&e.delegator.remove(this.delegation),this.onMouseMoveEvent&&this.unbind(this.onMouseMoveEvent),e.signal.cellDragStart=!1,e.align.clear(),Object.assign(this,this.default)}},{key:"initDragData",value:function(){var e=this.diagram,t=e.selector.selections.filter((function(e){return!e.locked}));if(1===t.length){var n=t[0];if(!n||e.contentEditor.isBegin)return;e.align.updateToAlginPoints((function(e){return e!==n&&"edge"!==e.model.type})),this.startBox=n.getAbsBBox()}if(e.signal.keydown.Alt){var r=t.map((function(e){return gd()(e.model)}));this.dragCells=e.add(e.importer.resetModels(r)),this.dragDuplicates=!0}else this.dragCells=t;this.startModels=this.dragCells.map((function(e){var t=e.model;if(e.isEdge){var n={};return!t.source.id&&t.source.connection&&(n.source={connection:t.source.connection.concat([])}),!t.target.id&&t.target.connection&&(n.target={connection:t.target.connection.concat([])}),n}return{x:e.x,y:e.y}}))}},{key:"init",value:function(){var e=this,t=this.diagram,n=function(){return e.startModels.map((function(t,n){if(e.dragCells[n].isEdge){var r={};return t.target&&!t.target.id&&(r.target=gd()(t.target),r.target.connection[0]+=e.dx,r.target.connection[1]+=e.dy),t.source&&!t.source.id&&(r.source=gd()(t.source),r.source.connection[0]+=e.dx,r.source.connection[1]+=e.dy),r}return{x:t.x+e.dx,y:t.y+e.dy}}))},r=Un()((function(r){if(t.signal.cellDragStart){var o=t.viewport.invertClient([r.clientX,r.clientY]);if(e.dx=o[0]-e.startPoint[0],e.dy=o[1]-e.startPoint[1],1===e.dragCells.length&&!e.dragCells[0].isEdge){var i={minX:e.startBox.minX+e.dx,maxX:e.startBox.maxX+e.dx,minY:e.startBox.minY+e.dy,maxY:e.startBox.maxY+e.dy},a=t.align.alignByBox(i);e.dx+=a.dx,e.dy+=a.dy}if(e.delegation)e.delegation.translate(e.dx,e.dy);else{var c=n();t.update(e.dragCells,c)}}else{if(PE(e.startClient[0],e.startClient[1],r.clientX,r.clientY)<8)return;if(e.initDragData(),!e.dragCells)return;t.signal.cellDragStart=!0,t.emit("cell:dragstart"),e.dragCells.length>1&&t.highlight.hide(),e.dragCells.length>10&&!e.delegation&&!function(){for(var n=0;n<e.dragCells.length;n++){var r=e.dragCells[n];if(r.isEdge&&r.source.id){var o=t.find(r.model.source.id);if(o&&!e.dragCells.includes(o))return!0;var i=t.find(r.model.target.id);if(i&&!e.dragCells.includes(i))return!0}}var a={};return e.dragCells.filter((function(e){return e.isVertex})).reduce((function(e,t){return e[t.model.id]=t,e}),a),!!function(e,t){return e.getCells().filter((function(e){if(!e.isEdge)return!1;var n=e.source,r=e.target;return n.id&&t[n.id]||r.id&&t[r.id]}))}(t,a).some((function(t){return!e.dragCells.includes(t)}))}()&&(e.delegation=t.delegator.create(e.dragCells),e.dragCells.forEach((function(e){return e.hide()}))),1===e.dragCells.length&&t.contentEditor&&(t.contentEditor.unbind(),t.focus())}}),16),o=function(){var o;e.delegation||t.update(e.dragCells,e.startModels);var i=[];e.dragDuplicates?(t.remove(e.dragCells.map((function(e){return e.model.id}))),i.push("Add",{model:e.dragCells.map((function(t){var n=t.model;return t.isEdge?(n.target&&!n.target.id&&(n.target.connection[0]+=e.dx,n.target.connection[1]+=e.dy),n.source&&!n.source.id&&(n.source.connection[0]+=e.dx,n.source.connection[1]+=e.dy)):(n.x+=e.dx,n.y+=e.dy),n}))})):i.push("Update",{id:e.dragCells.map((function(e){return e.model.id})),model:n()}),t.emit("cell:dragend",{cells:e.dragCells}),r.cancel(),e.reset(),(o=t.command).execute.apply(o,i)},i=function(){r.cancel(),e.reset()};this.bind(t,"mousedown",(function(n){var o=n.target,i=n.clientX,a=n.clientY,c=n.button,s=t.getCell(o);0===c&&s&&!s.locked&&(e.startClient=[i,a],e.startPoint=t.viewport.invertClient([i,a]),e.onMouseMoveEvent=e.bind(t,"mousemove",r))})),this.bind(t,"mouseup",(function(){e.dragCells&&e.dragCells[0]&&t.signal.cellDragStart?o():i()})),this.bind(t,"mouseleave",(function(){e.dragCells&&e.dragCells[0]&&t.signal.cellDragStart?o():i()}))}}])&&A4(t.prototype,n),r&&A4(t,r),i}(hX);function B4(e){return(B4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V4(Object(n),!0).forEach((function(t){H4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W4(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y4(e,t){return(Y4=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X4(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z4(e);if(t){var o=Z4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $4(this,n)}}function $4(e,t){return!t||"object"!==B4(t)&&"function"!=typeof t?G4(e):t}function G4(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z4(e){return(Z4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J4=15.27,Q4=7.635;function e8(e){e.target.setAttribute("stroke","#595959")}function t8(e){e.target.setAttribute("stroke","#bfbfbf")}var n8=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y4(e,t)}(i,e);var t,n,r,o=X4(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).updateOrigin=function(t){var n=U4(G4(e).diagram.viewport.invertClient([t.clientX,t.clientY]),2),r=n[0],o=n[1];e.origin=[r,o]},e.updateEdge=function(t){var n=G4(e),r=n.diagram,o=n.edge,i=n.origin,a=n.sourceCell,c=r.viewport.invertClient([t.clientX,t.clientY]);if(i&&!o&&PE(i[0],i[1],c[0],c[1])>8){var s=r.add(e.initEdge(c))[0];s.graphicGroup.css({cursor:"crosshair"}),r.setCursor("crosshair"),e.edge=s,e.clearButton()}else if(o){var l=wq(r,c);if(e.cacheEndpointId!==l.id&&(r.highlight.dock([r.find()]),e.cacheEndpointId=l.id),!l.id){var u=a.getPoint([.5,.5]);_q([u.x,u.y],l.connection)}r.update(o,{target:l})}},e.commitEdge=function(t){var n=G4(e),r=n.edge,o=n.diagram,i=n.origin;if(r||i){var a;if(r)a=r.model,o.remove(r);else if(i){e.updateDirection(t);var c=e.getTargetConnection(e.direction);a=e.initEdge(c)}var s=rT();o.command.execute("Add",{model:q4(q4({},a),{},{id:s})}),e.clear(),null==a.target.id&&requestAnimationFrame((function(){o.emit("vertexcell:prompt",{edge:o.find(s)})}))}},e.revertEdge=function(t){var n=G4(e),r=n.edge,o=n.diagram;r&&("Esc"!==t.key&&"Escape"!==t.key||(o.remove(r),e.clear()))},e.cacheEndpointId=null,e}return t=i,(n=[{key:"initButton",value:function(){var e=this.diagram,t=e.frontRootGroup,n=e.defs,r=rT(),o=new ZS({"stroke-width":1.3,stroke:"inherit",fill:"#ffffff",d:[jS(Q4,Q4,Q4),"M ".concat(4.359999999999999," ").concat(Q4," L ").concat(10.91," ").concat(Q4),"M ".concat(Q4," ").concat(4.359999999999999," L ").concat(Q4," ").concat(10.91)].join(" ")});o.rendererElement.setAttribute("id",r),n.add(o);var i=new cR({href:"#".concat(r),width:15.27,height:15.27,visibility:"hidden",stroke:"#bfbfbf"});i.css({cursor:"copy"}),i.dataset({lake_prevent_click_unselect:!0}),i.on("mouseenter",e8),i.on("mouseleave",t8),i.on("mousedown",this.updateOrigin),t.add(i),this.button=i}},{key:"updateButton",value:function(){var e=this.button,t=this.diagram,n=this.direction,r=this.sourceCell;if(r&&n){var o,i,a=t.viewport.zoom,c=r.getAbsBBox(),s=c.x,l=c.y,u=c.width,f=c.height,p=1/a,d=p;switch(n){case"N":o=s+u/2-Q4*p,i=l-8-15.27*d;break;case"E":o=s+u+8,i=l+f/2-Q4*d;break;case"S":o=s+u/2-Q4*p,i=l+f+8;break;case"W":o=s-8-Q4*p*2,i=l+f/2-Q4*d}e.update({matrix:[p,0,0,0,d,0,o,i,1],visibility:""})}}},{key:"clearButton",value:function(){var e=this.button;e&&(e.remove(),this.button=null)}},{key:"initEdge",value:function(e){var t=this.diagram,n=this.sourceCell,r=this.direction,o={id:n.model.id,connection:r},i=q4({shape:"elbow",marker:"arrow"},(t.settings.flowchart||{}).edge);return{type:"edge",shape:i.shape,source:o,target:{connection:e,marker:i.marker}}}},{key:"getTargetConnection",value:function(e){var t=this.sourceCell.getPoint(e),n=t.x,r=t.y;switch(e){case"N":return[n,r-50];case"E":return[n+50,r];case"S":return[n,r+50];case"W":return[n-50,r];default:throw new Error("unexpected direction ".concat(e))}}},{key:"updateDirection",value:function(e){var t=this.diagram.viewport.invertClient([e.clientX,e.clientY]),n=U4(t,2),r=n[0],o=n[1],i=this.sourceCell.getPoint([.5,.5]);PE(i.x,i.y,t[0],t[1])>16&&(this.direction=Cq(i,{x:r,y:o}))}},{key:"updateBoundingRect",value:function(e){var t=e.graphicGroup.getBoundingClientRect(),n=t.x,r=t.y,o=t.width,i=t.height,a=r-J4-8,c=n+o+J4+8,s=r+i+J4+8,l=n-J4-8;this.boundingRect={top:a,right:c,bottom:s,left:l}}},{key:"update",value:function(e,t){e&&(this.button||this.initButton(),this.sourceCell=e,this.updateDirection(t),this.updateBoundingRect(e),this.updateButton())}},{key:"clear",value:function(){this.clearButton(),this.sourceCell=null,this.boundingRect=null,this.origin=null,this.edge=null,this.draggingCell=!1;var e=this.diagram;e.resetCursor(),this.cacheEndpointId&&e.highlight.clear(),this.cacheEndpointId=null}},{key:"init",value:function(e){var t=this;this.diagram=e,this.bind(e,"vertexcell:mouseenter",(function(n){var r=n.cell,o=n.nativeEvent,i=t.sourceCell;i&&r===i||t.edge||e.signal.cellDragStart||t.update(r,o)})),this.bind(e,"vertexcell:update",(function(e){e.cell===t.sourceCell&&t.updateButton()})),this.bind(e,"vertexcell:remove",(function(e){var n=e.id,r=t.sourceCell;r&&r.model.id===n&&t.clear()})),this.bind(e,"cell:dragstart",(function(){t.clear()})),this.bind(e,"mousemove",Un()((function(e){var n=t.boundingRect;if(t.origin)t.updateEdge(e);else if(n){var r=e.clientX,o=e.clientY,i=n.top,a=n.right,c=n.bottom;r<n.left-8||r>a+8||o<i-8||o>c+8?t.clear():(t.updateDirection(e),t.updateButton())}}),16)),this.bind(e,"mouseup",this.commitEdge),this.bind(e,"keydown",this.revertEdge),this.bind(e,"afterviewportchange",Un()((function(){t.edge||e.destroyed||t.clear()}),16)),this.bind(e,"afterselect",(function(){var e=t.origin,n=t.sourceCell;e||n&&n.state.selected||t.clear()}))}}])&&K4(t.prototype,n),r&&K4(t,r),i}(hX);function r8(e){return(r8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o8(Object(n),!0).forEach((function(t){a8(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o8(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c8(e,t){return(c8=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s8(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f8(e);if(t){var o=f8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l8(this,n)}}function l8(e,t){return!t||"object"!==r8(t)&&"function"!=typeof t?u8(e):t}function u8(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f8(e){return(f8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p8=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c8(e,t)}(n,e);var t=s8(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=i8({width:32,height:32},e),i=o.width,a=o.height,c=e.matrix||[1,0,0,0,1,0,0,0,1];i>0&&(c[0]=i/32),a>0&&(c[4]=a/32),r=t.call(this,i8(i8({},e),{},{matrix:c}));var s=e.stencil,l=e.title,u=s.name,f=s.thumb,p=new zP({x:0,y:0,width:i,height:a,rx:2,fill:"#fff",stroke:"none"});return r.add(new yR({title:l})),r.add(p),f.forEach((function(e){r.add(g3(e))})),u8(r).rendererElement.dataset.name=u,r.css({cursor:"pointer"}),r}return n}(Fj);function d8(e){return(d8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h8(e,t){return(h8=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m8(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y8(e);if(t){var o=y8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v8(this,n)}}function v8(e,t){return!t||"object"!==d8(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y8(e){return(y8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g8=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h8(e,t)}(n,e);var t=m8(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=t.call(this,e);var o=e.key,i=e.title,a=e.shapes,c=8,s=8;if(i){var l=new SR({text:i,matrix:[1,0,0,0,1,0,12,28,1],fill:"#262626"});r.add(l),s+=32}return a.forEach((function(e){var t=e.name,n=e.title,o=T5.find((function(e){return e.name===t}));c>=200&&(c=8,s+=32);var i=new p8({stencil:o,matrix:[1,0,0,0,1,0,c,s,1],stroke:"#595959",fill:"#ffffff",title:n});r.add(i),c+=32})),r.rendererElement.dataset.group=o,r}return n}(Fj);function b8(e){return(b8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w8(Object(n),!0).forEach((function(t){x8(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O8(e,t){return(O8=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C8(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E8(e);if(t){var o=E8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _8(this,n)}}function _8(e,t){return!t||"object"!==b8(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E8(e){return(E8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j8=[{name:"rect",title:XN("矩形")},{name:"rounded-rect",title:XN("圆角矩形")},{name:"circle",title:XN("圆形")},{name:"triangle",title:XN("三角形")},{name:"diamond",title:XN("菱形")},{name:"comment-2",title:XN("标注 2")},{name:"parallelogram",title:XN("平行四边形")},{name:"star",title:XN("星形")},{name:"arrow-1",title:XN("左箭头")},{name:"arrow-2",title:XN("右箭头")},{name:"arrow-3",title:XN("双向箭头")},{name:"polygon",title:XN("五边形")}],S8=[{name:"process",title:XN("过程")},{name:"start-end",title:XN("起止符")},{name:"decision",title:XN("决策")},{name:"collate",title:XN("整理")},{name:"data",title:XN("数据")},{name:"database",title:XN("数据库")},{name:"delay",title:XN("延迟")},{name:"display",title:XN("显示")},{name:"document",title:XN("文档")},{name:"internal-storage",title:XN("内部存储")},{name:"loop-limit",title:XN("循环起止符")},{name:"manual-input",title:XN("手动输入")},{name:"manual-loop",title:XN("手动循环")},{name:"merge",title:XN("合并")},{name:"multi-document",title:XN("多文档")},{name:"off-page",title:XN("页外连接符")},{name:"connector",title:XN("连接器")},{name:"summing-junction",title:XN("汇总连接")},{name:"subroutine",title:XN("预定义流程")},{name:"preparation",title:XN("准备")},{name:"sort",title:XN("排序")},{name:"stored-data",title:XN("存储数据")},{name:"or",title:XN("或者")},{name:"comment",title:XN("标注")}],P8={basic:{title:XN("基础形状"),shapes:j8,height:100},flowchart:{title:XN("流程图"),shapes:S8,height:178}},R8=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O8(e,t)}(n,e);var t=C8(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e=k8({groups:["flowchart"]},e),r=t.call(this,e);var o=0,i=e.groups,a=i.map((function(e){var t=P8[e],n=i.length>1,r=o;return o+=n?t.height:t.height-34,new g8(k8(k8({},t),{},{key:e,title:n?t.title:"",matrix:[1,0,0,0,1,0,0,r,1]}))}));return[new zP({x:0,y:0,width:208,height:o,rx:4,stroke:"#e9e9e9",fill:"#ffffff"})].concat(a).forEach((function(e){return r.add(e)})),r.height=o,r.on("mouseover",Un()((function(e){for(var t=e.target.closest("[data-name]"),n=r.rendererElement.querySelectorAll("[data-name]"),o=0;o<n.length;o++){var i=n[o],a=i.querySelector("path");a&&a.setAttribute("fill",i===t?"#f5f5f5":"#ffffff")}}),16)),r.on("click",(function(e){var t=e.target.closest("[data-name]");t&&r.emit("shape:select",{shape:t.dataset.name,group:t.closest("[data-group]").dataset.group})})),r}return n}(Fj);function T8(e){return(T8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D8(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A8(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I8(e,t){return(I8=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L8(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z8(e);if(t){var o=z8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F8(this,n)}}function F8(e,t){return!t||"object"!==T8(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z8(e){return(z8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B8=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I8(e,t)}(i,e);var t,n,r,o=L8(i);function i(){return M8(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"createPanel",value:function(){var e=this.diagram,t=e.frontRootGroup,n=e.defs,r=new R8,o=rT(),i=new MT,a=new WT({dx:0,dy:0,stdDeviation:4,"flood-color":"rgba(0, 0, 0, 0.08)"});return i.attr({id:o}),i.add(a),n.add(i),r.css({filter:"url(#".concat(o,")")}),r.css({visibility:"hidden"}),t.add(r),r}},{key:"initPanel",value:function(){var e=this;this.panel=this.createPanel(),this.panel.on("shape:select",(function(t){var n=t.shape,r=e.diagram,o=e.edge,i=o.target.connection,a=D8(e.adjustVertexPosition(i,n),2),c=a[0],s=a[1];e.closePanel(),r.command.execute("FlowchartAddVertex",{model:{type:"flowchart",shape:n,x:c,y:s,html:T4},edge:o})}))}},{key:"closePanel",value:function(){this.panel.css({visibility:"hidden"}),this.direction=null,this.edge=null}},{key:"adjustPanelPosition",value:function(e){var t=this.diagram,n=this.direction,r=this.panel,o=t.viewportContainer.getBoundingClientRect(),i=r.getBBox(),a=t.viewport.invertViewport([o.width-i.width-8,o.height-i.height-8]),c=Math.min(e[0]+8,a[0]),s=Math.min(e[1]+8,a[1]);return"N"===n?c<e[0]+8&&(c=e[0]-8-i.width):"E"===n?c<e[0]+8&&s<e[1]+8&&(s=e[1]-8-i.height):"S"===n?c<e[0]+8&&s<e[1]+8&&(c=e[0]-8-i.width):"W"===n&&s<e[1]+8&&(s=e[1]-8-i.height),[c,s]}},{key:"adjustVertexPosition",value:function(e,t){var n=this.direction,r=T5.find((function(e){return e.name===t})),o=D8(e,2),i=o[0],a=o[1];switch(n){case"N":i-=r.width/2,a-=r.height;break;case"E":a-=r.height/2;break;case"S":i-=r.width/2;break;case"W":i-=r.width,a-=r.height/2}return[i,a]}},{key:"getDirection",value:function(e){var t=bS(e.d).slice(-2),n=t[0].slice(1),r=t[1].slice(1);return Cq({x:n[0],y:n[1]},{x:r[0],y:r[1]})}},{key:"updatePanel",value:function(e){this.panel||this.initPanel();var t=this.panel,n=e.edge;this.edge=n,this.direction=this.getDirection(n);var r=n.target.connection,o=D8(this.adjustPanelPosition(r),2),i=o[0],a=o[1];t.update({matrix:[1,0,0,0,1,0,i,a,1]}),t.css({visibility:""})}},{key:"init",value:function(e){var t=this;this.diagram=e,this.edge=null,this.direction=null,this.bind(e,"vertexcell:prompt",(function(e){return t.updatePanel(e)})),this.bind(e,"mousedown",(function(e){var n=t.panel;n&&!n.rendererElement.contains(e.target)&&t.closePanel()})),this.bind(e,"keyup",(function(e){!t.panel||"Esc"!==e.key&&"Escape"!==e.key||t.closePanel()}))}}])&&N8(t.prototype,n),r&&N8(t,r),i}(hX);function V8(e){return(V8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U8(e,t){return(U8=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W8(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y8(e);if(t){var o=Y8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K8(this,n)}}function K8(e,t){return!t||"object"!==V8(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y8(e){return(Y8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X8=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U8(e,t)}(i,e);var t,n,r,o=W8(i);function i(){return q8(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"afterchange",(function(t){if(t){var n=t.models,r=t.action;"remove"===r?function(e,t){t.forEach((function(t){e.emit("vertexcell:remove",{id:t.id})}))}(e,n):"update"===r&&function(e,t){for(var n={},r=function(r){var o=t[r],i=e.find(o.id),a=["x","y","width","height","shape","rotate"];i.isText&&a.push("html"),i.isVertex&&a.some((function(e){return null!=o[e]}))&&(n[o.id]=!0,i.state.selected&&i.rotateResize.update(),e.emit("vertexcell:update",{cell:i}))},o=0;o<t.length;o++)r(o)}(e,n)}}))}}])&&H8(t.prototype,n),r&&H8(t,r),i}(hX);function $8(e){return($8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z8(e,t){return(Z8=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J8(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=e9(e);if(t){var o=e9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q8(this,n)}}function Q8(e,t){return!t||"object"!==$8(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function e9(e){return(e9=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var t9=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z8(e,t)}(i,e);var t,n,r,o=J8(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).cell,e}return t=i,(n=[{key:"init",value:function(e){var t=this;this.bind(e,"afterselect",(function(){var n=e.selector.selections;if(t.cell&&(t.cell.endRotateResize(),t.cell=void 0),1===n.length){if(t.cell=n[0],!t.cell.isVertex)return void(t.cell=void 0);t.cell&&t.cell.beginRotateResize()}})),this.bind(e,"cell:dragstart",(function(){t.cell&&(t.cell.endRotateResize(),t.cell=void 0)}))}}])&&G8(t.prototype,n),r&&G8(t,r),i}(hX);function n9(e){return(n9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r9(e,t){return(r9=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o9(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a9(e);if(t){var o=a9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i9(this,n)}}function i9(e,t){return!t||"object"!==n9(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a9(e){return(a9=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c9=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r9(e,t)}(n,e);var t=o9(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=t.call(this)).diagramType="flowchart",e.cellType="edge",e}return n}(hX.MouseClickInsertLine);function s9(e){return(s9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l9(Object(n),!0).forEach((function(t){f9(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l9(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d9(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v9(e,t,n){return(v9="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k9(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function y9(e,t){return(y9=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g9(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k9(e);if(t){var o=k9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b9(this,n)}}function b9(e,t){return!t||"object"!==s9(t)&&"function"!=typeof t?w9(e):t}function w9(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k9(e){return(k9=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x9=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y9(e,t)}(i,e);var t,n,r,o=g9(i);function i(){var e;h9(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onMouseMove=function(t){e.delegation||e.initDelegation();var n=w9(e).delegation,r=p9(e.getPoint(t),2),o=r[0],i=r[1];n.translate(o,i)},e.onClick=function(t){e.clear();var n=w9(e).diagram,r=n.settings.flowchart.vertex,o=p9(e.getPoint(t),2),i=o[0],a=o[1],c=rT();n.interaction.changeMode("edit"),n.command.execute("Add",{model:u9(u9({},r),{},{id:c,x:i,y:a})})},e}return t=i,(n=[{key:"getPoint",value:function(e){return this.diagram.viewport.invertClient([e.clientX,e.clientY])}},{key:"initDelegation",value:function(){var e=this.diagram,t=e.settings.flowchart.vertex,n=e.add(u9(u9({},t),{},{x:0,y:0}))[0];this.delegation=e.delegator.create([n]),this.cell=n,n.hide()}},{key:"init",value:function(e){var t=this;this.diagram=e,this.bind(e,"mousemove",this.onMouseMove),this.bind(e,"click",this.onClick),this.bind(window,"keyup",(function(n){"Esc"!==n.key&&"Escape"!==n.key||(t.clear(),e.interaction.changeMode("edit"))}))}},{key:"clear",value:function(){var e=this.cell,t=this.delegation,n=this.diagram;e&&n.remove(e.model.id),t&&t.destroy(),this.cell=null,this.delegation=null}},{key:"unbind",value:function(){this.clear(),v9(k9(i.prototype),"unbind",this).call(this)}}])&&m9(t.prototype,n),r&&m9(t,r),i}(hX);function O9(e){return(O9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _9(e,t){return(_9=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E9(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S9(e);if(t){var o=S9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j9(this,n)}}function j9(e,t){return!t||"object"!==O9(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S9(e){return(S9=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P9=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_9(e,t)}(i,e);var t,n,r,o=E9(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).contentEditorOptions={insertParagraphKey:function(e){return 13===e.which},cancelKey:function(e){return 27===e.which}},e}return t=i,(n=[{key:"init",value:function(e){var t=this.contentEditorOptions,n=e.contentEditor;this.bind(e,"afterselect",(function(){if(!e.signal.mouseMultiSelecting){var r=e.selector.selections;if(1===r.length){var o=r[0].textAreaElement;if(!o||e.destroyed)return;var i=o.htmlContainer;if(e.destroyed)return;n.dom&&n.dom!==i&&n.unbind(),!n.dom&&e.viewportContainer.contains(i)&&n.bind(i,t),n.isBegin||n.prepareEdit()}else n.unbind(),e.focus()}})),this.bind(e,"mousedown",(function(t){var n=e.getCell(t.target);n&&n.textAreaElement&&!n.textAreaElement.htmlContainer.contains(t.target)&&t.preventDefault()})),this.bind(e,"dblclick",(function(t){var r=t.target,o=e.getCell(r);o&&o.state.selected&&o.textAreaElement&&!e.contentEditor.isBegin&&(e.selector.selections.length>1&&e.selector.select([o]),n.prepareEdit(),n.beginEdit(),e.update(o,{}))})),this.bind(e,"click",(function(t){var n=e.getCell(t.target);n&&n.textAreaElement&&n.textAreaElement.htmlContainer.contains(t.target)&&"A"===t.target.tagName&&t.preventDefault()}))}}])&&C9(t.prototype,n),r&&C9(t,r),i}(hX);function R9(e){return(R9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A9(e,t){return(A9=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M9(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I9(e);if(t){var o=I9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N9(this,n)}}function N9(e,t){return!t||"object"!==R9(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I9(e){return(I9=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L9=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A9(e,t)}(i,e);var t,n,r,o=M9(i);function i(){return T9(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){var t,n,r,o=function(){!e.destroyed&&r&&t&&(e.update(t.map((function(e){return e.id})),t),e.command.execute("Update",{id:r.map((function(e){return e.id})),model:r}),t=void 0,r=void 0)},i=function(n,r,o){return o.preventDefault(),t||(t=[].concat(e.selector.selections.map((function(e){return{id:e.model.id,x:e.x,y:e.y}})))),e.selector.selections.map((function(e){return{id:e.model.id,x:e.x+n,y:e.y+r}}))};this.bind(e,"keydown",(function(t){if(!(e.selector.selections.length<=0)){var a;switch(a=t.shiftKey?10:1,n&&clearTimeout(n),t.key){case"Left":case"ArrowLeft":r=i(-a,0,t);break;case"Right":case"ArrowRight":r=i(a,0,t);break;case"Up":case"ArrowUp":r=i(0,-a,t);break;case"Down":case"ArrowDown":r=i(0,a,t);break;default:return}e.update(r.map((function(e){return e.id})),r),n=setTimeout((function(){o()}),400)}})),this.bind(e,"keyup",(function(){n&&clearTimeout(n),o()}))}}])&&D9(t.prototype,n),r&&D9(t,r),i}(hX);function F9(e){return(F9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V9(e,t){return(V9=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q9(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U9(e);if(t){var o=U9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H9(this,n)}}function H9(e,t){return!t||"object"!==F9(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U9(e){return(U9=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W9=ke,K9=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V9(e,t)}(i,e);var t,n,r,o=q9(i);function i(){return z9(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(e){this.bind(e,"keydown",(function(t){if(W9("mod+d",t)){t.preventDefault();var n=e.selector.selections.map((function(e){return gd()(e.model)}));e.importer.resetModels(n),e.command.execute("Add",{model:n})}}))}}])&&B9(t.prototype,n),r&&B9(t,r),i}(hX);function Y9(e){return(Y9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G9(e,t,n){return(G9="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=e7(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Z9(e,t){return(Z9=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J9(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=e7(e);if(t){var o=e7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q9(this,n)}}function Q9(e,t){return!t||"object"!==Y9(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function e7(e){return(e7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var t7=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z9(e,t)}(i,e);var t,n,r,o=J9(i);function i(){return X9(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){G9(e7(i.prototype),"execute",this).call(this);var e=this.diagram,t=this.edge,n=this.model;this.originTarget=["id","connection","marker"].reduce((function(e,n){var r=t.target[n];return e[n]=null==r?null:r,e}),{}),e.update(t,{target:{id:n.id,connection:null}})}},{key:"forward",value:function(){G9(e7(i.prototype),"forward",this).call(this);var e=this.diagram,t=this.edge,n=this.model;e.update(t,{target:{id:n.id,connection:null}})}},{key:"backward",value:function(){var e=this.diagram,t=this.edge,n=this.originTarget,r=this.model;e.remove(r.id),e.update(t.model.id,{target:n})}}])&&$9(t.prototype,n),r&&$9(t,r),i}(mX.Add);function n7(e){return(n7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r7(Object(n),!0).forEach((function(t){i7(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s7(e,t){return(s7=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l7(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f7(e);if(t){var o=f7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u7(this,n)}}function u7(e,t){return!t||"object"!==n7(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f7(e){return(f7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t7.className="FlowchartAddVertex",t7.enable=function(e){return 0===e.selector.selections.length};var p7=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s7(e,t)}(i,e);var t,n,r,o=l7(i);function i(){return a7(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"execute",value:function(){var e=this.diagram,t=this.shape,n=this.marker,r=this.html;e.selector.clear(),e.interaction.changeMode("beginAddFlowchartEdge"),e.settings.flowchart=o7(o7({},e.settings.flowchart),{},{edge:{shape:t,marker:n,html:r}})}}])&&c7(t.prototype,n),r&&c7(t,r),i}(mX.BeginInsertLine);function d7(e){return(d7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h7(Object(n),!0).forEach((function(t){v7(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g7(e,t,n){return t&&y7(e.prototype,t),n&&y7(e,n),e}function b7(e,t){return(b7=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w7(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x7(e);if(t){var o=x7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k7(this,n)}}function k7(e,t){return!t||"object"!==d7(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x7(e){return(x7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}p7.className="FlowchartBeginInsertEdge";var O7=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b7(e,t)}(n,e);var t=w7(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,m7({html:T4},e))).queue=!1,r}return g7(n,null,[{key:"enable",value:function(){return!0}}]),g7(n,[{key:"execute",value:function(){var e=this.diagram,t=this.shape,n=this.html,r=this.fill,o=this.stroke;e.settings.flowchart=m7(m7({},e.settings.flowchart),{},{vertex:{type:"flowchart",html:n,shape:t,fill:r,stroke:o}}),e.selector.clear(),e.interaction.changeMode("beginAddFlowchartVertex")}}]),n}(mX);function C7(e){return(C7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_7(Object(n),!0).forEach((function(t){j7(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P7(e,t,n){return t&&S7(e.prototype,t),n&&S7(e,n),e}function R7(e,t){return(R7=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T7(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A7(e);if(t){var o=A7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D7(this,n)}}function D7(e,t){return!t||"object"!==C7(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A7(e){return(A7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}O7.className="FlowchartBeginInsertShape",O7.isModelChange=!1;var M7=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R7(e,t)}(n,e);var t=T7(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,E7({html:XN("文本")},e))).queue=!1,r}return P7(n,null,[{key:"enable",value:function(){return!0}}]),P7(n,[{key:"execute",value:function(){var e=this.diagram,t=this.html,n=this.stroke;e.settings.flowchart=E7(E7({},e.settings.flowchart),{},{vertex:{type:"text",html:t,stroke:n}}),e.selector.clear(),e.interaction.changeMode("beginAddFlowchartVertex")}}]),n}(mX);M7.className="FlowchartBeginInsertText",M7.isModelChange=!1;var N7=hX.MouseDragCanvas,I7=hX.MouseDragMultiSelect,L7=hX.AfterSelectionChangeMultiSelectHighlight,F7=hX.KeyboardPressModifierKey,z7=hX.KeyboardSelectAll,B7=hX.KeyboardSwitchEditAndDragCanvas,V7={Extends:[g4,R4],Cells:[w6,L6,$6,h4],Commands:[t7,p7,O7,M7],defaultCursors:{read:"grab",dragCanvas:"grab",beginAddFlowchartEdge:"crosshair"},modes:[{mode:"edit",Behaviours:[X8,z4,n8,B8,t9,P9,L9,K9,I7,L7,F7,z7,B7]},{mode:"read",Behaviours:[N7]},{mode:"dragCanvas",Behaviours:[B7,N7]},{mode:"beginAddFlowchartEdge",Behaviours:[c9]},{mode:"beginAddFlowchartVertex",Behaviours:[x9]}]};function q7(e){return(q7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W7(e,t,n){return(W7="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$7(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function K7(e,t){return(K7=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y7(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$7(e);if(t){var o=$7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X7(this,n)}}function X7(e,t){return!t||"object"!==q7(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $7(e){return($7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G7=s.Path,Z7=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K7(e,t)}(i,e);var t,n,r,o=Y7(i);function i(){return H7(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(){W7($7(i.prototype),"init",this).call(this),this._renderMask()}},{key:"_renderMask",value:function(){var e=this.diagram.frontRootGroup,t=new G7({fill:"rgba(231, 233, 235, 0.6)"});t.css({"pointer-events":"none"}),e.prepend(t),this.mask=t}},{key:"_updateMask",value:function(){var e=this.diagram,t=this.mask,n=this.zoom;if(t){var r=e.paper,o=r.size,i=r.getBBox(),a=this.getPadding(i,n).map((function(e){return e/n})),c=-a[1],s=-a[0],l=o[0]+2*a[1],u=OS([["M",c,s],["h",l],["v",o[1]+2*a[0]],["h",-l],["M",0,0],["v",o[1]],["h",o[0]],["v",-o[1]],["z"]]);t.update({d:u})}}},{key:"_trackSingleSelect",value:function(){}},{key:"_getUserPadding",value:function(){var e=this.diagram;return"edit"===e.interaction.currentMode&&e.options.padding||[0,0]}},{key:"getPadding",value:function(e,t){var n=this.diagram,r=this._getUserPadding(),o=n.viewportContainer.getBoundingClientRect(),i=(e.right-e.left)*t,a=(e.bottom-e.top)*t,c=Math.max((o.width-i)/2,r[1]);return[Math.max((o.height-a)/2,r[0]),c]}},{key:"setViewport",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=W7($7(i.prototype),"setViewport",this)).call.apply(e,[this].concat(n)),this.autoZoom=!1,this._updateMask()}},{key:"zoomFit",value:function(){var e=this.diagram,t=e.paper.size,n=this._getUserPadding(),r=Math.min(e.width-2*n[1],(e.height-2*n[0])*t[0]/t[1]);this.setViewport(r/t[0]),this.autoZoom=!0}}])&&U7(t.prototype,n),r&&U7(t,r),i}(p.Viewport);function J7(e){return(J7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q7(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ree(e,t){return(ree=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=aee(e);if(t){var o=aee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iee(this,n)}}function iee(e,t){return!t||"object"!==J7(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function aee(e){return(aee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ree(e,t)}(i,e);var t,n,r,o=oee(i);function i(){return tee(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getContentArea",value:function(){var e=Q7(this.diagram.paper.size,2);return{left:0,top:0,width:e[0],height:e[1]}}}])&&nee(t.prototype,n),r&&nee(t,r),i}(p.Exporter);function see(e){return(see="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fee(e,t){return(fee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hee(e);if(t){var o=hee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dee(this,n)}}function dee(e,t){return!t||"object"!==see(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hee(e){return(hee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fee(e,t)}(i,e);var t,n,r,o=pee(i);function i(){return lee(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"calculateBBox",value:function(){var e=this.size;return{top:0,bottom:e[1],left:0,right:e[0]}}}])&&uee(t.prototype,n),r&&uee(t,r),i}(p.Paper),vee=hX.MouseDragCanvas,yee=hX.MouseDragMultiSelect,gee=hX.AfterSelectionChangeMultiSelectHighlight,bee=hX.KeyboardPressModifierKey,wee=hX.KeyboardSelectAll,kee=hX.KeyboardSwitchEditAndDragCanvas,xee={Extends:[g4,R4,Z7,cee,mee],Cells:[w6,L6,$6,h4],Commands:[t7,p7,O7,M7],defaultCursors:{read:"grab",dragCanvas:"grab",beginAddFlowchartEdge:"crosshair"},modes:[{mode:"edit",Behaviours:[X8,z4,t9,P9,L9,K9,yee,gee,bee,wee,kee]},{mode:"read",Behaviours:[vee]},{mode:"dragCanvas",Behaviours:[kee,vee]},{mode:"beginAddFlowchartEdge",Behaviours:[c9]},{mode:"beginAddFlowchartVertex",Behaviours:[x9]}]},Oee=(n(132),n(637),vo),Cee=(n(304),n(19)),_ee=n(20),Eee=n(54),jee=n(77),See=n(9),Pee=/iPhone/i,Ree=/iPod/i,Tee=/iPad/i,Dee=/\bAndroid(?:.+)Mobile\b/i,Aee=/Android/i,Mee=/\bAndroid(?:.+)SD4930UR\b/i,Nee=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,Iee=/Windows Phone/i,Lee=/\bWindows(?:.+)ARM\b/i,Fee=/BlackBerry/i,zee=/BB10/i,Bee=/Opera Mini/i,Vee=/\b(CriOS|Chrome)(?:.+)Mobile/i,qee=/Mobile(?:.+)Firefox\b/i;function Hee(e,t){return e.test(t)}function Uee(e){var t=e||("undefined"!=typeof navigator?navigator.userAgent:""),n=t.split("[FBAN");if(void 0!==n[1]){var r=n;t=Object(Ac.a)(r,1)[0]}if(void 0!==(n=t.split("Twitter"))[1]){var o=n;t=Object(Ac.a)(o,1)[0]}var i={apple:{phone:Hee(Pee,t)&&!Hee(Iee,t),ipod:Hee(Ree,t),tablet:!Hee(Pee,t)&&Hee(Tee,t)&&!Hee(Iee,t),device:(Hee(Pee,t)||Hee(Ree,t)||Hee(Tee,t))&&!Hee(Iee,t)},amazon:{phone:Hee(Mee,t),tablet:!Hee(Mee,t)&&Hee(Nee,t),device:Hee(Mee,t)||Hee(Nee,t)},android:{phone:!Hee(Iee,t)&&Hee(Mee,t)||!Hee(Iee,t)&&Hee(Dee,t),tablet:!Hee(Iee,t)&&!Hee(Mee,t)&&!Hee(Dee,t)&&(Hee(Nee,t)||Hee(Aee,t)),device:!Hee(Iee,t)&&(Hee(Mee,t)||Hee(Nee,t)||Hee(Dee,t)||Hee(Aee,t))||Hee(/\bokhttp\b/i,t)},windows:{phone:Hee(Iee,t),tablet:Hee(Lee,t),device:Hee(Iee,t)||Hee(Lee,t)},other:{blackberry:Hee(Fee,t),blackberry10:Hee(zee,t),opera:Hee(Bee,t),firefox:Hee(qee,t),chrome:Hee(Vee,t),device:Hee(Fee,t)||Hee(zee,t)||Hee(Bee,t)||Hee(qee,t)||Hee(Vee,t)},any:null,phone:null,tablet:null};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}var Wee=Object(vt.a)(Object(vt.a)({},Uee()),{},{isMobile:Uee});function Kee(){}function Yee(e,t,n){var r=t||"";return e.key||"".concat(r,"item_").concat(n)}function Xee(e){return"".concat(e,"-menu-")}function $ee(e,t){var n=-1;w.Children.forEach(e,(function(e){n+=1,e&&e.type&&e.type.isMenuItemGroup?w.Children.forEach(e.props.children,(function(e){t(e,n+=1)})):t(e,n)}))}function Gee(e,t,n){e&&!n.find&&w.Children.forEach(e,(function(e){if(e){var r=e.type;if(!r||!(r.isSubMenu||r.isMenuItem||r.isMenuItemGroup))return;-1!==t.indexOf(e.key)?n.find=!0:e.props.children&&Gee(e.props.children,t,n)}}))}var Zee=["defaultSelectedKeys","selectedKeys","defaultOpenKeys","openKeys","mode","getPopupContainer","onSelect","onDeselect","onDestroy","openTransitionName","openAnimation","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","triggerSubMenuAction","level","selectable","multiple","onOpenChange","visible","focusable","defaultActiveFirst","prefixCls","inlineIndent","parentMenu","title","rootPrefixCls","eventKey","active","onItemHover","onTitleMouseEnter","onTitleMouseLeave","onTitleClick","popupAlign","popupOffset","isOpen","renderMenuItem","manualRef","subMenuKey","disabled","index","isSelected","store","activeKey","builtinPlacements","overflowedIndicator","motion","attribute","value","popupClassName","inlineCollapsed","menu","theme","itemIcon","expandIcon"],Jee=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e&&"function"==typeof e.getBoundingClientRect&&e.getBoundingClientRect().width;if(n){if(t){var r=getComputedStyle(e),o=r.marginLeft,i=r.marginRight;n+=+o.replace("px","")+ +i.replace("px","")}n=+n.toFixed(6)}return n||0},Qee=function(e,t,n){e&&"object"===Object(mt.a)(e.style)&&(e.style[t]=n)},ete=n(73),tte={adjustX:1,adjustY:1},nte={topLeft:{points:["bl","tl"],overflow:tte,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:tte,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:tte,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:tte,offset:[4,0]}},rte={topLeft:{points:["bl","tl"],overflow:tte,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:tte,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:tte,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:tte,offset:[4,0]}},ote=0,ite={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},ate=function(e,t,n){var r=Xee(t),o=e.getState();e.setState({defaultActiveFirst:Object(vt.a)(Object(vt.a)({},o.defaultActiveFirst),{},Object(xc.a)({},r,n))})},cte=function(e){Object(_c.a)(n,e);var t=Object(_ee.a)(n);function n(e){var r;Object(Oc.a)(this,n),(r=t.call(this,e)).onDestroy=function(e){r.props.onDestroy(e)},r.onKeyDown=function(e){var t=e.keyCode,n=r.menuInstance,o=r.props,i=o.isOpen,a=o.store;if(t===See.a.ENTER)return r.onTitleClick(e),ate(a,r.props.eventKey,!0),!0;if(t===See.a.RIGHT)return i?n.onKeyDown(e):(r.triggerOpenChange(!0),ate(a,r.props.eventKey,!0)),!0;if(t===See.a.LEFT){var c;if(!i)return;return(c=n.onKeyDown(e))||(r.triggerOpenChange(!1),c=!0),c}return!i||t!==See.a.UP&&t!==See.a.DOWN?void 0:n.onKeyDown(e)},r.onOpenChange=function(e){r.props.onOpenChange(e)},r.onPopupVisibleChange=function(e){r.triggerOpenChange(e,e?"mouseenter":"mouseleave")},r.onMouseEnter=function(e){var t=r.props,n=t.eventKey,o=t.onMouseEnter,i=t.store;ate(i,r.props.eventKey,!1),o({key:n,domEvent:e})},r.onMouseLeave=function(e){var t=r.props,n=t.parentMenu,o=t.eventKey,i=t.onMouseLeave;n.subMenuInstance=Object(Cee.a)(r),i({key:o,domEvent:e})},r.onTitleMouseEnter=function(e){var t=r.props,n=t.eventKey,o=t.onItemHover,i=t.onTitleMouseEnter;o({key:n,hover:!0}),i({key:n,domEvent:e})},r.onTitleMouseLeave=function(e){var t=r.props,n=t.parentMenu,o=t.eventKey,i=t.onItemHover,a=t.onTitleMouseLeave;n.subMenuInstance=Object(Cee.a)(r),i({key:o,hover:!1}),a({key:o,domEvent:e})},r.onTitleClick=function(e){var t=Object(Cee.a)(r).props;t.onTitleClick({key:t.eventKey,domEvent:e}),"hover"!==t.triggerSubMenuAction&&(r.triggerOpenChange(!t.isOpen,"click"),ate(t.store,r.props.eventKey,!1))},r.onSubMenuClick=function(e){"function"==typeof r.props.onClick&&r.props.onClick(r.addKeyPath(e))},r.onSelect=function(e){r.props.onSelect(e)},r.onDeselect=function(e){r.props.onDeselect(e)},r.getPrefixCls=function(){return"".concat(r.props.rootPrefixCls,"-submenu")},r.getActiveClassName=function(){return"".concat(r.getPrefixCls(),"-active")},r.getDisabledClassName=function(){return"".concat(r.getPrefixCls(),"-disabled")},r.getSelectedClassName=function(){return"".concat(r.getPrefixCls(),"-selected")},r.getOpenClassName=function(){return"".concat(r.props.rootPrefixCls,"-submenu-open")},r.saveMenuInstance=function(e){r.menuInstance=e},r.addKeyPath=function(e){return Object(vt.a)(Object(vt.a)({},e),{},{keyPath:(e.keyPath||[]).concat(r.props.eventKey)})},r.triggerOpenChange=function(e,t){var n=r.props.eventKey,o=function(){r.onOpenChange({key:n,item:Object(Cee.a)(r),trigger:t,open:e})};"mouseenter"===t?r.mouseenterTimeout=setTimeout((function(){o()}),0):o()},r.isChildrenSelected=function(){var e={find:!1};return Gee(r.props.children,r.props.selectedKeys,e),e.find},r.isOpen=function(){return-1!==r.props.openKeys.indexOf(r.props.eventKey)},r.adjustWidth=function(){if(r.subMenuTitle&&r.menuInstance){var e=qe.findDOMNode(r.menuInstance);e.offsetWidth>=r.subMenuTitle.offsetWidth||(e.style.minWidth="".concat(r.subMenuTitle.offsetWidth,"px"))}},r.saveSubMenuTitle=function(e){r.subMenuTitle=e},r.getBaseProps=function(){var e=Object(Cee.a)(r).props;return{mode:"horizontal"===e.mode?"vertical":e.mode,visible:r.props.isOpen,level:e.level+1,inlineIndent:e.inlineIndent,focusable:!1,onClick:r.onSubMenuClick,onSelect:r.onSelect,onDeselect:r.onDeselect,onDestroy:r.onDestroy,selectedKeys:e.selectedKeys,eventKey:"".concat(e.eventKey,"-menu-"),openKeys:e.openKeys,motion:e.motion,onOpenChange:r.onOpenChange,subMenuOpenDelay:e.subMenuOpenDelay,parentMenu:Object(Cee.a)(r),subMenuCloseDelay:e.subMenuCloseDelay,forceSubMenuRender:e.forceSubMenuRender,triggerSubMenuAction:e.triggerSubMenuAction,builtinPlacements:e.builtinPlacements,defaultActiveFirst:e.store.getState().defaultActiveFirst[Xee(e.eventKey)],multiple:e.multiple,prefixCls:e.rootPrefixCls,id:r.internalMenuId,manualRef:r.saveMenuInstance,itemIcon:e.itemIcon,expandIcon:e.expandIcon,direction:e.direction}},r.getMotion=function(e,t){var n=Object(Cee.a)(r).haveRendered,o=r.props,i=o.motion,a=o.rootPrefixCls;return Object(vt.a)(Object(vt.a)({},i),{},{leavedClassName:"".concat(a,"-hidden"),removeOnLeave:!1,motionAppear:n||!t||"inline"!==e})};var o=e.store,i=e.eventKey,a=o.getState().defaultActiveFirst;r.isRootMenu=!1;var c=!1;return a&&(c=a[i]),ate(o,i,c),r}return Object(Cc.a)(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.mode,r=t.parentMenu,o=t.manualRef;o&&o(this),"horizontal"===n&&r.isRootMenu&&this.props.isOpen&&(this.minWidthTimeout=setTimeout((function(){return e.adjustWidth()}),0))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.onDestroy,n=e.eventKey;t&&t(n),this.minWidthTimeout&&clearTimeout(this.minWidthTimeout),this.mouseenterTimeout&&clearTimeout(this.mouseenterTimeout)}},{key:"renderChildren",value:function(e){var t=this,n=this.getBaseProps(),r=this.getMotion(n.mode,n.visible);if(this.haveRendered=!0,this.haveOpened=this.haveOpened||n.visible||n.forceSubMenuRender,!this.haveOpened)return w.createElement("div",null);var o=n.direction;return w.createElement(oo.b,Object.assign({visible:n.visible},r),(function(r){var i=r.className,a=r.style,c=_t()("".concat(n.prefixCls,"-sub"),i,Object(xc.a)({},"".concat(n.prefixCls,"-rtl"),"rtl"===o));return w.createElement(gte,Object.assign({},n,{id:t.internalMenuId,className:c,style:a}),e)}))}},{key:"render",value:function(){var e,t=Object(vt.a)({},this.props),n=t.isOpen,r=this.getPrefixCls(),o="inline"===t.mode,i=_t()(r,"".concat(r,"-").concat(t.mode),(e={},Object(xc.a)(e,t.className,!!t.className),Object(xc.a)(e,this.getOpenClassName(),n),Object(xc.a)(e,this.getActiveClassName(),t.active||n&&!o),Object(xc.a)(e,this.getDisabledClassName(),t.disabled),Object(xc.a)(e,this.getSelectedClassName(),this.isChildrenSelected()),e));this.internalMenuId||(t.eventKey?this.internalMenuId="".concat(t.eventKey,"$Menu"):(ote+=1,this.internalMenuId="$__$".concat(ote,"$Menu")));var a={},c={},s={};t.disabled||(a={onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},c={onClick:this.onTitleClick},s={onMouseEnter:this.onTitleMouseEnter,onMouseLeave:this.onTitleMouseLeave});var l={},u=t.direction;o&&("rtl"===u?l.paddingRight=t.inlineIndent*t.level:l.paddingLeft=t.inlineIndent*t.level);var f={};this.props.isOpen&&(f={"aria-owns":this.internalMenuId});var p=null;"horizontal"!==t.mode&&(p=this.props.expandIcon,"function"==typeof this.props.expandIcon&&(p=w.createElement(this.props.expandIcon,Object(vt.a)({},this.props))));var d=w.createElement("div",Object.assign({ref:this.saveSubMenuTitle,style:l,className:"".concat(r,"-title"),role:"button"},s,c,{"aria-expanded":n},f,{"aria-haspopup":"true",title:"string"==typeof t.title?t.title:void 0}),t.title,p||w.createElement("i",{className:"".concat(r,"-arrow")})),h=this.renderChildren(t.children),m=t.parentMenu.isRootMenu?t.parentMenu.props.getPopupContainer:function(e){return e.parentNode},v=ite[t.mode],y=t.popupOffset?{offset:t.popupOffset}:{},g="inline"===t.mode?"":t.popupClassName;g+="rtl"===u?" ".concat(r,"-rtl"):"";var b=t.disabled,k=t.triggerSubMenuAction,x=t.subMenuOpenDelay,O=t.forceSubMenuRender,C=t.subMenuCloseDelay,_=t.builtinPlacements;Zee.forEach((function(e){return delete t[e]})),delete t.onClick;var E="rtl"===u?Object.assign({},rte,_):Object.assign({},nte,_);return delete t.direction,w.createElement("li",Object.assign({},t,a,{className:i,role:"menuitem"}),o&&d,o&&h,!o&&w.createElement(gt.a,{prefixCls:r,popupClassName:_t()("".concat(r,"-popup"),g),getPopupContainer:m,builtinPlacements:E,popupPlacement:v,popupVisible:n,popupAlign:y,popup:h,action:b?[]:[k],mouseEnterDelay:x,mouseLeaveDelay:C,onPopupVisibleChange:this.onPopupVisibleChange,forceRender:O},d))}}]),n}(w.Component);cte.defaultProps={onMouseEnter:Kee,onMouseLeave:Kee,onTitleMouseEnter:Kee,onTitleMouseLeave:Kee,onTitleClick:Kee,manualRef:Kee,mode:"vertical",title:""};var ste=Object(Eee.b)((function(e,t){var n=e.openKeys,r=e.activeKey,o=e.selectedKeys,i=t.eventKey,a=t.subMenuKey;return{isOpen:n.indexOf(i)>-1,active:r[a]===i,selectedKeys:o}}))(cte);ste.isSubMenu=!0;var lte=ste,ute="menuitem-overflowed",fte=function(e){Object(_c.a)(n,e);var t=Object(_ee.a)(n);function n(){var e;return Object(Oc.a)(this,n),(e=t.apply(this,arguments)).resizeObserver=null,e.mutationObserver=null,e.originalTotalWidth=0,e.overflowedItems=[],e.menuItemSizes=[],e.cancelFrameId=null,e.state={lastVisibleIndex:void 0},e.getMenuItemNodes=function(){var t=e.props.prefixCls,n=qe.findDOMNode(Object(Cee.a)(e));return n?[].slice.call(n.children).filter((function(e){return e.className.split(" ").indexOf("".concat(t,"-overflowed-submenu"))<0})):[]},e.getOverflowedSubMenuItem=function(t,n,r){var o=e.props,i=o.overflowedIndicator,a=o.level,c=o.mode,s=o.prefixCls,l=o.theme;if(1!==a||"horizontal"!==c)return null;var u=e.props.children[0].props,f=(u.children,u.title,u.style),p=Object(yt.a)(u,["children","title","style"]),d=Object(vt.a)({},f),h="".concat(t,"-overflowed-indicator"),m="".concat(t,"-overflowed-indicator");0===n.length&&!0!==r?d=Object(vt.a)(Object(vt.a)({},d),{},{display:"none"}):r&&(d=Object(vt.a)(Object(vt.a)({},d),{},{visibility:"hidden",position:"absolute"}),h="".concat(h,"-placeholder"),m="".concat(m,"-placeholder"));var v=l?"".concat(s,"-").concat(l):"",y={};return Zee.forEach((function(e){void 0!==p[e]&&(y[e]=p[e])})),w.createElement(lte,Object.assign({title:i,className:"".concat(s,"-overflowed-submenu"),popupClassName:v},y,{key:h,eventKey:m,disabled:!1,style:d}),n)},e.setChildrenWidthAndResize=function(){if("horizontal"===e.props.mode){var t=qe.findDOMNode(Object(Cee.a)(e));if(t){var n=t.children;if(n&&0!==n.length){var r=t.children[n.length-1];Qee(r,"display","inline-block");var o=e.getMenuItemNodes(),i=o.filter((function(e){return e.className.split(" ").indexOf(ute)>=0}));i.forEach((function(e){Qee(e,"display","inline-block")})),e.menuItemSizes=o.map((function(e){return Jee(e,!0)})),i.forEach((function(e){Qee(e,"display","none")})),e.overflowedIndicatorWidth=Jee(t.children[t.children.length-1],!0),e.originalTotalWidth=e.menuItemSizes.reduce((function(e,t){return e+t}),0),e.handleResize(),Qee(r,"display","none")}}}},e.handleResize=function(){if("horizontal"===e.props.mode){var t=qe.findDOMNode(Object(Cee.a)(e));if(t){var n=Jee(t);e.overflowedItems=[];var r,o=0;e.originalTotalWidth>n+.5&&(r=-1,e.menuItemSizes.forEach((function(t){(o+=t)+e.overflowedIndicatorWidth<=n&&(r+=1)}))),e.setState({lastVisibleIndex:r})}}},e}return Object(Cc.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(this.setChildrenWidthAndResize(),1===this.props.level&&"horizontal"===this.props.mode){var t=qe.findDOMNode(this);if(!t)return;this.resizeObserver=new ete.a((function(t){t.forEach((function(){var t=e.cancelFrameId;cancelAnimationFrame(t),e.cancelFrameId=requestAnimationFrame(e.setChildrenWidthAndResize)}))})),[].slice.call(t.children).concat(t).forEach((function(t){e.resizeObserver.observe(t)})),"undefined"!=typeof MutationObserver&&(this.mutationObserver=new MutationObserver((function(){e.resizeObserver.disconnect(),[].slice.call(t.children).concat(t).forEach((function(t){e.resizeObserver.observe(t)})),e.setChildrenWidthAndResize()})),this.mutationObserver.observe(t,{attributes:!1,childList:!0,subTree:!1}))}}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect(),cancelAnimationFrame(this.cancelFrameId)}},{key:"renderChildren",value:function(e){var t=this,n=this.state.lastVisibleIndex;return(e||[]).reduce((function(r,o,i){var a=o;if("horizontal"===t.props.mode){var c=t.getOverflowedSubMenuItem(o.props.eventKey,[]);void 0!==n&&-1!==t.props.className.indexOf("".concat(t.props.prefixCls,"-root"))&&(i>n&&(a=w.cloneElement(o,{style:{display:"none"},eventKey:"".concat(o.props.eventKey,"-hidden"),className:"".concat(ute)})),i===n+1&&(t.overflowedItems=e.slice(n+1).map((function(e){return w.cloneElement(e,{key:e.props.eventKey,mode:"vertical-left"})})),c=t.getOverflowedSubMenuItem(o.props.eventKey,t.overflowedItems)));var s=[].concat(Object(Dc.a)(r),[c,a]);return i===e.length-1&&s.push(t.getOverflowedSubMenuItem(o.props.eventKey,[],!0)),s}return[].concat(Object(Dc.a)(r),[a])}),[])}},{key:"render",value:function(){var e=this.props,t=(e.visible,e.prefixCls,e.overflowedIndicator,e.mode,e.level,e.tag),n=e.children,r=(e.theme,Object(yt.a)(e,["visible","prefixCls","overflowedIndicator","mode","level","tag","children","theme"])),o=t;return w.createElement(o,Object.assign({},r),this.renderChildren(n))}}]),n}(w.Component);fte.defaultProps={tag:"div",className:""};var pte=fte;function dte(e,t,n){var r=e.getState();e.setState({activeKey:Object(vt.a)(Object(vt.a)({},r.activeKey),{},Object(xc.a)({},t,n))})}function hte(e){return e.eventKey||"0-menu-"}function mte(e,t){var n,r=t,o=e.children,i=e.eventKey;if(r&&($ee(o,(function(e,t){e&&e.props&&!e.props.disabled&&r===Yee(e,i,t)&&(n=!0)})),n))return r;return r=null,e.defaultActiveFirst?($ee(o,(function(e,t){r||!e||e.props.disabled||(r=Yee(e,i,t))})),r):r}function vte(e){if(e){var t=this.instanceArray.indexOf(e);-1!==t?this.instanceArray[t]=e:this.instanceArray.push(e)}}var yte=function(e){Object(_c.a)(n,e);var t=Object(_ee.a)(n);function n(e){var r;return Object(Oc.a)(this,n),(r=t.call(this,e)).onKeyDown=function(e,t){var n,o=e.keyCode;if(r.getFlatInstanceArray().forEach((function(t){t&&t.props.active&&t.onKeyDown&&(n=t.onKeyDown(e))})),n)return 1;var i=null;return o!==See.a.UP&&o!==See.a.DOWN||(i=r.step(o===See.a.UP?-1:1)),i?(e.preventDefault(),dte(r.props.store,hte(r.props),i.props.eventKey),"function"==typeof t&&t(i),1):void 0},r.onItemHover=function(e){var t=e.key,n=e.hover;dte(r.props.store,hte(r.props),n?t:null)},r.onDeselect=function(e){r.props.onDeselect(e)},r.onSelect=function(e){r.props.onSelect(e)},r.onClick=function(e){r.props.onClick(e)},r.onOpenChange=function(e){r.props.onOpenChange(e)},r.onDestroy=function(e){r.props.onDestroy(e)},r.getFlatInstanceArray=function(){return r.instanceArray},r.step=function(e){var t=r.getFlatInstanceArray(),n=r.props.store.getState().activeKey[hte(r.props)],o=t.length;if(!o)return null;e<0&&(t=t.concat().reverse());var i=-1;if(t.every((function(e,t){return!e||e.props.eventKey!==n||(i=t,!1)})),r.props.defaultActiveFirst||-1===i||(a=t.slice(i,o-1)).length&&!a.every((function(e){return!!e.props.disabled}))){var a,c=(i+1)%o,s=c;do{var l=t[s];if(l&&!l.props.disabled)return l;s=(s+1)%o}while(s!==c);return null}},r.renderCommonMenuItem=function(e,t,n){var o=r.props.store.getState(),i=Object(Cee.a)(r).props,a=Yee(e,i.eventKey,t),c=e.props;if(!c||"string"==typeof e.type)return e;var s=a===o.activeKey,l=Object(vt.a)(Object(vt.a)({mode:c.mode||i.mode,level:i.level,inlineIndent:i.inlineIndent,renderMenuItem:r.renderMenuItem,rootPrefixCls:i.prefixCls,index:t,parentMenu:i.parentMenu,manualRef:c.disabled?void 0:Object(Pc.a)(e.ref,vte.bind(Object(Cee.a)(r))),eventKey:a,active:!c.disabled&&s,multiple:i.multiple,onClick:function(e){(c.onClick||Kee)(e),r.onClick(e)},onItemHover:r.onItemHover,motion:i.motion,subMenuOpenDelay:i.subMenuOpenDelay,subMenuCloseDelay:i.subMenuCloseDelay,forceSubMenuRender:i.forceSubMenuRender,onOpenChange:r.onOpenChange,onDeselect:r.onDeselect,onSelect:r.onSelect,builtinPlacements:i.builtinPlacements,itemIcon:c.itemIcon||r.props.itemIcon,expandIcon:c.expandIcon||r.props.expandIcon},n),{},{direction:i.direction});return("inline"===i.mode||Wee.any)&&(l.triggerSubMenuAction="click"),w.cloneElement(e,l)},r.renderMenuItem=function(e,t,n){if(!e)return null;var o=r.props.store.getState(),i={openKeys:o.openKeys,selectedKeys:o.selectedKeys,triggerSubMenuAction:r.props.triggerSubMenuAction,subMenuKey:n};return r.renderCommonMenuItem(e,t,i)},e.store.setState({activeKey:Object(vt.a)(Object(vt.a)({},e.store.getState().activeKey),{},Object(xc.a)({},e.eventKey,mte(e,e.activeKey)))}),r.instanceArray=[],r}return Object(Cc.a)(n,[{key:"componentDidMount",value:function(){this.props.manualRef&&this.props.manualRef(this)}},{key:"shouldComponentUpdate",value:function(e){return this.props.visible||e.visible||this.props.className!==e.className||!Mw()(this.props.style,e.style)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n="activeKey"in t?t.activeKey:t.store.getState().activeKey[hte(t)],r=mte(t,n);if(r!==n)dte(t.store,hte(t),r);else if("activeKey"in e){r!==mte(e,e.activeKey)&&dte(t.store,hte(t),r)}}},{key:"render",value:function(){var e=this,t=Object(jee.a)({},this.props);this.instanceArray=[];var n={className:_t()(t.prefixCls,t.className,"".concat(t.prefixCls,"-").concat(t.mode)),role:t.role||"menu"};t.id&&(n.id=t.id),t.focusable&&(n.tabIndex=0,n.onKeyDown=this.onKeyDown);var r=t.prefixCls,o=t.eventKey,i=t.visible,a=t.level,c=t.mode,s=t.overflowedIndicator,l=t.theme;return Zee.forEach((function(e){return delete t[e]})),delete t.onClick,w.createElement(pte,Object.assign({},t,{prefixCls:r,mode:c,tag:"ul",level:a,theme:l,visible:i,overflowedIndicator:s},n),w.Children.map(t.children,(function(t,n){return e.renderMenuItem(t,n,o||"0-menu-")})))}}]),n}(w.Component);yte.defaultProps={prefixCls:"rc-menu",className:"",mode:"vertical",level:1,inlineIndent:24,visible:!0,focusable:!0,style:{},manualRef:Kee};var gte=Object(Eee.b)()(yte);function bte(e,t,n){var r=e.prefixCls,o=e.motion,i=e.defaultMotions,a=void 0===i?{}:i,c=e.openAnimation,s=e.openTransitionName,l=t.switchingModeFromInline;if(o)return o;if("object"===Object(mt.a)(c)&&c)Object(Sr.a)(!1,"Object type of `openAnimation` is removed. Please use `motion` instead.");else if("string"==typeof c)return{motionName:"".concat(r,"-open-").concat(c)};if(s)return{motionName:s};var u=a[n];return u||(l?null:a.other)}var wte=function(e){Object(_c.a)(n,e);var t=Object(_ee.a)(n);function n(e){var r;Object(Oc.a)(this,n),(r=t.call(this,e)).inlineOpenKeys=[],r.onSelect=function(e){var t=Object(Cee.a)(r).props;if(t.selectable){var n=r.store.getState().selectedKeys,o=e.key;n=t.multiple?n.concat([o]):[o],"selectedKeys"in t||r.store.setState({selectedKeys:n}),t.onSelect(Object(vt.a)(Object(vt.a)({},e),{},{selectedKeys:n}))}},r.onClick=function(e){var t=r.getRealMenuMode(),n=Object(Cee.a)(r),o=n.store,i=n.props.onOpenChange;"inline"===t||"openKeys"in r.props||(o.setState({openKeys:[]}),i([])),r.props.onClick(e)},r.onKeyDown=function(e,t){r.innerMenu.getWrappedInstance().onKeyDown(e,t)},r.onOpenChange=function(e){var t=Object(Cee.a)(r).props,n=r.store.getState().openKeys.concat(),o=!1,i=function(e){var t=!1;if(e.open)(t=-1===n.indexOf(e.key))&&n.push(e.key);else{var r=n.indexOf(e.key);(t=-1!==r)&&n.splice(r,1)}o=o||t};Array.isArray(e)?e.forEach(i):i(e),o&&("openKeys"in r.props||r.store.setState({openKeys:n}),t.onOpenChange(n))},r.onDeselect=function(e){var t=Object(Cee.a)(r).props;if(t.selectable){var n=r.store.getState().selectedKeys.concat(),o=e.key,i=n.indexOf(o);-1!==i&&n.splice(i,1),"selectedKeys"in t||r.store.setState({selectedKeys:n}),t.onDeselect(Object(vt.a)(Object(vt.a)({},e),{},{selectedKeys:n}))}},r.onMouseEnter=function(e){r.restoreModeVerticalFromInline();var t=r.props.onMouseEnter;t&&t(e)},r.onTransitionEnd=function(e){var t="width"===e.propertyName&&e.target===e.currentTarget,n=e.target.className,o="[object SVGAnimatedString]"===Object.prototype.toString.call(n)?n.animVal:n,i="font-size"===e.propertyName&&o.indexOf("anticon")>=0;(t||i)&&r.restoreModeVerticalFromInline()},r.setInnerMenu=function(e){r.innerMenu=e},r.isRootMenu=!0;var o=e.defaultSelectedKeys,i=e.defaultOpenKeys;return"selectedKeys"in e&&(o=e.selectedKeys||[]),"openKeys"in e&&(i=e.openKeys||[]),r.store=Object(Eee.c)({selectedKeys:o,openKeys:i,activeKey:{"0-menu-":mte(e,e.activeKey)}}),r.state={switchingModeFromInline:!1},r}return Object(Cc.a)(n,[{key:"componentDidMount",value:function(){this.updateMiniStore(),this.updateMenuDisplay()}},{key:"componentDidUpdate",value:function(e){this.updateOpentKeysWhenSwitchMode(e),this.updateMiniStore();var t=this.props,n=t.siderCollapsed,r=t.inlineCollapsed,o=t.onOpenChange;(!e.inlineCollapsed&&r||!e.siderCollapsed&&n)&&o([]),this.updateMenuDisplay()}},{key:"updateOpentKeysWhenSwitchMode",value:function(e){var t=this.props,n=this.store,r=this.inlineOpenKeys,o=n.getState(),i={};"inline"===e.mode&&"inline"!==t.mode&&this.setState({switchingModeFromInline:!0}),"openKeys"in t||((t.inlineCollapsed&&!e.inlineCollapsed||t.siderCollapsed&&!e.siderCollapsed)&&(this.setState({switchingModeFromInline:!0}),this.inlineOpenKeys=o.openKeys.concat(),i.openKeys=[]),(!t.inlineCollapsed&&e.inlineCollapsed||!t.siderCollapsed&&e.siderCollapsed)&&(i.openKeys=r,this.inlineOpenKeys=[])),Object.keys(i).length&&n.setState(i)}},{key:"updateMenuDisplay",value:function(){var e=this.props.collapsedWidth,t=this.store,n=this.prevOpenKeys;this.getInlineCollapsed()&&(0===e||"0"===e||"0px"===e)?(this.prevOpenKeys=t.getState().openKeys.concat(),this.store.setState({openKeys:[]})):n&&(this.store.setState({openKeys:n}),this.prevOpenKeys=null)}},{key:"getRealMenuMode",value:function(){var e=this.props.mode,t=this.state.switchingModeFromInline,n=this.getInlineCollapsed();return t&&n?"inline":n?"vertical":e}},{key:"getInlineCollapsed",value:function(){var e=this.props,t=e.inlineCollapsed,n=e.siderCollapsed;return void 0!==n?n:t}},{key:"restoreModeVerticalFromInline",value:function(){this.state.switchingModeFromInline&&this.setState({switchingModeFromInline:!1})}},{key:"updateMiniStore",value:function(){"selectedKeys"in this.props&&this.store.setState({selectedKeys:this.props.selectedKeys||[]}),"openKeys"in this.props&&this.store.setState({openKeys:this.props.openKeys||[]})}},{key:"render",value:function(){var e=Object(vt.a)({},Object(br.a)(this.props,["collapsedWidth","siderCollapsed","defaultMotions"])),t=this.getRealMenuMode();return e.className+=" ".concat(e.prefixCls,"-root"),"rtl"===e.direction&&(e.className+=" ".concat(e.prefixCls,"-rtl")),delete(e=Object(vt.a)(Object(vt.a)({},e),{},{mode:t,onClick:this.onClick,onOpenChange:this.onOpenChange,onDeselect:this.onDeselect,onSelect:this.onSelect,onMouseEnter:this.onMouseEnter,onTransitionEnd:this.onTransitionEnd,parentMenu:this,motion:bte(this.props,this.state,t)})).openAnimation,delete e.openTransitionName,w.createElement(Eee.a,{store:this.store},w.createElement(gte,Object.assign({},e,{ref:this.setInnerMenu}),this.props.children))}}]),n}(w.Component);wte.defaultProps={selectable:!0,onClick:Kee,onSelect:Kee,onOpenChange:Kee,onDeselect:Kee,defaultSelectedKeys:[],defaultOpenKeys:[],subMenuOpenDelay:.1,subMenuCloseDelay:.1,triggerSubMenuAction:"hover",prefixCls:"rc-menu",className:"",mode:"vertical",style:{},builtinPlacements:{},overflowedIndicator:w.createElement("span",null,"···")};var kte=wte,xte=function(e){Object(_c.a)(n,e);var t=Object(_ee.a)(n);function n(){var e;return Object(Oc.a)(this,n),(e=t.apply(this,arguments)).onKeyDown=function(t){if(t.keyCode===See.a.ENTER)return e.onClick(t),!0},e.onMouseLeave=function(t){var n=e.props,r=n.eventKey,o=n.onItemHover,i=n.onMouseLeave;o({key:r,hover:!1}),i({key:r,domEvent:t})},e.onMouseEnter=function(t){var n=e.props,r=n.eventKey,o=n.onItemHover,i=n.onMouseEnter;o({key:r,hover:!0}),i({key:r,domEvent:t})},e.onClick=function(t){var n=e.props,r=n.eventKey,o=n.multiple,i=n.onClick,a=n.onSelect,c=n.onDeselect,s=n.isSelected,l={key:r,keyPath:[r],item:Object(Cee.a)(e),domEvent:t};i(l),o?s?c(l):a(l):s||a(l)},e.saveNode=function(t){e.node=t},e}return Object(Cc.a)(n,[{key:"componentDidMount",value:function(){this.callRef()}},{key:"componentDidUpdate",value:function(){this.callRef()}},{key:"componentWillUnmount",value:function(){var e=this.props;e.onDestroy&&e.onDestroy(e.eventKey)}},{key:"getPrefixCls",value:function(){return"".concat(this.props.rootPrefixCls,"-item")}},{key:"getActiveClassName",value:function(){return"".concat(this.getPrefixCls(),"-active")}},{key:"getSelectedClassName",value:function(){return"".concat(this.getPrefixCls(),"-selected")}},{key:"getDisabledClassName",value:function(){return"".concat(this.getPrefixCls(),"-disabled")}},{key:"callRef",value:function(){this.props.manualRef&&this.props.manualRef(this)}},{key:"render",value:function(){var e,t=Object(vt.a)({},this.props),n=_t()(this.getPrefixCls(),t.className,(e={},Object(xc.a)(e,this.getActiveClassName(),!t.disabled&&t.active),Object(xc.a)(e,this.getSelectedClassName(),t.isSelected),Object(xc.a)(e,this.getDisabledClassName(),t.disabled),e)),r=Object(vt.a)(Object(vt.a)({},t.attribute),{},{title:"string"==typeof t.title?t.title:void 0,className:n,role:t.role||"menuitem","aria-disabled":t.disabled});"option"===t.role?r=Object(vt.a)(Object(vt.a)({},r),{},{role:"option","aria-selected":t.isSelected}):null!==t.role&&"none"!==t.role||(r.role="none");var o={onClick:t.disabled?null:this.onClick,onMouseLeave:t.disabled?null:this.onMouseLeave,onMouseEnter:t.disabled?null:this.onMouseEnter},i=Object(vt.a)({},t.style);"inline"===t.mode&&("rtl"===t.direction?i.paddingRight=t.inlineIndent*t.level:i.paddingLeft=t.inlineIndent*t.level),Zee.forEach((function(e){return delete t[e]})),delete t.direction;var a=this.props.itemIcon;return"function"==typeof this.props.itemIcon&&(a=w.createElement(this.props.itemIcon,this.props)),w.createElement("li",Object.assign({},Object(br.a)(t,["onClick","onMouseEnter","onMouseLeave","onSelect"]),r,o,{style:i,ref:this.saveNode}),t.children,a)}}]),n}(w.Component);xte.isMenuItem=!0,xte.defaultProps={onSelect:Kee,onMouseEnter:Kee,onMouseLeave:Kee,manualRef:Kee};var Ote=Object(Eee.b)((function(e,t){var n=e.activeKey,r=e.selectedKeys,o=t.eventKey;return{active:n[t.subMenuKey]===o,isSelected:-1!==r.indexOf(o)}}))(xte),Cte=function(e){Object(_c.a)(n,e);var t=Object(_ee.a)(n);function n(){var e;return Object(Oc.a)(this,n),(e=t.apply(this,arguments)).renderInnerMenuItem=function(t){var n=e.props;return(0,n.renderMenuItem)(t,n.index,e.props.subMenuKey)},e}return Object(Cc.a)(n,[{key:"render",value:function(){var e=Object(jee.a)({},this.props),t=e.className,n=void 0===t?"":t,r=e.rootPrefixCls,o="".concat(r,"-item-group-title"),i="".concat(r,"-item-group-list"),a=e.title,c=e.children;return Zee.forEach((function(t){return delete e[t]})),delete e.onClick,delete e.direction,w.createElement("li",Object.assign({},e,{className:"".concat(n," ").concat(r,"-item-group")}),w.createElement("div",{className:o,title:"string"==typeof a?a:void 0},a),w.createElement("ul",{className:i},w.Children.map(c,this.renderInnerMenuItem)))}}]),n}(w.Component);Cte.isMenuItemGroup=!0,Cte.defaultProps={disabled:!0};var _te=Cte,Ete=function(e){var t=e.className,n=e.rootPrefixCls,r=e.style;return w.createElement("li",{className:"".concat(t," ").concat(n,"-item-divider"),style:r})};Ete.defaultProps={disabled:!0,className:"",style:{}};var jte=Ete,Ste=kte,Pte=Object(w.createContext)({inlineCollapsed:!1}),Rte=function(e){Ft()(n,e);var t=Bt()(n);function n(){var e;return Mt()(this,n),(e=t.apply(this,arguments)).onKeyDown=function(t){e.subMenu.onKeyDown(t)},e.saveSubMenu=function(t){e.subMenu=t},e}return It()(n,[{key:"renderTitle",value:function(e){var t=this.props,n=t.icon,r=t.title,o=t.level,i=t.rootPrefixCls;if(!n)return e&&1===o&&r&&"string"==typeof r?w.createElement("div",{className:"".concat(i,"-inline-collapsed-noicon")},r.charAt(0)):r;var a=Rt(r)&&"span"===r.type;return w.createElement(w.Fragment,null,n,a?r:w.createElement("span",null,r))}},{key:"render",value:function(){var e=this,t=this.props,n=t.rootPrefixCls,r=t.popupClassName;return w.createElement(Pte.Consumer,null,(function(t){var o=t.inlineCollapsed,i=t.antdMenuTheme;return w.createElement(lte,ht()({},Object(br.a)(e.props,["icon"]),{title:e.renderTitle(o),ref:e.saveSubMenu,popupClassName:_t()(n,"".concat(n,"-").concat(i),r)}))}))}}]),n}(w.Component);Rte.contextType=Pte,Rte.isSubMenu=1;var Tte=Rte,Dte=n(348),Ate=n.n(Dte),Mte=n(244),Nte=n.n(Mte),Ite=n(81),Lte=n.n(Ite),Fte=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},zte=w.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function Bte(e){var t=e.suffixCls,n=e.tagName,r=e.displayName;return function(e){var o;return(o=function(r){Ft()(i,r);var o=Bt()(i);function i(){var r;return Mt()(this,i),(r=o.apply(this,arguments)).renderComponent=function(o){var i=o.getPrefixCls,a=r.props.prefixCls,c=i(t,a);return w.createElement(e,ht()({prefixCls:c,tagName:n},r.props))},r}return It()(i,[{key:"render",value:function(){return w.createElement(on,null,this.renderComponent)}}]),i}(w.Component)).displayName=r,o}}var Vte=function(e){var t=e.prefixCls,n=e.className,r=e.children,o=e.tagName,i=Fte(e,["prefixCls","className","children","tagName"]),a=_t()(t,n);return w.createElement(o,ht()({className:a},i),r)},qte=function(e){Ft()(n,e);var t=Bt()(n);function n(){var e;return Mt()(this,n),(e=t.apply(this,arguments)).state={siders:[]},e.renderComponent=function(t){var n,r=t.direction,o=e.props,i=o.prefixCls,a=o.className,c=o.children,s=o.hasSider,l=o.tagName,u=Fte(o,["prefixCls","className","children","hasSider","tagName"]),f=_t()(i,(n={},ut()(n,"".concat(i,"-has-sider"),"boolean"==typeof s?s:e.state.siders.length>0),ut()(n,"".concat(i,"-rtl"),"rtl"===r),n),a);return w.createElement(zte.Provider,{value:{siderHook:e.getSiderHook()}},w.createElement(l,ht()({className:f},u),c))},e}return It()(n,[{key:"getSiderHook",value:function(){var e=this;return{addSider:function(t){e.setState((function(e){return{siders:[].concat(Lte()(e.siders),[t])}}))},removeSider:function(t){e.setState((function(e){return{siders:e.siders.filter((function(e){return e!==t}))}}))}}}},{key:"render",value:function(){return w.createElement(on,null,this.renderComponent)}}]),n}(w.Component),Hte=Bte({suffixCls:"layout",tagName:"section",displayName:"Layout"})(qte),Ute=Bte({suffixCls:"layout-header",tagName:"header",displayName:"Header"})(Vte),Wte=Bte({suffixCls:"layout-footer",tagName:"footer",displayName:"Footer"})(Vte),Kte=Bte({suffixCls:"layout-content",tagName:"main",displayName:"Content"})(Vte);Hte.Header=Ute,Hte.Footer=Wte,Hte.Content=Kte;var Yte,Xte=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},$te=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Gte={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},Zte=w.createContext({}),Jte=(Yte=0,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Yte+=1,"".concat(e).concat(Yte)}),Qte=function(e){Ft()(n,e);var t=Bt()(n);function n(e){var r,o,i;return Mt()(this,n),(r=t.call(this,e)).responsiveHandler=function(e){r.setState({below:e.matches});var t=r.props.onBreakpoint;t&&t(e.matches),r.state.collapsed!==e.matches&&r.setCollapsed(e.matches,"responsive")},r.setCollapsed=function(e,t){"collapsed"in r.props||r.setState({collapsed:e});var n=r.props.onCollapse;n&&n(e,t)},r.toggle=function(){var e=!r.state.collapsed;r.setCollapsed(e,"clickTrigger")},r.renderSider=function(e){var t,n=e.getPrefixCls,o=r.props,i=o.prefixCls,a=o.className,c=o.theme,s=o.collapsible,l=o.reverseArrow,u=o.trigger,f=o.style,p=o.width,d=o.collapsedWidth,h=o.zeroWidthTriggerStyle,m=o.children,v=$te(o,["prefixCls","className","theme","collapsible","reverseArrow","trigger","style","width","collapsedWidth","zeroWidthTriggerStyle","children"]),y=r.state,g=y.collapsed,b=y.below,k=n("layout-sider",i),x=Object(br.a)(v,["collapsed","defaultCollapsed","onCollapse","breakpoint","onBreakpoint","siderHook","zeroWidthTriggerStyle"]),O=g?d:p,C=Xte(O)?"".concat(O,"px"):String(O),_=0===parseFloat(String(d||0))?w.createElement("span",{onClick:r.toggle,className:_t()("".concat(k,"-zero-width-trigger"),"".concat(k,"-zero-width-trigger-").concat(l?"right":"left")),style:h},u||w.createElement(Ate.a,null)):null,E={expanded:l?w.createElement(rk.a,null):w.createElement(Nte.a,null),collapsed:l?w.createElement(Nte.a,null):w.createElement(rk.a,null)}[g?"collapsed":"expanded"],j=null!==u?_||w.createElement("div",{className:"".concat(k,"-trigger"),onClick:r.toggle,style:{width:C}},u||E):null,S=ht()(ht()({},f),{flex:"0 0 ".concat(C),maxWidth:C,minWidth:C,width:C}),P=_t()(a,k,"".concat(k,"-").concat(c),(t={},ut()(t,"".concat(k,"-collapsed"),!!g),ut()(t,"".concat(k,"-has-trigger"),s&&null!==u&&!_),ut()(t,"".concat(k,"-below"),!!b),ut()(t,"".concat(k,"-zero-width"),0===parseFloat(C)),t));return w.createElement("aside",ht()({className:P},x,{style:S}),w.createElement("div",{className:"".concat(k,"-children")},m),s||b&&_?j:null)},r.uniqueId=Jte("ant-sider-"),"undefined"!=typeof window&&(o=window.matchMedia),o&&e.breakpoint&&e.breakpoint in Gte&&(r.mql=o("(max-width: ".concat(Gte[e.breakpoint],")"))),i="collapsed"in e?e.collapsed:e.defaultCollapsed,r.state={collapsed:i,below:!1},r}return It()(n,[{key:"componentDidMount",value:function(){this.mql&&(this.mql.addListener(this.responsiveHandler),this.responsiveHandler(this.mql)),this.props.siderHook&&this.props.siderHook.addSider(this.uniqueId)}},{key:"componentWillUnmount",value:function(){this.mql&&this.mql.removeListener(this.responsiveHandler),this.props.siderHook&&this.props.siderHook.removeSider(this.uniqueId)}},{key:"render",value:function(){var e=this.state.collapsed,t=this.props.collapsedWidth;return w.createElement(Zte.Provider,{value:{siderCollapsed:e,collapsedWidth:t}},w.createElement(on,null,this.renderSider))}}],[{key:"getDerivedStateFromProps",value:function(e){return"collapsed"in e?{collapsed:e.collapsed}:null}}]),n}(w.Component);Qte.defaultProps={collapsible:!1,defaultCollapsed:!1,reverseArrow:!1,width:200,collapsedWidth:80,style:{},theme:"dark"};w.Component;var ene=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},tne=function(e){Ft()(n,e);var t=Bt()(n);function n(){var e;return Mt()(this,n),(e=t.apply(this,arguments)).onKeyDown=function(t){e.menuItem.onKeyDown(t)},e.saveMenuItem=function(t){e.menuItem=t},e.renderItem=function(t){var n=t.siderCollapsed,r=e.props,o=r.level,i=r.className,a=r.children,c=r.rootPrefixCls,s=e.props,l=s.title,u=s.icon,f=s.danger,p=ene(s,["title","icon","danger"]);return w.createElement(Pte.Consumer,null,(function(t){var r,s=t.inlineCollapsed,d=t.direction,h=l;void 0===l?h=1===o?a:"":!1===l&&(h="");var m={title:h};n||s||(m.title=null,m.visible=!1);var v=Object(Nw.a)(a).length;return w.createElement(pn,ht()({},m,{placement:"rtl"===d?"left":"right",overlayClassName:"".concat(c,"-inline-collapsed-tooltip")}),w.createElement(Ote,ht()({},p,{className:_t()(i,(r={},ut()(r,"".concat(c,"-item-danger"),f),ut()(r,"".concat(c,"-item-only-child"),1===(u?v+1:v)),r)),title:l,ref:e.saveMenuItem}),u,e.renderItemChildren(s)))}))},e}return It()(n,[{key:"renderItemChildren",value:function(e){var t=this.props,n=t.icon,r=t.children,o=t.level,i=t.rootPrefixCls;return!n||Rt(r)&&"span"===r.type?r&&e&&1===o&&"string"==typeof r?w.createElement("div",{className:"".concat(i,"-inline-collapsed-noicon")},r.charAt(0)):r:w.createElement("span",null,r)}},{key:"render",value:function(){return w.createElement(Zte.Consumer,null,this.renderItem)}}]),n}(w.Component);tne.isMenuItem=!0;var nne=function(){return{height:0,opacity:0}},rne=function(e){return{height:e.scrollHeight,opacity:1}},one=function(e,t){return"height"===t.propertyName},ine={motionName:"ant-motion-collapse",onAppearStart:nne,onEnterStart:nne,onAppearActive:rne,onEnterActive:rne,onLeaveStart:function(e){return{height:e.offsetHeight}},onLeaveActive:nne,onAppearEnd:one,onEnterEnd:one,onLeaveEnd:one,motionDeadline:500},ane=function(e){Ft()(n,e);var t=Bt()(n);function n(e){var r;return Mt()(this,n),(r=t.call(this,e)).renderMenu=function(e){var t=e.getPopupContainer,n=e.getPrefixCls,o=e.direction,i=r.props,a=i.prefixCls,c=i.className,s=i.theme,l={horizontal:{motionName:"slide-up"},inline:ine,other:{motionName:"zoom-big"}},u=n("menu",a),f=_t()(c,"".concat(u,"-").concat(s),ut()({},"".concat(u,"-inline-collapsed"),r.getInlineCollapsed()));return w.createElement(Pte.Provider,{value:{inlineCollapsed:r.getInlineCollapsed()||!1,antdMenuTheme:s,direction:o}},w.createElement(Ste,ht()({getPopupContainer:t},r.props,{className:f,prefixCls:u,direction:o,defaultMotions:l})))},Pr(!("inlineCollapsed"in e&&"inline"!==e.mode),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),Pr(!(void 0!==e.siderCollapsed&&"inlineCollapsed"in e),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead."),r}return It()(n,[{key:"getInlineCollapsed",value:function(){var e=this.props,t=e.inlineCollapsed,n=e.siderCollapsed;return void 0!==n?n:t}},{key:"render",value:function(){return w.createElement(on,null,this.renderMenu)}}]),n}(w.Component);ane.defaultProps={className:"",theme:"light",focusable:!1};var cne=function(e){Ft()(n,e);var t=Bt()(n);function n(){return Mt()(this,n),t.apply(this,arguments)}return It()(n,[{key:"render",value:function(){var e=this;return w.createElement(Zte.Consumer,null,(function(t){return w.createElement(ane,ht()({},e.props,t))}))}}]),n}(w.Component);cne.Divider=jte,cne.Item=tne,cne.SubMenu=Tte,cne.ItemGroup=_te;n(620);var sne=cne,lne=(n(214),{adjustX:1,adjustY:1}),une=[0,0],fne={topLeft:{points:["bl","tl"],overflow:lne,offset:[0,-4],targetOffset:une},topCenter:{points:["bc","tc"],overflow:lne,offset:[0,-4],targetOffset:une},topRight:{points:["br","tr"],overflow:lne,offset:[0,-4],targetOffset:une},bottomLeft:{points:["tl","bl"],overflow:lne,offset:[0,4],targetOffset:une},bottomCenter:{points:["tc","bc"],overflow:lne,offset:[0,4],targetOffset:une},bottomRight:{points:["tr","br"],overflow:lne,offset:[0,4],targetOffset:une}};var pne=w.forwardRef((function(e,t){var n=e.arrow,r=void 0!==n&&n,o=e.prefixCls,i=void 0===o?"rc-dropdown":o,a=e.transitionName,c=e.animation,s=e.align,l=e.placement,u=void 0===l?"bottomLeft":l,f=e.placements,p=void 0===f?fne:f,d=e.getPopupContainer,h=e.showAction,m=e.hideAction,v=e.overlayClassName,y=e.overlayStyle,g=e.visible,b=e.trigger,k=void 0===b?["hover"]:b,x=Object(yt.a)(e,["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"]),O=w.useState(),C=Object(Ac.a)(O,2),_=C[0],E=C[1],j="visible"in e?g:_,S=w.useRef(null);w.useImperativeHandle(t,(function(){return S.current}));var P,R,T,D,A,M,N=function(){var t=e.overlay;return"function"==typeof t?t():t},I=function(t){var n=e.onOverlayClick,r=N().props;E(!1),n&&n(t),r.onClick&&r.onClick(t)},L=function(){var e=N(),t={prefixCls:"".concat(i,"-menu"),onClick:I};return"string"==typeof e.type&&delete t.prefixCls,w.createElement(w.Fragment,null,r&&w.createElement("div",{className:"".concat(i,"-arrow")}),w.cloneElement(e,t))},F=m;return F||-1===k.indexOf("contextMenu")||(F=["click"]),w.createElement(gt.a,Object.assign({},x,{prefixCls:i,ref:S,popupClassName:_t()(v,Object(xc.a)({},"".concat(i,"-show-arrow"),r)),popupStyle:y,builtinPlacements:p,action:k,showAction:h,hideAction:F||[],popupPlacement:u,popupAlign:s,popupTransitionName:a,popupAnimation:c,popupVisible:j,stretch:(A=e.minOverlayWidthMatchTrigger,M=e.alignPoint,("minOverlayWidthMatchTrigger"in e?A:!M)?"minWidth":""),popup:"function"==typeof e.overlay?L:L(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;E(t),"function"==typeof n&&n(t)},getPopupContainer:d}),(R=e.children,T=R.props?R.props:{},D=_t()(T.className,void 0!==(P=e.openClassName)?P:"".concat(i,"-open")),_&&R?w.cloneElement(R,{className:D}):R))})),dne=n(172),hne=n.n(dne),mne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},vne=vo.Group,yne=function(e){var t=w.useContext(rn),n=t.getPopupContainer,r=t.getPrefixCls,o=t.direction,i=e.prefixCls,a=e.type,c=e.disabled,s=e.onClick,l=e.htmlType,u=e.children,f=e.className,p=e.overlay,d=e.trigger,h=e.align,m=e.visible,v=e.onVisibleChange,y=e.placement,g=e.getPopupContainer,b=e.href,k=e.icon,x=void 0===k?w.createElement(hne.a,null):k,O=e.title,C=e.buttonsRender,_=mne(e,["prefixCls","type","disabled","onClick","htmlType","children","className","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","icon","title","buttonsRender"]),E=r("dropdown-button",i),j={align:h,overlay:p,disabled:c,trigger:c?[]:d,onVisibleChange:v,getPopupContainer:g||n};"visible"in e&&(j.visible=m),j.placement="placement"in e?y:"rtl"===o?"bottomLeft":"bottomRight";var S=C([w.createElement(vo,{type:a,disabled:c,onClick:s,htmlType:l,href:b,title:O},u),w.createElement(vo,{type:a,icon:x})]),P=pt()(S,2),R=P[0],T=P[1];return w.createElement(vne,ht()({},_,{className:_t()(E,f)}),R,w.createElement(wne,j,T))};yne.__ANT_BUTTON=!0,yne.defaultProps={type:"default",buttonsRender:function(e){return e}};var gne=yne,bne=(an("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight"),function(e){var t,n,r,o,i=w.useContext(rn),a=i.getPopupContainer,c=i.getPrefixCls,s=i.direction,l=e.arrow,u=e.prefixCls,f=e.children,p=e.trigger,d=e.disabled,h=e.getPopupContainer,m=e.overlayClassName,v=c("dropdown",u),y=w.Children.only(f),g=Dt(y,{className:_t()(y.props.className,"".concat(v,"-trigger"),ut()({},"".concat(v,"-rtl"),"rtl"===s)),disabled:d}),b=_t()(m,ut()({},"".concat(v,"-rtl"),"rtl"===s)),k=d?[]:p;return k&&-1!==k.indexOf("contextMenu")&&(t=!0),w.createElement(pne,ht()({arrow:l,alignPoint:t},e,{overlayClassName:b,prefixCls:v,getPopupContainer:h||a,transitionName:(n=e.placement,r=void 0===n?"":n,o=e.transitionName,void 0!==o?o:r.indexOf("top")>=0?"slide-down":"slide-up"),trigger:k,overlay:function(){return function(t){var n,r=e.overlay;n="function"==typeof r?r():r;var o=(n=w.Children.only("string"==typeof n?w.createElement("span",null,n):n)).props;Pr(!o.mode||"vertical"===o.mode,"Dropdown",'mode="'.concat(o.mode,"\" is not supported for Dropdown's Menu."));var i=o.selectable,a=void 0!==i&&i,c=o.focusable,s=void 0===c||c,l=w.createElement("span",{className:"".concat(t,"-menu-submenu-arrow")},w.createElement(rk.a,{className:"".concat(t,"-menu-submenu-arrow-icon")}));return"string"==typeof n.type?n:Dt(n,{mode:"vertical",selectable:a,focusable:s,expandIcon:l})}(v)},placement:function(){var t=e.placement;return void 0!==t?t:"rtl"===s?"bottomRight":"bottomLeft"}()}),g)});bne.Button=gne,bne.defaultProps={mouseEnterDelay:.15,mouseLeaveDelay:.1};var wne=bne,kne=wne;n(629);function xne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function One(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xne(Object(n),!0).forEach((function(t){Cne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ne(){return(_ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ene(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var jne=k.a.forwardRef((function(e,t){var n=e.className,r=e.overlayClassName,o=Ene(e,["className","overlayClassName"]);return k.a.createElement(kne,_ne({className:_t()(n,"larkui-dropdown-trigger"),overlayClassName:_t()(r,"larkui-dropdown"),ref:t},o))}));jne.propTypes=One(One({},kne.DropDownProps),{},{className:st.a.string,overlayClassName:st.a.string}),Do()(jne,kne);var Sne=jne;function Pne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pne(Object(n),!0).forEach((function(t){Tne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dne(){return(Dne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ane(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Mne=k.a.forwardRef((function(e,t){var n=e.className,r=e.overlayClassName,o=e.overlay,i=e.children,a=Ane(e,["className","overlayClassName","overlay","children"]),c=o?o.props:{};return k.a.createElement(kne.Button,Dne({className:_t()(n,"larkui-dropdown-trigger"),overlay:k.a.cloneElement(o,{className:_t()(c.className,r,"larkui-dropdown-menu")}),ref:t},a),i)}));Mne.propTypes=Rne(Rne({},kne.DropdownButtonProps),{},{className:st.a.string,overlayClassName:st.a.string,overlay:st.a.node,children:st.a.any}),Do()(Mne,kne.Button);var Nne=Mne,Ine=n(92),Lne=n.n(Ine),Fne=n(173),zne=n.n(Fne);n(632);function Bne(){return(Bne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Vne=function(e){var t=e.className,n=e.overlayClassName,r=e.currentValue,o=e.menus,i=e.disableMenus,a=void 0===i?[]:i,c=e.disableTip,s=e.handleChange,l=e.triggerPrefix,u=o.find((function(e){return e.value===r}));return k.a.createElement(Sne,Bne({},e,{trigger:["click"],className:_t()("larkui-dropdown-selector",t),overlayClassName:_t()("larkui-dropdown-selector-menu",n),overlay:k.a.createElement(sne,{selectedKeys:[r]},o.map((function(e){var t=a.some((function(t){return t.value===e.value})),n=k.a.createElement("span",{className:"larkui-dropdown-selector-option"},k.a.createElement("span",{className:"larkui-dropdown-selector-option-name"},e.name),e.value===r&&k.a.createElement("span",{className:"larkui-dropdown-selector-option-checked"},k.a.createElement(zne.a,null)));return k.a.createElement(sne.Item,{key:e.value,disabled:t,onClick:function(){s(e.value)}},t&&c?k.a.createElement(dn,{title:c,placement:"right"},n):n)})),e.externalActions&&k.a.createElement(sne.Divider,null),e.externalActions&&e.externalActions())}),k.a.createElement("span",{className:"larkui-dropdown-selector-trigger"},k.a.createElement("span",null,l),k.a.createElement("span",null,u?u.name:Fo("请选择")),k.a.createElement("span",{className:"larkui-dropdown-selector-trigger-icon"},k.a.createElement(Lne.a,null))))};Vne.propTypes={className:st.a.string,overlayClassName:st.a.string,currentValue:st.a.string.isRequired,menus:st.a.arrayOf(st.a.shape({name:st.a.string.isRequired,value:st.a.string.isRequired})).isRequired,disableMenus:st.a.array,disableTip:st.a.node,handleChange:st.a.func.isRequired,externalActions:st.a.func,triggerPrefix:st.a.node};var qne=Vne;Sne.Selector=qne,Sne.Button=Nne;var Hne=Sne;n(618);function Une(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Wne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yne(Object(n),!0).forEach((function(t){$ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gne(e){return e.overlay?e.overlay:k.a.createElement(sne,{onClick:e.onSelect,className:_t()("lake-diagram-toolbar-dropdown-menu",e.menuClassName)},e.data.map((function(e){return k.a.createElement(sne.Item,{key:e.key},k.a.createElement("span",{className:"lake-icon lake-icon-".concat(e.icon)}))})))}function Zne(e){var t=e.command,n=e.name;return k.a.createElement("div",{className:"lake-diagram-toolbar-command lake-diagram-toolbar-dropdown"},k.a.createElement(Hne,{overlay:Gne(Xne(Xne({},e),{},{onSelect:function(n){var r=n.key;e.onSelect?e.onSelect({key:r}):e.execCommand(t,{key:r})}}))},k.a.createElement(Oee,{"data-testid":n},k.a.createElement("span",{className:"lake-icon lake-icon-".concat(e.icon)}))))}function Jne(e){var t=e.name,n=e.command,r=e.defaultKey,o=e.data,i=Wne(Object(w.useState)(r),2),a=i[0],c=i[1],s=o.find((function(e){return e.key===a}));return k.a.createElement("div",{className:"lake-diagram-toolbar-command lake-diagram-toolbar-dropdown"},k.a.createElement(Hne.Button,{onClick:function(){e.onClick?e.onClick({key:a}):e.execCommand(n,{key:a})},overlay:Gne(Xne(Xne({},e),{},{onSelect:function(t){var n=t.key;c(n),e.onSelect&&e.onSelect({key:n})}})),icon:k.a.createElement("span",{className:"lake-icon lake-icon-dropdown-arrow"}),"data-testid":t},k.a.createElement("span",{className:"lake-icon lake-icon-".concat(e.icon||s.icon)})))}function Qne(e){var t=e.mode,n=Une(e,["mode"]);return"button"===t?k.a.createElement(Jne,n):k.a.createElement(Zne,n)}Gne.propTypes={data:st.a.array,overlay:st.a.node,onSelect:st.a.func,menuClassName:st.a.string},Zne.propTypes={command:st.a.string,name:st.a.string,icon:st.a.string,onSelect:st.a.func,execCommand:st.a.func},Jne.propTypes={command:st.a.string,name:st.a.string,defaultKey:st.a.string,title:st.a.string,data:st.a.array,icon:st.a.string,onClick:st.a.func,onSelect:st.a.func,execCommand:st.a.func},Qne.propTypes={mode:st.a.string};var ere=Qne;n(638);function tre(e){var t=e.name,n=e.icon,r=e.accept,o=e.disabled,i=e.title,a=e.onChange,c=Object(w.useRef)();return k.a.createElement("div",{className:"lake-diagram-toolbar-command","data-testid":t},k.a.createElement(dn,{disabled:o||!i,placement:"bottom",title:k.a.createElement("div",{className:"lake-diagram-toolbar-tooltip"},i&&k.a.createElement("div",{className:"lake-diagram-toolbar-tooltip-title"},i))},k.a.createElement(Oee,{className:"lake-diagram-toolbar-upload",onClick:function(){return c.current.click()},disabled:o},k.a.createElement("span",{className:"lake-icon lake-icon-".concat(n)}),k.a.createElement("input",{type:"file",accept:r,onChange:a,ref:c}))))}tre.propTypes={name:st.a.string,icon:st.a.string,accept:st.a.string,disabled:st.a.bool,title:st.a.string,onChange:st.a.func};var nre=tre;function rre(){return(rre=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ore(e){var t=e.name,n=e.title,r=e.hotkey,o=e.icon,i=e.label,a=e.command,c=e.disabled,s=e.active,l=Object.keys(e).reduce((function(t,n){return n.startsWith("data-")&&(t[n]=e[n]),t}),{});return k.a.createElement("div",rre({className:"lake-diagram-toolbar-command","data-testid":t},l),k.a.createElement(dn,{disabled:c||!(n||r),placement:"bottom",title:k.a.createElement("div",{className:"lake-diagram-toolbar-tooltip"},n&&k.a.createElement("div",{className:"lake-diagram-toolbar-tooltip-title"},n),r&&k.a.createElement("div",{className:"lake-diagram-toolbar-tooltip-hotkey"},r))},k.a.createElement(Oee,{onClick:function(t){t.stopPropagation(),e.onClick?e.onClick():e.execCommand(a)},disabled:c,className:_t()({"lake-button-active":s})},k.a.createElement("span",{className:"lake-icon lake-icon-".concat(o)}),i&&k.a.createElement("span",{className:"lake-diagram-toolbar-command-label"},i))))}function ire(e){switch(e.type){case"separator":return k.a.createElement("div",{className:"lake-diagram-toolbar-separator"});case"dropdown":return k.a.createElement(ere,e);case"upload":return k.a.createElement(nre,e);default:return k.a.createElement(ore,e)}}ore.defaultProps={disabled:!0},ore.propTypes={disabled:st.a.bool,name:st.a.string,title:st.a.string,hotkey:st.a.string,type:st.a.string,icon:st.a.string,label:st.a.string,command:st.a.string,onClick:st.a.func,execCommand:st.a.func,active:st.a.bool},ire.propTypes={type:st.a.string};var are=ire;n(639);function cre(){return(cre=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sre(e){var t=e.commands,n=e.extra,r=e.execCommand;return k.a.createElement("div",{className:_t()("lake-diagram-toolbar",e.className),"data-lake_prevent_click_unselect":"true"},k.a.createElement("div",{className:"lake-diagram-toolbar-title"},e.title),k.a.createElement("div",{className:"lake-diagram-toolbar-body"},t.map((function(e,t){return k.a.createElement(are,cre({key:"".concat(e.name||e.type,"-").concat(t),execCommand:r},e))}))),k.a.createElement("div",{className:"lake-diagram-toolbar-extra"},n))}sre.defaultProps={commands:[],toggleProperties:function(){},domContainer:null},sre.propTypes={className:st.a.string,commands:st.a.array,domContainer:st.a.object,title:st.a.node,extra:st.a.node,execCommand:st.a.func},sre.Control=are;var lre=sre,ure=["http:","https:","data:","dingtalk:","ftp:","mailto:"];function fre(e){return function(e){return"string"==typeof e&&!(e=e.toLowerCase()).startsWith("data:text/html")&&!!e.match(/^\S*$/)&&(!!ure.some((function(t){return e.startsWith(t)}))||!(!e.startsWith("./")&&!e.startsWith("/"))||e.indexOf(":")<0)}(e)?e:""}n(640);function pre(e){return(pre="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dre(){return(dre=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hre(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mre(e,t){return(mre=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vre(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gre(e);if(t){var o=gre(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yre(this,n)}}function yre(e,t){return!t||"object"!==pre(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gre(e){return(gre=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bre={"zh-cn":{text:"文本",link:"链接",editLink:"编辑链接",addDescription:"添加描述",linkAddress:"链接地址",deleteLink:"删除链接",confirm:"确定",pleaseInputLink:"请输入链接",emptyLink:"空链接",pleaseEnterCorrectLink:"请输入正确的链接",selectedContent:"多行文字被选中，暂不支持修改文本"},en:{text:"Text",link:"Link",editLink:"Edit link",addDescription:"Add a description",linkAddress:"Link address",deleteLink:"Delete link",confirm:"Confirm",pleaseInputLink:"Please input link address",emptyLink:"Empty link",pleaseEnterCorrectLink:"Please enter the correct link",selectedContent:"Selected in the document"}};bre["en-us"]=bre.en;var wre=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mre(e,t)}(i,e);var t,n,r,o=vre(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(t=o.call(this,e)).props,r=n.lang,a=n.target;return t.locale=bre[r],t.nativeEvents=[],t.rect=a.getBoundingClientRect(),t.link=a.getAttribute("href"),t.isMultiLink=a.length>1,t.state={invalidLink:t.isInvalidLink(t.link)},t.preventScrollCancel=!1,t}return t=i,(n=[{key:"adjustPosition",value:function(){var e=this.container,t=this.props.target,n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=window.pageYOffset+r.bottom+4,i=window.pageXOffset+r.left;o+n.height>window.innerHeight-20&&(o=window.pageYOffset+r.top-n.height-4),n.right>window.innerWidth-20?i=window.pageXOffset+window.innerWidth-n.width-4:i<20&&(i=window.pageXOffset+20),e.style.top="".concat(o,"px"),e.style.left="".concat(i,"px")}},{key:"componentDidMount",value:function(){this.bindNativeEvents(),this.adjustPosition()}},{key:"componentDidUpdate",value:function(){this.adjustPosition()}},{key:"componentWillUnmount",value:function(){this.removeNativeEvents()}},{key:"bindNativeEvents",value:function(){var e=this,t=this.container,n=!1;this.addNativeEvent(window,"scroll",(function(t){!0!==e.preventScrollCancel?t.target.className&&-1!==t.target.className.indexOf("lake-link")||e.cancel():t.preventDefault()}),!0),this.addNativeEvent(window,"resize",(function(){e.cancel()}),!0),this.addNativeEvent(window,"mousedown",(function(e){var r=e.target;t.contains(r)||(n=!0)}),!0),this.addNativeEvent(window,"mouseup",(function(r){var o=r.target;n&&!t.contains(o)&&e.cancel(),n=!1}))}},{key:"cancel",value:function(){var e=this.props,t=e.onCancel,n=e.target;t({link:n&&n.getAttribute("href")})}},{key:"addNativeEvent",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,r),this.nativeEvents.push({dom:e,name:t,callback:n,useCapture:r})}},{key:"removeNativeEvents",value:function(){this.nativeEvents.forEach((function(e){var t=e.dom,n=e.name,r=e.callback,o=e.useCapture;t.removeEventListener(n,r,o)})),this.nativeEvents=[]}},{key:"confirm",value:function(){var e=this.props.onConfirm,t=this.state.invalidLink,n=this.getText(),r=this.getLink();t||e(n,r)}},{key:"renderPreview",value:function(){var e,t=this.props,n=t.onDeleteLink,r=t.shouldTargetBlank,o=t.onSwitchToEdit,i=t.dataset,a=this.getLink(),c=this.locale,s=a||c.emptyLink;return e=a?r(a)?k.a.createElement("a",{className:"lake-diagram-link-editor-link-container",href:fre(a),target:"_blank"},s):k.a.createElement("a",{className:"lake-diagram-link-editor-link-container",href:fre(a)},s):k.a.createElement("span",{className:"lake-diagram-link-editor-link-empty"},s),k.a.createElement("div",{className:"lake-diagram-link-editor lake-diagram-link-editor-preview"},k.a.createElement("span",{className:"lake-icon lake-icon-link"}),e,k.a.createElement("span",{className:"lake-diagram-link-editor-slash"}),k.a.createElement(dn,{title:c.editLink},k.a.createElement("a",dre({},i,{className:"lake-icon lake-icon-edit lake-diagram-link-editor-button",onClick:function(){o()}}))),k.a.createElement(dn,{title:c.deleteLink},k.a.createElement("a",dre({},i,{className:"lake-icon lake-icon-unlink lake-diagram-link-editor-button",onClick:n}))))}},{key:"isInvalidLink",value:function(e){return function(e){return!e||e&&!e.match(/^[\x00-\x7F]/)||e.startsWith("javascript:")}(e)}},{key:"renderEditorContent",value:function(){var e=this,t=this.props.dataset,n=this.state.invalidLink,r=this.getText(),o=this.getLink(),i=this.locale;return k.a.createElement("div",{className:"lake-diagram-link-editor lake-diagram-link-editor-edit",onKeyDown:function(t){var n=t.which,r=e.state.invalidLink;13!==n||r||e.confirm(),27===n&&e.cancel()}},k.a.createElement("p",null,i.text),k.a.createElement("p",null,k.a.createElement(oi,{className:"lake-link-text-input",defaultValue:this.isMultiLink?i.selectedContent:r,ref:function(t){e.textInputDom=t},placeholder:i.addDescription,disabled:this.isMultiLink,onChange:function(t){e.text=t.target.value}})),k.a.createElement("p",null,i.link),k.a.createElement("p",null,k.a.createElement(oi,{className:"lake-link-link-input",defaultValue:o,ref:function(t){e.preventScrollCancel=!0,t&&t.focus(),e.linkInputDom=t,setTimeout((function(){e.preventScrollCancel=!1}),32)},placeholder:i.linkAddress,onChange:function(t){e.link=t.target.value,e.setState({invalidLink:e.isInvalidLink(e.link)})}})),n&&""!==o?k.a.createElement("p",{className:"lake-link-invalid-link"},i.pleaseEnterCorrectLink):"",k.a.createElement("p",null,k.a.createElement(Oee,dre({},t,{className:"lake-link-confirm-button",onClick:function(){e.confirm()},disabled:!this.link||n}),i.confirm)))}},{key:"getLink",value:function(){var e=this.props.getLink;return this.link&&e(this.link)||""}},{key:"getText",value:function(){var e=this.props.target;return this.isMultiLink?"":this.text||e.textContent}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.type,o=n.className,i=n.dataset;return e="edit"===r?this.renderEditorContent():this.renderPreview(),k.a.createElement("div",dre({},i,{className:o,ref:function(e){t.container=e},style:{top:"0px",position:"absolute",zIndex:"1400"}}),e)}}])&&hre(t.prototype,n),r&&hre(t,r),i}(k.a.Component);wre.defaultProps={dataset:{},className:null,type:"preview",lang:"zh-cn",onDeleteLink:function(){},onSwitchToEdit:function(){},onConfirm:function(){},onCancel:function(){},shouldTargetBlank:function(){},getLink:function(e){return e}},wre.propTypes={dataset:st.a.object,className:st.a.string,target:st.a.object,type:st.a.string,lang:st.a.string,onDeleteLink:st.a.func,onSwitchToEdit:st.a.func,onConfirm:st.a.func,onCancel:st.a.func,shouldTargetBlank:st.a.func,getLink:st.a.func};var kre=wre;n(641);function xre(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ore(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ore(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ore(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cre(e){var t=window.location,n=t.origin,r=t.pathname,o=(n+r.replace("/edit","")).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp("^".concat(o,"#"));return e=e.replace(i,"#").trim(),/^(\w+\.)+\w+(\/|$)/.test(e)&&(e="https://"+e),e}function _re(e){var t=e.diagram,n=xre(Object(w.useState)(null),2),r=n[0],o=n[1],i=xre(Object(w.useState)("preview"),2),a=i[0],c=i[1];return Object(w.useEffect)((function(){function e(e,t){o(e),c(t)}function n(t){var n=t.result,r=t.target,o=t.name;n&&"createLink"===o&&e(r,"edit")}function r(){o(null)}var i=nm()((function(){var n=t.contentEditor.getRange();if(n){var r=t.contentEditor.closest(n.commonAncestorContainer,"a");r?e(r,"preview"):o(null)}}),16);return t.contentEditor.on("execcommand",n),t.contentEditor.on("endedit",r),t.contentEditor.on("selectionchange",i),function(){t.contentEditor.off("execcommand",n),t.contentEditor.off("endedit",r),t.contentEditor.off("selectionchange",i)}}),[t]),r?k.a.createElement(kre,{dataset:{"data-lake_prevent_click_unselect":!0},target:r,type:a,lang:YN.locale,getLink:Cre,onConfirm:function(e,n){r.textContent=e,r.setAttribute("href",n),setTimeout((function(){if(r&&t.viewportContainer.contains(r)){var e=window.getSelection(),n=document.createRange();n.selectNode(r),n.collapse(),e.removeAllRanges(),e.addRange(n)}}),16),o(null)},onSwitchToEdit:function(){c("edit")},onCancel:function(){o(null)},onDeleteLink:function(){r.removeAttribute("href"),function(e){for(var t=e.firstChild;t;){var n=t.nextSibling;e.parentNode.insertBefore(t,e),t=n}e.parentNode.removeChild(e)}(r),o(null)},shouldTargetBlank:function(){return!0}}):k.a.createElement("div",null)}_re.defaultProps={diagram:null},_re.propTypes={diagram:st.a.object.isRequired};var Ere=_re;function jre(e){var t=Object(w.useRef)(),n=e.groups,r=Object(w.useMemo)((function(){return new R8({groups:n})}),[n]);return Object(w.useEffect)((function(){t.current.appendChild(r.rendererElement),t.current.setAttribute("height",r.height)}),[r]),Object(w.useEffect)((function(){function t(t){var n=t.shape,r=t.group;e.onSelect&&e.onSelect({key:n,group:r})}return r.on("shape:select",t),function(){r.off("shape:select",t)}}),[e.onSelect]),k.a.createElement("svg",{className:_t()(e.className,"lake-prevent-card-activated"),"data-lake_prevent_click_unselect":"true",ref:t,onClick:function(t){e.onClick&&e.onClick(t)},width:208,style:{boxShadow:"0 0 4px rgba(0, 0, 0, 0.08)"},"data-testid":"shape-overlay"})}jre.defaultProps={groups:["flowchart"]},jre.propTypes={onClick:st.a.func,onSelect:st.a.func,className:st.a.string,groups:st.a.arrayOf(st.a.string)};var Sre=jre;n(642);function Pre(e){return(Pre="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tre(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dre(e,t){return(Dre=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Are(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nre(e);if(t){var o=Nre(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mre(this,n)}}function Mre(e,t){return!t||"object"!==Pre(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nre(e){return(Nre=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ire=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dre(e,t)}(i,e);var t,n,r,o=Are(i);function i(){return Rre(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"_setZoom",value:function(e){var t=this.props,n=t.onChange,r=t.minZoom,o=t.maxZoom;e<r&&(e=r),e>o&&(e=o),n(e)}},{key:"_clickZoomIn",value:function(){var e=this.props,t=e.zoomStep,n=e.zoom;this._setZoom(n+t)}},{key:"_clickZoomOut",value:function(){var e=this.props,t=e.zoomStep,n=e.zoom;this._setZoom(n-t)}},{key:"render",value:function(){var e=this,t=this.props.zoom,n=k.a.createElement(sne,{className:"lake-zoom-tool-menu",onClick:function(t){var n=t.item;e._setZoom(n.props.value)}},k.a.createElement(sne.Item,{value:"resetView"},XN("回到中心")),k.a.createElement(sne.Item,{value:.2},"20%"),k.a.createElement(sne.Item,{value:.5},"50%"),k.a.createElement(sne.Item,{value:1},"100%"),k.a.createElement(sne.Item,{value:2},"200%"),k.a.createElement(sne.Item,{value:"autoFit"},XN("适应画布")));return k.a.createElement("div",{className:"lake-zoom-tool",ref:function(t){e.zoomToolDOM=t}},k.a.createElement("span",{className:"lake-icon lake-icon-zoom-out",onClick:this._clickZoomOut.bind(this)}),k.a.createElement(Hne,{className:"lake-zoom-tool-dropdown",overlay:n,placement:"bottomCenter",trigger:["click"],getPopupContainer:function(){return e.zoomToolDOM}},k.a.createElement("span",{className:"lake-zoom-tool-precent"},Math.round(100*t)+"%")),k.a.createElement("span",{className:"lake-icon lake-icon-zoom-in",onClick:this._clickZoomIn.bind(this)}))}}])&&Tre(t.prototype,n),r&&Tre(t,r),i}(k.a.Component);function Lre(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fre(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fre(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fre(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zre(e){var t=e.diagram,n=Lre(Object(w.useState)(null),2),r=n[0],o=n[1];return Object(w.useEffect)((function(){if(t){o(t.viewport.zoom);var e=nm()((function(){o(t.viewport.zoom)}),32);return t.on("afterviewportchange",e),function(){t.off("afterviewportchange",e)}}}),[r,t]),t?k.a.createElement(Ire,{zoom:r,onChange:function(e){"autoFit"===e?t.viewport.autoFit():"resetView"===e?t.viewport.focusFirstRoot():t.viewport.setViewport(e)}}):k.a.createElement("div",null)}Ire.defaultProps={zoom:1,onChange:function(){},minZoom:.2,maxZoom:2,zoomStep:.2},Ire.propTypes={zoom:st.a.number,onChange:st.a.func,minZoom:st.a.number,maxZoom:st.a.number,zoomStep:st.a.number},zre.propTypes={diagram:st.a.object};var Bre=zre;function Vre(e,t){var n=e.disabled,r=e.title,o=e.key,i=e.hotkey;if("separator"===e.type)return k.a.createElement("li",{key:"separator-".concat(t),className:"lake-context-menu-separator"});if(e.data)return k.a.createElement(sne.SubMenu,{key:o,title:r,disabled:n,popupClassName:"lake-context-submenu lake-prevent-card-activated lake-diagram-dialog-popover lake-diagram-prevent-mouse-select"},e.data.map(Vre));var a="string"==typeof e.icon?k.a.createElement("span",{className:"lake-icon lake-icon-".concat(e.icon)}):e.icon;return k.a.createElement(sne.Item,{key:o,className:"ant-menu-item",disabled:n},a,r,i&&k.a.createElement("span",{className:"lake-context-menu-hotkey"},i))}Vre.propTypes={title:st.a.string,key:st.a.string,hotkey:st.a.string,type:st.a.string,disabled:st.a.book,icon:st.a.oneOf([st.a.string,st.a.node]),data:st.a.arrayOf(st.a.object)};n(643);function qre(){return(qre=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Hre(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ure(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ure(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ure(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wre(e){var t=e.coord,n=e.overlayClassName,r=e.diagram,o=e.onClose,i=Hre(Object(w.useState)(null),2),a=i[0],c=i[1],s=Object(w.useRef)();if(Object(w.useEffect)((function(){if(t){var e=s.current.offsetParent.getBoundingClientRect();c([t[0]-e.x,t[1]-e.y])}else c(null)}),[t]),Object(w.useEffect)((function(){function e(){o()}function t(t){t.target.closest(".lake-diagram-dialog-popover")||e()}function n(){e()}return window.addEventListener("mousedown",t),window.addEventListener("scroll",e,{passive:!0}),r.on("afterviewportchange",n),function(){window.removeEventListener("mousedown",t),window.removeEventListener("scroll",e),r.off("afterviewportchange",n)}}),[r,o]),a){var l="lake-diagram-dialog-popover lake-prevent-card-activated lake-diagram-prevent-mouse-select lake-diagram-prevent-mouseleave-reset-focus-point";return k.a.createElement(wk,qre({},e,{visible:!0,overlayClassName:n?n+" "+l:l}),k.a.createElement("div",{ref:s,style:{position:"absolute",left:"".concat(a[0],"px"),top:"".concat(a[1],"px"),pointerEvents:"none",width:"0px",height:"0px"}}))}return k.a.createElement("span",{ref:s})}Wre.defaultProps={coord:null,diagram:null,onClose:function(){}},Wre.propTypes={coord:st.a.array,diagram:st.a.object,onClose:st.a.func};var Kre=Wre;n(644);function Yre(){return(Yre=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xre(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gre(e){var t=e.getMenuData,n=e.diagram,r=Xre(Object(w.useState)(e.coord),2),o=r[0],i=r[1],a=Xre(Object(w.useState)(t()),2),c=a[0],s=a[1],l=Object.keys(e).reduce((function(t,n){return n.startsWith("data-")&&(t[n]=e[n]),t}),{});Object(w.useEffect)((function(){function e(e){e.preventDefault(),s(t()),i([e.clientX,e.clientY])}return n.on("contextmenu",e),function(){n.off("contextmenu",e)}}),[n]);var u=k.a.createElement("div",Yre({},l,{className:_t()("lake-context-menu",e.className)}),k.a.createElement(sne,{className:"lake-context-submenu",onClick:function(t){var r=n.viewport.invertClient(o);e.onClick({key:t.key,canvasPoint:r}),i(null)},selectable:!1},c.map(Vre)));return k.a.createElement(Kre,{placement:"rightTop",content:u,visible:!0,overlayClassName:"lake-diagram-context-menu-popover",diagram:n,coord:o,onClose:function(){i(null)}})}Gre.defaultProps={},Gre.propTypes={className:st.a.string,coord:st.a.object,data:st.a.arrayOf(st.a.object),onClick:st.a.func,diagram:st.a.object,getMenuData:st.a.func};var Zre=Gre;function Jre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qre(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jre(Object(n),!0).forEach((function(t){eoe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jre(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eoe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var toe={preventDefault:function(){},clipboardData:{setData:function(e,t){this[e]=t},getData:function(e){return this[e]},files:[]}};window.__lake_diagram_custom_clipboard_event=toe;var noe=[{key:"Cut",title:XN("剪切"),hotkey:"⌘+X"},{key:"Copy",title:XN("复制"),hotkey:"⌘+C"},{key:"CopyOtherFormat",title:XN("复制为其它格式"),data:[{key:"CopyDoc",title:XN("语雀文档")},{key:"CopyTable",title:XN("语雀表格")}]},{key:"Paste",title:XN("粘贴"),hotkey:"⌘+V"},{key:"Collapse",title:XN("折叠")},{key:"Expand",title:XN("展开"),hotkey:"⌘+/"},{key:"MindmapAppendParent",title:XN("插入父级"),hotkey:"Option+Tab"},{key:"MindmapInsertRoot",title:XN("插入主节点"),hotkey:"Shift+Enter"},{key:"MindmapAppendSibling",title:XN("插入同级"),hotkey:"Enter"},{key:"MindmapAppendChild",title:XN("插入子级"),hotkey:"Tab"},{key:"ActualSize",title:XN("实际尺寸"),hotkey:"⌘+0"},{key:"FitViewport",title:XN("适应画布"),hotkey:"⌘+Shift+="},{key:"Delete",title:XN("删除"),hotkey:"Delete"},{key:"MindmapRemoveSingleNode",title:XN("删除单个节点"),hotkey:"⌘+Delete"},{key:"BeginInsertLine",title:XN("插入连线"),hotkey:"⌘+L"},{key:"MindmapOpenNote",title:XN("备注")},{key:"BeginEditContent",title:XN("编辑文本")},{key:"separator",type:"separator"}];function roe(e,t){return e.map((function(e,n){var r=Qre(Qre({},noe[e]),{},{disabled:!!t.command.find(e)&&!t.command.enable(e)});return"separator"===e&&(r.key=e+"-"+n),r}))}function ooe(e){return e.command.enable("Expand")?["Expand"]:["Collapse"]}function ioe(e){var t=e.selector.selections;return"read"===e.interaction.currentMode?function(e,t){return 0===t.length?roe(["ActualSize","FitViewport"],e):t.every((function(e){return e.isMindmap}))?roe(ooe(e).concat(["Copy"]),e):void 0}(e,t):function(e,t){return 0===t.length?roe(["MindmapInsertRoot","separator","ActualSize","FitViewport","separator","Paste"],e):t.every((function(e){return e.isMindmap}))?roe(["MindmapAppendChild","MindmapAppendParent","MindmapAppendSibling","separator","BeginInsertLine","MindmapOpenNote","separator"].concat(ooe(e)).concat(["separator","Cut","Copy","CopyOtherFormat","Paste","Delete","MindmapRemoveSingleNode"]),e):1===t.length&&t.every((function(e){return e.isLine}))?roe(["BeginEditContent","Delete"],e):roe(["Copy","Cut","Delete"],e)}(e,t)}function aoe(e,t){if(!document.execCommand(e))if("paste"!==e)t.command.execute(e.charAt(0).toUpperCase()+e.slice(1),{e:toe});else{var n=a.getItem(nM);if(n){n=JSON.parse(n);var r=fe.macos?"⌘+V":"Ctrl+V";fs.info(XN("已粘贴当前页面复制的内容，如需粘贴页面外内容请使用 ")+r+XN(" 粘贴")),toe.clipboardData.setData("text/html",n.html),toe.clipboardData.setData("text/plain",n.text),t.command.execute("Paste",{e:toe})}}}function coe(e){try{aoe("copy",e),fs.success(XN("复制成功！"))}catch(e){fs.error(XN("复制失败！"))}}function soe(e){var t=e.diagram;return k.a.createElement(Zre,{diagram:t,getMenuData:function(){return ioe(t)},onClick:function(e){var n=e.key,r=e.canvasPoint;switch(t.tryFocus(),n){case"Cut":!function(e){try{aoe("cut",e),fs.success(XN("剪切成功！"))}catch(e){fs.error(XN("剪切失败！"))}}(t);break;case"Copy":coe(t);break;case"CopyDoc":t.settings.copyType="doc",coe(t),t.settings.copyType="default";break;case"CopyTable":t.settings.copyType="table",coe(t),t.settings.copyType="default";break;case"Paste":!function(e){try{aoe("paste",e)}catch(e){fs.error(XN("粘贴失败！"))}}(t);break;case"MindmapInsertRoot":t.command.execute("MindmapInsertRoot",{x:r[0],y:r[1]});break;case"BeginInsertLine":O0(t);break;default:try{t.command.execute(n)}catch(e){throw new Error("unknown command ".concat(n))}}t.tryFocus()}})}noe=noe.reduce((function(e,t){var n;return e[t.key]=t,t.hotkey&&(t.hotkey=(n=t.hotkey,fe.macos?n:n.replace(/⌘/g,"Ctrl").replace(/Option/g,"Alt"))),e}),{}),soe.propTypes={diagram:st.a.object};var loe=soe,uoe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},foe=n(241),poe=n(239);function doe(e){return"object"===Object(mt.a)(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===Object(mt.a)(e.icon)||"function"==typeof e.icon)}function hoe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:t[n]=r}return t}),{})}function moe(e,t,n){return n?k.a.createElement(e.tag,Object(vt.a)(Object(vt.a)({key:t},hoe(e.attrs)),n),(e.children||[]).map((function(n,r){return moe(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):k.a.createElement(e.tag,Object(vt.a)({key:t},hoe(e.attrs)),(e.children||[]).map((function(n,r){return moe(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function voe(e){return Object(foe.generate)(e)[0]}function yoe(e){return e?Array.isArray(e)?e:[e]:[]}var goe="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",boe=!1,woe={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var koe=function(e){var t,n,r=e.icon,o=e.className,i=e.onClick,a=e.style,c=e.primaryColor,s=e.secondaryColor,l=Object(yt.a)(e,["icon","className","onClick","style","primaryColor","secondaryColor"]),u=woe;if(c&&(u={primaryColor:c,secondaryColor:s||voe(c)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:goe;Object(w.useEffect)((function(){boe||(Object(poe.insertCss)(e,{prepend:!0}),boe=!0)}),[])}(),t=doe(r),n="icon should be icon definiton, but got ".concat(r),Object(Sr.a)(t,"[@ant-design/icons] ".concat(n)),!doe(r))return null;var f=r;return f&&"function"==typeof f.icon&&(f=Object(vt.a)(Object(vt.a)({},f),{},{icon:f.icon(u.primaryColor,u.secondaryColor)})),moe(f.icon,"svg-".concat(f.name),Object(vt.a)({className:o,onClick:i,style:a,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};koe.displayName="IconReact",koe.getTwoToneColors=function(){return Object(vt.a)({},woe)},koe.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;woe.primaryColor=t,woe.secondaryColor=n||voe(t),woe.calculated=!!n};var xoe=koe;function Ooe(e){var t=yoe(e),n=Object(Ac.a)(t,2),r=n[0],o=n[1];return xoe.setTwoToneColors({primaryColor:r,secondaryColor:o})}Ooe("#1890ff");var Coe=w.forwardRef((function(e,t){var n=e.className,r=e.icon,o=e.spin,i=e.rotate,a=e.tabIndex,c=e.onClick,s=e.twoToneColor,l=Object(yt.a)(e,["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"]),u=_t()("anticon",Object(xc.a)({},"anticon-".concat(r.name),Boolean(r.name)),{"anticon-spin":!!o||"loading"===r.name},n),f=a;void 0===f&&c&&(f=-1);var p=i?{msTransform:"rotate(".concat(i,"deg)"),transform:"rotate(".concat(i,"deg)")}:void 0,d=yoe(s),h=Object(Ac.a)(d,2),m=h[0],v=h[1];return w.createElement("span",Object.assign({role:"img","aria-label":r.name},l,{ref:t,tabIndex:f,onClick:c,className:u}),w.createElement(xoe,{icon:r,primaryColor:m,secondaryColor:v,style:p}))}));Coe.displayName="AntdIcon",Coe.getTwoToneColor=function(){var e=xoe.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Coe.setTwoToneColor=Ooe;var _oe=Coe,Eoe=function(e,t){return w.createElement(_oe,Object.assign({},e,{ref:t,icon:uoe}))};Eoe.displayName="CaretDownOutlined";var joe=w.forwardRef(Eoe),Soe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},Poe=function(e,t){return w.createElement(_oe,Object.assign({},e,{ref:t,icon:Soe}))};Poe.displayName="CaretRightOutlined";var Roe=w.forwardRef(Poe),Toe=(n(646),n(43)),Doe=n(125);function Aoe(e){var t=Object(w.useRef)(),n=Object(w.useRef)(!1);return Object(w.useEffect)((function(){return function(){n.current=!0,Zr.a.cancel(t.current)}}),[]),function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n.current||(Zr.a.cancel(t.current),t.current=Zr()((function(){e.apply(void 0,o)})))}}var Moe=w.forwardRef((function(e,t){var n,r=e.prefixCls,o=e.id,i=e.active,a=e.rtl,c=e.tab,s=c.key,l=c.tab,u=c.disabled,f=c.closeIcon,p=e.tabBarGutter,d=e.tabPosition,h=e.closable,m=e.renderWrapper,v=e.removeAriaLabel,y=e.editable,g=e.onClick,b=e.onRemove,k=e.onFocus,x="".concat(r,"-tab");w.useEffect((function(){return b}),[]);var O={};"top"===d||"bottom"===d?O[a?"marginLeft":"marginRight"]=p:O.marginBottom=p;var C=y&&!1!==h&&!u;function _(e){u||g(e)}var E=w.createElement("div",{key:s,ref:t,className:_t()(x,(n={},Object(xc.a)(n,"".concat(x,"-with-remove"),C),Object(xc.a)(n,"".concat(x,"-active"),i),Object(xc.a)(n,"".concat(x,"-disabled"),u),n)),style:O,onClick:_},w.createElement("div",{role:"tab","aria-selected":i,id:o&&"".concat(o,"-tab-").concat(s),className:"".concat(x,"-btn"),"aria-controls":o&&"".concat(o,"-panel-").concat(s),"aria-disabled":u,tabIndex:u?null:0,onClick:function(e){e.stopPropagation(),_(e)},onKeyDown:function(e){[See.a.SPACE,See.a.ENTER].includes(e.which)&&(e.preventDefault(),_(e))},onFocus:k},l),C&&w.createElement("button",{type:"button","aria-label":v||"remove",tabIndex:0,className:"".concat(x,"-remove"),onClick:function(e){e.stopPropagation(),function(e){e.preventDefault(),e.stopPropagation(),y.onEdit("remove",{key:s,event:e})}(e)}},f||y.removeIcon||"×"));return m&&(E=m(E)),E}));function Noe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ioe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Noe(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Noe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Loe={width:0,height:0,left:0,top:0};var Foe={width:0,height:0,left:0,top:0,right:0};var zoe=n(246),Boe=n(178),Voe={adjustX:1,adjustY:1},qoe=[0,0],Hoe={topLeft:{points:["bl","tl"],overflow:Voe,offset:[0,-4],targetOffset:qoe},topCenter:{points:["bc","tc"],overflow:Voe,offset:[0,-4],targetOffset:qoe},topRight:{points:["br","tr"],overflow:Voe,offset:[0,-4],targetOffset:qoe},bottomLeft:{points:["tl","bl"],overflow:Voe,offset:[0,4],targetOffset:qoe},bottomCenter:{points:["tc","bc"],overflow:Voe,offset:[0,4],targetOffset:qoe},bottomRight:{points:["tr","br"],overflow:Voe,offset:[0,4],targetOffset:qoe}};var Uoe=w.forwardRef((function(e,t){var n=e.arrow,r=void 0!==n&&n,o=e.prefixCls,i=void 0===o?"rc-dropdown":o,a=e.transitionName,c=e.animation,s=e.align,l=e.placement,u=void 0===l?"bottomLeft":l,f=e.placements,p=void 0===f?Hoe:f,d=e.getPopupContainer,h=e.showAction,m=e.hideAction,v=e.overlayClassName,y=e.overlayStyle,g=e.visible,b=e.trigger,k=void 0===b?["hover"]:b,x=Object(yt.a)(e,["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"]),O=w.useState(),C=Object(Ac.a)(O,2),_=C[0],E=C[1],j="visible"in e?g:_,S=w.useRef(null);w.useImperativeHandle(t,(function(){return S.current}));var P,R,T,D,A,M,N=function(){var t=e.overlay;return"function"==typeof t?t():t},I=function(t){var n=e.onOverlayClick,r=N().props;E(!1),n&&n(t),r.onClick&&r.onClick(t)},L=function(){var e=N(),t={prefixCls:"".concat(i,"-menu"),onClick:I};return"string"==typeof e.type&&delete t.prefixCls,w.createElement(w.Fragment,null,r&&w.createElement("div",{className:"".concat(i,"-arrow")}),w.cloneElement(e,t))},F=m;return F||-1===k.indexOf("contextMenu")||(F=["click"]),w.createElement(Boe.a,Object.assign({},x,{prefixCls:i,ref:S,popupClassName:_t()(v,Object(xc.a)({},"".concat(i,"-show-arrow"),r)),popupStyle:y,builtinPlacements:p,action:k,showAction:h,hideAction:F||[],popupPlacement:u,popupAlign:s,popupTransitionName:a,popupAnimation:c,popupVisible:j,stretch:(A=e.minOverlayWidthMatchTrigger,M=e.alignPoint,("minOverlayWidthMatchTrigger"in e?A:!M)?"minWidth":""),popup:"function"==typeof e.overlay?L:L(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;E(t),"function"==typeof n&&n(t)},getPopupContainer:d}),(R=e.children,T=R.props?R.props:{},D=_t()(T.className,void 0!==(P=e.openClassName)?P:"".concat(i,"-open")),_&&R?w.cloneElement(R,{className:D}):R))}));var Woe=w.forwardRef((function(e,t){var n=e.prefixCls,r=e.editable,o=e.locale,i=e.style;return r&&!1!==r.showAdd?w.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:i,"aria-label":(null==o?void 0:o.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null}));var Koe=w.forwardRef((function(e,t){var n=e.prefixCls,r=e.id,o=e.tabs,i=e.locale,a=e.mobile,c=e.moreIcon,s=void 0===c?"More":c,l=e.moreTransitionName,u=e.style,f=e.className,p=e.editable,d=e.tabBarGutter,h=e.rtl,m=e.onTabClick,v=Object(w.useState)(!1),y=Object(Ac.a)(v,2),g=y[0],b=y[1],k=Object(w.useState)(null),x=Object(Ac.a)(k,2),O=x[0],C=x[1],_="".concat(r,"-more-popup"),E="".concat(n,"-dropdown"),j=null!==O?"".concat(_,"-").concat(O):null,S=null==i?void 0:i.dropdownAriaLabel,P=w.createElement(zoe.b,{onClick:function(e){var t=e.key,n=e.domEvent;m(t,n),b(!1)},id:_,tabIndex:-1,role:"listbox","aria-activedescendant":j,selectedKeys:[O],"aria-label":void 0!==S?S:"expanded dropdown"},o.map((function(e){return w.createElement(zoe.a,{key:e.key,id:"".concat(_,"-").concat(e.key),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(e.key),disabled:e.disabled},e.tab)})));function R(e){for(var t=o.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===O}))||0,r=t.length,i=0;i<r;i+=1){var a=t[n=(n+e+r)%r];if(!a.disabled)return void C(a.key)}}Object(w.useEffect)((function(){var e=document.getElementById(j);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[O]),Object(w.useEffect)((function(){g||C(null)}),[g]);var T=Object(xc.a)({},h?"marginLeft":"marginRight",d);o.length||(T.visibility="hidden",T.order=1);var D=_t()(Object(xc.a)({},"".concat(E,"-rtl"),h)),A=a?null:w.createElement(Uoe,{prefixCls:E,overlay:P,trigger:["hover"],visible:g,transitionName:l,onVisibleChange:b,overlayClassName:D},w.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:T,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":_,id:"".concat(r,"-more"),"aria-expanded":g,onKeyDown:function(e){var t=e.which;if(g)switch(t){case See.a.UP:R(-1),e.preventDefault();break;case See.a.DOWN:R(1),e.preventDefault();break;case See.a.ESC:b(!1);break;case See.a.SPACE:case See.a.ENTER:null!==O&&m(O,e)}else[See.a.DOWN,See.a.SPACE,See.a.ENTER].includes(t)&&(b(!0),e.preventDefault())}},s));return w.createElement("div",{className:_t()("".concat(n,"-nav-operations"),f),style:u,ref:t},A,w.createElement(Woe,{prefixCls:n,locale:i,editable:p}))})),Yoe=Object(w.createContext)(null),Xoe=Math.pow(.995,20);function $oe(e,t){var n=w.useRef(e),r=w.useState({}),o=Object(Ac.a)(r,2)[1];return[n.current,function(e){var r="function"==typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,o({})}]}function Goe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zoe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Goe(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Goe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Joe=w.forwardRef((function(e,t){var n,r,o=w.useContext(Yoe),i=o.prefixCls,a=o.tabs,c=e.className,s=e.style,l=e.id,u=e.animated,f=e.activeKey,p=e.rtl,d=e.extra,h=e.editable,m=e.locale,v=e.tabPosition,y=e.tabBarGutter,g=e.children,b=e.onTabClick,k=e.onTabScroll,x=Object(w.useRef)(),O=Object(w.useRef)(),C=Object(w.useRef)(),_=Object(w.useRef)(),E=(r=Object(w.useRef)(new Map),[function(e){return r.current.has(e)||r.current.set(e,w.createRef()),r.current.get(e)},function(e){r.current.delete(e)}]),j=Object(Ac.a)(E,2),S=j[0],P=j[1],R="top"===v||"bottom"===v,T=$oe(0,(function(e,t){R&&k&&k({direction:e>t?"left":"right"})})),D=Object(Ac.a)(T,2),A=D[0],M=D[1],N=$oe(0,(function(e,t){!R&&k&&k({direction:e>t?"top":"bottom"})})),I=Object(Ac.a)(N,2),L=I[0],F=I[1],z=Object(w.useState)(0),B=Object(Ac.a)(z,2),V=B[0],q=B[1],H=Object(w.useState)(0),U=Object(Ac.a)(H,2),W=U[0],K=U[1],Y=Object(w.useState)(0),X=Object(Ac.a)(Y,2),$=X[0],G=X[1],Z=Object(w.useState)(0),J=Object(Ac.a)(Z,2),Q=J[0],ee=J[1],te=Object(w.useState)(null),ne=Object(Ac.a)(te,2),re=ne[0],oe=ne[1],ie=Object(w.useState)(null),ae=Object(Ac.a)(ie,2),ce=ae[0],se=ae[1],le=Object(w.useState)(0),ue=Object(Ac.a)(le,2),fe=ue[0],pe=ue[1],de=Object(w.useState)(0),he=Object(Ac.a)(de,2),me=he[0],ve=he[1],ye=function(e){var t=Object(w.useRef)([]),n=Object(w.useState)({}),r=Object(Ac.a)(n,2)[1],o=Object(w.useRef)("function"==typeof e?e():e),i=Aoe((function(){var e=o.current;t.current.forEach((function(t){e=t(e)})),t.current=[],o.current=e,r({})}));return[o.current,function(e){t.current.push(e),i()}]}(new Map),ge=Object(Ac.a)(ye,2),be=ge[0],we=ge[1],ke=function(e,t,n){return Object(w.useMemo)((function(){for(var n,r=new Map,o=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||Loe,i=o.left+o.width,a=0;a<e.length;a+=1){var c,s=e[a].key,l=t.get(s);l||(l=t.get(null===(c=e[a-1])||void 0===c?void 0:c.key)||Loe);var u=r.get(s)||Ioe({},l);u.right=i-u.left-u.width,r.set(s,u)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}(a,be,V),xe="".concat(i,"-nav-operations-hidden"),Oe=0,Ce=0;function _e(e){return e<Oe?[Oe,!1]:e>Ce?[Ce,!1]:[e,!0]}R?p?(Oe=0,Ce=Math.max(0,V-re)):(Oe=Math.min(0,re-V),Ce=0):(Oe=Math.min(0,ce-W),Ce=0);var Ee=Object(w.useRef)(),je=Object(w.useState)(),Se=Object(Ac.a)(je,2),Pe=Se[0],Re=Se[1];function Te(){Re(Date.now())}function De(){window.clearTimeout(Ee.current)}function Ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=ke.get(e);if(t)if(R){var n=A;p?t.right<A?n=t.right:t.right+t.width>A+re&&(n=t.right+t.width-re):t.left<-A?n=-t.left:t.left+t.width>-A+re&&(n=-(t.left+t.width-re)),F(0),M(_e(n)[0])}else{var r=L;t.top<-L?r=-t.top:t.top+t.height>-L+ce&&(r=-(t.top+t.height-ce)),M(0),F(_e(r)[0])}}!function(e,t){var n=Object(w.useState)(),r=Object(Ac.a)(n,2),o=r[0],i=r[1],a=Object(w.useState)(0),c=Object(Ac.a)(a,2),s=c[0],l=c[1],u=Object(w.useState)(0),f=Object(Ac.a)(u,2),p=f[0],d=f[1],h=Object(w.useState)(),m=Object(Ac.a)(h,2),v=m[0],y=m[1],g=Object(w.useRef)(),b=Object(w.useRef)(0),k=Object(w.useRef)(!1),x=Object(w.useRef)(),O=Object(w.useRef)(null);O.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;i({x:n,y:r}),window.clearInterval(g.current)},onTouchMove:function(e){if(o){e.preventDefault();var n=e.touches[0],r=n.screenX,a=n.screenY;i({x:r,y:a});var c=r-o.x,u=a-o.y;t(c,u);var f=Date.now();l(f),d(f-s),y({x:c,y:u})}},onTouchEnd:function(){if(o&&(i(null),y(null),v)){var e=v.x/p,n=v.y/p,r=Math.abs(e),a=Math.abs(n);if(Math.max(r,a)<.1)return;var c=e,s=n;g.current=window.setInterval((function(){Math.abs(c)<.01&&Math.abs(s)<.01?window.clearInterval(g.current):t(20*(c*=Xoe),20*(s*=Xoe))}),20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,o=0,i=Math.abs(n),a=Math.abs(r);i===a?o="x"===x.current?n:r:i>a?(o=n,x.current="x"):(o=r,x.current="y");var c=Date.now();c-b.current>100&&(k.current=!1),(t(-o,-o)||k.current)&&(e.preventDefault(),k.current=!0),b.current=c}},w.useEffect((function(){function t(e){O.current.onTouchMove(e)}function n(e){O.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){O.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){O.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(x,(function(e,t){var n=!1;function r(e,t){e((function(e){var r=_e(e+t),o=Object(Ac.a)(r,2),i=o[0],a=o[1];return n=a,i}))}if(R){if(re>=V)return n;r(M,e)}else{if(ce>=W)return n;r(F,t)}return De(),Te(),n})),Object(w.useEffect)((function(){return De(),Pe&&(Ee.current=window.setTimeout((function(){Re(0)}),100)),De}),[Pe]);var Me=function(e,t,n,r,o){var i,a,c,s=o.tabs,l=o.tabPosition,u=o.rtl;["top","bottom"].includes(l)?(i="width",a=u?"right":"left",c=Math.abs(t.left)):(i="height",a="top",c=-t.top);var f=t[i],p=n[i],d=r[i],h=f;return p+d>f&&(h=f-d),Object(w.useMemo)((function(){if(!s.length)return[0,0];for(var t=s.length,n=t,r=0;r<t;r+=1){var o=e.get(s[r].key)||Foe;if(o[a]+o[i]>c+h){n=r-1;break}}for(var l=0,u=t-1;u>=0;u-=1)if((e.get(s[u].key)||Foe)[a]<c){l=u+1;break}return[l,n]}),[e,c,h,l,s.map((function(e){return e.key})).join("_"),u])}(ke,{width:re,height:ce,left:A,top:L},{width:$,height:Q},{width:fe,height:me},Zoe(Zoe({},e),{},{tabs:a})),Ne=Object(Ac.a)(Me,2),Ie=Ne[0],Le=Ne[1],Fe=a.map((function(e){var t=e.key;return w.createElement(Moe,{id:l,prefixCls:i,key:t,rtl:p,tab:e,closable:e.closable,editable:h,active:t===f,tabPosition:v,tabBarGutter:y,renderWrapper:g,removeAriaLabel:null==m?void 0:m.removeAriaLabel,ref:S(t),onClick:function(e){b(t,e)},onRemove:function(){P(t)},onFocus:function(){Ae(t),Te(),p||(x.current.scrollLeft=0),x.current.scrollTop=0}})})),ze=Aoe((function(){var e,t,n,r,o,i,c,s,l,u=(null===(e=x.current)||void 0===e?void 0:e.offsetWidth)||0,f=(null===(t=x.current)||void 0===t?void 0:t.offsetHeight)||0,p=(null===(n=_.current)||void 0===n?void 0:n.offsetWidth)||0,d=(null===(r=_.current)||void 0===r?void 0:r.offsetHeight)||0,h=(null===(o=C.current)||void 0===o?void 0:o.offsetWidth)||0,m=(null===(i=C.current)||void 0===i?void 0:i.offsetHeight)||0;oe(u),se(f),pe(p),ve(d);var v=((null===(c=O.current)||void 0===c?void 0:c.offsetWidth)||0)-p,y=((null===(s=O.current)||void 0===s?void 0:s.offsetHeight)||0)-d;q(v),K(y);var g=null===(l=C.current)||void 0===l?void 0:l.className.includes(xe);G(v-(g?0:h)),ee(y-(g?0:m)),we((function(){var e=new Map;return a.forEach((function(t){var n=t.key,r=S(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),Be=a.slice(0,Ie),Ve=a.slice(Le+1),qe=[].concat(Object(Dc.a)(Be),Object(Dc.a)(Ve)),He=Object(w.useState)(),Ue=Object(Ac.a)(He,2),We=Ue[0],Ke=Ue[1],Ye=ke.get(f),Xe=Object(w.useRef)();function $e(){Zr.a.cancel(Xe.current)}Object(w.useEffect)((function(){var e={};return Ye&&(R?(p?e.right=Ye.right:e.left=Ye.left,e.width=Ye.width):(e.top=Ye.top,e.height=Ye.height)),$e(),Xe.current=Zr()((function(){Ke(e)})),$e}),[Ye,R,p]),Object(w.useEffect)((function(){Ae()}),[f,Ye,ke,R]),Object(w.useEffect)((function(){ze()}),[p,y,f,a.map((function(e){return e.key})).join("_")]);var Ge,Ze,Je,Qe,et=!!qe.length,tt="".concat(i,"-nav-wrap");return R?p?(Ze=A>0,Ge=A+re<V):(Ge=A<0,Ze=-A+re<V):(Je=L<0,Qe=-L+ce<W),w.createElement("div",{ref:t,role:"tablist",className:_t()("".concat(i,"-nav"),c),style:s,onKeyDown:function(){Te()}},w.createElement(Doe.a,{onResize:ze},w.createElement("div",{className:_t()(tt,(n={},Object(xc.a)(n,"".concat(tt,"-ping-left"),Ge),Object(xc.a)(n,"".concat(tt,"-ping-right"),Ze),Object(xc.a)(n,"".concat(tt,"-ping-top"),Je),Object(xc.a)(n,"".concat(tt,"-ping-bottom"),Qe),n)),ref:x},w.createElement(Doe.a,{onResize:ze},w.createElement("div",{ref:O,className:"".concat(i,"-nav-list"),style:{transform:"translate(".concat(A,"px, ").concat(L,"px)"),transition:Pe?"none":void 0}},Fe,w.createElement(Woe,{ref:_,prefixCls:i,locale:m,editable:h,style:{visibility:et?"hidden":null}}),w.createElement("div",{className:_t()("".concat(i,"-ink-bar"),Object(xc.a)({},"".concat(i,"-ink-bar-animated"),u.inkBar)),style:We}))))),w.createElement(Koe,Object.assign({},e,{ref:C,prefixCls:i,tabs:qe,className:!et&&xe})),d&&w.createElement("div",{className:"".concat(i,"-extra-content")},d))}));function Qoe(e){var t=e.id,n=e.activeKey,r=e.animated,o=e.tabPosition,i=e.rtl,a=e.destroyInactiveTabPane,c=w.useContext(Yoe),s=c.prefixCls,l=c.tabs,u=r.tabPane,f=l.findIndex((function(e){return e.key===n}));return w.createElement("div",{className:_t()("".concat(s,"-content-holder"))},w.createElement("div",{className:_t()("".concat(s,"-content"),"".concat(s,"-content-").concat(o),Object(xc.a)({},"".concat(s,"-content-animated"),u)),style:f&&u?Object(xc.a)({},i?"marginRight":"marginLeft","-".concat(f,"00%")):null},l.map((function(e){return w.cloneElement(e.node,{key:e.key,prefixCls:s,tabKey:e.key,id:t,animated:u,active:e.key===n,destroyInactiveTabPane:a})}))))}function eie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eie(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nie(e){var t=e.prefixCls,n=e.forceRender,r=e.className,o=e.style,i=e.id,a=e.active,c=e.animated,s=e.destroyInactiveTabPane,l=e.tabKey,u=e.children,f=w.useState(n),p=Object(Ac.a)(f,2),d=p[0],h=p[1];w.useEffect((function(){a?h(!0):s&&h(!1)}),[a,s]);var m={};return a||(c?(m.visibility="hidden",m.height=0,m.overflowY="hidden"):m.display="none"),w.createElement("div",{id:i&&"".concat(i,"-panel-").concat(l),role:"tabpanel",tabIndex:a?0:-1,"aria-labelledby":i&&"".concat(i,"-tab-").concat(l),"aria-hidden":!a,style:tie(tie({},m),o),className:_t()("".concat(t,"-tabpane"),a&&"".concat(t,"-tabpane-active"),r)},(a||d||n)&&u)}function rie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rie(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iie=0;var aie=w.forwardRef((function(e,t){var n,r,o=e.id,i=e.prefixCls,a=void 0===i?"rc-tabs":i,c=e.className,s=e.children,l=e.direction,u=e.activeKey,f=e.defaultActiveKey,p=e.editable,d=e.animated,h=e.tabPosition,m=void 0===h?"top":h,v=e.tabBarGutter,y=e.tabBarStyle,g=e.tabBarExtraContent,b=e.locale,k=e.moreIcon,x=e.moreTransitionName,O=e.destroyInactiveTabPane,C=e.renderTabBar,_=e.onChange,E=e.onTabClick,j=e.onTabScroll,S=Object(yt.a)(e,["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"]),P=function(e){return Object(Nw.a)(e).map((function(e){return w.isValidElement(e)?oie(oie({key:void 0!==e.key?String(e.key):void 0},e.props),{},{node:e}):null})).filter((function(e){return e}))}(s),R="rtl"===l;r=!1===d?{inkBar:!1,tabPane:!1}:oie({inkBar:!0,tabPane:!1},!0!==d?d:null);var T=Object(w.useState)(!1),D=Object(Ac.a)(T,2),A=D[0],M=D[1];Object(w.useEffect)((function(){var e;M((e=navigator.userAgent||navigator.vendor||window.opera,!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))))}),[]);var N=Object(Toe.a)((function(){var e;return null===(e=P[0])||void 0===e?void 0:e.key}),{value:u,defaultValue:f}),I=Object(Ac.a)(N,2),L=I[0],F=I[1],z=Object(w.useState)((function(){return P.findIndex((function(e){return e.key===L}))})),B=Object(Ac.a)(z,2),V=B[0],q=B[1];Object(w.useEffect)((function(){var e,t=P.findIndex((function(e){return e.key===L}));-1===t&&(t=Math.max(0,Math.min(V,P.length-1)),F(null===(e=P[t])||void 0===e?void 0:e.key));q(t)}),[P.map((function(e){return e.key})).join("_"),L,V]);var H=Object(Toe.a)(null,{value:o}),U=Object(Ac.a)(H,2),W=U[0],K=U[1],Y=m;A&&!["left","right"].includes(m)&&(Y="top"),Object(w.useEffect)((function(){o||(K("rc-tabs-".concat(iie)),iie+=1)}),[]);var X,$={id:W,activeKey:L,animated:r,tabPosition:Y,rtl:R,mobile:A},G=oie(oie({},$),{},{editable:p,locale:b,moreIcon:k,moreTransitionName:x,tabBarGutter:v,onTabClick:function(e,t){null==E||E(e,t),F(e),null==_||_(e)},onTabScroll:j,extra:g,style:y,panes:s});return X=C?C(G,Joe):w.createElement(Joe,Object.assign({},G)),w.createElement(Yoe.Provider,{value:{tabs:P,prefixCls:a}},w.createElement("div",Object.assign({ref:t,id:o,className:_t()(a,"".concat(a,"-").concat(Y),(n={},Object(xc.a)(n,"".concat(a,"-mobile"),A),Object(xc.a)(n,"".concat(a,"-editable"),p),Object(xc.a)(n,"".concat(a,"-rtl"),R),n),c)},S),X,w.createElement(Qoe,Object.assign({destroyInactiveTabPane:O},$,{animated:r}))))}));aie.TabPane=nie;var cie=aie,sie=n(349),lie=n.n(sie),uie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function fie(e){var t,n,r=e.type,o=e.className,i=e.size,a=e.onEdit,c=e.hideAdd,s=e.centered,l=e.addIcon,u=uie(e,["type","className","size","onEdit","hideAdd","centered","addIcon"]),f=u.prefixCls,p=w.useContext(rn),d=p.getPrefixCls,h=p.direction,m=d("tabs",f);return"editable-card"===r&&(n={onEdit:function(e,t){var n=t.key,r=t.event;null==a||a("add"===e?r:n,e)},removeIcon:w.createElement(Mo.a,null),addIcon:l||w.createElement(lie.a,null),showAdd:!0!==c}),Pr(!("onPrevClick"in u)&&!("onNextClick"in u),"Tabs","`onPrevClick` and `onNextClick` has been removed. Please use `onTabScroll` instead."),w.createElement(cie,ht()({direction:h},u,{moreTransitionName:"slide-up",className:_t()(o,(t={},ut()(t,"".concat(m,"-").concat(i),i),ut()(t,"".concat(m,"-card"),["card","editable-card"].includes(r)),ut()(t,"".concat(m,"-editable-card"),"editable-card"===r),ut()(t,"".concat(m,"-centered"),s),t)),editable:n,moreIcon:w.createElement(hne.a,null),prefixCls:m}))}fie.TabPane=nie;var pie=fie,die=(n(648),pie);n(645);function hie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hie(Object(n),!0).forEach((function(t){wie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vie(e){return function(e){if(Array.isArray(e))return bie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||gie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||gie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gie(e,t){if(e){if("string"==typeof e)return bie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bie(e,t):void 0}}function bie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kie(e){return(kie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var xie=die.TabPane;function Oie(e,t){var n="object"===kie(e)?e:wie({},e,t),r={},o=function(e){e.split(".").reduce((function(t,r,o,i){return t[r]=o+1===i.length?n[e]:{}}),r)};for(var i in n)o(i);return r}function Cie(e){var t,n,r=e.diagram,o=e.menus,i=e.tabs,a=e.domContainer,c=e.emptyImg,s=yie(Object(w.useState)(e.selections||r.selector.selections.concat([])),2),l=s[0],u=s[1],f=yie(Object(w.useState)(null),2),p=f[0],d=f[1];function h(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;return"function"==typeof t?(t(),void u(vie(l))):e.onChange?e.onChange(Oie(t,n),o):(r.command.execute("Update",{id:o,model:Oie(t,n),autoSelect:!1}),void u(vie(l)))}return Object(w.useEffect)((function(){Array.isArray(e.selections)&&u(e.selections)}),[e.selections]),Object(w.useEffect)((function(){if(r){var e=nm()((function(){d(null),u(r.selector.selections.concat([]))}),32),t=function(){d("text")};return r.on("afterselect",e),r.contentEditor.on("beginedit",t),function(){r.off("afterselect",e),r.contentEditor.off("beginedit",t)}}}),[r]),k.a.createElement("div",{className:_t()("lake-diagram-panel lake-diagram-panel-properties"),"data-lake_prevent_click_unselect":"true"},l.length>0?(t=function(e,t,n){var r={},o=[];return e.forEach((function(e,t){var n=e.name,o=e.key;r[o]={name:n,menus:[],index:t,key:o}})),t.forEach((function(e){n.length>0&&e.condition(n)&&(r[e.tabKey].menus.push(e),o.push(e.name))})),Object.values(r).filter((function(e){return e.menus.length>0})).sort((function(e,t){return e.index-t.index}))}(i,o,l),n=o.map((function(e){return e.name})),k.a.createElement("div",{className:"lake-diagram-panel-body"},k.a.createElement(die,{type:"card",activeKey:p||(l.every((function(e){return e.isText}))?"text":t[0].key),onChange:function(e){d(e)}},t.map((function(e){var t=e.name,o=e.menus,i=e.key;return k.a.createElement(xie,{tab:t,key:i},k.a.createElement(sk,{defaultActiveKey:n,expandIcon:function(e){return e.isActive?k.a.createElement(joe,{style:{color:"#595959"}}):k.a.createElement(Roe,{style:{color:"#595959"}})}},o.map((function(e){return k.a.createElement(sk.Panel,{header:e.name,key:e.name},e.controls.map((function(e,t){return k.a.createElement(e.Control,mie(mie({},e.props),{},{key:t,path:e.path,title:e.title,selections:l,diagram:r,domContainer:a,onChange:h}))})))}))))}))))):k.a.createElement("div",{className:"lake-diagram-panel-body lake-diagram-panel-body-empty"},k.a.createElement("div",{className:"lake-diagram-background-wrapper"},k.a.createElement("img",{src:c}),k.a.createElement("p",null,XN("点击选中元素")),k.a.createElement("p",null,XN("可设置颜色、布局、文字等样式")))))}Cie.defaultProps={diagram:null,menus:null,tabs:null,emptyImg:""},Cie.propTypes={diagram:st.a.object,menus:st.a.array,tabs:st.a.array,domContainer:st.a.object.isRequired,emptyImg:st.a.string,selections:st.a.arrayOf(st.a.object),onChange:st.a.func};var _ie=Cie;function Eie(e){var t=e.title,n=e.extra,r=e.children,o=e.disabled,i=_t()("lake-diagram-control",e.className,{disabled:o});return k.a.createElement("div",{className:i},t&&k.a.createElement("div",{className:"lake-diagram-control-head"},k.a.createElement("div",{className:"lake-diagram-control-title"},t),n&&k.a.createElement("div",{className:"lake-diagram-control-extra"},n)),r&&k.a.createElement("div",{className:"lake-diagram-control-body"},r))}Object.assign(Eie,{get:function(e,t,n){var r=n;if(e.length>0)if((r=e.map((function(e){return t.split(".").reduce((function(e,t){return e?e.isCell&&e.get(t)||e[t]:e}),e)}))).every((function(e){return e===r[0]})))r=r[0];else{if(!r.every((function(e){return"number"==typeof e})))return"multiValue";r.sort(),r=r[r.length-1]}return r}}),Eie.propTypes={title:st.a.string,extra:st.a.object,children:st.a.node,className:st.a.string,disabled:st.a.bool};var jie=Eie;n(652);function Sie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rie,Tie=[];function Die(e){var t=e.color,n=e.disabled,r=e.onClear,o=e.palette,i=Sie(Object(w.useState)(!1),2),a=i[0],c=i[1];return k.a.createElement(Hne,{disabled:n,trigger:["click"],visible:a,onVisibleChange:function(e){c(e),e||Tie.includes(Rie)||(Tie.push(Rie),Tie.length>10&&(Tie=Tie.slice(-10)))},overlay:k.a.createElement("div",{className:"lake-diagram-color-pick-container"},k.a.createElement(Bi,{className:"lake-prevent-card-activated",activeColors:[t],defaultColor:e.defaultColor,onSelect:function(t,n){Rie=t,e.onSelect(t,n)},onClear:r,show:a,customColors:Tie,CustomPalette:o})),placement:"bottomRight",getPopupContainer:function(){return document.body}},!t||function(e){return!e||"transparent"===e||"rgba(255,255,255,0)"===e.replace(/ /g,"")}(t)?k.a.createElement("svg",{width:"90",viewBox:"0 0 90 30",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M0 30L90 0",stroke:"#D0021B",fill:"none",fillRule:"evenodd",strokeLinecap:"square"})):e.children)}Die.propTypes={color:st.a.string,defaultColor:st.a.string,children:st.a.node,disabled:st.a.bool,onClear:st.a.func,onSelect:st.a.func,palette:st.a.object};var Aie=Die;n(653);function Mie(e){var t=e.path,n=e.title,r=e.diagram,o=e.selections.filter((function(e){return e.canFill()})),i=0===o.length||o.some((function(e){return e.locked})),a=jie.get(o,t),c="multiValue"===a?"#FFFFFF":a;function s(n){e.onChange(t,n,o)}return k.a.createElement(jie,{disabled:i,title:n,extra:k.a.createElement(Aie,{disabled:i,color:c,defaultColor:e.defaultColor,onSelect:s,onClear:function(){return s("rgba(0, 0, 0, 0)")},domContainer:e.domContainer,palette:r&&r.palette},k.a.createElement("div",{className:_t()("lake-diagram-fill",{"multi-properties-selection":"multiValue"===a}),style:{backgroundColor:c}}))})}Mie.defaultProps={defaultColor:"transparent",title:XN("填充颜色"),onChange:function(){}},Mie.propTypes={defaultColor:st.a.string,selections:st.a.arrayOf(st.a.object).isRequired,path:st.a.string.isRequired,title:st.a.string,onChange:st.a.func.isRequired,domContainer:st.a.object.isRequired,diagram:st.a.object},Mie.key="FillControl";var Nie=Mie;n(654);function Iie(e){var t=e.path,n=e.title,r=e.diagram,o=e.selections.filter((function(e){return e.canStroke()})),i=function(e,t){return jie.get(e,t)||(e.length>0&&!e[0].isRoot?jie.get(e,"treeEdge.stroke"):void 0)}(o,t)||"rgba(0, 0, 0, 0)",a=0===o.length||o.some((function(e){return e.locked})),c="multiValue"===i?"#FFFFFF":i;function s(n){e.onChange(t,n,o)}return k.a.createElement(jie,{disabled:a,title:n||XN("线条颜色"),extra:k.a.createElement(Aie,{disabled:a,color:c,defaultColor:e.defaultColor,onSelect:s,onClear:function(){return s("rgba(0, 0, 0, 0)")},domContainer:e.domContainer,palette:r&&r.palette},k.a.createElement("div",{className:_t()("lake-diagram-stroke",{"multi-properties-selection":"multiValue"===i}),style:{backgroundColor:c}}))})}Iie.defaultProps={defaultColor:"transparent",onChange:function(){}},Iie.propTypes={defaultColor:st.a.string,selections:st.a.arrayOf(st.a.object).isRequired,path:st.a.string.isRequired,onChange:st.a.func.isRequired,domContainer:st.a.object.isRequired,title:st.a.string,diagram:st.a.object},Iie.key="StrokeControl";var Lie=Iie;n(656);function Fie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fie(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(jc.a)(e);if(t){var o=Object(jc.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(Ec.a)(this,n)}}function Vie(){}function qie(e){e.preventDefault()}var Hie=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Uie=function(e){return null!=e},Wie=function(e,t){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)},Kie=function(e){Object(_c.a)(n,e);var t=Bie(n);function n(e){var r;Object(Oc.a)(this,n),(r=t.call(this,e)).onKeyDown=function(e){var t=r.props,n=t.onKeyDown,o=t.onPressEnter;if(e.keyCode===See.a.UP){var i=r.getRatio(e);r.up(e,i,null),r.stop()}else if(e.keyCode===See.a.DOWN){var a=r.getRatio(e);r.down(e,a,null),r.stop()}else e.keyCode===See.a.ENTER&&o&&o(e);if(r.recordCursorPosition(),r.lastKeyCode=e.keyCode,n){for(var c=arguments.length,s=new Array(c>1?c-1:0),l=1;l<c;l++)s[l-1]=arguments[l];n.apply(void 0,[e].concat(s))}},r.onKeyUp=function(e){var t=r.props.onKeyUp;if(r.stop(),r.recordCursorPosition(),t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];t.apply(void 0,[e].concat(o))}},r.onChange=function(e){var t=r.props.onChange;r.state.focused&&(r.inputting=!0),r.rawInput=r.props.parser(r.getValueFromEvent(e)),r.setState({inputValue:r.rawInput}),t(r.toNumber(r.rawInput))},r.onMouseUp=function(){var e=r.props.onMouseUp;r.recordCursorPosition(),e&&e.apply(void 0,arguments)},r.onFocus=function(){var e;r.setState({focused:!0}),(e=r.props).onFocus.apply(e,arguments)},r.onBlur=function(){var e=r.props.onBlur;r.inputting=!1,r.setState({focused:!1});var t=r.getCurrentValidValue(r.state.inputValue),n=r.setValue(t,Vie);if(e){var o=r.input.value,i=r.getInputDisplayValue({focus:!1,value:n});r.input.value=i?Number(i):i,e.apply(void 0,arguments),r.input.value=o}},r.getRatio=function(e){var t=1;return e.metaKey||e.ctrlKey?t=.1:e.shiftKey&&(t=10),t},r.getFullNum=function(e){return isNaN(e)?e:/e/i.test(String(e))?Number(e).toFixed(18).replace(/\.?0+$/,""):e},r.getPrecision=function(e){if(Uie(r.props.precision))return r.props.precision;var t=String(e);if(t.indexOf("e-")>=0)return parseInt(t.slice(t.indexOf("e-")+2),10);var n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n},r.getInputDisplayValue=function(e){var t,n=e||r.state,o=n.focused,i=n.inputValue,a=n.value;null==(t=o?i:r.toPrecisionAsStep(a))&&(t="");var c=r.formatWrapper(t);return Uie(r.props.decimalSeparator)&&(c=c.toString().replace(".",r.props.decimalSeparator)),c},r.recordCursorPosition=function(){try{r.cursorStart=r.input.selectionStart,r.cursorEnd=r.input.selectionEnd,r.currentValue=r.input.value,r.cursorBefore=r.input.value.substring(0,r.cursorStart),r.cursorAfter=r.input.value.substring(r.cursorEnd)}catch(e){}},r.restoreByAfter=function(e){if(void 0===e)return!1;var t=r.input.value,n=t.lastIndexOf(e);if(-1===n)return!1;var o=r.cursorBefore.length;return r.lastKeyCode===See.a.DELETE&&r.cursorBefore.charAt(o-1)===e[0]?(r.fixCaret(o,o),!0):n+e.length===t.length&&(r.fixCaret(n,n),!0)},r.partRestoreByAfter=function(e){return void 0!==e&&Array.prototype.some.call(e,(function(t,n){var o=e.substring(n);return r.restoreByAfter(o)}))},r.isNotCompleteNumber=function(e){return isNaN(e)||""===e||null===e||e&&e.toString().indexOf(".")===e.toString().length-1},r.stop=function(){r.autoStepTimer&&clearTimeout(r.autoStepTimer)},r.down=function(e,t,n){r.pressingUpOrDown=!0,r.step("down",e,t,n)},r.up=function(e,t,n){r.pressingUpOrDown=!0,r.step("up",e,t,n)},r.saveInput=function(e){r.input=e};var o=e.value;void 0===o&&(o=e.defaultValue),r.state={focused:e.autoFocus};var i=r.getValidValue(r.toNumber(o));return r.state=zie(zie({},r.state),{},{inputValue:r.toPrecisionAsStep(i),value:i}),r}return Object(Cc.a)(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate(null)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.value,r=t.onChange,o=t.max,i=t.min,a=this.state.focused;if(e){if(!Wie(e.value,n)||!Wie(e.max,o)||!Wie(e.min,i)){var c,s=a?n:this.getValidValue(n);c=this.pressingUpOrDown?s:this.inputting?this.rawInput:this.toPrecisionAsStep(s),this.setState({value:s,inputValue:c})}var l="value"in this.props?n:this.state.value;"max"in this.props&&e.max!==o&&"number"==typeof l&&l>o&&r&&r(o),"min"in this.props&&e.min!==i&&"number"==typeof l&&l<i&&r&&r(i)}try{if(void 0!==this.cursorStart&&this.state.focused)if(this.partRestoreByAfter(this.cursorAfter)||this.state.value===this.props.value){if(this.currentValue===this.input.value)switch(this.lastKeyCode){case See.a.BACKSPACE:this.fixCaret(this.cursorStart-1,this.cursorStart-1);break;case See.a.DELETE:this.fixCaret(this.cursorStart+1,this.cursorStart+1)}}else{var u=this.cursorStart+1;this.cursorAfter?this.lastKeyCode===See.a.BACKSPACE?u=this.cursorStart-1:this.lastKeyCode===See.a.DELETE&&(u=this.cursorStart):u=this.input.value.length,this.fixCaret(u,u)}}catch(e){}this.lastKeyCode=null,this.pressingUpOrDown&&this.props.focusOnUpDown&&this.state.focused&&document.activeElement!==this.input&&this.focus()}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"getCurrentValidValue",value:function(e){var t=e;return t=""===t?"":this.isNotCompleteNumber(parseFloat(t))?this.state.value:this.getValidValue(t),this.toNumber(t)}},{key:"getValueFromEvent",value:function(e){var t=e.target.value.trim().replace(/。/g,".");return Uie(this.props.decimalSeparator)&&(t=t.replace(this.props.decimalSeparator,".")),t}},{key:"getValidValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.min,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props.max,r=parseFloat(e);return isNaN(r)?e:(r<t&&(r=t),r>n&&(r=n),r)}},{key:"setValue",value:function(e,t){var n=this.props.precision,r=this.isNotCompleteNumber(parseFloat(e))?null:parseFloat(e),o=this.state.value,i=void 0===o?null:o,a=this.state.inputValue,c=void 0===a?null:a,s="number"==typeof r?r.toFixed(n):"".concat(r),l=r!==i||s!=="".concat(c);return"value"in this.props?(c=this.toPrecisionAsStep(this.state.value),this.setState({inputValue:c},t)):this.setState({value:r,inputValue:this.toPrecisionAsStep(e)},t),l&&this.props.onChange(r),r}},{key:"getMaxPrecision",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.props,r=n.precision,o=n.step;if(Uie(r))return r;var i=this.getPrecision(t),a=this.getPrecision(o),c=this.getPrecision(e);return e?Math.max(c,i+a):i+a}},{key:"getPrecisionFactor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getMaxPrecision(e,t);return Math.pow(10,n)}},{key:"focus",value:function(){this.input.focus(),this.recordCursorPosition()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"formatWrapper",value:function(e){return this.props.formatter?this.props.formatter(e):e}},{key:"toPrecisionAsStep",value:function(e){if(this.isNotCompleteNumber(e)||""===e)return e;var t=Math.abs(this.getMaxPrecision(e));return isNaN(t)?e.toString():Number(e).toFixed(t)}},{key:"toNumber",value:function(e){var t=this.props.precision,n=this.state.focused,r=e&&e.length>16&&n;return this.isNotCompleteNumber(e)||r?e:Uie(t)?Math.round(e*Math.pow(10,t))/Math.pow(10,t):Number(e)}},{key:"upStep",value:function(e,t){var n=this.props.step,r=this.getPrecisionFactor(e,t),o=Math.abs(this.getMaxPrecision(e,t)),i=((r*e+r*n*t)/r).toFixed(o);return this.toNumber(i)}},{key:"downStep",value:function(e,t){var n=this.props.step,r=this.getPrecisionFactor(e,t),o=Math.abs(this.getMaxPrecision(e,t)),i=((r*e-r*n*t)/r).toFixed(o);return this.toNumber(i)}},{key:"step",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0;this.stop(),t&&(t.persist(),t.preventDefault());var i=this.props;if(!i.disabled){var a=this.getCurrentValidValue(this.state.inputValue)||0;if(!this.isNotCompleteNumber(a)){var c=this["".concat(e,"Step")](a,r),s=c>i.max||c<i.min;c>i.max?c=i.max:c<i.min&&(c=i.min),this.setValue(c,null),this.setState({focused:!0},(function(){n.pressingUpOrDown=!1})),s||(this.autoStepTimer=setTimeout((function(){n[e](t,r,!0)}),o?200:600))}}}},{key:"fixCaret",value:function(e,t){if(void 0!==e&&void 0!==t&&this.input&&this.input.value)try{var n=this.input.selectionStart,r=this.input.selectionEnd;e===n&&t===r||this.input.setSelectionRange(e,t)}catch(e){}}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.disabled,o=t.readOnly,i=t.useTouch,a=t.autoComplete,c=t.upHandler,s=t.downHandler,l=t.className,u=t.max,f=t.min,p=t.style,d=t.title,h=t.onMouseEnter,m=t.onMouseLeave,v=t.onMouseOver,y=t.onMouseOut,g=t.required,b=t.onClick,w=t.tabIndex,x=t.type,O=t.placeholder,C=t.id,_=t.inputMode,E=t.pattern,j=t.step,S=t.maxLength,P=t.autoFocus,R=t.name,T=t.onPaste,D=t.onInput,A=Object(yt.a)(t,["prefixCls","disabled","readOnly","useTouch","autoComplete","upHandler","downHandler","className","max","min","style","title","onMouseEnter","onMouseLeave","onMouseOver","onMouseOut","required","onClick","tabIndex","type","placeholder","id","inputMode","pattern","step","maxLength","autoFocus","name","onPaste","onInput"]),M=this.state,N=M.value,I=M.focused,L=_t()(n,(e={},Object(xc.a)(e,l,!!l),Object(xc.a)(e,"".concat(n,"-disabled"),r),Object(xc.a)(e,"".concat(n,"-focused"),I),e)),F={};Object.keys(A).forEach((function(e){"data-"!==e.substr(0,5)&&"aria-"!==e.substr(0,5)&&"role"!==e||(F[e]=A[e])}));var z=!o&&!r,B=this.getInputDisplayValue(null),V=(N||0===N)&&(isNaN(N)||Number(N)>=u)||r||o,q=(N||0===N)&&(isNaN(N)||Number(N)<=f)||r||o,H=_t()("".concat(n,"-handler"),"".concat(n,"-handler-up"),Object(xc.a)({},"".concat(n,"-handler-up-disabled"),V)),U=_t()("".concat(n,"-handler"),"".concat(n,"-handler-down"),Object(xc.a)({},"".concat(n,"-handler-down-disabled"),q)),W=i?{onTouchStart:V?Vie:this.up,onTouchEnd:this.stop}:{onMouseDown:V?Vie:this.up,onMouseUp:this.stop,onMouseLeave:this.stop},K=i?{onTouchStart:q?Vie:this.down,onTouchEnd:this.stop}:{onMouseDown:q?Vie:this.down,onMouseUp:this.stop,onMouseLeave:this.stop};return k.a.createElement("div",{className:L,style:p,title:d,onMouseEnter:h,onMouseLeave:m,onMouseOver:v,onMouseOut:y,onFocus:function(){return null},onBlur:function(){return null}},k.a.createElement("div",{className:"".concat(n,"-handler-wrap")},k.a.createElement("span",Object.assign({unselectable:"on"},W,{role:"button","aria-label":"Increase Value","aria-disabled":V,className:H}),c||k.a.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-up-inner"),onClick:qie})),k.a.createElement("span",Object.assign({unselectable:"on"},K,{role:"button","aria-label":"Decrease Value","aria-disabled":q,className:U}),s||k.a.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-down-inner"),onClick:qie}))),k.a.createElement("div",{className:"".concat(n,"-input-wrap")},k.a.createElement("input",Object.assign({role:"spinbutton","aria-valuemin":f,"aria-valuemax":u,"aria-valuenow":N,required:g,type:x,placeholder:O,onPaste:T,onClick:b,onMouseUp:this.onMouseUp,className:"".concat(n,"-input"),tabIndex:w,autoComplete:a,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:z?this.onKeyDown:Vie,onKeyUp:z?this.onKeyUp:Vie,autoFocus:P,maxLength:S,readOnly:o,disabled:r,max:u,min:f,step:j,name:R,title:d,id:C,onChange:this.onChange,ref:this.saveInput,value:this.getFullNum(B),pattern:E,inputMode:_,onInput:D},F))))}}]),n}(k.a.Component);Kie.defaultProps={focusOnUpDown:!0,useTouch:!1,prefixCls:"rc-input-number",max:Hie,min:-Hie,step:1,style:{},onChange:Vie,onKeyDown:Vie,onPressEnter:Vie,onFocus:Vie,onBlur:Vie,parser:function(e){return e.replace(/[^\w.-]+/g,"")},required:!1,autoComplete:"off"};var Yie=Kie,Xie=n(350),$ie=n.n(Xie),Gie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Zie=w.forwardRef((function(e,t){var n=function(n){var r=n.getPrefixCls,o=n.direction,i=e.className,a=e.size,c=e.prefixCls,s=Gie(e,["className","size","prefixCls"]),l=r("input-number",c),u=w.createElement($ie.a,{className:"".concat(l,"-handler-up-inner")}),f=w.createElement(Lne.a,{className:"".concat(l,"-handler-down-inner")});return w.createElement(jr.Consumer,null,(function(e){var n,r=a||e,c=_t()((n={},ut()(n,"".concat(l,"-lg"),"large"===r),ut()(n,"".concat(l,"-sm"),"small"===r),ut()(n,"".concat(l,"-rtl"),"rtl"===o),n),i);return w.createElement(Yie,ht()({ref:t,className:c,upHandler:u,downHandler:f,prefixCls:l},s))}))};return w.createElement(on,null,n)}));Zie.defaultProps={step:1};var Jie=Zie,Qie=(n(657),Jie);n(655);function eae(e){var t=e.selections,n=e.path,r=0===t.length||t.some((function(e){return e.locked})),o=t.filter((function(e){return e.canStrokeWidth()})),i=jie.get(o,n);function a(t){var r=Math.min(Math.max(t,1),10);r!==i&&e.onChange(n,r,o)}function c(e){a(parseFloat(e.target.value))}return k.a.createElement(jie,{className:"lake-diagram-stroke-width-control",disabled:r,title:XN("线条粗细"),extra:k.a.createElement(Qie,{disabled:r,min:1,max:10,value:i,onBlur:c,onPressEnter:c,onStep:a})})}eae.defaultProps={onChange:function(){}},eae.propTypes={selections:st.a.arrayOf(st.a.object).isRequired,path:st.a.string.isRequired,onChange:st.a.func.isRequired},eae.key="StrokeWidthControl";var tae=eae,nae=(n(662),function(e){Object(_c.a)(n,e);var t=Object(_ee.a)(n);function n(e){var r;Object(Oc.a)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,o=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),o&&o({target:Object(vt.a)(Object(vt.a)({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var o="checked"in e?e.checked:e.defaultChecked;return r.state={checked:o},r}return Object(Cc.a)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,o=t.style,i=t.name,a=t.id,c=t.type,s=t.disabled,l=t.readOnly,u=t.tabIndex,f=t.onClick,p=t.onFocus,d=t.onBlur,h=t.onKeyDown,m=t.onKeyPress,v=t.onKeyUp,y=t.autoFocus,g=t.value,b=t.required,w=Object(yt.a)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),x=Object.keys(w).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=w[t]),e}),{}),O=this.state.checked,C=_t()(n,r,(e={},Object(xc.a)(e,"".concat(n,"-checked"),O),Object(xc.a)(e,"".concat(n,"-disabled"),s),e));return k.a.createElement("span",{className:C,style:o},k.a.createElement("input",Object(jee.a)({name:i,id:a,type:c,required:b,readOnly:l,disabled:s,tabIndex:u,className:"".concat(n,"-input"),checked:!!O,onClick:f,onFocus:p,onBlur:d,onKeyUp:v,onKeyDown:h,onKeyPress:m,onChange:this.handleChange,autoFocus:y,ref:this.saveInput,value:g},x)),k.a.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Object(vt.a)(Object(vt.a)({},t),{},{checked:e.checked}):null}}]),n}(w.Component));nae.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var rae=nae,oae=w.createContext(null),iae=oae.Provider,aae=oae;function cae(e,t){"function"==typeof e?e(t):"object"===Hr()(e)&&e&&"current"in e&&(e.current=t)}var sae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},lae=function(e,t){var n,r=w.useContext(aae),o=w.useContext(rn),i=o.getPrefixCls,a=o.direction,c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){cae(t,e)}))}}(t,w.useRef());w.useEffect((function(){Pr(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var s=e.prefixCls,l=e.className,u=e.children,f=e.style,p=sae(e,["prefixCls","className","children","style"]),d=i("radio",s),h=ht()({},p);r&&(h.name=r.name,h.onChange=function(t){e.onChange&&e.onChange(t),(null==r?void 0:r.onChange)&&r.onChange(t)},h.checked=e.value===r.value,h.disabled=e.disabled||r.disabled);var m=_t()(l,(n={},ut()(n,"".concat(d,"-wrapper"),!0),ut()(n,"".concat(d,"-wrapper-checked"),h.checked),ut()(n,"".concat(d,"-wrapper-disabled"),h.disabled),ut()(n,"".concat(d,"-wrapper-rtl"),"rtl"===a),n));return w.createElement("label",{className:m,style:f,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},w.createElement(rae,ht()({},h,{prefixCls:d,ref:c})),void 0!==u?w.createElement("span",null,u):null)},uae=w.forwardRef(lae);uae.displayName="Radio",uae.defaultProps={type:"radio"};var fae=uae,pae=w.forwardRef((function(e,t){var n=w.useContext(rn),r=n.getPrefixCls,o=n.direction,i=w.useContext(jr),a=Object(Toe.a)(e.defaultValue,{value:e.value}),c=pt()(a,2),s=c[0],l=c[1];return w.createElement(iae,{value:{onChange:function(t){var n=s,r=t.target.value;"value"in e||l(r);var o=e.onChange;o&&r!==n&&o(t)},value:s,disabled:e.disabled,name:e.name}},function(){var n,a=e.prefixCls,c=e.className,l=void 0===c?"":c,u=e.options,f=e.optionType,p=e.buttonStyle,d=e.disabled,h=e.children,m=e.size,v=e.style,y=e.id,g=e.onMouseEnter,b=e.onMouseLeave,k=r("radio",a),x="".concat(k,"-group"),O=h;if(u&&u.length>0){var C="button"===f?"".concat(k,"-button"):k;O=u.map((function(e){return"string"==typeof e?w.createElement(fae,{ref:t,key:e,prefixCls:C,disabled:d,value:e,checked:s===e},e):w.createElement(fae,{ref:t,key:"radio-group-value-options-".concat(e.value),prefixCls:C,disabled:e.disabled||d,value:e.value,checked:s===e.value,style:e.style},e.label)}))}var _=m||i,E=_t()(x,"".concat(x,"-").concat(p),(n={},ut()(n,"".concat(x,"-").concat(_),_),ut()(n,"".concat(x,"-rtl"),"rtl"===o),n),l);return w.createElement("div",{className:E,style:v,onMouseEnter:g,onMouseLeave:b,id:y},O)}())}));pae.defaultProps={buttonStyle:"outline"};var dae=w.memo(pae),hae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},mae=function(e,t){var n=w.useContext(aae),r=w.useContext(rn).getPrefixCls,o=e.prefixCls,i=hae(e,["prefixCls"]),a=r("radio-button",o);return n&&(i.checked=e.value===n.value,i.disabled=e.disabled||n.disabled),w.createElement(fae,ht()({prefixCls:a},i,{type:"radio",ref:t}))},vae=w.forwardRef(mae),yae=fae;yae.Button=vae,yae.Group=dae;var gae=yae,bae=(n(664),gae);function wae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xae,Oae,Cae,_ae=window.getSelection(),Eae=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wae(this,e),Object.assign(this,t)}var t,n,r;return t=e,(n=[{key:"updateEditRange",value:function(){var e=this.diagram;try{var t=_ae.getRangeAt(0);e.canvasContainer.contains(t.commonAncestorContainer)&&!Cae&&(xae=t.cloneRange()),Oae=t.cloneRange()}catch(e){return}}},{key:"setRange",value:function(e){e&&(_ae.removeAllRanges(),_ae.addRange(e))}},{key:"getQuery",value:function(){var e,t=this.selections,n=this.diagram;if(t.length>1){var r=t.filter((function(e){return e.textAreaElement}));r.sort((function(e,t){return e.x-t.x}));var o=r.map((function(e){return e.textAreaElement.htmlContainer}));e=n.contentEditor.query(o[0],null)}else e=n.contentEditor.query();return e}},{key:"change",value:function(e,t){var n,r=this.selections,o=this.diagram,i=this.onChange;if(o.contentEditor.isBegin)xae.commonAncestorContainer!==Oae.commonAncestorContainer&&(Cae=!0),Cae&&this.setRange(xae),o.contentEditor.execCommand(e,t),xae=_ae.getRangeAt(0).cloneRange(),n=this.getQuery(),Cae=!1;else{var a=r.filter((function(e){return e.textAreaElement})),c=a.map((function(e){return e.textAreaElement.htmlContainer})),s=c.map((function(e){return e.innerHTML}));o.contentEditor.batchEdit(c,e,t);var l=c.map((function(e){return e.innerHTML}));o.command.execute("UpdateCellContent",{id:a,startHTML:s,endHTML:l}),n=this.getQuery()}i(n)}}])&&kae(t.prototype,n),r&&kae(t,r),e}();n(660);function jae(){return(jae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Sae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rae(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Tae(e){var t=e.disabled,n=Rae(e,["disabled"]),r=Sae(Object(w.useState)(e.value),2),o=r[0],i=r[1],a=Sae(Object(w.useState)(!1),2),c=a[0],s=a[1];return Object(w.useEffect)((function(){i(e.value)}),[e.value]),k.a.createElement("div",{className:_t()("lake-diagram-dropdown-input",{"lake-diagram-dropdown-input-focus":c})},k.a.createElement(oi,{disabled:t,value:o,onFocus:function(){s(!0)},onBlur:function(t){parseInt(t.target.value,10)>0&&e.onChange(t),s(!1)},onChange:function(e){i(e.target.value)},onKeyDown:function(t){"Enter"===t.key&&parseInt(t.target.value,10)>0&&(e.onChange(t),t.target.select())}}),k.a.createElement(Hne,jae({disabled:t},n),k.a.createElement(Oee,null,k.a.createElement("span",{className:"lake-icon lake-icon-dropdown-arrow"}))))}Tae.propTypes={value:st.a.oneOfType([st.a.string,st.a.number]),disabled:st.a.bool,onChange:st.a.func};n(661);function Dae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Aae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mae={left:"justifyLeft",center:"justifyCenter",right:"justifyRight",start:"justifyLeft"};function Nae(e){var t=e.selections,n=e.diagram,r=0===t.length||t.some((function(e){return e.locked})),o=Dae(Object(w.useState)({}),2),i=o[0],a=o[1],c=new Eae({selections:t,diagram:n,onChange:function(e){a(e)}}),s=i.fontSize,l=i.color,u=i.textAlign,f=i.bold,p=i.italic,d=i.strikethrough,h=i.underline;return Object(w.useEffect)((function(){var e=nm()((function(){a(c.getQuery())}),200),t=function(){c.updateEditRange(),e()};return a(c.getQuery()),n.contentEditor.on("selectionchange",t),c.updateEditRange(),function(){n.contentEditor.off("selectionchange",t)}}),[n,t]),k.a.createElement(jie,{disabled:r,className:"text-format-control"},k.a.createElement("div",{className:"text-format-li",style:{display:"flex",justifyContent:"space-between"}},k.a.createElement("span",{style:{display:"flex",flexWrap:"nowrap"}},k.a.createElement(Oee,{disabled:r,className:_t()("bisu-btn",{active:f}),onClick:function(){return c.change("bold")}},k.a.createElement("span",{className:"lake-icon lake-icon-bold"})),k.a.createElement(Oee,{disabled:r,className:_t()("bisu-btn",{active:p}),onClick:function(){return c.change("italic")}},k.a.createElement("span",{className:"lake-icon lake-icon-italic"})),k.a.createElement(Oee,{disabled:r,className:_t()("bisu-btn",{active:d}),onClick:function(){return c.change("strikethrough")}},k.a.createElement("span",{className:"lake-icon lake-icon-strikethrough"})),k.a.createElement(Oee,{disabled:r,className:_t()("bisu-btn",{active:h}),onClick:function(){return c.change("underline")}},k.a.createElement("span",{className:"lake-icon lake-icon-underline"}))),k.a.createElement(Tae,{disabled:r,trigger:["click"],value:s,onChange:function(e){return c.change("fontSize",parseInt(e.target.value))},overlay:k.a.createElement(sne,{"data-lake_prevent_click_unselect":!0,className:"lake-user-select-none text-format-font-size-menu",selectedKeys:[s&&s.toString()],onClick:function(e){var t=e.key;return c.change("fontSize",parseInt(t))}},[12,14,16,18,22,24,32,36,48,64,92].map((function(e){return k.a.createElement(sne.Item,{key:e},e===s&&k.a.createElement("span",{className:"lake-icon lake-icon-success"}),e,"px")}))),placement:"bottomRight",getPopupContainer:function(){return e.domContainer}})),k.a.createElement("div",{className:"text-format-li text-format-font-color"},XN("文本颜色"),k.a.createElement("div",{className:"lake-diagram-control-extra lake-diagrm-font-color-control-extra"},k.a.createElement(Aie,{disabled:r,color:l,defaultColor:e.defaultColor,onSelect:nm()((function(e){return c.change("foreColor",e)}),16),domContainer:e.domContainer,palette:n.palette},k.a.createElement("div",{className:"lake-diagram-font-color",style:{backgroundColor:l}})))),k.a.createElement(bae.Group,{className:"text-format-li text-format-text-align",disabled:r,defaultValue:"justifyLeft",value:Mae[u]},k.a.createElement(bae.Button,{value:"justifyLeft",onClick:function(){return c.change("justifyLeft")}},k.a.createElement("span",{className:"lake-icon lake-icon-left"})),k.a.createElement(bae.Button,{value:"justifyCenter",onClick:function(){return c.change("justifyCenter")}},k.a.createElement("span",{className:"lake-icon lake-icon-center"})),k.a.createElement(bae.Button,{value:"justifyRight",onClick:function(){return c.change("justifyRight")}},k.a.createElement("span",{className:"lake-icon lake-icon-right"}))))}Nae.defaultProps={defaultColor:tM},Nae.propTypes={defaultColor:st.a.string,selections:st.a.arrayOf(st.a.object).isRequired,onChange:st.a.func.isRequired,domContainer:st.a.object.isRequired,diagram:st.a.object.isRequired},Nae.key="TextFormat";var Iae=Nae;n(665);function Lae(e){var t=e.selections,n=0===t.length,r=t.filter((function(e){return e.isLine})),o=jie.get(r,"source.marker"),i=jie.get(r,"target.marker");return k.a.createElement(jie,{className:"lake-diagram-edge-arrow-control lake-diagram-flowchart-properties-edge-arrow",disabled:n,title:XN("线条端点"),extra:k.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},k.a.createElement(Oee,{className:_t()({active:"arrow"===o,"lake-arrow-btn":!0}),disabled:n,onClick:function(){e.onChange("source.marker",o?null:"arrow",r)}},k.a.createElement("span",{className:"lake-icon lake-icon-line-arrow-left"})),k.a.createElement(Oee,{className:_t()({active:"arrow"===i,"lake-arrow-btn":!0,"lake-target-arrow-btn":!0}),disabled:n,onClick:function(){e.onChange("target.marker",i?null:"arrow",r)}},k.a.createElement("span",{className:"lake-icon lake-icon-line-arrow-right"})))})}Lae.defaultProps={onChange:function(){}},Lae.propTypes={selections:st.a.arrayOf(st.a.object).isRequired,onChange:st.a.func.isRequired,domContainer:st.a.object.isRequired},Lae.key="LineArrowControl";var Fae=Lae;n(666);function zae(e){var t=Object(w.useRef)(),n=e.width,r=e.height,o=e.shape,i=o&&T5.find((function(e){return e.name===o}));return Object(w.useEffect)((function(){if(t.current&&i){var e=new p8({stencil:i,width:n,height:r}).rendererElement;e.setAttribute("stroke","#595959"),e.setAttribute("fill","#ffffff"),Array.from(t.current.children,(function(e){return e.remove()})),t.current.appendChild(e)}}),[t,n,r,i]),i?k.a.createElement("svg",{ref:t,width:n,height:r,viewBox:[0,0,n,r].join(" ")}):null}function Bae(e){var t=e.selections,n=0===t.length,r=t.filter((function(e){return e.isVertex})),o=jie.get(r,e.path);return k.a.createElement(jie,{className:"lake-diagram-vertex-shape-control",disabled:n,title:XN("形状"),extra:k.a.createElement(Hne,{disabled:n,overlay:k.a.createElement(Sre,{onSelect:function(t){var n=t.key;e.onChange(e.path,n,r)},groups:e.groups}),placement:"bottomRight",trigger:["click"]},k.a.createElement(Oee,null,o&&k.a.createElement(zae,{shape:o,width:40,height:40})))})}zae.propTypes={width:st.a.number,height:st.a.number,shape:st.a.string},Bae.defaultProps={path:"shape",groups:["flowchart"],onChange:function(){}},Bae.propTypes={selections:st.a.arrayOf(st.a.object).isRequired,path:st.a.string.isRequired,groups:st.a.array,onChange:st.a.func.isRequired},Bae.key="VertexShapeControl";var Vae=Bae;n(667);function qae(e){var t=e.selections,n=0===t.length,r=t.filter((function(e){return e.isEdge})),o=jie.get(r,"shape");return k.a.createElement(jie,{className:"lake-diagram-edge-shape-control lake-diagram-flowchart-properties-edge-shape",disabled:n,title:XN("线条类型"),extra:k.a.createElement(bae.Group,{disabled:n,value:o,onChange:function(t){e.onChange("shape",t.target.value,r)}},k.a.createElement(bae.Button,{value:"elbow"},k.a.createElement("span",{className:"lake-icon lake-icon-elbow-line"})),k.a.createElement(bae.Button,{value:"straight"},k.a.createElement("span",{className:"lake-icon lake-icon-straight-line"})))})}qae.defaultProps={path:"shape",onChange:function(){}},qae.propTypes={selections:st.a.arrayOf(st.a.object).isRequired,onChange:st.a.func.isRequired,domContainer:st.a.object.isRequired,diagram:st.a.object},qae.key="EdgeShapeControl";var Hae=qae;n(668);function Uae(e){var t=e.diagram;return k.a.createElement("div",{className:"lake-diagram-properties-alignment"},k.a.createElement(bae.Group,{onChange:function(e){t.command.execute(e.target.value)},value:null},k.a.createElement(bae.Button,{value:"AlignLeft",disabled:!t.command.enable("AlignLeft")},k.a.createElement("span",{className:"lake-icon lake-icon-align-left"})),k.a.createElement(bae.Button,{value:"AlignHCenter",disabled:!t.command.enable("AlignHCenter")},k.a.createElement("span",{className:"lake-icon lake-icon-align-h-center"})),k.a.createElement(bae.Button,{value:"AlignRight",disabled:!t.command.enable("AlignRight")},k.a.createElement("span",{className:"lake-icon lake-icon-align-right"})),k.a.createElement(bae.Button,{value:"AlignTop",disabled:!t.command.enable("AlignTop")},k.a.createElement("span",{className:"lake-icon lake-icon-align-top"})),k.a.createElement(bae.Button,{value:"AlignVCenter",disabled:!t.command.enable("AlignVCenter")},k.a.createElement("span",{className:"lake-icon lake-icon-align-v-center"})),k.a.createElement(bae.Button,{value:"AlignBottom",disabled:!t.command.enable("AlignBottom")},k.a.createElement("span",{className:"lake-icon lake-icon-align-bottom"}))))}Uae.defaultProps={},Uae.propTypes={diagram:st.a.object.isRequired,selections:st.a.arrayOf(st.a.object).isRequired},Uae.key="AlignControl";var Wae=Uae;n(669);function Kae(e){var t=e.diagram,n=e.selections,r=t.getCells(),o=n.some((function(e){return e.locked}))||1===n.length&&n[0].getZIndex()===r.length-1,i=n.some((function(e){return e.locked}))||1===n.length&&0===n[0].getZIndex();function a(r){e.onChange((function(){t.command.execute(r.target.value,{cells:n})}))}return k.a.createElement("div",{className:"lake-diagram-properties-z-index"},k.a.createElement("div",{className:"lake-diagram-properties-z-index-btn-group"},k.a.createElement(bae.Group,{onChange:a,value:null},k.a.createElement(bae.Button,{value:"ToFront",disabled:o},k.a.createElement("span",{className:"lake-icon lake-icon-to-front"})),k.a.createElement(bae.Button,{value:"ToBack",disabled:i},k.a.createElement("span",{className:"lake-icon lake-icon-to-back"}))),k.a.createElement("div",{className:"lake-diagram-properties-z-index-label-group"},k.a.createElement("span",{className:"lake-diagram-properties-z-index-label"},XN("置顶")),k.a.createElement("span",{className:"lake-diagram-properties-z-index-label"},XN("置底")))),k.a.createElement("div",{className:"lake-diagram-properties-z-index-btn-group"},k.a.createElement(bae.Group,{onChange:a,value:null},k.a.createElement(bae.Button,{value:"Forward",disabled:o},k.a.createElement("span",{className:"lake-icon lake-icon-forward"})),k.a.createElement(bae.Button,{value:"Backward",disabled:i},k.a.createElement("span",{className:"lake-icon lake-icon-backward"}))),k.a.createElement("div",{className:"lake-diagram-properties-z-index-label-group"},k.a.createElement("span",{className:"lake-diagram-properties-z-index-label"},XN("上移")),k.a.createElement("span",{className:"lake-diagram-properties-z-index-label"},XN("下移")))))}Kae.defaultProps={onChange:function(){}},Kae.propTypes={onChange:st.a.func.isRequired,diagram:st.a.object.isRequired,selections:st.a.arrayOf(st.a.object).isRequired},Kae.key="ZIndexControl";var Yae=Kae;n(670);function Xae(e){var t=e.selections,n=0===t.length||t.some((function(e){return e.locked})),r={width:XN("宽度"),height:XN("高度")};function o(t,n){n>=1&&e.onChange(t,n)}return k.a.createElement(jie,{className:"lake-diagram-size-control",disabled:n},Object.keys(r).map((function(e){return k.a.createElement("div",{className:"lake-diagram-size-control-".concat(e),key:e},k.a.createElement(Qie,{disabled:n,min:1,max:2560,value:Math.round(jie.get(t,e)),onBlur:function(t){return o(e,parseFloat(t.target.value))},onPressEnter:function(t){return o(e,parseFloat(t.target.value))},onStep:function(t){return o(e,t)}}),r[e])})))}Xae.propTypes={selections:st.a.array,onChange:st.a.func};n(671);var $ae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Gae=w.createContext(null),Zae=function(e){Ft()(n,e);var t=Bt()(n);function n(e){var r;return Mt()(this,n),(r=t.call(this,e)).cancelValue=function(e){r.setState((function(t){return{registeredValues:t.registeredValues.filter((function(t){return t!==e}))}}))},r.registerValue=function(e){r.setState((function(t){var n=t.registeredValues;return{registeredValues:[].concat(Lte()(n),[e])}}))},r.toggleOption=function(e){var t=r.state.registeredValues,n=r.state.value.indexOf(e.value),o=Lte()(r.state.value);-1===n?o.push(e.value):o.splice(n,1),"value"in r.props||r.setState({value:o});var i=r.props.onChange;if(i){var a=r.getOptions();i(o.filter((function(e){return-1!==t.indexOf(e)})).sort((function(e,t){return a.findIndex((function(t){return t.value===e}))-a.findIndex((function(e){return e.value===t}))})))}},r.renderGroup=function(e){var t=e.getPrefixCls,n=e.direction,o=Xr()(r),i=o.props,a=o.state,c=i.prefixCls,s=i.className,l=i.style,u=i.options,f=$ae(i,["prefixCls","className","style","options"]),p=t("checkbox",c),d="".concat(p,"-group"),h=Object(br.a)(f,["children","defaultValue","value","onChange","disabled"]),m=i.children;u&&u.length>0&&(m=r.getOptions().map((function(e){return w.createElement(tce,{prefixCls:p,key:e.value.toString(),disabled:"disabled"in e?e.disabled:i.disabled,value:e.value,checked:-1!==a.value.indexOf(e.value),onChange:e.onChange,className:"".concat(d,"-item"),style:e.style},e.label)})));var v={toggleOption:r.toggleOption,value:r.state.value,disabled:r.props.disabled,name:r.props.name,registerValue:r.registerValue,cancelValue:r.cancelValue},y=_t()(d,s,ut()({},"".concat(d,"-rtl"),"rtl"===n));return w.createElement("div",ht()({className:y,style:l},h),w.createElement(Gae.Provider,{value:v},m))},r.state={value:e.value||e.defaultValue||[],registeredValues:[]},r}return It()(n,[{key:"getOptions",value:function(){return this.props.options.map((function(e){return"string"==typeof e?{label:e,value:e}:e}))}},{key:"render",value:function(){return w.createElement(on,null,this.renderGroup)}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value||[]}:null}}]),n}(w.PureComponent);Zae.defaultProps={options:[]};var Jae=Zae,Qae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ece=function(e){Ft()(n,e);var t=Bt()(n);function n(){var e;return Mt()(this,n),(e=t.apply(this,arguments)).saveCheckbox=function(t){e.rcCheckbox=t},e.renderCheckbox=function(t){var n,r=t.getPrefixCls,o=t.direction,i=Xr()(e),a=i.props,c=i.context,s=a.prefixCls,l=a.className,u=a.children,f=a.indeterminate,p=a.style,d=a.onMouseEnter,h=a.onMouseLeave,m=Qae(a,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave"]),v=c,y=r("checkbox",s),g=ht()({},m);v&&(g.onChange=function(){m.onChange&&m.onChange.apply(m,arguments),v.toggleOption({label:u,value:a.value})},g.name=v.name,g.checked=-1!==v.value.indexOf(a.value),g.disabled=a.disabled||v.disabled);var b=_t()(l,(n={},ut()(n,"".concat(y,"-wrapper"),!0),ut()(n,"".concat(y,"-rtl"),"rtl"===o),ut()(n,"".concat(y,"-wrapper-checked"),g.checked),ut()(n,"".concat(y,"-wrapper-disabled"),g.disabled),n)),k=_t()(ut()({},"".concat(y,"-indeterminate"),f));return w.createElement("label",{className:b,style:p,onMouseEnter:d,onMouseLeave:h},w.createElement(rae,ht()({},g,{prefixCls:y,className:k,ref:e.saveCheckbox})),void 0!==u&&w.createElement("span",null,u))},e}return It()(n,[{key:"componentDidMount",value:function(){var e,t=this.props.value;null===(e=this.context)||void 0===e||e.registerValue(t),Pr("checked"in this.props||this.context||!("value"in this.props),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}},{key:"componentDidUpdate",value:function(e){var t,n,r=e.value,o=this.props.value;o!==r&&(null===(t=this.context)||void 0===t||t.cancelValue(r),null===(n=this.context)||void 0===n||n.registerValue(o))}},{key:"componentWillUnmount",value:function(){var e,t=this.props.value;null===(e=this.context)||void 0===e||e.cancelValue(t)}},{key:"focus",value:function(){this.rcCheckbox.focus()}},{key:"blur",value:function(){this.rcCheckbox.blur()}},{key:"render",value:function(){return w.createElement(on,null,this.renderCheckbox)}}]),n}(w.PureComponent);ece.__ANT_CHECKBOX=!0,ece.defaultProps={indeterminate:!1},ece.contextType=Gae;var tce=ece;tce.Group=Jae;var nce=tce,rce=(n(673),nce);function oce(e){var t=e.path,n=e.selections,r=0===n.length||n.some((function(e){return e.locked}));return k.a.createElement(jie,{className:"lake-diagram-ratio-control",disabled:r},k.a.createElement(rce,{disabled:r,checked:jie.get(n,t),onChange:function(n){e.onChange(t,n.target.checked)}},XN("保持宽高比")))}oce.defaultProps={path:"constraints.proportion"},oce.propTypes={path:st.a.string,selections:st.a.array,onChange:st.a.func};n(674);function ice(e){var t=e.selections,n=e.onChange,r=0===t.length||t.some((function(e){return e.locked}));return k.a.createElement(jie,{className:"lake-diagram-reset-size-control",disabled:r},k.a.createElement(Oee,{disabled:r,onClick:function(){var e=t[0];e.isImage?n({width:e.image.naturalWidth,height:e.image.naturalHeight}):e.isVertex&&n({width:e.stencil.width,height:e.stencil.height})}},XN("原始大小")))}ice.propTypes={selections:st.a.array,onChange:st.a.func};n(675);function ace(e){var t=e.selections,n=0===t.length||t.some((function(e){return e.locked}));function r(t,n){e.onChange(t,n)}return k.a.createElement(jie,{className:"lake-diagram-position-control",disabled:n},["x","y"].map((function(e){return k.a.createElement("div",{className:"lake-diagram-position-control-".concat(e),key:e},k.a.createElement(Qie,{disabled:n,value:Math.round(jie.get(t,e)),onBlur:function(t){return r(e,parseFloat(t.target.value))},onPressEnter:function(t){return r(e,parseFloat(t.target.value))},onStep:function(t){return r(e,t)}}),e.toUpperCase())})))}ace.propTypes={selections:st.a.array,onChange:st.a.func};n(676);function cce(e){return""===e?e:"".concat(Math.round(e),"°")}function sce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace("°","");return""===t?t:parseInt(t,10)%360||0}function lce(e){var t=e.selections,n=0===t.length||t.some((function(e){return null==e.rotate}))||t.some((function(e){return e.locked}));function r(t){isFinite(t)&&e.onChange("rotate",t)}function o(e){r(parseFloat(e.target.value))}return k.a.createElement(jie,{className:"lake-diagram-rotate-control",disabled:n},XN("旋转角度"),k.a.createElement(Qie,{disabled:n,min:0,max:360,formatter:cce,parser:sce,value:jie.get(t,"rotate"),onBlur:o,onPressEnter:o,onStep:r}))}lce.propTypes={selections:st.a.arrayOf(st.a.object),onChange:st.a.func};n(678);function uce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uce(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pce=function(e){var t,n,r=e.className,o=e.included,i=e.vertical,a=e.style,c=e.length,s=e.offset,l=e.reverse;c<0&&(l=!l,c=Math.abs(c),s=100-s);var u=i?(t={},Object(xc.a)(t,l?"top":"bottom","".concat(s,"%")),Object(xc.a)(t,l?"bottom":"top","auto"),Object(xc.a)(t,"height","".concat(c,"%")),t):(n={},Object(xc.a)(n,l?"right":"left","".concat(s,"%")),Object(xc.a)(n,l?"left":"right","auto"),Object(xc.a)(n,"width","".concat(c,"%")),n),f=fce(fce({},a),u);return o?k.a.createElement("div",{className:r,style:f}):null};function dce(e,t,n){return(dce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(jc.a)(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}var hce=n(49);function mce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mce(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yce=function(e){var t=e.prefixCls,n=e.vertical,r=e.reverse,o=e.marks,i=e.dots,a=e.step,c=e.included,s=e.lowerBound,l=e.upperBound,u=e.max,f=e.min,p=e.dotStyle,d=e.activeDotStyle,h=u-f,m=function(e,t,n,r,o,i){Object(Sr.a)(!n||r>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var a=Object.keys(t).map(parseFloat).sort((function(e,t){return e-t}));if(n&&r)for(var c=o;c<=i;c+=r)-1===a.indexOf(c)&&a.push(c);return a}(0,o,i,a,f,u).map((function(e){var o,i="".concat(Math.abs(e-f)/h*100,"%"),a=!c&&e===l||c&&e<=l&&e>=s,u=vce(vce({},p),{},n?Object(xc.a)({},r?"top":"bottom",i):Object(xc.a)({},r?"right":"left",i));a&&(u=vce(vce({},u),d));var m=_t()((o={},Object(xc.a)(o,"".concat(t,"-dot"),!0),Object(xc.a)(o,"".concat(t,"-dot-active"),a),Object(xc.a)(o,"".concat(t,"-dot-reverse"),r),o));return k.a.createElement("span",{className:m,style:u,key:e})}));return k.a.createElement("div",{className:"".concat(t,"-step")},m)};function gce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gce(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wce=function(e){var t=e.className,n=e.vertical,r=e.reverse,o=e.marks,i=e.included,a=e.upperBound,c=e.lowerBound,s=e.max,l=e.min,u=e.onClickLabel,f=Object.keys(o),p=s-l,d=f.map(parseFloat).sort((function(e,t){return e-t})).map((function(e){var s,f=o[e],d="object"===Object(mt.a)(f)&&!k.a.isValidElement(f),h=d?f.label:f;if(!h&&0!==h)return null;var m=!i&&e===a||i&&e<=a&&e>=c,v=_t()((s={},Object(xc.a)(s,"".concat(t,"-text"),!0),Object(xc.a)(s,"".concat(t,"-text-active"),m),s)),y=Object(xc.a)({marginBottom:"-50%"},r?"top":"bottom","".concat((e-l)/p*100,"%")),g=Object(xc.a)({transform:"translateX(".concat(r?"50%":"-50%",")"),msTransform:"translateX(".concat(r?"50%":"-50%",")")},r?"right":"left","".concat((e-l)/p*100,"%")),b=n?y:g,w=d?bce(bce({},b),f.style):b;return k.a.createElement("span",{className:v,style:w,key:e,onMouseDown:function(t){return u(t,e)},onTouchStart:function(t){return u(t,e)}},h)}));return k.a.createElement("div",{className:t},d)};function kce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kce(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(jc.a)(e);if(t){var o=Object(jc.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(Ec.a)(this,n)}}var Cce=function(e){Object(_c.a)(n,e);var t=Oce(n);function n(){var e;return Object(Oc.a)(this,n),(e=t.apply(this,arguments)).state={clickFocused:!1},e.setHandleRef=function(t){e.handle=t},e.handleMouseUp=function(){document.activeElement===e.handle&&e.setClickFocus(!0)},e.handleMouseDown=function(t){t.preventDefault(),e.focus()},e.handleBlur=function(){e.setClickFocus(!1)},e.handleKeyDown=function(){e.setClickFocus(!1)},e}return Object(Cc.a)(n,[{key:"componentDidMount",value:function(){this.onMouseUpListener=Object(hce.a)(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var e,t,n,r=this.props,o=r.prefixCls,i=r.vertical,a=r.reverse,c=r.offset,s=r.style,l=r.disabled,u=r.min,f=r.max,p=r.value,d=r.tabIndex,h=r.ariaLabel,m=r.ariaLabelledBy,v=r.ariaValueTextFormatter,y=Object(yt.a)(r,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),g=_t()(this.props.className,Object(xc.a)({},"".concat(o,"-handle-click-focused"),this.state.clickFocused)),b=i?(e={},Object(xc.a)(e,a?"top":"bottom","".concat(c,"%")),Object(xc.a)(e,a?"bottom":"top","auto"),Object(xc.a)(e,"transform",a?null:"translateY(+50%)"),e):(t={},Object(xc.a)(t,a?"right":"left","".concat(c,"%")),Object(xc.a)(t,a?"left":"right","auto"),Object(xc.a)(t,"transform","translateX(".concat(a?"+":"-","50%)")),t),w=xce(xce({},s),b),x=d||0;return(l||null===d)&&(x=null),v&&(n=v(p)),k.a.createElement("div",Object.assign({ref:this.setHandleRef,tabIndex:x},y,{className:g,style:w,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":u,"aria-valuemax":f,"aria-valuenow":p,"aria-disabled":!!l,"aria-label":h,"aria-labelledby":m,"aria-valuetext":n}))}}]),n}(k.a.Component);function _ce(e,t){try{return Object.keys(t).some((function(n){return e.target===Object(qe.findDOMNode)(t[n])}))}catch(e){return!1}}function Ece(e,t){var n=t.min,r=t.max;return e<n||e>r}function jce(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function Sce(e,t){var n=t.marks,r=t.step,o=t.min,i=t.max,a=Object.keys(n).map(parseFloat);if(null!==r){var c=Math.floor((i-o)/r),s=Math.min((e-o)/r,c),l=Math.round(s)*r+o;a.push(l)}var u=a.map((function(t){return Math.abs(e-t)}));return a[u.indexOf(Math.min.apply(Math,Object(Dc.a)(u)))]}function Pce(e,t){return e?t.clientY:t.pageX}function Rce(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function Tce(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:window.pageXOffset+n.left+.5*n.width}function Dce(e,t){var n=t.max,r=t.min;return e<=r?r:e>=n?n:e}function Ace(e,t){var n=t.step,r=isFinite(Sce(e,t))?Sce(e,t):0;return null===n?r:parseFloat(r.toFixed(function(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}(n)))}function Mce(e){e.stopPropagation(),e.preventDefault()}function Nce(e,t,n){var r="increase",o="decrease",i=r;switch(e.keyCode){case See.a.UP:i=t&&n?o:r;break;case See.a.RIGHT:i=!t&&n?o:r;break;case See.a.DOWN:i=t&&n?r:o;break;case See.a.LEFT:i=!t&&n?r:o;break;case See.a.END:return function(e,t){return t.max};case See.a.HOME:return function(e,t){return t.min};case See.a.PAGE_UP:return function(e,t){return e+2*t.step};case See.a.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}return function(e,t){return function(e,t,n){var r={increase:function(e,t){return e+t},decrease:function(e,t){return e-t}},o=r[e](Object.keys(n.marks).indexOf(JSON.stringify(t)),1),i=Object.keys(n.marks)[o];return n.step?r[e](t,n.step):Object.keys(n.marks).length&&n.marks[i]?n.marks[i]:t}(i,e,t)}}function Ice(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ice(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ice(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(jc.a)(e);if(t){var o=Object(jc.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(Ec.a)(this,n)}}function zce(){}function Bce(e){var t;return(t=function(e){Object(_c.a)(n,e);var t=Fce(n);function n(e){var r;Object(Oc.a)(this,n),(r=t.call(this,e)).onMouseDown=function(e){if(0===e.button){var t=r.props.vertical,n=Pce(t,e);if(_ce(e,r.handlesRefs)){var o=Tce(t,e.target);r.dragOffset=n-o,n=o}else r.dragOffset=0;r.removeDocumentEvents(),r.onStart(n),r.addDocumentMouseEvents()}},r.onTouchStart=function(e){if(!jce(e)){var t=r.props.vertical,n=Rce(t,e);if(_ce(e,r.handlesRefs)){var o=Tce(t,e.target);r.dragOffset=n-o,n=o}else r.dragOffset=0;r.onStart(n),r.addDocumentTouchEvents(),Mce(e)}},r.onFocus=function(e){var t=r.props,n=t.onFocus,o=t.vertical;if(_ce(e,r.handlesRefs)){var i=Tce(o,e.target);r.dragOffset=0,r.onStart(i),Mce(e),n&&n(e)}},r.onBlur=function(e){var t=r.props.onBlur;r.onEnd(),t&&t(e)},r.onMouseUp=function(){r.handlesRefs[r.prevMovedHandleIndex]&&r.handlesRefs[r.prevMovedHandleIndex].clickFocus()},r.onMouseMove=function(e){if(r.sliderRef){var t=Pce(r.props.vertical,e);r.onMove(e,t-r.dragOffset)}else r.onEnd()},r.onTouchMove=function(e){if(!jce(e)&&r.sliderRef){var t=Rce(r.props.vertical,e);r.onMove(e,t-r.dragOffset)}else r.onEnd()},r.onKeyDown=function(e){r.sliderRef&&_ce(e,r.handlesRefs)&&r.onKeyboard(e)},r.onClickMarkLabel=function(e,t){e.stopPropagation(),r.onChange({value:t}),r.setState({value:t},(function(){return r.onEnd(!0)}))},r.saveSlider=function(e){r.sliderRef=e};var o=e.step,i=e.max,a=e.min,c=!isFinite(i-a)||(i-a)%o==0;return Object(Sr.a)(!o||Math.floor(o)!==o||c,"Slider[max] - Slider[min] (".concat(i-a,") should be a multiple of Slider[step] (").concat(o,")")),r.handlesRefs={},r}return Object(Cc.a)(n,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentWillUnmount",value:function(){dce(Object(jc.a)(n.prototype),"componentWillUnmount",this)&&dce(Object(jc.a)(n.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef,t=this.props,n=t.vertical,r=t.reverse,o=e.getBoundingClientRect();return n?r?o.bottom:o.top:window.pageXOffset+(r?o.right:o.left)}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=Object(hce.a)(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Object(hce.a)(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=Object(hce.a)(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Object(hce.a)(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){this.props.disabled||this.handlesRefs[0].focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach((function(t){e.handlesRefs[t]&&e.handlesRefs[t].blur&&e.handlesRefs[t].blur()}))}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,r=t.min,o=t.max,i=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-i)*(o-r)+r:i*(o-r)+r}},{key:"calcValueByPos",value:function(e){var t=(this.props.reverse?-1:1)*(e-this.getSliderStart());return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min,r=(e-n)/(t.max-n);return Math.max(0,100*r)}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,t=this.props,r=t.prefixCls,o=t.className,i=t.marks,a=t.dots,c=t.step,s=t.included,l=t.disabled,u=t.vertical,f=t.reverse,p=t.min,d=t.max,h=t.children,m=t.maximumTrackStyle,v=t.style,y=t.railStyle,g=t.dotStyle,b=t.activeDotStyle,w=dce(Object(jc.a)(n.prototype),"render",this).call(this),x=w.tracks,O=w.handles,C=_t()(r,(e={},Object(xc.a)(e,"".concat(r,"-with-marks"),Object.keys(i).length),Object(xc.a)(e,"".concat(r,"-disabled"),l),Object(xc.a)(e,"".concat(r,"-vertical"),u),Object(xc.a)(e,o,o),e));return k.a.createElement("div",{ref:this.saveSlider,className:C,onTouchStart:l?zce:this.onTouchStart,onMouseDown:l?zce:this.onMouseDown,onMouseUp:l?zce:this.onMouseUp,onKeyDown:l?zce:this.onKeyDown,onFocus:l?zce:this.onFocus,onBlur:l?zce:this.onBlur,style:v},k.a.createElement("div",{className:"".concat(r,"-rail"),style:Lce(Lce({},m),y)}),x,k.a.createElement(yce,{prefixCls:r,vertical:u,reverse:f,marks:i,dots:a,step:c,included:s,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:d,min:p,dotStyle:g,activeDotStyle:b}),O,k.a.createElement(wce,{className:"".concat(r,"-mark"),onClickLabel:l?zce:this.onClickMarkLabel,vertical:u,marks:i,included:s,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:d,min:p,reverse:f}),h)}}]),n}(e)).displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=Lce(Lce({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,n=Object(yt.a)(e,["index"]);return delete n.dragging,null===n.value?null:k.a.createElement(Cce,Object.assign({},n,{key:t}))},onBeforeChange:zce,onChange:zce,onAfterChange:zce,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}function Vce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vce(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(jc.a)(e);if(t){var o=Object(jc.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(Ec.a)(this,n)}}var Uce=Bce(function(e){Object(_c.a)(n,e);var t=Hce(n);function n(e){var r;Object(Oc.a)(this,n),(r=t.call(this,e)).onEnd=function(e){var t=r.state.dragging;r.removeDocumentEvents(),(t||e)&&r.props.onAfterChange(r.getValue()),r.setState({dragging:!1})};var o=void 0!==e.defaultValue?e.defaultValue:e.min,i=void 0!==e.value?e.value:o;return r.state={value:r.trimAlignValue(i),dragging:!1},Object(Sr.a)(!("minimumTrackStyle"in e),"minimumTrackStyle will be deprecated, please use trackStyle instead."),Object(Sr.a)(!("maximumTrackStyle"in e),"maximumTrackStyle will be deprecated, please use railStyle instead."),r}return Object(Cc.a)(n,[{key:"calcValueByPos",value:function(e){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){if("value"in this.props||"min"in this.props||"max"in this.props){var n=this.props,r=n.value,o=n.onChange,i=void 0!==r?r:t.value,a=this.trimAlignValue(i,this.props);a!==t.value&&(this.setState({value:a}),Ece(i,this.props)&&o(a))}}},{key:"onChange",value:function(e){var t=this.props,n=!("value"in t),r=e.value>this.props.max?qce(qce({},e),{},{value:this.props.max}):e;n&&this.setState(r);var o=r.value;t.onChange(o)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e,r!==n&&(this.prevMovedHandleIndex=0,this.onChange({value:r}))}},{key:"onMove",value:function(e,t){Mce(e);var n=this.state.value,r=this.calcValueByPos(t);r!==n&&this.onChange({value:r})}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,r=Nce(e,t.vertical,n);if(r){Mce(e);var o=this.state.value,i=r(o,this.props),a=this.trimAlignValue(i);if(a===o)return;this.onChange({value:a}),this.props.onAfterChange(a),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){return this.props.min}},{key:"getUpperBound",value:function(){return this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return null;var n=qce(qce({},this.props),t),r=Dce(e,n);return Ace(r,n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.vertical,o=t.included,i=t.disabled,a=t.minimumTrackStyle,c=t.trackStyle,s=t.handleStyle,l=t.tabIndex,u=t.ariaLabelForHandle,f=t.ariaLabelledByForHandle,p=t.ariaValueTextFormatterForHandle,d=t.min,h=t.max,m=t.startPoint,v=t.reverse,y=t.handle,g=this.state,b=g.value,w=g.dragging,x=this.calcOffset(b),O=y({className:"".concat(n,"-handle"),prefixCls:n,vertical:r,offset:x,value:b,dragging:w,disabled:i,min:d,max:h,reverse:v,index:0,tabIndex:l,ariaLabel:u,ariaLabelledBy:f,ariaValueTextFormatter:p,style:s[0]||s,ref:function(t){return e.saveHandle(0,t)}}),C=void 0!==m?this.calcOffset(m):0,_=c[0]||c;return{tracks:k.a.createElement(pce,{className:"".concat(n,"-track"),vertical:r,included:o,offset:C,reverse:v,length:x-C,style:qce(qce({},a),_)}),handles:O}}}]),n}(k.a.Component));function Wce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wce(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(jc.a)(e);if(t){var o=Object(jc.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(Ec.a)(this,n)}}var Xce=function(e){var t=e.value,n=e.handle,r=e.bounds,o=e.props,i=o.allowCross,a=o.pushable,c=Number(a),s=Dce(t,o),l=s;return i||null==n||void 0===r||(n>0&&s<=r[n-1]+c&&(l=r[n-1]+c),n<r.length-1&&s>=r[n+1]-c&&(l=r[n+1]-c)),Ace(l,o)},$ce=function(e){Object(_c.a)(n,e);var t=Yce(n);function n(e){var r;Object(Oc.a)(this,n),(r=t.call(this,e)).onEnd=function(e){var t=r.state.handle;r.removeDocumentEvents(),(null!==t||e)&&r.props.onAfterChange(r.getValue()),r.setState({handle:null})};var o=e.count,i=e.min,a=e.max,c=Array.apply(void 0,Object(Dc.a)(Array(o+1))).map((function(){return i})),s="defaultValue"in e?e.defaultValue:c,l=(void 0!==e.value?e.value:s).map((function(t,n){return Xce({value:t,handle:n,props:e})})),u=l[0]===a?0:l.length-1;return r.state={handle:null,recent:u,bounds:l},r}return Object(Cc.a)(n,[{key:"calcValueByPos",value:function(e){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(("value"in this.props||"min"in this.props||"max"in this.props)&&(this.props.min!==e.min||this.props.max!==e.max||!Mw()(this.props.value,e.value))){var r=this.props,o=r.onChange,i=r.value||t.bounds;if(i.some((function(e){return Ece(e,n.props)})))o(i.map((function(e){return Dce(e,n.props)})))}}},{key:"onChange",value:function(e){var t=this.props;if(!("value"in t))this.setState(e);else{var n={};["handle","recent"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),Object.keys(n).length&&this.setState(n)}var r=Kce(Kce({},this.state),e).bounds;t.onChange(r)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,r=this.getValue();t.onBeforeChange(r);var o=this.calcValueByPos(e);this.startValue=o,this.startPosition=e;var i=this.getClosestBound(o);if(this.prevMovedHandleIndex=this.getBoundNeedMoving(o,i),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),o!==r[this.prevMovedHandleIndex]){var a=Object(Dc.a)(n.bounds);a[this.prevMovedHandleIndex]=o,this.onChange({bounds:a})}}},{key:"onMove",value:function(e,t){Mce(e);var n=this.state,r=this.calcValueByPos(t);r!==n.bounds[n.handle]&&this.moveTo(r)}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,r=Nce(e,t.vertical,n);if(r){Mce(e);var o=this.state,i=this.props,a=o.bounds,c=o.handle,s=a[null===c?o.recent:c],l=r(s,i),u=Xce({value:l,handle:c,bounds:o.bounds,props:i});if(u===s)return;this.moveTo(u,!0)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,r=1;r<t.length-1;r+=1)e>=t[r]&&(n=r);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,r=n.bounds,o=n.recent,i=t,a=r[t+1]===r[t];return a&&r[o]===r[t]&&(i=o),a&&e!==r[t+1]&&(i=e<r[t+1]?t:t+1),i}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,r=e.min,o=e.max,i=this.internalPointsCache;if(!i||i.marks!==t||i.step!==n){var a=Kce({},t);if(null!==n)for(var c=r;c<=o;c+=n)a[c]=c;var s=Object.keys(a).map(parseFloat);s.sort((function(e,t){return e-t})),this.internalPointsCache={marks:t,step:n,points:s}}return this.internalPointsCache.points}},{key:"moveTo",value:function(e,t){var n=this,r=this.state,o=this.props,i=Object(Dc.a)(r.bounds),a=null===r.handle?r.recent:r.handle;i[a]=e;var c=a;!1!==o.pushable?this.pushSurroundingHandles(i,c):o.allowCross&&(i.sort((function(e,t){return e-t})),c=i.indexOf(e)),this.onChange({recent:c,handle:c,bounds:i}),t&&(this.props.onAfterChange(i),this.setState({},(function(){n.handlesRefs[c].focus()})),this.onEnd())}},{key:"pushSurroundingHandles",value:function(e,t){var n=e[t],r=this.props.pushable,o=Number(r),i=0;if(e[t+1]-n<o&&(i=1),n-e[t-1]<o&&(i=-1),0!==i){var a=t+i,c=i*(e[a]-n);this.pushHandle(e,a,i,o-c)||(e[t]=e[a]-i*o)}}},{key:"pushHandle",value:function(e,t,n,r){for(var o=e[t],i=e[t];n*(i-o)<r;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=o,!1;i=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var r=this.getPoints(),o=r.indexOf(e[t])+n;if(o>=r.length||o<0)return!1;var i=t+n,a=r[o],c=this.props.pushable,s=Number(c),l=n*(e[i]-a);return!!this.pushHandle(e,i,n,s-l)&&(e[t]=a,!0)}},{key:"trimAlignValue",value:function(e){var t=this.state,n=t.handle,r=t.bounds;return Xce({value:e,handle:n,bounds:r,props:this.props})}},{key:"render",value:function(){var e=this,t=this.state,n=t.handle,r=t.bounds,o=this.props,i=o.prefixCls,a=o.vertical,c=o.included,s=o.disabled,l=o.min,u=o.max,f=o.reverse,p=o.handle,d=o.trackStyle,h=o.handleStyle,m=o.tabIndex,v=o.ariaLabelGroupForHandles,y=o.ariaLabelledByGroupForHandles,g=o.ariaValueTextFormatterGroupForHandles,b=r.map((function(t){return e.calcOffset(t)})),w="".concat(i,"-handle"),x=r.map((function(t,r){var o,c=m[r]||0;(s||null===m[r])&&(c=null);var d=n===r;return p({className:_t()((o={},Object(xc.a)(o,w,!0),Object(xc.a)(o,"".concat(w,"-").concat(r+1),!0),Object(xc.a)(o,"".concat(w,"-dragging"),d),o)),prefixCls:i,vertical:a,dragging:d,offset:b[r],value:t,index:r,tabIndex:c,min:l,max:u,reverse:f,disabled:s,style:h[r],ref:function(t){return e.saveHandle(r,t)},ariaLabel:v[r],ariaLabelledBy:y[r],ariaValueTextFormatter:g[r]})}));return{tracks:r.slice(0,-1).map((function(e,t){var n,r=t+1,o=_t()((n={},Object(xc.a)(n,"".concat(i,"-track"),!0),Object(xc.a)(n,"".concat(i,"-track-").concat(r),!0),n));return k.a.createElement(pce,{className:o,vertical:a,reverse:f,included:c,offset:b[r-1],length:b[r]-b[r-1],style:d[t],key:r})})),handles:x}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if("value"in e||"min"in e||"max"in e){var n=(e.value||t.bounds).map((function(n,r){return Xce({value:n,handle:r,bounds:t.bounds,props:e})}));return n.length===t.bounds.length&&n.every((function(e,n){return e===t.bounds[n]}))?null:Kce(Kce({},t),{},{bounds:n})}return null}}]),n}(k.a.Component);$ce.displayName="Range",$ce.defaultProps={count:1,allowCross:!0,pushable:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var Gce=Bce($ce);var Zce=w.forwardRef((function(e,t){var n=e.visible,r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=w.useRef();return w.useEffect((function(){t.forEach((function(e){e&&("function"==typeof e?e(r.current):e.current=r.current)}))}),[t]),r}(t,w.useRef(null)),o=w.useRef(null);function i(){window.cancelAnimationFrame(o.current),o.current=null}function a(){null===o.current&&(o.current=window.requestAnimationFrame((function(){r.current.forcePopupAlign(),o.current=null,a()})))}return w.useEffect((function(){return n?a():i(),i}),[n]),w.createElement(pn,ht()({ref:r},e))})),Jce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Qce=w.forwardRef((function(e,t){var n=w.useContext(rn),r=n.getPrefixCls,o=n.direction,i=n.getPopupContainer,a=w.useState({}),c=pt()(a,2),s=c[0],l=c[1],u=function(e,t){l((function(n){return ht()(ht()({},n),ut()({},e,t))}))},f=function(e,t){return e||(t?"rtl"===o?"left":"right":"top")},p=function(t){var n=t.tooltipPrefixCls,r=t.prefixCls,o=t.info,a=o.value,c=o.dragging,l=o.index,p=Jce(o,["value","dragging","index"]),d=e.tipFormatter,h=e.tooltipVisible,m=e.tooltipPlacement,v=e.getTooltipPopupContainer,y=e.vertical,g=!!d&&(s[l]||c),b=h||void 0===h&&g;return w.createElement(Zce,{prefixCls:n,title:d?d(a):"",visible:b,placement:f(m,y),transitionName:"zoom-down",key:l,overlayClassName:"".concat(r,"-tooltip"),getPopupContainer:v||i||function(){return document.body}},w.createElement(Cce,ht()({},p,{value:a,onMouseEnter:function(){return u(l,!0)},onMouseLeave:function(){return u(l,!1)}})))},d=e.prefixCls,h=e.tooltipPrefixCls,m=e.range,v=e.className,y=Jce(e,["prefixCls","tooltipPrefixCls","range","className"]),g=r("slider",d),b=r("tooltip",h),k=_t()(v,ut()({},"".concat(g,"-rtl"),"rtl"===o));return"rtl"!==o||y.vertical||(y.reverse=!y.reverse),m?w.createElement(Gce,ht()({},y,{className:k,ref:t,handle:function(e){return p({tooltipPrefixCls:b,prefixCls:g,info:e})},prefixCls:g,tooltipPrefixCls:b})):w.createElement(Uce,ht()({},y,{className:k,ref:t,handle:function(e){return p({tooltipPrefixCls:b,prefixCls:g,info:e})},prefixCls:g,tooltipPrefixCls:b}))}));Qce.displayName="Slider",Qce.defaultProps={tipFormatter:function(e){return"number"==typeof e?e.toString():""}};var ese=Qce,tse=(n(679),ese);n(677);function nse(e){return""===e?e:"".concat(Math.round(100*e),"%")}function rse(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace("%","");return""===t?t:Math.min(Math.max(parseFloat(t)/100||0,0),1)}function ose(e){var t=e.selections,n=0===t.length||t.some((function(e){return e.locked})),r=parseFloat(jie.get(t,"opacity"))||1,o=Un()((function(t){isFinite(t)&&e.onChange("opacity",t)}),16);function i(e){o(rse(e.target.value))}return Object(w.useEffect)((function(){return function(){return o.cancel()}})),k.a.createElement(jie,{className:"lake-diagram-opacity-control",disabled:n},k.a.createElement(tse,{disabled:n,min:0,max:1,step:.01,tooltipVisible:!1,value:r,onChange:o}),k.a.createElement(Qie,{disabled:n,min:0,max:1,step:.01,value:r,formatter:nse,parser:rse,onBlur:i,onPressEnter:i,onStep:o}))}ose.propTypes={selections:st.a.arrayOf(st.a.object),onChange:st.a.func};n(680);var ise={none:"https://gw.alipayobjects.com/zos/bmw-prod/5e3dbea7-f3c3-418f-91de-cfbcb825343c.svg",dash:"https://gw.alipayobjects.com/zos/bmw-prod/3d7118e9-1bac-465d-acb9-cc0766ece25e.svg"};function ase(e){var t=e.selections,n=e.path,r=0===t.length,o=t.filter((function(e){return e.canStrokeStyle()})),i=jie.get(o,n);return k.a.createElement(jie,{className:"lake-diagram-properties-stroke-style",disabled:r,title:XN("线条样式"),extra:k.a.createElement(Hne,{disabled:r,trigger:["click"],overlay:k.a.createElement(sne,{"data-lake_prevent_click_unselect":!0,onClick:function(t){var r=t.key;e.onChange(n,"none"===r?null:r,o)}},k.a.createElement(sne.Item,{className:"lake-diagram-stroke-style-item","test-id":"lake-diagram-stroke-style-item-none",key:"none",style:{backgroundImage:"url(".concat(ise.none,")")}}),k.a.createElement(sne.Item,{className:"lake-diagram-stroke-style-item","test-id":"lake-diagram-stroke-style-item-dash",key:"dash",style:{backgroundImage:"url(".concat(ise.dash,")")}})),placement:"bottomRight"},k.a.createElement("div",{className:"lake-diagram-stroke-style-selected"},k.a.createElement("span",{className:"lake-diagram-stroke-style-item lake-diagram-stroke-style-selected-item",style:{backgroundImage:"url(".concat(ise[i||"none"],")")}}),k.a.createElement(joe,{className:"lake-properties-stroke-style-dropdown-icon",style:{color:"#8C8C8C",fontSize:"10px"}})))})}ase.defaultProps={onChange:function(){},path:"stroke.style"},ase.propTypes={selections:st.a.arrayOf(st.a.object).isRequired,onChange:st.a.func.isRequired,path:st.a.string.isRequired},ase.key="StrokeStyleControl";var cse=ase;function sse(e){var t=e.diagram,n=e.domContainer,r=e.selections,o={tabs:[{name:XN("样式"),key:"style"},{name:XN("文本"),key:"text"},{name:XN("排列"),key:"arrangement"}],menus:[{name:XN("填充"),tabKey:"style",condition:function(e){return e.some((function(e){return e.isVertex}))},controls:[{path:"shape",Control:Vae},{path:"fill.color",Control:Nie}]},{name:XN("线条/边框"),tabKey:"style",condition:function(e){return e.some((function(e){return e.isVertex}))&&e.some((function(e){return e.isEdge}))},controls:[{path:"stroke.color",Control:Lie},{path:"stroke.width",Control:tae},{Control:Hae},{Control:Fae}]},{name:XN("线条"),tabKey:"style",condition:function(e){return e.every((function(e){return e.isEdge}))},controls:[{path:"stroke.color",Control:Lie},{path:"stroke.width",Control:tae},{Control:Hae},{Control:cse},{Control:Fae}]},{name:XN("边框"),tabKey:"style",condition:function(e){return e.every((function(e){return e.isVertex}))},controls:[{path:"stroke.color",Control:Lie},{path:"stroke.width",Control:tae},{Control:cse}]},{name:XN("不透明度"),tabKey:"style",condition:function(e){return e.length>0&&e.every((function(e){return null!=e.opacity}))},controls:[{Control:ose}]},{name:XN("文本"),tabKey:"text",condition:function(e){return e.length>0},controls:[{Control:Iae}]},{name:XN("排列"),tabKey:"arrangement",condition:function(e){return e.length>0},controls:[{Control:Wae},{Control:Yae}]},{name:XN("大小"),tabKey:"arrangement",condition:function(e){return e.length>0&&e.every((function(e){return e.isVertex}))},controls:[{Control:Xae},{Control:oce},{Control:ice}]},{name:XN("位置"),tabKey:"arrangement",condition:function(e){return e.length>0&&e.every((function(e){return e.isVertex}))},controls:[{Control:ace}]},{name:XN("旋转"),tabKey:"arrangement",condition:function(e){return e.length>0&&e.every((function(e){return null!=e.rotate}))},controls:[{Control:lce}]}],diagram:t,domContainer:n,emptyImg:"https://gw.alipayobjects.com/zos/bmw-prod/209ef531-e33b-4e55-8273-5b56b6df44be.svg",selections:r};return k.a.createElement(_ie,o)}sse.defaultProps={diagram:null,domContainer:null},sse.propTypes={diagram:st.a.object,domContainer:st.a.object.isRequired,selections:st.a.arrayOf(st.a.object)};var lse=sse;n(681);function use(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fse(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fse(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fse(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pse=["standard-horizontal","standard-right","standard-left","standard-up","standard-down","indent-right","indent-left"];function dse(e){var t=e.selections.filter((function(e){return e.isMindmap&&e.isRoot})),n=function(e){if(0!==e.length){var t=[];return e.forEach((function(e){var n,r=jie.get([e],"layout"),o=r.type,i=r.direction,a=r.quadrants;0===i[0]?n=i[1]>0?"down":"up":0===i[1]&&(n=a>1?"horizontal":i[0]>0?"right":"left"),t.push("".concat(o,"-").concat(n))})),t.every((function(e){return e===t[0]}))?t[0]:"multiValue"}}(t),r=use(Object(w.useState)(!1),2),o=r[0],i=r[1];function a(n){e.onChange("layout",function(e){var t,n=use(e.split("-"),2),r=n[0],o=n[1],i=1;return"indent"===r?t=["right"===o?1:-1,0]:"horizontal"===o?(t=[1,0],i=2):t={up:[0,-1],right:[1,0],down:[0,1],left:[-1,0]}[o],{type:r,direction:t,quadrants:i}}(n),t)}return k.a.createElement(jie,{className:"lake-diagram-layout-control",title:XN("布局"),extra:k.a.createElement(Hne,{overlay:k.a.createElement(k.a.Fragment,null,pse.map((function(e){return k.a.createElement("div",{key:e,"data-lake_prevent_click_unselect":"true",className:_t()("lake-diagram-layout-thumb",e,{selected:e===n}),onClick:function(){i(!o),a(e)}})}))),overlayClassName:"lake-diagram-layout-dropdown",placement:"bottomRight",onClick:function(){i(!o)},visible:o,onVisibleChange:function(e){i(e)},trigger:["click"],getPopupContainer:function(){return e.domContainer}},k.a.createElement("div",{className:_t()("lake-diagram-layout-current",{"multi-properties-selection":"multiValue"===n})},k.a.createElement("div",{className:"lake-diagram-layout-thumb ".concat(n)})))})}dse.defaultProps={onChange:function(){}},dse.propTypes={domContainer:st.a.object,selections:st.a.arrayOf(st.a.object).isRequired,onChange:st.a.func.isRequired},dse.key="LayoutControl";var hse=dse;function mse(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vse(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vse(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vse(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yse(e){var t=e.selections,n=mse(Object(w.useState)(!1),2),r=n[0],o=n[1],i=0===t.length;return Object(w.useEffect)((function(){var e=jie.get(t,"model.width");o("multiValue"===e?"multiValue":null!=e)}),[t]),k.a.createElement(jie,{disabled:i},k.a.createElement(rce,{disabled:i,indeterminate:"multiValue"===r,checked:!!r,onChange:function(n){var r=n.target.checked?jie.get(t,"width"):null;o(n.target.checked),e.onChange({width:r,height:null})},"data-testid":"checkbox-node-width"},XN("手动设置节点尺寸")))}yse.propTypes={selections:st.a.arrayOf(st.a.object).isRequired,onChange:st.a.func.isRequired},yse.key="NodeWidthControl";var gse=yse,bse=(n(682),[{key:"line"},{key:"rect"},{key:"capsule"}]);function wse(e){var t=e.selections,n=jie.get(t,"border.shape","line")||null,r=t.length>0&&t.some((function(e){return e.isRoot}))?bse.filter((function(e){return"line"!==e.key})):bse,o=r.find((function(e){return e.key===n}))?n:"";return k.a.createElement(jie,{disabled:0===t.length,title:XN("节点形状")},k.a.createElement("div",{className:"lake-diagram-border-shape-body"},r.map((function(t){var n=t.key;return k.a.createElement("div",{key:n,"data-shape":n,className:_t()("lake-diagram-border-shape",{selected:o===n}),onClick:function(){return function(t){t!==o&&e.onChange("border.shape",t)}(n)}})}))))}wse.propTypes={selections:st.a.arrayOf(st.a.object).isRequired,onChange:st.a.func.isRequired},wse.key="BorderShapeControl";var kse=wse;n(683);function xse(e){var t=e.selections.filter((function(e){return e.canStroke()})),n=0===t.length,r=jie.get(t,"border.stroke-width");function o(n){var o=Math.min(Math.max(n,1),10);o!==r&&e.onChange("border.stroke-width",o,t)}function i(e){o(parseFloat(e.target.value))}return k.a.createElement(jie,{className:"lake-diagram-border-stroke-width-control",disabled:n,title:XN("边框粗细"),extra:k.a.createElement(Qie,{disabled:n,min:1,max:10,value:r,onBlur:i,onPressEnter:i,onStep:o})})}xse.defaultProps={onChange:function(){}},xse.propTypes={selections:st.a.arrayOf(st.a.object).isRequired,onChange:st.a.func.isRequired},xse.key="BorderStrokeWidthControl";var Ose=xse;function Cse(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ese(e){var t=e.selections.filter((function(e){return e.isMindmap&&e.isRoot})),n=Cse(Object(w.useState)(!1),2),r=n[0],o=n[1];return Object(w.useEffect)((function(){o(jie.get(t,"rainbow"))}),[t]),k.a.createElement(jie,null,k.a.createElement(rce,{indeterminate:"multiValue"===r,checked:!!r,onChange:function(n){var r=n.target.checked;o(r),e.onChange("rainbow",r,t)}},XN("彩虹分支")))}Ese.propTypes={selections:st.a.arrayOf(st.a.object).isRequired,onChange:st.a.func},Ese.key="TreeEdgeRainbowControl";var jse=Ese;n(684);function Sse(e){var t=e.selections,n=e.diagram,r=jie.get(t,"treeEdge.stroke","#A287E1"),o="multiValue"===r?"#FFFFFF":r;return k.a.createElement(jie,{disabled:0===t.length,title:XN("分支颜色"),extra:k.a.createElement(Aie,{disabled:0===t.length,color:o,onSelect:function(t){e.onChange("treeEdge.stroke",t)},domContainer:e.domContainer,palette:n&&n.palette},k.a.createElement("div",{className:_t()("lake-diagram-tree-edge-stroke",{"multi-properties-selection":"multiValue"===r})},k.a.createElement("svg",{width:"64",viewBox:"0 0 64 12",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M64 2c-27.42 0-35.012 8-64 8",stroke:"multiValue"===r?"none":r,strokeWidth:"4",fill:"none",fillRule:"evenodd"}))))})}Sse.defaultProps={onChange:function(){}},Sse.propTypes={selections:st.a.arrayOf(st.a.object).isRequired,onChange:st.a.func.isRequired,domContainer:st.a.object.isRequired,diagram:st.a.object},Sse.key="TreeEdgeStrokeControl";var Pse=Sse;function Rse(e){var t=e.selections.filter((function(e){return e.isMindmap&&e.isRoot})),n=jie.get(t,"tapered");return k.a.createElement(jie,null,k.a.createElement(rce,{indeterminate:"multiValue"===n,checked:!!n,onChange:function(n){var r=n.target.checked;e.onChange("tapered",r,t)}},XN("分支线条宽度逐渐变细")))}Rse.propTypes={selections:st.a.arrayOf(st.a.object).isRequired,onChange:st.a.func},Rse.key="TreeEdgeTaperedControl";var Tse=Rse;n(685);function Dse(e){var t=e.selections,n=e.onChange,r=dE(t.map((function(e){return e.root}))),o=jie.get(r,"treeEdge.shape",null);o="multiValue"===o?null:void 0===o?"curve":o;var i=0===t.length;return k.a.createElement(jie,{className:"lake-diagram-properties-edge-shape",disabled:i,title:XN("分支类型"),extra:k.a.createElement(bae.Group,{disabled:i,value:o,onChange:function(e){var t="curve"===e.target.value?null:e.target.value;n("treeEdge.shape",t,r)}},k.a.createElement(bae.Button,{value:"curve"},k.a.createElement("span",{className:"lake-icon lake-icon-mind-tree-edge-curve"})),k.a.createElement(bae.Button,{value:"polyline"},k.a.createElement("span",{className:"lake-icon lake-icon-mind-tree-edge-straight"})))})}Dse.defaultProps={onChange:function(){}},Dse.propTypes={selections:st.a.arrayOf(st.a.object).isRequired,onChange:st.a.func.isRequired},Dse.key="TreeEdgeShapeControl";var Ase=Dse;function Mse(e){var t=e.diagram,n=e.domContainer,r={tabs:[{name:XN("样式"),key:"style"},{name:XN("文本"),key:"text"}],menus:[{name:XN("节点"),tabKey:"style",condition:function(e){return e.some((function(e){return e.isMindmap}))},controls:[{Control:kse},{path:"border.fill",Control:Nie},{path:"border.stroke",title:XN("边框颜色"),Control:Lie},{Control:Ose},{Control:gse}]},{name:XN("分支"),tabKey:"style",condition:function(e){return e.every((function(e){return e.isMindmap&&e.isRoot}))},controls:[{Control:jse},{Control:Tse},{Control:Ase}]},{name:XN("分支"),tabKey:"style",condition:function(e){return e.every((function(e){return e.isMindmap&&!e.isRoot}))},controls:[{Control:Pse},{Control:Ase}]},{name:XN("分支"),tabKey:"style",condition:function(e){return e.every((function(e){return e.isMindmap}))&&e.some((function(e){return!e.isRoot}))&&e.some((function(e){return e.isRoot}))},controls:[{Control:Pse},{Control:Ase},{Control:jse},{Control:Tse}]},{name:XN("结构"),tabKey:"style",condition:function(e){return e.some((function(e){return e.isMindmap&&e.isRoot}))},controls:[{Control:hse}]},{name:XN("文本"),tabKey:"text",condition:function(e){return e.length>0},controls:[{Control:Iae}]},{name:XN("连接线"),tabKey:"style",condition:function(e){return e.some((function(e){return e.isLine}))>0},controls:[{path:"stroke.color",Control:Lie},{path:"stroke.width",Control:tae},{Control:cse},{Control:Fae}]}],diagram:t,domContainer:n,emptyImg:"https://gw.alipayobjects.com/zos/bmw-prod/67092b02-26ae-4e8b-8629-855a5ecd5326.svg"};return k.a.createElement(_ie,r)}Mse.defaultProps={diagram:null,domContainer:null},Mse.propTypes={diagram:st.a.object,domContainer:st.a.object.isRequired};var Nse=Mse;n(686);function Ise(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lse(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lse(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lse(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fse={title:{fontSize:92,label:XN("大标题")},"title-small":{fontSize:64,label:XN("小标题")},subtitle:{fontSize:48,label:XN("副标题")},body:{fontSize:32,label:XN("正文")}};function zse(e){var t=e.diagram,n=e.selections,r=Ise(Object(w.useState)({fontSize:32}),2),o=r[0],i=r[1],a=Object.keys(Fse).find((function(e){return o.fontSize===Fse[e].fontSize}))||"body",c=0===n.length||n.some((function(e){return e.locked})),s=new Eae({selections:n,diagram:t,onChange:function(e){i(e)}});Object(w.useEffect)((function(){function e(){s.updateEditRange(),i(s.getQuery())}return i(s.getQuery()),t.contentEditor.on("selectionchange",e),s.updateEditRange(),function(){t.contentEditor.off("selectionchange",e)}}),[t,n]);var l=k.a.createElement(sne,{className:"lake-diagram-heading-menu lake-user-select-none","data-lake_prevent_click_unselect":"true",onClick:function(e){var t=e.key;s.change("fontSize",Fse[t].fontSize)}},Object.keys(Fse).map((function(e){return k.a.createElement(sne.Item,{key:e,"data-heading":e},Fse[e].label)})));return k.a.createElement(jie,{className:"lake-diagram-heading-control",disabled:c},k.a.createElement(Hne,{overlay:l,disabled:c,trigger:["click"],getPopupContainer:function(){return e.domContainer}},k.a.createElement("div",null,k.a.createElement("span",{"data-heading":a},Fse[a].label),k.a.createElement("span",{className:"lake-icon lake-icon-dropdown-arrow"}))))}zse.propTypes={diagram:st.a.object,selections:st.a.array,domContainer:st.a.object,onChange:st.a.func};n(687);function Bse(e){var t=e.selections,n=e.diagram,r=t.filter((function(e){return e.canMove()})).length<3;return k.a.createElement("div",{className:"lake-diagram-properties-distribute"},k.a.createElement(bae.Group,{onChange:function(e){n.command.execute(e.target.value)},value:null},k.a.createElement(bae.Button,{value:"DistributeHorizontally",disabled:r},k.a.createElement("span",{className:"lake-icon lake-icon-horizontally"})),k.a.createElement(bae.Button,{value:"DistributeVertically",disabled:r},k.a.createElement("span",{className:"lake-icon lake-icon-vertically"}))),k.a.createElement("div",{className:"lake-diagram-properties-distribute-label-group"},k.a.createElement("span",{className:"lake-diagram-properties-distribute-label"},XN("水平分布")),k.a.createElement("span",{className:"lake-diagram-properties-distribute-label"},XN("垂直分布"))))}function Vse(e){var t=e.diagram,n=e.domContainer,r=e.selections,o={tabs:[{name:XN("样式"),key:"style"},{name:XN("文本"),key:"text"},{name:XN("排列"),key:"arrangement"}],menus:[{name:XN("填充"),tabKey:"style",condition:function(e){return e.some((function(e){return e.isFlowchart}))},controls:[{path:"shape",props:{groups:["basic","flowchart"]},Control:Vae},{path:"fill.color",Control:Nie}]},{name:XN("线条/边框"),tabKey:"style",condition:function(e){return e.some((function(e){return e.isVertex}))&&e.some((function(e){return e.isEdge}))},controls:[{path:"stroke.color",Control:Lie},{path:"stroke.width",Control:tae},{Control:Hae},{Control:Fae}]},{name:XN("线条"),tabKey:"style",condition:function(e){return e.every((function(e){return e.isEdge}))},controls:[{path:"stroke.color",Control:Lie},{path:"stroke.width",Control:tae},{Control:Hae},{Control:Fae}]},{name:XN("边框"),tabKey:"style",condition:function(e){return e.every((function(e){return e.isVertex}))},controls:[{path:"stroke.color",Control:Lie},{path:"stroke.width",Control:tae}]},{name:XN("不透明度"),tabKey:"style",condition:function(e){return e.length>0&&e.every((function(e){return null!=e.opacity}))},controls:[{Control:ose}]},{name:XN("文本"),tabKey:"text",condition:function(e){return e.length>0&&e.some((function(e){return e.isVertex}))&&!e.some((function(e){return e.isImage}))},controls:[{Control:zse},{Control:Iae}]},{name:XN("排列"),tabKey:"arrangement",condition:function(e){return e.length>0},controls:[{Control:Wae},{Control:Bse},{Control:Yae}]},{name:XN("大小"),tabKey:"arrangement",condition:function(e){return e.length>0&&e.every((function(e){return e.isVertex}))},controls:[{Control:Xae},{Control:oce},{Control:ice}]},{name:XN("位置"),tabKey:"arrangement",condition:function(e){return e.length>0&&e.every((function(e){return e.isVertex}))},controls:[{Control:ace}]},{name:XN("旋转"),tabKey:"arrangement",condition:function(e){return e.length>0&&e.every((function(e){return null!=e.rotate}))},controls:[{Control:lce}]}],diagram:t,domContainer:n,emptyImg:"https://gw.alipayobjects.com/zos/bmw-prod/209ef531-e33b-4e55-8273-5b56b6df44be.svg",selections:r};return k.a.createElement(_ie,o)}function qse(e){var t=e.diagram,n=e.domContainer,r=e.selections,o=e.onChange;if(r.every((function(e){return e.isCell})))return k.a.createElement(Vse,{diagram:t,domContainer:n,selections:r});var i={tabs:[{name:XN("幻灯片布局"),key:"layout"}],menus:[{name:XN("背景"),tabKey:"layout",condition:function(){return!0},controls:[{path:"fill.color",title:XN("背景颜色"),Control:Nie}]}],diagram:t,domContainer:n,selections:r,onChange:o};return k.a.createElement(_ie,i)}Bse.propTypes={selections:st.a.arrayOf(st.a.object),diagram:st.a.object},Vse.propTypes={diagram:st.a.object,domContainer:st.a.object.isRequired,selections:st.a.arrayOf(st.a.object)},qse.defaultProps={diagram:null,domContainer:null},qse.propTypes={diagram:st.a.object,domContainer:st.a.object.isRequired,selections:st.a.arrayOf(st.a.object),onChange:st.a.func};var Hse=qse;n(688);function Use(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wse(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wse(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wse(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kse(e){var t,n=e.diagram,r=e.readonly,o=Use(Object(w.useState)(null),2),i=o[0],a=o[1],c=Use(Object(w.useState)(""),2),s=c[0],l=c[1],u=Use(Object(w.useState)(null),2),f=u[0],p=u[1],d=Object(w.useRef)();return Object(w.useEffect)((function(){function e(e){var t=e.cell,n=t.getKeyShape().getBoundingClientRect();a(null),a([n.x+n.width,n.y+n.height/2]),p(t),l(t.note.content)}return n.on("opennote",e),function(){n.off("opennote",e)}}),[n,i,a,p,s]),Object(w.useEffect)((function(){setTimeout((function(){var e=document.querySelector("textarea.lake-diagram-note-area");if(e){var t=e.value.length;e.focus(),e.setSelectionRange(t,t)}}),16)}),[i,d.current,f]),t=r?k.a.createElement("div",{className:"lake-diagram-note-area"},s):k.a.createElement("textarea",{className:"lake-diagram-note-area",value:s,onChange:function(e){var t=e.target.value;l(t)},ref:d}),k.a.createElement(Kre,{placement:"right",content:t,visible:!0,overlayClassName:"lake-diagram-note-popover",diagram:n,coord:i,onClose:function(){i&&f&&(p(null),a(null),f.note.content!==s&&n.command.execute("Update",{id:f,model:{note:s?{content:s}:null}}))}})}Kse.defaultProps={diagram:null,readonly:!1},Kse.propTypes={diagram:st.a.object,readonly:st.a.bool};var Yse=Kse;function Xse(e){return k.a.createElement(Yse,e)}Xse.defaultProps={diagram:null},Xse.propTypes={diagram:st.a.object};var $se=Xse;function Gse(){return(Gse=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zse(e){return k.a.createElement(Yse,Gse({},e,{readonly:!0}))}Zse.defaultProps={diagram:null},Zse.propTypes={diagram:st.a.object};var Jse=Zse,Qse=n(82),ele=n.n(Qse);function tle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nle(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tle(Object(n),!0).forEach((function(t){rle(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tle(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rle(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ole="mindmap";function ile(e){return ele.a.deflate(JSON.stringify({body:[{id:"4a749c6b",html:e.defaultRootText,type:"mindmap",children:[{id:"8308b1b9",html:e.newNode,treeEdge:{stroke:"#A287E1"}},{id:"06492f3c",html:e.newNode,treeEdge:{stroke:"#E48484"}},{id:"fc4c524c",html:e.newNode,treeEdge:{stroke:"#69B1E4"}}]}]}),{to:"string"})}var ale={initialize:function(){var e=this;this.command.add(ole,{sideEffect:!0,execute:function(){var t={diagramData:ile(e.locale.mindmap)},n=e.change.insertCard("mindmap",nle(nle({},t),{},{margin:!0})),r=e.card.getComponent(n);r.onFirstRendering=function(){var e=r.diagram;r.diagram.selector.select(e.getCells().find((function(e){return e.isRoot})))}}})}},cle=n(174),sle=n.n(cle);function lle(e){return(lle="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ule(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function fle(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ule(i,r,o,a,c,"next",e)}function c(e){ule(i,r,o,a,c,"throw",e)}a(void 0)}))}}function ple(e){return function(e){if(Array.isArray(e))return dle(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dle(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dle(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dle(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vle(e,t,n){return(vle="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kle(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function yle(e,t){return(yle=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gle(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kle(e);if(t){var o=kle(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ble(this,n)}}function ble(e,t){return!t||"object"!==lle(t)&&"function"!=typeof t?wle(e):t}function wle(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kle(e){return(kle=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xle=h.exportData,Ole=b.LinkEditor,Cle=b.ZoomTool,_le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yle(e,t)}(i,e);var t,n,r,o=gle(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hle(this,i),(e=o.call(this)).zoomStep=.1,e.currentZoom=1,e.minHeight=460,e.plugins=[],e.head={},e.scrollBarSize=18,e.updateToolbarState=nm()((function(){e.engine.toolbar.updateState()}),16),e.isModelChange=!0,Object.assign(wle(e),t),e}return t=i,(n=[{key:"getChangeDataCommandNames",value:function(){}},{key:"embedToolbar",value:function(){var e=this,t=fe.mobile?[{type:"copy"},{type:"delete"}]:[{type:"dnd"},{type:"maximize"},{type:"separator"},{type:"copy"},{type:"copyCardLink",onClick:function(){return e.copyCardEmbedLink()}},{type:"button",name:"download",iconName:"download",title:this.locale.downloadImage,onClick:function(){e.diagram.exporter.download("jpg")}},{type:"separator"}].concat(ple(this.getMoreEmbedToolbarConfig()));return this.state.readonly&&(t=[{type:"maximize"},{type:"copyCardLink",onClick:function(){return e.copyCardEmbedLink()}},{type:"button",name:"download",iconName:"download",title:this.locale.downloadImage,onClick:function(){e.diagram.exporter.download("jpg")}}]),t}},{key:"activate",value:function(){var e=this;this.engine&&(this.setTopToolbar(),this.showRisizeController(),this.container.css("border","1px solid #D9D9D9"),this.showProperties(),this.hideMask(),setTimeout((function(){e.diagram.viewportContainer.contains(document.activeElement)||e.diagram&&e.diagram.focus()}),16))}},{key:"unactivate",value:function(){!1===this.state.activated||this.destroyed||this.engine&&(this.container.css("border","1px solid rgba(0,0,0,0)"),this.restoreSidebar(),this.hideProperties(),this.engine.toolbar.restore(),this.hideRisizeController())}},{key:"restoreSidebar",value:function(){this.engine&&this.isSetPropertiesSidebar&&(this.engine.sidebar.restore("diagram"),this.isSetPropertiesSidebar=!1)}},{key:"showZoomTool",value:function(){this.zoomContainer&&this.zoomContainer.show()}},{key:"hideZoomTool",value:function(){this.zoomContainer&&this.zoomContainer.hide()}},{key:"createZoomController",value:function(){var e=this,t=this.scrollWrapper,n=this.container;t=ru(t);var r=ru("<div></div>");t.append(r),this.zoomContainer=r,this.renderZoomController(),this.hideZoomTool();var o=!1;n.on("click",(function(){o||(e.showZoomTool(),o=!0,e.container.css("border","1px solid #D9D9D9"))})),this.bindEvent(ru(window),"click",(function(t){!o||n[0].contains(t.target)||n[0]===t.target||t.target.closest(".lake-toolbar")||e.engine&&e.state.activated||(e.hideZoomTool(),o=!1,e.container.css("border","1px solid rgba(0,0,0,0)"))}))}},{key:"getPropertiesActivated",value:function(){return this.propertiesContainer&&this.container[0].contains(this.propertiesContainer)}},{key:"showProperties",value:function(){this.engine&&this.propertiesContainer&&(this.state.maximize?this.showMaximizeProperties():(this.restoreSidebar(),this.showDocEmbedProperties()),this.isPropertiesShow=!0)}},{key:"hideProperties",value:function(){this.engine&&this.propertiesContainer&&(this.state.maximize?ru(this.propertiesContainer).remove():this.restoreSidebar(),this.isPropertiesShow=!1)}},{key:"showMaximizeProperties",value:function(){this.propertiesContainer.style.top="".concat(this.container.getBoundingClientRect().top,"px"),this.propertiesContainer.style.width="".concat(286,"px"),this.propertiesContainer.style["z-index"]="1033",document.body.appendChild(this.propertiesContainer)}},{key:"showDocEmbedProperties",value:function(){var e=this;this.propertiesContainer.style.top="0px",this.propertiesContainer.style.width="100%",this.propertiesContainer.style["z-index"]="1",this.engine.sidebar.set({name:"diagram",title:null,className:"lake-diagram-sidebar",onClose:function(){e.hideProperties(),e.updateToolbarState()},data:{element:this.propertiesContainer,preventAppend:function(){return e.state.maximize}}}),this.isSetPropertiesSidebar=!0}},{key:"switchProperties",value:function(){this.propertiesContainer&&(this.isPropertiesShow?this.hideProperties():this.showProperties(),this.changeSize()),this.updateToolbarState()}},{key:"topToolbar",value:function(){var e=this;return[{type:"separator"},{name:"mindmap:properties",title:this.locale.properties,getActive:function(){return e.isPropertiesShow},hotkey:fe.macos?"⌘+I":"Ctrl+I",icon:'<span class="lake-icon lake-icon-properties" />',onClick:function(t){t.stopPropagation(),e.switchProperties()}}]}},{key:"setTopToolbar",value:function(){this.engine&&this.engine.toolbar.set(this.topToolbar())}},{key:"renderZoomController",value:function(){var e=this.zoomContainer,t=this.diagram;He.a.render(k.a.createElement(Cle,{diagram:t}),e[0])}},{key:"getWidth",value:function(){return this.propertiesContainer&&document.body.contains(this.propertiesContainer)&&this.state.maximize?this.getContainerWidth()-286:this.getContainerWidth()}},{key:"preventMask",value:function(e){return this.state.maximize||e.target.closest(".lake-toolbar")||e.target.closest(".lake-diagram-panel-body")}},{key:"getHeight",value:function(){var e=this.value;return this.state.maximize?this.getContainerHeight():e.height||this.minHeight}},{key:"changeSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getWidth(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getHeight(),n=this.diagram,r=this.scrollWrapper,o=this.scrollBarSize;if(!n.destroyed&&e&&t){r.style.width="".concat(e,"px"),r.style.height="".concat(t,"px");var i=this.state.maximize?e:e+o,a=this.state.maximize?t:t+o;n.changeSize(i,a)}}},{key:"createScrollWrapper",value:function(){var e=this.container,t=this.getWidth(),n=this.getHeight(),r=document.createElement("div");r.className="lake-diagram-wrapper lake-diagram-hide-scroll",r.style.width="".concat(t,"px"),r.style.height="".concat(n,"px"),r.style["max-width"]="100%",r.style.position="relative",e[0].appendChild(r),this.scrollWrapper=r}},{key:"processSaveModel",value:function(){}},{key:"saveValue",value:function(){var e=this.diagram;this.setValue({viewportSetting:e.viewport.toObject(),diagramData:ele.a.deflate(JSON.stringify(xle(e)),{to:"string"})},!0)}},{key:"renderProperties",value:function(){var e=this.Properties,t=this.diagram,n=document.createElement("div");n.dataset.lake_prevent_click_unselect=!0,n.className="lake-editor-card-diagram-properties-container lake-prevent-card-activated",n.style.cursor="default",n.style.position="absolute",n.style.top="0px",n.style.right="0",n.style.bottom="0",n.style.width="".concat(286,"px"),n.style.overflow="auto",this.propertiesContainer=n,He.a.render(k.a.createElement(e,{diagram:t,domContainer:n}),n)}},{key:"renderLinkEditor",value:function(){var e=this.diagram,t=document.createElement("div");this.linkEditorContainer=t,t.className="lake-prevent-card-activated",document.body.appendChild(t),He.a.render(k.a.createElement(Ole,{diagram:e}),t)}},{key:"renderContextMenu",value:function(){}},{key:"renderInner",value:function(){var e=this,t=this.diagram,n=this.value;t.import(n.diagramData),this.renderContextMenu(),this.state.readonly?n.viewportSetting&&n.viewportSetting.width?t.viewport.setWYSIWYG(n.viewportSetting):t.viewport.autoFit():(this.renderProperties(),this.renderLinkEditor(),n.viewportSetting?t.viewport.set(n.viewportSetting):t.viewport.focusFirstRoot(),t.on("afterselectionchange",(function(){e.updateToolbarState()})),t.contentEditor.on("selectionchange",(function(){e.updateToolbarState()})),t.on("keydown",(function(t){kb("mod+i",t)&&e.switchProperties()})),t.on("aftercommandexecute",nm()((function(n){n.isModelChange&&!t.destroyed&&e.saveValue()}),300)),t.on("aftercommandexecute",(function(t){t.isModelChange&&(e.isModelChange=!0)})),this.bindEvent(this.engine.asyncEvent,"save:before",fle(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.cardRoot.attr("data-cell_count",t.getCells().length),e.saveValue(),!e.isModelChange){n.next=12;break}return e.isModelChange=!1,n.next=6,t.exporter.blob();case 6:if(r=n.sent){n.next=9;break}return n.abrupt("return");case 9:return(o=new FormData).append("file",r,"lake_card_mindmap.jpeg"),n.abrupt("return",Ma({method:"post",url:e.engine.options.image.uploadAction,data:o,success:function(n){var r=n.data.url,o=t.getCells().map((function(e){return e.textAreaElement&&e.textAreaElement.htmlContainer.innerText})).join(" ");e.setValue({src:r,search:o},!1)}}).promise);case 12:case"end":return n.stop()}}),n)})))),this.bindEvent(ru(window),"resize",(function(){e.changeSize()}))),this.onFirstRendering&&this.onFirstRendering()}},{key:"createDiagram",value:function(){var e=this,t=this.plugins,n=this.scrollBarSize,r=this.scrollWrapper,o=this.head,i=this.getWidth(),a=this.getHeight(),c=new mY({container:r,width:i+n,height:a+n,head:o,plugins:t,paper:{size:"auto"},mode:this.state.readonly?"read":"edit"});return this.diagram=c,sle()(r,{loaded:function(){e.renderInner()}}).observe(),c}},{key:"createResizeController",value:function(){var e=this,t=this.scrollWrapper;vle(kle(i.prototype),"createResizeController",this).call(this,t,{onResizing:function(t){var n=e.getWidth();e.changeSize(n,t)}})}},{key:"focusMainRoot",value:function(){this.diagram.viewport.autoFit();var e=this.diagram.getCells().filter((function(e){return e.isRoot}))[0];e&&(this.diagram.viewport.focus([e.x+e.width/2,e.y+e.height/2]),this.diagram.viewport.setViewport(1))}},{key:"maximize",value:function(){var e=this.diagram;vle(kle(i.prototype),"maximize",this).call(this),this.restoreViewportSetting=e.viewport.toObject(),this.showProperties(),this.changeSize(),this.hideRisizeController(),this.container.css({overflow:"hidden"}),this.maximizeViewportSetting?this.diagram.viewport.set(this.maximizeViewportSetting):this.focusMainRoot(),this.renderZoomController(),this.setTopToolbar()}},{key:"restore",value:function(){var e=this.diagram;vle(kle(i.prototype),"restore",this).call(this),this.maximizeViewportSetting=e.viewport.toObject(),this.showProperties(),this.changeSize(),this.container.css({overflow:"initial"}),this.restoreViewportSetting?this.diagram.viewport.set(this.restoreViewportSetting):this.focusMainRoot(),this.renderZoomController(),this.state.readonly||this.showRisizeController(),this.setTopToolbar()}},{key:"destroyDiagram",value:function(){var e=this.diagram;e&&e.destroy()}},{key:"normalizeValue",value:function(){var e=this.value;if(e.diagramData&&"string"==typeof e.diagramData){var t=ele.a.inflate(e.diagramData,{to:"string"});e.diagramData=JSON.parse(t)}}},{key:"render",value:function(){this.normalizeValue(),this.createScrollWrapper(),this.createDiagram(),this.createZoomController(),this.createResizeController(),this.createMask(),this.toggleMargin(),this.container.css("border","1px solid rgba(0,0,0,0)")}},{key:"destroy",value:function(){this.destroyDiagram(),vle(kle(i.prototype),"destroy",this).call(this),this.restoreSidebar(),this.engine&&this.engine.toolbar.restore()}}])&&mle(t.prototype,n),r&&mle(t,r),i}(uw);function Ele(e){return(Ele="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sle(e,t,n){return(Sle="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dle(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ple(e,t){return(Ple=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rle(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dle(e);if(t){var o=Dle(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tle(this,n)}}function Tle(e,t){return!t||"object"!==Ele(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dle(e){return(Dle=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}_le.type="block",_le.uid=!0;var Ale=m.Mindmap,Mle=c.deepTreeTraversal,Nle=b.Properties,Ile=b.Dropdown,Lle=b.Note,Fle=b.ContextMenu,zle=h.uploadMindmapImage,Ble=h.onBeforeSave,Vle=h.mindmapInsertLine,qle=h.collapseActive,Hle=h.enableCollapseExpand,Ule=h.executeCollapseExpand,Wle=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ple(e,t)}(i,e);var t,n,r,o=Rle(i);function i(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,{plugins:[Ale],head:{type:"mindmap"},Properties:Nle.Mindmap})).locale=(e||t).locale.mindmap,e){var r=e.options.docId||"unknow",a=new Os({docId:r,imageAction:e.options.image.uploadAction});n.uploader=a,n.bindEvent(e.asyncEvent,"save:before",(function(){n.onBeforeSave()}))}return n}return t=i,(n=[{key:"renderContextMenu",value:function(){var e=this.diagram,t=this.container,n=document.createElement("div");this.contextMenuContainer=n,n.className="lake-prevent-card-activated",t.append(n),He.a.render(k.a.createElement(Fle.Mind,{diagram:e}),n)}},{key:"renderNote",value:function(){var e=this.diagram,t=this.container,n=document.createElement("div");t.append(n),this.noteContainer=n,this.state.readonly?He.a.render(k.a.createElement(Lle.Reader,{diagram:e}),n):He.a.render(k.a.createElement(Lle.Editor,{diagram:e}),n)}},{key:"renderInner",value:function(){this.renderNote(),Sle(Dle(i.prototype),"renderInner",this).call(this)}},{key:"onBeforeSave",value:function(){return Ble(this,this.uploader)}},{key:"createDiagram",value:function(){var e=this;Sle(Dle(i.prototype),"createDiagram",this).call(this),this.diagram.on("importimage",(function(t){var n=e.uploader,r=e.diagram;zle({file:t.files[0],uploader:n,diagram:r,from:"clipboard"})}))}},{key:"topToolbar",value:function(){var e=this,t=this.engine,n=this.locale,r=this.diagram,o=Sle(Dle(i.prototype),"topToolbar",this).call(this);return[{name:"save",title:n.save,hotkey:fe.macos?"⌘+S":"Ctrl+S",icon:'<span class="lake-icon lake-icon-save" />',onClick:function(e){e.stopPropagation(),t.command.execute("save")}},{name:"mindmap:undo",title:n.undo,hotkey:fe.macos?"⌘+Z":"Ctrl+Z",icon:'<span class="lake-icon lake-icon-undo" />',getDisabled:function(){return!r.command.enable("Undo")},onClick:function(e){e.stopPropagation(),r.command.execute("Undo")}},{name:"mindmap:redo",title:n.redo,hotkey:fe.macos?"⌘+Shift+Z":"Ctrl+Shift+Z",icon:'<span class="lake-icon lake-icon-redo" />',getDisabled:function(){return!r.command.enable("Redo")},onClick:function(e){e.stopPropagation(),r.command.execute("Redo")}},{type:"separator"},{name:"mindmap:beginInsertRoot",title:n.insertRoot,icon:'<span class="lake-icon lake-icon-insert-root" />',onClick:function(e){e.stopPropagation(),r.selector.clear(),r.command.execute("MindmapBeginInsertRoot")}},{name:"mindmap:append",title:n.insertSibling,hotkey:"Enter",icon:'<span class="lake-icon lake-icon-insert-sibling" />',getDisabled:function(){return!r.command.enable("MindmapAppendSibling")},onClick:function(e){e.stopPropagation(),r.command.execute("MindmapAppendSibling")}},{name:"mindmap:appendChild",title:n.insertChild,hotkey:"Tab",icon:'<span class="lake-icon lake-icon-insert-child" />',getDisabled:function(){return!r.command.enable("MindmapAppendChild")},onClick:function(e){e.stopPropagation(),r.command.execute("MindmapAppendChild")}},{type:"separator"},{name:"mindmap:insertLine",type:"custom",hotkey:fe.macos?"⌘+L":"Ctrl+L",CustomButton:k.a.createElement(Ile,{title:n.line,mode:"button",defaultKey:"curve-arrow",menuClassName:"lake-prevent-card-activated lake-diagram-dropdown-menu",data:[{key:"curve",icon:"line-curve"},{key:"curve-arrow",icon:"line-curve-arrow"}],onClick:function(e){var t=e.key;Vle(r,t)},onSelect:function(e){var t=e.key;Vle(r,t)}})},{name:"mindmap:insertNote",title:"备注",icon:'<span class="lake-icon lake-icon-diagram-toolbar-note" />',getDisabled:function(){return!r.command.enable("MindmapOpenNote")},onClick:function(){r.command.execute("MindmapOpenNote")}},{name:"mindmap:image",title:n.attachImage,type:"upload",icon:'<span class="lake-icon lake-icon-image" />',getDisabled:function(){return!r.command.enable("MindmapAttachImage")},uploader:{post:function(t,n){var r=e.uploader,o=e.diagram;zle({file:n[0],uploader:r,diagram:o,from:"button"})}}},{name:"mindmap:createLink",title:n.createLink,hotkey:fe.macos?"⌘+K":"Ctrl+K",icon:'<span class="lake-icon lake-icon-link" />',getDisabled:function(){return!r.command.enable("MindmapCreateLink")},onClick:function(e){e.stopPropagation(),r.command.execute("MindmapCreateLink")}},{type:"separator"},{name:"mindmap:collapse-expand",title:n.collapse,hotkey:fe.macos?"⌘+/":"Ctrl+/",icon:'<span class="lake-icon lake-icon-collapse-node" />',getActive:function(){return qle(r)},getDisabled:function(){return!Hle(r)},onClick:function(e){e.stopPropagation(),Ule(r)}}].concat(o)}},{key:"preventMask",value:function(e){return Sle(Dle(i.prototype),"preventMask",this).call(this,e)||e.target.closest(".lake-diagram-dropdown-menu")||e.target.closest(".lake-prevent-card-activated")}},{key:"normalizeValue",value:function(){var e=this.value;if(e.width&&(e.width=Number(e.width)),e.height&&(e.height=Number(e.height)),e.graphData&&e.graphData.roots&&(e.graphData.roots.forEach((function(e){e.type="mindmap",Mle(e,(function(t,n){n!==e&&delete t.side,t.label&&(t.html="".concat(t.label)),delete t.width,delete t.height,delete t.label}))})),e.diagramData={head:{version:"1.0.0"},body:e.graphData.roots},delete e.graphData),e.diagramData||(e.diagramData=ile(this.locale)),e.diagramData&&"string"==typeof e.diagramData){var t=ele.a.inflate(e.diagramData,{to:"string"});e.diagramData=JSON.parse(t)}!e.diagramData.head||"1.0.0"!==e.diagramData.head.version&&"1.0.0"!==e.diagramData.head.verstion||e.diagramData.body.forEach((function(e){e.border={fill:"#577DF9"},e.rainbow=!1,e.tapered=!0,Mle(e,(function(e){"left"===e.side&&(e.layout={quadrant:2})}))}))}}])&&jle(t.prototype,n),r&&jle(t,r),i}(_le);function Kle(e){return(Kle="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xle(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yle(Object(n),!0).forEach((function(t){$le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yle(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gle(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zle(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zle(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zle(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qle(e,t,n){return(Qle="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rue(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function eue(e,t){return(eue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rue(e);if(t){var o=rue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nue(this,n)}}function nue(e,t){return!t||"object"!==Kle(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rue(e){return(rue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oue=m.Flowchart,iue=b.ShapeOverlay,aue=b.Dropdown,cue=b.Properties,sue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eue(e,t)}(i,e);var t,n,r,o=tue(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,{plugins:[oue],head:{type:"flowchart"},Properties:cue.Flowchart})).locale=(e||t).locale.flowchart,n}return t=i,(n=[{key:"topToolbar",value:function(){var e=this.engine,t=this.locale,n=this.diagram,r=Qle(rue(i.prototype),"topToolbar",this).call(this);return[{name:"save",title:t.save,hotkey:fe.macos?"⌘+S":"Ctrl+S",icon:'<span class="lake-icon lake-icon-save" />',onClick:function(t){t.stopPropagation(),e.command.execute("save")}},{name:"flowchart:undo",title:t.undo,hotkey:fe.macos?"⌘+Z":"Ctrl+Z",icon:'<span class="lake-icon lake-icon-undo" />',getDisabled:function(){return!n.destroyed&&!n.command.enable("Undo")},onClick:function(e){e.stopPropagation(),n.command.execute("Undo")}},{name:"flowchart:redo",title:t.redo,hotkey:fe.macos?"⌘+Shift+Z":"Ctrl+Shift+Z",icon:'<span class="lake-icon lake-icon-redo" />',getDisabled:function(){return!n.destroyed&&!n.command.enable("Redo")},onClick:function(e){e.stopPropagation(),n.command.execute("Redo")}},{type:"separator"},{name:"flowchart:insertText",title:t.insertText,icon:'<span class="lake-icon lake-icon-insert-text" />',onClick:function(e){e.stopPropagation(),n.command.execute("FlowchartBeginInsertText")}},{name:"flowchart:insertShape",type:"custom",CustomButton:k.a.createElement(aue,{diagram:n,icon:"insert-shape",title:t.insertShape,overlay:k.a.createElement(iue,{className:"lake-prevent-card-activated lake-diagram-shape-overlay",onSelect:function(e){var t=e.key;n.command.execute("FlowchartBeginInsertShape",{shape:t})}})})},{name:"flowchart:insertEdge",type:"custom",CustomButton:k.a.createElement(aue,{title:t.insertShape,mode:"button",defaultKey:"elbow-line-arrow",menuClassName:"lake-prevent-card-activated lake-diagram-dropdown-menu",data:[{key:"straight-line",icon:"straight-line"},{key:"straight-line-arrow",icon:"straight-line-arrow"},{key:"elbow-line",icon:"elbow-line"},{key:"elbow-line-arrow",icon:"elbow-line-arrow"}],onClick:function(e){var t=Gle(e.key.split("-"),3),r=t[0],o=t[2];n.command.execute("FlowchartBeginInsertEdge",{shape:r,marker:o})},onSelect:function(e){var t=Gle(e.key.split("-"),3),r=t[0],o=t[2];n.settings.flowchart=Xle(Xle({},n.settings.flowchart),{},{edge:{shape:r,marker:o}}),n.command.execute("FlowchartBeginInsertEdge",{shape:r,marker:o})}})},{name:"flowchart:createLink",title:t.createLink,hotkey:fe.macos?"⌘+K":"Ctrl+K",icon:'<span class="lake-icon lake-icon-link" />',getDisabled:function(){return!n.command.enable("CreateLink")},onClick:function(e){e.stopPropagation(),n.command.execute("CreateLink")}}].concat(r)}},{key:"preventMask",value:function(e){return Qle(rue(i.prototype),"preventMask",this).call(this,e)||e.target.closest(".lake-diagram-shape-overlay, .lake-diagram-dropdown-menu")}},{key:"normalizeValue",value:function(){Qle(rue(i.prototype),"normalizeValue",this).call(this);var e=this.value.diagramData;function t(t){if(!t)return!1;var n=t.id,r=t.connection;return!(null==n&&null==r||null!=n&&!e.body.find((function(e){return e.id===n})))}if(Array.isArray(e.body))for(var n=e.body,r=n.length-1;r>=0;r--){var o=n[r];"edge"===o.type&&(t(o.source)&&t(o.target)||n.splice(r,1))}}}])&&Jle(t.prototype,n),r&&Jle(t,r),i}(_le),lue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},uue=function(e,t){return w.createElement(_oe,Object.assign({},e,{ref:t,icon:lue}))};uue.displayName="DownOutlined";var fue=w.forwardRef(uue),pue=(n(310),n(120)),due=n(121);function hue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hue(Object(n),!0).forEach((function(t){vue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yue=function(e){var t=e.height,n=e.offset,r=e.children,o=e.prefixCls,i={},a={display:"flex",flexDirection:"column"};return void 0!==n&&(i={height:t,position:"relative",overflow:"hidden"},a=mue(mue({},a),{},{transform:"translateY(".concat(n,"px)"),position:"absolute",left:0,right:0,top:0})),w.createElement("div",{style:i},w.createElement("div",{style:a,className:_t()(vue({},"".concat(o,"-holder-inner"),o))},r))},gue=n(61);function bue(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function wue(e,t){return e<0?0:e>=t?t:e}function kue(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;if(n<=r)return 0;var o=n-r;return wue(t,o)/o}function xue(e){return e?kue(e):0}function Oue(e,t,n){var r=function(e,t){var n=Math.floor(e*t),r=n/t;return{index:n,offsetPtg:(e-r)/((n+1)/t-r)}}(e,t),o=r.index,i=r.offsetPtg,a=Math.ceil(e*n),c=Math.ceil((1-e)*n);return{itemIndex:o,itemOffsetPtg:i,startIndex:Math.max(0,o-a),endIndex:Math.min(t-1,o+c)}}function Cue(e){var t=e.itemIndex,n=e.itemOffsetPtg,r=e.itemElementHeights,o=e.scrollPtg*e.clientHeight,i=n*(r[(0,e.getItemKey)(t)]||0);return Math.floor(o-i)}function _ue(e){var t=e.locatedItemRelativeTop,n=e.locatedItemIndex,r=e.compareItemIndex,o=e.startIndex,i=e.endIndex,a=e.getItemKey,c=e.itemElementHeights,s=t,l=a(r);if(r<=n)for(var u=n;u>=o;u-=1){if(a(u)===l)break;s-=c[a(u-1)]||0}else for(var f=n;f<=i;f+=1){var p=a(f);if(p===l)break;s+=c[p]||0}return s}function Eue(e,t,n,r){return!1!==r&&"number"==typeof e&&n*t>e}function jue(e,t,n,r){var o=n-e,i=t-n;if(r<=2*Math.min(o,i)){var a=Math.floor(r/2);return r%2?n+a+1:n-a}return o>i?n-(r-i):n+(r-o)}function Sue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sue(Object(n),!0).forEach((function(t){Rue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tue(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Due(e){return(Due="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mue(e,t){return(Mue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lue(e);if(t){var o=Lue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Iue(this,n)}}function Iue(e,t){return!t||"object"!==Due(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lue(e){return(Lue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fue,zue={overflowY:"auto",overflowAnchor:"none"},Bue=((Fue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mue(e,t)}(i,e);var t,n,r,o=Nue(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).listRef=w.createRef(),t.itemElements={},t.itemElementHeights={},t.lockScroll=!1,t.onScroll=function(e){var n=t.props,r=n.data,o=n.height,i=n.itemHeight,a=n.disabled,c=t.listRef.current,s=c.scrollTop,l=c.clientHeight,u=wue(s,c.scrollHeight-l);if(u!==t.state.scrollTop&&!t.lockScroll&&!a){var f=xue(t.listRef.current),p=Math.ceil(o/i),d=Oue(f,r.length,p),h=d.itemIndex,m=d.itemOffsetPtg,v=d.startIndex,y=d.endIndex;t.setState({status:"MEASURE_START",scrollTop:u,itemIndex:h,itemOffsetPtg:m,startIndex:v,endIndex:y}),t.triggerOnScroll(e)}},t.onRawScroll=function(e){var n=t.listRef.current.scrollTop;t.setState({scrollTop:n}),t.triggerOnScroll(e)},t.triggerOnScroll=function(e){var n=t.props.onScroll;n&&e&&n(e)},t.getIndexKey=function(e,n){var r=n||t.props,o=r.data,i=void 0===o?[]:o;if(e===i.length)return"__rc_ghost_item__";var a=i[e];return void 0===a?(console.error("Not find index item. Please report this since it is a bug."),null):t.getItemKey(a,r)},t.getItemKey=function(e,n){var r=(n||t.props).itemKey;return"function"==typeof r?r(e):e[r]},t.collectItemHeights=function(e){for(var n,r,o=e||t.state,i=o.startIndex,a=o.endIndex,c=t.props.data,s=i;s<=a;s+=1){var l=c[s];if(l){var u=t.getItemKey(l);t.itemElementHeights[u]=(n=t.itemElements[u],r=void 0,(r=Object(gue.a)(n))?r.offsetHeight:0)}}},t.scrollTo=function(e){Zr.a.cancel(t.rafId),t.rafId=Zr()((function(){if("object"===Due(e)){var n=t.state.isVirtual,r=t.props,o=r.height,i=r.itemHeight,a=r.data,c=e.align,s=void 0===c?"auto":c,l=0;if("index"in e)l=e.index;else if("key"in e){var u=e.key;l=a.findIndex((function(e){return t.getItemKey(e)===u}))}var f=Math.ceil(o/i),p=a[l];if(p){var d=t.listRef.current.clientHeight;if(n){var h=t.state,m=h.itemIndex,v=h.itemOffsetPtg,y=t.listRef.current.scrollTop,g=xue(t.listRef.current),b=Cue({itemIndex:m,itemOffsetPtg:v,itemElementHeights:t.itemElementHeights,scrollPtg:g,clientHeight:d,getItemKey:t.getIndexKey});t.setState({startIndex:Math.max(0,l-f),endIndex:Math.min(a.length-1,l+f)},(function(){var e;t.collectItemHeights();var n=s;if("auto"===s){var r=!0;if(Math.abs(m-l)<f){var o=b;if(l<m)for(var i=l;i<m;i+=1){var c=t.getIndexKey(i);o-=t.itemElementHeights[c]||0}else for(var u=m;u<=l;u+=1){var h=t.getIndexKey(u);o+=t.itemElementHeights[h]||0}r=o<=0||o>=d}if(!r){var v=Oue(g,a.length,f),w=v.itemIndex,k=v.itemOffsetPtg,x=v.startIndex,O=v.endIndex;return void t.setState({scrollTop:y,itemIndex:w,itemOffsetPtg:k,startIndex:x,endIndex:O})}n=l<m?"top":"bottom"}if("top"===n)e=0;else if("bottom"===n){var C=t.getItemKey(p);e=d-t.itemElementHeights[C]||0}t.internalScrollTo({itemIndex:l,relativeTop:e})}))}else{t.collectItemHeights({startIndex:0,endIndex:a.length-1});for(var w=s,k=t.itemElementHeights[t.getIndexKey(l)],x=0,O=0;O<l;O+=1){var C=t.getIndexKey(O);x+=t.itemElementHeights[C]||0}var _=x+k;"auto"===w&&(x<t.listRef.current.scrollTop?w="top":_>t.listRef.current.scrollTop+d&&(w="bottom")),"top"===w?t.listRef.current.scrollTop=x:"bottom"===w&&(t.listRef.current.scrollTop=x-(d-k))}}}else t.listRef.current.scrollTop=e}))},t.renderChildren=function(e,n,r){var o=t.state.status;return e.map((function(e,i){var a=n+i,c=r(e,a,{style:"MEASURE_START"===o?{visibility:"hidden"}:{}}),s=t.getIndexKey(a);return w.cloneElement(c,{key:s,ref:function(e){t.itemElements[s]=e}})}))},t.cachedProps=e,t.state={status:"NONE",scrollTop:null,itemIndex:0,itemOffsetPtg:0,startIndex:0,endIndex:0,startItemTop:0,isVirtual:Eue(e.height,e.itemHeight,e.data.length,e.virtual),itemCount:e.data.length},t}return t=i,r=[{key:"getDerivedStateFromProps",value:function(e){return e.disabled?null:{itemCount:e.data.length}}}],(n=[{key:"componentDidMount",value:function(){this.listRef.current&&(this.listRef.current.scrollTop=0,this.onScroll(null))}},{key:"componentDidUpdate",value:function(){var e=this,t=this.state.status,n=this.props,r=n.data,o=n.height,i=n.itemHeight,a=n.disabled,c=n.onSkipRender,s=n.virtual,l=this.cachedProps.data||[],u=null;if(l.length!==r.length){var f=function(e,t,n){var r,o,i=e.length,a=t.length;if(0===i&&0===a)return null;i<a?(r=e,o=t):(r=t,o=e);var c={__EMPTY_ITEM__:!0};function s(e){return void 0!==e?n(e):c}for(var l=null,u=1!==Math.abs(i-a),f=0;f<o.length;f+=1){var p=s(r[f]);if(p!==s(o[f])){l=f,u=u||p!==s(o[f+1]);break}}return null===l?null:{index:l,multiple:u}}(l,r,this.getItemKey);u=f?f.index:null}if(a){if(r.length>l.length){var p=this.state,d=p.startIndex,h=p.endIndex;c&&(null===u||u<d||h<u)&&c()}}else{var m=Eue(o,i,r.length,s),v=t;if(this.state.isVirtual===m||(v=m?"SWITCH_TO_VIRTUAL":"SWITCH_TO_RAW",this.setState({isVirtual:m,status:v}),"SWITCH_TO_VIRTUAL"!==v)){if("MEASURE_START"===t){var y=this.state,g=y.startIndex,b=y.itemIndex,w=y.itemOffsetPtg,k=this.listRef.current.scrollTop;this.collectItemHeights();for(var x=(C={itemIndex:b,itemOffsetPtg:w,itemElementHeights:this.itemElementHeights,scrollTop:k,scrollPtg:xue(this.listRef.current),clientHeight:this.listRef.current.clientHeight,getItemKey:this.getIndexKey}).scrollTop+Cue(bue(C,["scrollTop"])),O=b-1;O>=g;O-=1)x-=this.itemElementHeights[this.getIndexKey(O)]||0;this.setState({status:"MEASURE_DONE",startItemTop:x})}var C;if("SWITCH_TO_RAW"===t){for(var _=this.state.cacheScroll,E=_.itemIndex,j=_.relativeTop,S=0;S<E;S+=1)j-=this.itemElementHeights[this.getIndexKey(S)]||0;this.lockScroll=!0,this.listRef.current.scrollTop=-j,this.setState({status:"MEASURE_DONE",itemIndex:0}),requestAnimationFrame((function(){requestAnimationFrame((function(){e.lockScroll=!1}))}))}else if(l.length!==r.length&&null!==u&&o&&!1!==s){var P,R=this.state.itemIndex,T=this.state,D=T.itemOffsetPtg,A=T.startIndex,M=T.endIndex,N=T.scrollTop;this.collectItemHeights(),"SWITCH_TO_VIRTUAL"===this.state.status?(R=0,P=-this.state.scrollTop):P=Cue({itemIndex:R,itemOffsetPtg:D,itemElementHeights:this.itemElementHeights,scrollPtg:kue({scrollTop:N,scrollHeight:l.length*i,clientHeight:this.listRef.current.clientHeight}),clientHeight:this.listRef.current.clientHeight,getItemKey:function(t){return e.getIndexKey(t,e.cachedProps)}});var I=u-1;I<0&&(I=0);var L=_ue({locatedItemRelativeTop:P,locatedItemIndex:R,compareItemIndex:I,startIndex:A,endIndex:M,getItemKey:function(t){return e.getIndexKey(t,e.cachedProps)},itemElementHeights:this.itemElementHeights});"SWITCH_TO_RAW"===v?this.setState({cacheScroll:{itemIndex:I,relativeTop:L}}):this.internalScrollTo({itemIndex:I,relativeTop:L})}else"SWITCH_TO_RAW"===v&&this.setState({cacheScroll:{itemIndex:0,relativeTop:0}});this.cachedProps=this.props}}}},{key:"componentWillUnmount",value:function(){Zr.a.cancel(this.rafId)}},{key:"internalScrollTo",value:function(e){for(var t=this,n=e.itemIndex,r=e.relativeTop,o=this.state.scrollTop,i=this.props,a=i.data,c=i.itemHeight,s=i.height,l=Number.MAX_VALUE,u=null,f=null,p=null,d=null,h=null,m=0,v=a.length*c,y=this.listRef.current.clientHeight,g=v-y,b=0;b<g;b+=1){var w=jue(0,g,o,b),k=kue({scrollTop:w,scrollHeight:v,clientHeight:y}),x=Math.ceil(s/c),O=Oue(k,a.length,x),C=O.itemIndex,_=O.itemOffsetPtg,E=O.startIndex,j=O.endIndex;if(E<=n&&n<=j){var S=_ue({locatedItemRelativeTop:Cue({itemIndex:C,itemOffsetPtg:_,itemElementHeights:this.itemElementHeights,scrollPtg:k,clientHeight:y,getItemKey:this.getIndexKey}),locatedItemIndex:C,compareItemIndex:n,startIndex:E,endIndex:j,getItemKey:this.getIndexKey,itemElementHeights:this.itemElementHeights}),P=Math.abs(S-r);P<l?(l=P,u=w,f=C,p=_,d=E,h=j,m=0):m+=1}if(m>10)break}null!==u&&(this.lockScroll=!0,this.listRef.current.scrollTop=u,this.setState({status:"MEASURE_START",scrollTop:u,itemIndex:f,itemOffsetPtg:p,startIndex:d,endIndex:h}),requestAnimationFrame((function(){requestAnimationFrame((function(){t.lockScroll=!1}))})))}},{key:"render",value:function(){var e=this.state,t=e.isVirtual,n=e.itemCount,r=this.props,o=r.prefixCls,i=r.style,a=r.className,c=r.component,s=void 0===c?"div":c,l=r.height,u=r.itemHeight,f=r.fullHeight,p=void 0===f||f,d=r.data,h=r.children,m=(r.itemKey,r.onSkipRender,r.disabled,r.virtual),v=Tue(r,["prefixCls","style","className","component","height","itemHeight","fullHeight","data","children","itemKey","onSkipRender","disabled","virtual"]),y=_t()(o,a);if(!t){var g=Eue(l,u,d.length,m);return w.createElement(s,Object.assign({style:l?Pue(Pue({},i),{},Rue({},p?"height":"maxHeight",l),zue):i,className:y},v,{onScroll:this.onRawScroll,ref:this.listRef}),w.createElement(yue,{prefixCls:o,height:l},this.renderChildren(g?d.slice(0,Math.ceil(l/u)):d,0,h)))}var b=Pue(Pue({},i),{},{height:l},zue),k=this.state,x=k.status,O=k.startIndex,C=k.endIndex,_=k.startItemTop,E=n*u*1;return w.createElement(s,Object.assign({style:b,className:y},v,{onScroll:this.onScroll,ref:this.listRef}),w.createElement(yue,{prefixCls:o,height:E,offset:"MEASURE_DONE"===x?_:0},this.renderChildren(d.slice(O,C+1),O,h)))}}])&&Aue(t.prototype,n),r&&Aue(t,r),i}(w.Component)).defaultProps={itemHeight:15,data:[]},Fue),Vue=function(e){var t,n=e.className,r=e.customizeIcon,o=e.customizeIconProps,i=e.onMouseDown,a=e.onClick,c=e.children;return t="function"==typeof r?r(o):r,w.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),i&&i(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==t?t:w.createElement("span",{className:_t()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},c))},que=w.forwardRef((function(e,t){var n=e.prefixCls,r=e.id,o=e.flattenOptions,i=e.childrenAsData,a=e.values,c=e.searchValue,s=e.multiple,l=e.defaultActiveFirstOption,u=e.height,f=e.itemHeight,p=e.notFoundContent,d=e.open,h=e.menuItemSelectedIcon,m=e.virtual,v=e.onSelect,y=e.onToggleOpen,g=e.onActiveValue,b=e.onScroll,k=e.onMouseEnter,x="".concat(n,"-item"),O=Object(due.a)((function(){return o}),[d,o],(function(e,t){return t[0]&&e[1]!==t[1]})),C=w.useRef(null),_=function(e){e.preventDefault()},E=function(e){C.current&&C.current.scrollTo({index:e})},j=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=O.length,r=0;r<n;r+=1){var o=(e+r*t+n)%n,i=O[o],a=i.group,c=i.data;if(!a&&!c.disabled)return o}return-1},S=w.useState((function(){return j(0)})),P=Object(Ac.a)(S,2),R=P[0],T=P[1],D=function(e){T(e);var t=O[e];t?g(t.data.value,e):g(null,-1)};w.useEffect((function(){D(!1!==l?j(0):-1)}),[O.length,c]),w.useEffect((function(){var e=setTimeout((function(){if(!s&&d&&1===a.size){var e=Array.from(a)[0],t=O.findIndex((function(t){return t.data.value===e}));D(t),E(t)}}));return function(){return clearTimeout(e)}}),[d]);var A=function(e){void 0!==e&&v(e,{selected:!a.has(e)}),s||y(!1)};if(w.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which;switch(t){case See.a.UP:case See.a.DOWN:var n=0;if(t===See.a.UP?n=-1:t===See.a.DOWN&&(n=1),0!==n){var r=j(R+n,n);E(r),D(r)}break;case See.a.ENTER:var o=O[R];o&&!o.data.disabled?A(o.data.value):A(void 0),d&&e.preventDefault();break;case See.a.ESC:y(!1)}},onKeyUp:function(){},scrollTo:function(e){E(e)}}})),0===O.length)return w.createElement("div",{role:"listbox",id:"".concat(r,"_list"),className:"".concat(x,"-empty"),onMouseDown:_},p);function M(e){var t=O[e];if(!t)return null;var n=t.data||{},o=n.value,c=n.label,s=n.children,l=Object(pue.a)(n,!0),u=i?s:c;return t?w.createElement("div",Object.assign({"aria-label":"string"==typeof u?u:null},l,{key:e,role:"option",id:"".concat(r,"_list_").concat(e),"aria-selected":a.has(o)}),o):null}return w.createElement(w.Fragment,null,w.createElement("div",{role:"listbox",id:"".concat(r,"_list"),style:{height:0,width:0,overflow:"hidden"}},M(R-1),M(R),M(R+1)),w.createElement(Bue,{itemKey:"key",ref:C,data:O,height:u,itemHeight:f,fullHeight:!1,onMouseDown:_,onScroll:b,virtual:m,onMouseEnter:k},(function(e,t){var n,r=e.group,o=e.groupOption,c=e.data,s=c.label,l=c.key;if(r)return w.createElement("div",{className:_t()(x,"".concat(x,"-group"))},void 0!==s?s:l);var u=c.disabled,f=c.value,p=c.title,d=c.children,m=c.style,v=c.className,y=Object(yt.a)(c,["disabled","value","title","children","style","className"]),g=a.has(f),b="".concat(x,"-option"),k=_t()(x,b,v,(n={},Object(xc.a)(n,"".concat(b,"-grouped"),o),Object(xc.a)(n,"".concat(b,"-active"),R===t&&!u),Object(xc.a)(n,"".concat(b,"-disabled"),u),Object(xc.a)(n,"".concat(b,"-selected"),g),n)),O=i?d:s,C=!h||"function"==typeof h||g;return w.createElement("div",Object.assign({},y,{"aria-selected":g,className:k,title:p,onMouseMove:function(){R===t||u||D(t)},onClick:function(){u||A(f)},style:m}),w.createElement("div",{className:"".concat(b,"-content")},O||f),w.isValidElement(h)||g,C&&w.createElement(Vue,{className:"".concat(x,"-option-state"),customizeIcon:h,customizeIconProps:{isSelected:g}},g?"✓":null))})))}));que.displayName="OptionList";var Hue=que,Uue=function(){return null};Uue.isSelectOption=!0;var Wue=Uue,Kue=function(){return null};Kue.isSelectOptGroup=!0;var Yue=Kue;function Xue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xue(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gue(e){var t=e.key,n=e.props,r=n.children,o=n.value;return $ue({key:t,value:void 0!==o?o:t,children:r},Object(yt.a)(n,["children","value"]))}function Zue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(Nw.a)(e).map((function(e,n){if(!w.isValidElement(e)||!e.type)return null;var r=e.type.isSelectOptGroup,o=e.key,i=e.props,a=i.children,c=Object(yt.a)(i,["children"]);return t||!r?Gue(e):$ue($ue({key:"__RC_SELECT_GRP__".concat(null===o?n:o,"__"),label:o},c),{},{options:Zue(a)})})).filter((function(e){return e}))}var Jue=n(175);function Que(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function efe(e,t){var n,r=Object(Dc.a)(t);for(n=e.length-1;n>=0&&e[n].disabled;n-=1);var o=null;return-1!==n&&(o=r[n],r.splice(n,1)),{values:r,removedValue:o}}var tfe="undefined"!=typeof window&&window.document&&window.document.documentElement,nfe=0;function rfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ofe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rfe(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rfe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ife(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!=r?r:void 0!==n?n:"rc-index-key-".concat(t)}function afe(e){var t=ofe({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Object(Sr.a)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}function cfe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.prevValueOptions,o=void 0===r?[]:r,i=new Map;return t.forEach((function(e){if(!e.group){var t=e.data;i.set(t.value,t)}})),e.map((function(e){var t=i.get(e);return t||(t=ofe({},o.find((function(t){return t._INTERNAL_OPTION_VALUE_===e})))),afe(t)}))}function sfe(e){return Que(e).join("")}function lfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ufe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lfe(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lfe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ffe=k.a.forwardRef((function(e,t){var n=e.prefixCls,r=e.id,o=e.inputElement,i=e.disabled,a=e.tabIndex,c=e.autoFocus,s=e.autoComplete,l=e.editable,u=e.accessibilityIndex,f=e.value,p=e.onKeyDown,d=e.onMouseDown,h=e.onChange,m=e.onPaste,v=e.onCompositionStart,y=e.onCompositionEnd,g=e.open,b=e.attrs,w=o||k.a.createElement("input",null),x=w,O=x.ref,C=x.props,_=C.onKeyDown,E=C.onChange,j=C.onMouseDown,S=C.onCompositionStart,P=C.onCompositionEnd,R=C.style;return w=k.a.cloneElement(w,ufe(ufe({id:r,ref:Object(Lr.a)(t,O),disabled:i,tabIndex:a,autoComplete:s||"off",autoFocus:c,className:"".concat(n,"-selection-search-input"),style:ufe(ufe({},R),{},{opacity:l?null:0}),role:"combobox","aria-expanded":g,"aria-haspopup":"listbox","aria-owns":"".concat(r,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(r,"_list"),"aria-activedescendant":"".concat(r,"_list_").concat(u)},b),{},{value:l?f:"",readOnly:!l,unselectable:l?null:"on",onKeyDown:function(e){p(e),_&&_(e)},onMouseDown:function(e){d(e),j&&j(e)},onChange:function(e){h(e),E&&E(e)},onCompositionStart:function(e){v(e),S&&S(e)},onCompositionEnd:function(e){y(e),P&&P(e)},onPaste:m}))}));ffe.displayName="Input";var pfe=ffe;function dfe(e,t){tfe?w.useLayoutEffect(e,t):w.useEffect(e,t)}function hfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mfe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hfe(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hfe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vfe="__RC_SELECT_MAX_REST_COUNT__",yfe=function(e){var t=e.id,n=e.prefixCls,r=e.values,o=e.open,i=e.searchValue,a=e.inputRef,c=e.placeholder,s=e.disabled,l=e.mode,u=e.showSearch,f=e.autoFocus,p=e.autoComplete,d=e.accessibilityIndex,h=e.tabIndex,m=e.removeIcon,v=e.choiceTransitionName,y=e.maxTagCount,g=e.maxTagTextLength,b=e.maxTagPlaceholder,w=void 0===b?function(e){return"+ ".concat(e.length," ...")}:b,x=e.tagRender,O=e.onSelect,C=e.onInputChange,_=e.onInputPaste,E=e.onInputKeyDown,j=e.onInputMouseDown,S=e.onInputCompositionStart,P=e.onInputCompositionEnd,R=k.a.useState(!1),T=Object(Ac.a)(R,2),D=T[0],A=T[1],M=k.a.useRef(null),N=k.a.useState(0),I=Object(Ac.a)(N,2),L=I[0],F=I[1];k.a.useEffect((function(){A(!0)}),[]);var z=o||"tags"===l?i:"",B="tags"===l||o&&u;dfe((function(){F(M.current.scrollWidth)}),[z]);var V,q=r;"number"==typeof y&&(V=r.length-y,q=r.slice(0,y)),"number"==typeof g&&(q=q.map((function(e){var t=e.label,n=Object(yt.a)(e,["label"]),r=t;if("string"==typeof t||"number"==typeof t){var o=String(r);o.length>g&&(r="".concat(o.slice(0,g),"..."))}return mfe(mfe({},n),{},{label:r})}))),V>0&&q.push({key:vfe,label:"function"==typeof w?w(r.slice(y)):w});var H=k.a.createElement(oo.a,{component:!1,keys:q,motionName:v,motionAppear:D},(function(e){var t=e.key,r=e.label,o=e.value,i=e.disabled,a=e.className,c=e.style,s=t||o,l=t!==vfe&&!i,u=function(e){e.preventDefault(),e.stopPropagation()},f=function(e){e&&e.stopPropagation(),O(o,{selected:!1})};return"function"==typeof x?k.a.createElement("span",{key:s,onMouseDown:u,className:a,style:c},x({label:r,value:o,disabled:i,closable:l,onClose:f})):k.a.createElement("span",{key:s,className:_t()(a,"".concat(n,"-selection-item"),Object(xc.a)({},"".concat(n,"-selection-item-disabled"),i)),style:c},k.a.createElement("span",{className:"".concat(n,"-selection-item-content")},r),l&&k.a.createElement(Vue,{className:"".concat(n,"-selection-item-remove"),onMouseDown:u,onClick:f,customizeIcon:m},"×"))}));return k.a.createElement(k.a.Fragment,null,H,k.a.createElement("span",{className:"".concat(n,"-selection-search"),style:{width:L}},k.a.createElement(pfe,{ref:a,open:o,prefixCls:n,id:t,inputElement:null,disabled:s,autoFocus:f,autoComplete:p,editable:B,accessibilityIndex:d,value:z,onKeyDown:E,onMouseDown:j,onChange:C,onPaste:_,onCompositionStart:S,onCompositionEnd:P,tabIndex:h,attrs:Object(pue.a)(e,!0)}),k.a.createElement("span",{ref:M,className:"".concat(n,"-selection-search-mirror"),"aria-hidden":!0},z," ")),!r.length&&!z&&k.a.createElement("span",{className:"".concat(n,"-selection-placeholder")},c))},gfe=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,o=e.inputRef,i=e.disabled,a=e.autoFocus,c=e.autoComplete,s=e.accessibilityIndex,l=e.mode,u=e.open,f=e.values,p=e.placeholder,d=e.tabIndex,h=e.showSearch,m=e.searchValue,v=e.activeValue,y=e.onInputKeyDown,g=e.onInputMouseDown,b=e.onInputChange,w=e.onInputPaste,x=e.onInputCompositionStart,O=e.onInputCompositionEnd,C=k.a.useState(!1),_=Object(Ac.a)(C,2),E=_[0],j=_[1],S="combobox"===l,P=S||h&&u,R=f[0],T=m||"";S&&v&&!E&&(T=v),k.a.useEffect((function(){S&&j(!1)}),[S,v]);var D=!("combobox"!==l&&!u)&&!!T,A=!R||"string"!=typeof R.label&&"number"!=typeof R.label?void 0:R.label.toString();return k.a.createElement(k.a.Fragment,null,k.a.createElement("span",{className:"".concat(n,"-selection-search")},k.a.createElement(pfe,{ref:o,prefixCls:n,id:r,open:u,inputElement:t,disabled:i,autoFocus:a,autoComplete:c,editable:P,accessibilityIndex:s,value:T,onKeyDown:y,onMouseDown:g,onChange:function(e){j(!0),b(e)},onPaste:w,onCompositionStart:x,onCompositionEnd:O,tabIndex:d,attrs:Object(pue.a)(e,!0)})),!S&&R&&!D&&k.a.createElement("span",{className:"".concat(n,"-selection-item"),title:A},R.label),!R&&!D&&k.a.createElement("span",{className:"".concat(n,"-selection-placeholder")},p))};function bfe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=w.useRef(null),n=w.useRef(null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return w.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var wfe=w.forwardRef((function(e,t){var n=Object(w.useRef)(null),r=Object(w.useRef)(!1),o=e.prefixCls,i=e.multiple,a=e.open,c=e.mode,s=e.showSearch,l=e.tokenWithEnter,u=e.onSearch,f=e.onSearchSubmit,p=e.onToggleOpen,d=e.onInputKeyDown,h=e.domRef;w.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var m=bfe(0),v=Object(Ac.a)(m,2),y=v[0],g=v[1],b=Object(w.useRef)(null),k={inputRef:n,onInputKeyDown:function(e){var t=e.which;t!==See.a.UP&&t!==See.a.DOWN||e.preventDefault(),d&&d(e),t!==See.a.ENTER||"tags"!==c||r.current||a||f(e.target.value),[See.a.SHIFT,See.a.TAB,See.a.BACKSPACE,See.a.ESC].includes(t)||p(!0)},onInputMouseDown:function(){g(!0)},onInputChange:function(e){var t=e.target.value;if(l&&b.current&&/[\r\n]/.test(b.current)){var n=b.current.replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,b.current)}b.current=null,function(e){!1!==u(e,!0,r.current)&&p(!0)}(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");b.current=t},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(){r.current=!1}},x=i?w.createElement(yfe,Object.assign({},e,k)):w.createElement(gfe,Object.assign({},e,k));return w.createElement("div",{ref:h,className:"".concat(o,"-selector"),onMouseDown:function(e){var t=y();e.target!==n.current&&(t||e.preventDefault(),void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus());("combobox"===c||s&&t)&&a||(a&&u("",!0,!1),p())}},x)}));wfe.displayName="Selector";var kfe=wfe;function xfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ofe=w.forwardRef((function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),o=e.children,i=e.popupElement,a=e.containerWidth,c=e.animation,s=e.transitionName,l=e.dropdownStyle,u=e.dropdownClassName,f=e.direction,p=void 0===f?"ltr":f,d=e.dropdownMatchSelectWidth,h=void 0===d||d,m=e.dropdownRender,v=e.dropdownAlign,y=e.getPopupContainer,g=e.empty,b=e.getTriggerDOMNode,k=Object(yt.a)(e,["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode"]),x="".concat(n,"-dropdown"),O=i;m&&(O=m(i));var C=w.useMemo((function(){return function(e){var t="number"!=typeof e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(h)}),[h]),_=c?"".concat(x,"-").concat(c):s,E=w.useRef(null);w.useImperativeHandle(t,(function(){return{getPopupElement:function(){return E.current}}}));var j=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xfe(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xfe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({minWidth:a},l);return"number"==typeof h?j.width=h:h&&(j.width=a),w.createElement(gt.a,Object.assign({},k,{showAction:[],hideAction:[],popupPlacement:"rtl"===p?"bottomRight":"bottomLeft",builtinPlacements:C,prefixCls:x,popupTransitionName:_,popup:w.createElement("div",{ref:E},O),popupAlign:v,popupVisible:r,getPopupContainer:y,popupClassName:_t()(u,Object(xc.a)({},"".concat(x,"-empty"),g)),popupStyle:j,getTriggerDOMNode:b}),o)}));Ofe.displayName="SelectTrigger";var Cfe=Ofe;function _fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Efe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_fe(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sfe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jfe(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jfe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pfe=["removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown"];var Rfe=function(e){var t=e.mode,n=e.options,r=e.children,o=e.backfill,i=e.allowClear,a=e.placeholder,c=e.getInputElement,s=e.showSearch,l=e.onSearch,u=e.defaultOpen,f=e.autoFocus,p=e.labelInValue,d=e.value,h=e.inputValue,m=e.optionLabelProp,v="multiple"===t||"tags"===t,y=void 0!==s?s:v||"combobox"===t,g=n||Zue(r);if(Object(Sr.a)("tags"!==t||g.every((function(e){return!e.disabled})),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),"tags"===t||"combobox"===t){var b=g.some((function(e){return e.options?e.options.some((function(e){return"number"==typeof("value"in e?e.value:e.key)})):"number"==typeof("value"in e?e.value:e.key)}));Object(Sr.a)(!b,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(Object(Sr.a)("combobox"!==t||!m,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),Object(Sr.a)("combobox"===t||!o,"`backfill` only works with `combobox` mode."),Object(Sr.a)("combobox"===t||!c,"`getInputElement` only work with `combobox` mode."),Object(Sr.b)("combobox"!==t||!c||!i||!a,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),l&&!y&&"combobox"!==t&&"tags"!==t&&Object(Sr.a)(!1,"`onSearch` should work with `showSearch` instead of use alone."),Object(Sr.b)(!u||f,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),null!=d){var w=Que(d);Object(Sr.a)(!p||w.every((function(e){return"object"===Object(mt.a)(e)&&("key"in e||"value"in e)})),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),Object(Sr.a)(!v||Array.isArray(d),"`value` should be array when `mode` is `multiple` or `tags`")}if(r){var x=null;Object(Nw.a)(r).some((function(e){if(!k.a.isValidElement(e)||!e.type)return!1;var t=e.type;return!t.isSelectOption&&(t.isSelectOptGroup?!Object(Nw.a)(e.props.children).every((function(t){return!(k.a.isValidElement(t)&&e.type&&!t.type.isSelectOption)||(x=t.type,!1)})):(x=t,!0))})),x&&Object(Sr.a)(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(x.displayName||x.name||x,"`.")),Object(Sr.a)(void 0===h,"`inputValue` is deprecated, please use `searchValue` instead.")}};function Tfe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(jc.a)(e);if(t){var o=Object(jc.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(Ec.a)(this,n)}}var Dfe,Afe,Mfe,Nfe,Ife,Lfe,Ffe,zfe,Bfe,Vfe,qfe,Hfe,Ufe=(Afe=(Dfe={prefixCls:"rc-select",components:{optionList:Hue},convertChildrenToData:Zue,flattenOptions:function(e){var t=[];return function e(n,r){n.forEach((function(n){r||!("options"in n)?t.push({key:ife(n,t.length),groupOption:r,data:n}):(t.push({key:ife(n,t.length),group:!0,data:n}),e(n.options,!0))}))}(e,!1),t},getLabeledValue:function(e,t){var n,r=t.options,o=t.prevValue,i=t.labelInValue,a=t.optionLabelProp,c=cfe([e],r)[0],s={value:e},l=Que(o);return i&&(n=l.find((function(t){return"object"===Object(mt.a)(t)&&"value"in t?t.value===e:t.key===e}))),n&&"object"===Object(mt.a)(n)&&"label"in n?(s.label=n.label,c&&"string"==typeof n.label&&"string"==typeof c[a]&&n.label.trim()!==c[a].trim()&&Object(Sr.a)(!1,"`label` of `value` is not same as `label` in Select options.")):s.label=c&&a in c?c[a]:e,s.key=s.value,s},filterOptions:function(e,t,n){var r,o=n.optionFilterProp,i=n.filterOption,a=[];return!1===i?t:(r="function"==typeof i?i:function(e){return function(t,n){var r=t.toLowerCase();return"options"in n?sfe(n.label).toLowerCase().includes(r):sfe(n[e]).toLowerCase().includes(r)&&!n.disabled}}(o),t.forEach((function(t){if("options"in t)if(r(e,t))a.push(t);else{var n=t.options.filter((function(t){return r(e,t)}));n.length&&a.push(ofe(ofe({},t),{},{options:n}))}else r(e,afe(t))&&a.push(t)})),a)},isValueDisabled:function(e,t){return cfe([e],t)[0].disabled},findValueOption:cfe,warningProps:Rfe,fillOptionsWithMissingValue:function(e,t,n,r){var o=Que(t).slice().sort(),i=Object(Dc.a)(e),a=new Set;return e.forEach((function(e){e.options?e.options.forEach((function(e){a.add(e.value)})):a.add(e.value)})),o.forEach((function(e){var t,o=r?e.value:e;a.has(o)||i.push(r?(t={},Object(xc.a)(t,n,e.label),Object(xc.a)(t,"value",o),t):{value:o})})),i}}).prefixCls,Mfe=Dfe.components.optionList,Nfe=Dfe.convertChildrenToData,Ife=Dfe.flattenOptions,Lfe=Dfe.getLabeledValue,Ffe=Dfe.filterOptions,zfe=Dfe.isValueDisabled,Bfe=Dfe.findValueOption,Dfe.warningProps,Vfe=Dfe.fillOptionsWithMissingValue,qfe=Dfe.omitDOMProps,w.forwardRef((function(e,t){var n,r=e.prefixCls,o=void 0===r?Afe:r,i=e.className,a=e.id,c=e.open,s=e.defaultOpen,l=e.options,u=e.children,f=e.mode,p=e.value,d=e.defaultValue,h=e.labelInValue,m=e.showSearch,v=e.inputValue,y=e.searchValue,g=e.filterOption,b=e.optionFilterProp,k=void 0===b?"value":b,x=e.autoClearSearchValue,O=void 0===x||x,C=e.onSearch,_=e.allowClear,E=e.clearIcon,j=e.showArrow,S=e.inputIcon,P=e.menuItemSelectedIcon,R=e.disabled,T=e.loading,D=e.defaultActiveFirstOption,A=e.notFoundContent,M=void 0===A?"Not Found":A,N=e.optionLabelProp,I=e.backfill,L=e.getInputElement,F=e.getPopupContainer,z=e.listHeight,B=void 0===z?200:z,V=e.listItemHeight,q=void 0===V?20:V,H=e.animation,U=e.transitionName,W=e.virtual,K=e.dropdownStyle,Y=e.dropdownClassName,X=e.dropdownMatchSelectWidth,$=e.dropdownRender,G=e.dropdownAlign,Z=e.showAction,J=void 0===Z?[]:Z,Q=e.direction,ee=e.tokenSeparators,te=e.tagRender,ne=e.onPopupScroll,re=e.onDropdownVisibleChange,oe=e.onFocus,ie=e.onBlur,ae=e.onKeyUp,ce=e.onKeyDown,se=e.onMouseDown,le=e.onChange,ue=e.onSelect,fe=e.onDeselect,pe=e.internalProps,de=void 0===pe?{}:pe,he=Object(yt.a)(e,["prefixCls","className","id","open","defaultOpen","options","children","mode","value","defaultValue","labelInValue","showSearch","inputValue","searchValue","filterOption","optionFilterProp","autoClearSearchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","menuItemSelectedIcon","disabled","loading","defaultActiveFirstOption","notFoundContent","optionLabelProp","backfill","getInputElement","getPopupContainer","listHeight","listItemHeight","animation","transitionName","virtual","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown","onChange","onSelect","onDeselect","internalProps"]),me="RC_SELECT_INTERNAL_PROPS_MARK"===de.mark,ve=qfe?qfe(he):he;Pfe.forEach((function(e){delete ve[e]}));var ye=Object(w.useRef)(null),ge=Object(w.useRef)(null),be=Object(w.useRef)(null),we=Object(w.useRef)(null),ke=Object(w.useMemo)((function(){return(ee||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[ee]),xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=w.useState(!1),n=Object(Ac.a)(t,2),r=n[0],o=n[1],i=w.useRef(null),a=function(){window.clearTimeout(i.current)};return w.useEffect((function(){return a}),[]),[r,function(t,n){a(),i.current=window.setTimeout((function(){o(t),n&&n()}),e)},a]}(),Oe=Object(Ac.a)(xe,3),Ce=Oe[0],_e=Oe[1],Ee=Oe[2],je=Object(w.useState)(),Se=Object(Ac.a)(je,2),Pe=Se[0],Re=Se[1];Object(w.useEffect)((function(){var e;Re("rc_select_".concat((tfe?(e=nfe,nfe+=1):e="TEST_OR_SSR",e)))}),[]);var Te=a||Pe,De=N;void 0===De&&(De=l?"label":"children");var Ae="combobox"!==f&&h,Me="tags"===f||"multiple"===f,Ne=void 0!==m?m:Me||"combobox"===f,Ie=Object(w.useRef)(null);w.useImperativeHandle(t,(function(){return{focus:be.current.focus,blur:be.current.blur}}));var Le=Object(Toe.a)(d,{value:p}),Fe=Object(Ac.a)(Le,2),ze=Fe[0],Be=Fe[1],Ve=Object(w.useMemo)((function(){return function(e,t){var n=t.labelInValue,r=t.combobox;if(void 0===e||""===e&&r)return[];var o=Array.isArray(e)?e:[e];return n?o.map((function(e){var t=e.key,n=e.value;return void 0!==n?n:t})):o}(ze,{labelInValue:Ae,combobox:"combobox"===f})}),[ze,Ae]),qe=Object(w.useMemo)((function(){return new Set(Ve)}),[Ve]),He=Object(w.useState)(null),Ue=Object(Ac.a)(He,2),We=Ue[0],Ke=Ue[1],Ye=Object(w.useState)(""),Xe=Object(Ac.a)(Ye,2),$e=Xe[0],Ge=Xe[1],Ze=$e;"combobox"===f&&void 0!==ze?Ze=ze:void 0!==y?Ze=y:v&&(Ze=v);var Je=Object(w.useMemo)((function(){var e=l;return void 0===e&&(e=Nfe(u)),"tags"===f&&Vfe&&(e=Vfe(e,ze,De,h)),e||[]}),[l,u,f,ze]),Qe=Object(w.useMemo)((function(){return Ife(Je,e)}),[Je]),et=function(e,t){var n=w.useRef(null),r=w.useMemo((function(){var e=new Map;return t.forEach((function(t){var n=t.data.value;e.set(n,t)})),e}),[e,t]);return n.current=r,function(e){return e.map((function(e){return n.current.get(e)})).filter(Boolean)}}(Ve,Qe),tt=Object(w.useMemo)((function(){if(!Ze||!Ne)return Object(Dc.a)(Je);var e=Ffe(Ze,Je,{optionFilterProp:k,filterOption:"combobox"===f&&void 0===g?function(){return!0}:g});return"tags"===f&&e.every((function(e){return e.value!==Ze}))&&e.unshift({value:Ze,label:Ze,key:"__RC_SELECT_TAG_PLACEHOLDER__"}),e}),[Je,Ze,f,Ne]),nt=Object(w.useMemo)((function(){return Ife(tt,e)}),[tt]);Object(w.useEffect)((function(){we.current&&we.current.scrollTo&&we.current.scrollTo(0)}),[Ze]);var rt,ot,it=Object(w.useMemo)((function(){var e=Ve.map((function(e){var t=et([e]);return Sfe(Sfe({},Lfe(e,{options:t,prevValue:ze,labelInValue:Ae,optionLabelProp:De})),{},{disabled:zfe(e,t)})}));return f||1!==e.length||null!==e[0].value||null!==e[0].label?e:[]}),[ze,Je,f]);rt=it,ot=w.useRef(rt),it=w.useMemo((function(){var e=new Map;ot.current.forEach((function(t){var n=t.value,r=t.label;n!==r&&e.set(n,r)}));var t=rt.map((function(t){var n=e.get(t.value);return t.value===t.label&&n?Efe(Efe({},t),{},{label:n}):t}));return ot.current=t,t}),[rt]);var at=function(e,t,n){var r=et([e]),o=Bfe([e],r)[0];if(!de.skipTriggerSelect){var i=Ae?Lfe(e,{options:r,prevValue:ze,labelInValue:Ae,optionLabelProp:De}):e;t&&ue?ue(i,o):!t&&fe&&fe(i,o)}me&&(t&&de.onRawSelect?de.onRawSelect(e,o,n):!t&&de.onRawDeselect&&de.onRawDeselect(e,o,n))},ct=Object(w.useState)([]),st=Object(Ac.a)(ct,2),lt=st[0],ut=st[1],ft=function(e){if(!me||!de.skipTriggerChange){var t=et(e),n=function(e,t){var n=t.optionLabelProp,r=t.labelInValue,o=t.prevValue,i=t.options,a=t.getLabeledValue,c=e;return r&&(c=c.map((function(e){return a(e,{options:i,prevValue:o,labelInValue:r,optionLabelProp:n})}))),c}(Array.from(e),{labelInValue:Ae,options:t,getLabeledValue:Lfe,prevValue:ze,optionLabelProp:De}),r=Me?n:n[0];if(le&&(0!==Ve.length||0!==n.length)){var o=Bfe(e,t,{prevValueOptions:lt});ut(o.map((function(t,n){var r=Sfe({},t);return Object.defineProperty(r,"_INTERNAL_OPTION_VALUE_",{get:function(){return e[n]}}),r}))),le(r,Me?o:o[0])}Be(r)}},pt=function(e,t){var n,r=t.selected,o=t.source;R||(Me?(n=new Set(Ve),r?n.add(e):n.delete(e)):(n=new Set).add(e),(Me||!Me&&Array.from(Ve)[0]!==e)&&ft(Array.from(n)),at(e,!Me||r,o),"combobox"===f?(Ge(String(e)),Ke("")):Me&&!O||(Ge(""),Ke("")))},dt="combobox"===f&&L&&L()||null,ht=Object(Toe.a)(void 0,{defaultValue:s,value:c}),mt=Object(Ac.a)(ht,2),vt=mt[0],gt=mt[1],bt=vt,wt=!M&&!tt.length;(R||wt&&bt&&"combobox"===f)&&(bt=!1);var kt=!wt&&bt,xt=function(e){var t=void 0!==e?e:!bt;vt===t||R||(gt(t),re&&re(t))};!function(e,t,n){var r=w.useRef(null);r.current={elements:e.filter((function(e){return e})),open:t,triggerOpen:n},w.useEffect((function(){function e(e){var t=e.target;r.current.open&&r.current.elements.every((function(e){return!e.contains(t)&&e!==t}))&&r.current.triggerOpen(!1)}return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[])}([ye.current,ge.current&&ge.current.getPopupElement()],kt,xt);var Ot=function(e,t,n){var r=!0,o=e;Ke(null);var i=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var o=Object(Jue.a)(r),i=o[0],a=o.slice(1);if(!i)return[t];var c=t.split(i);return n=n||c.length>1,c.reduce((function(t,n){return[].concat(Object(Dc.a)(t),Object(Dc.a)(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,ee),a=i;if("combobox"===f)t&&ft([o]);else if(i){o="","tags"!==f&&(a=i.map((function(e){var t=Qe.find((function(t){return t.data[De]===e}));return t?t.data.value:null})).filter((function(e){return null!==e})));var c=Array.from(new Set([].concat(Object(Dc.a)(Ve),Object(Dc.a)(a))));ft(c),c.forEach((function(e){at(e,!0,"input")})),xt(!1),r=!1}return Ge(o),C&&Ze!==o&&C(o),r};Object(w.useEffect)((function(){vt&&R&&gt(!1)}),[R]),Object(w.useEffect)((function(){bt||Me||"combobox"===f||Ot("",!1,!1)}),[bt]);var Ct=bfe(),Et=Object(Ac.a)(Ct,2),jt=Et[0],St=Et[1],Pt=Object(w.useRef)(!1),Rt=[];Object(w.useEffect)((function(){return function(){Rt.forEach((function(e){return clearTimeout(e)})),Rt.splice(0,Rt.length)}}),[]);var Tt=Object(w.useState)(0),Dt=Object(Ac.a)(Tt,2),At=Dt[0],Mt=Dt[1],Nt=void 0!==D?D:"combobox"!==f,It=Object(w.useState)(null),Lt=Object(Ac.a)(It,2),Ft=Lt[0],zt=Lt[1],Bt=Object(w.useState)({}),Vt=Object(Ac.a)(Bt,2)[1];dfe((function(){if(kt){var e=Math.ceil(ye.current.offsetWidth);Ft!==e&&zt(e)}}),[kt]);var qt,Ht=w.createElement(Mfe,{ref:we,prefixCls:o,id:Te,open:bt,childrenAsData:!l,options:tt,flattenOptions:nt,multiple:Me,values:qe,height:B,itemHeight:q,onSelect:function(e,t){pt(e,Sfe(Sfe({},t),{},{source:"option"}))},onToggleOpen:xt,onActiveValue:function(e,t){Mt(t),I&&"combobox"===f&&null!==e&&Ke(String(e))},defaultActiveFirstOption:Nt,notFoundContent:M,onScroll:ne,searchValue:Ze,menuItemSelectedIcon:P,virtual:!1!==W&&!1!==X,onMouseEnter:function(){Vt({})}});!R&&_&&(Ve.length||Ze)&&(qt=w.createElement(Vue,{className:"".concat(o,"-clear"),onMouseDown:function(){me&&de.onClear&&de.onClear(),ft([]),Ot("",!1,!1)},customizeIcon:E},"×"));var Ut,Wt=void 0!==j?j:T||!Me&&"combobox"!==f;Wt&&(Ut=w.createElement(Vue,{className:_t()("".concat(o,"-arrow"),Object(xc.a)({},"".concat(o,"-arrow-loading"),T)),customizeIcon:S,customizeIconProps:{loading:T,searchValue:Ze,open:bt,focused:Ce,showSearch:Ne}}));var Kt=_t()(o,i,(n={},Object(xc.a)(n,"".concat(o,"-focused"),Ce),Object(xc.a)(n,"".concat(o,"-multiple"),Me),Object(xc.a)(n,"".concat(o,"-single"),!Me),Object(xc.a)(n,"".concat(o,"-allow-clear"),_),Object(xc.a)(n,"".concat(o,"-show-arrow"),Wt),Object(xc.a)(n,"".concat(o,"-disabled"),R),Object(xc.a)(n,"".concat(o,"-loading"),T),Object(xc.a)(n,"".concat(o,"-open"),bt),Object(xc.a)(n,"".concat(o,"-customize-input"),dt),Object(xc.a)(n,"".concat(o,"-show-search"),Ne),n));return w.createElement("div",Object.assign({className:Kt},ve,{ref:ye,onMouseDown:function(e){var t=e.target,n=ge.current&&ge.current.getPopupElement();if(n&&n.contains(t)){var r=setTimeout((function(){var e=Rt.indexOf(r);-1!==e&&Rt.splice(e,1),Ee(),n.contains(document.activeElement)||be.current.focus()}));Rt.push(r)}if(se){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];se.apply(void 0,[e].concat(i))}},onKeyDown:function(e){var t,n=jt(),r=e.which;if(bt||r!==See.a.ENTER||xt(!0),St(!!Ze),r===See.a.BACKSPACE&&!n&&Me&&!Ze&&Ve.length){var o=efe(it,Ve);null!==o.removedValue&&(ft(o.values),at(o.removedValue,!1,"input"))}for(var i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];bt&&we.current&&(t=we.current).onKeyDown.apply(t,[e].concat(a)),ce&&ce.apply(void 0,[e].concat(a))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;bt&&we.current&&(o=we.current).onKeyUp.apply(o,[e].concat(n)),ae&&ae.apply(void 0,[e].concat(n))},onFocus:function(){_e(!0),R||(oe&&!Pt.current&&oe.apply(void 0,arguments),J.includes("focus")&&xt(!0)),Pt.current=!0},onBlur:function(){_e(!1,(function(){Pt.current=!1,xt(!1)})),R||(Ze&&("tags"===f?(Ot("",!1,!1),ft(Array.from(new Set([].concat(Object(Dc.a)(Ve),[Ze]))))):"multiple"===f&&Ge("")),ie&&ie.apply(void 0,arguments))}}),Ce&&!bt&&w.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(Ve.join(", "))),w.createElement(Cfe,{ref:ge,disabled:R,prefixCls:o,visible:kt,popupElement:Ht,containerWidth:Ft,animation:H,transitionName:U,dropdownStyle:K,dropdownClassName:Y,direction:Q,dropdownMatchSelectWidth:X,dropdownRender:$,dropdownAlign:G,getPopupContainer:F,empty:!Je.length,getTriggerDOMNode:function(){return Ie.current}},w.createElement(kfe,Object.assign({},e,{domRef:Ie,prefixCls:o,inputElement:dt,ref:be,id:Te,showSearch:Ne,mode:f,accessibilityIndex:At,multiple:Me,tagRender:te,values:it,open:bt,onToggleOpen:xt,searchValue:Ze,activeValue:We,onSearch:Ot,onSearchSubmit:function(e){var t=Array.from(new Set([].concat(Object(Dc.a)(Ve),[e])));ft(t),t.forEach((function(e){at(e,!0,"input")})),Ge("")},onSelect:function(e,t){pt(e,Sfe(Sfe({},t),{},{source:"selection"}))},tokenWithEnter:ke}))),Ut,qt)}))),Wfe=((Hfe=function(e){Object(_c.a)(n,e);var t=Tfe(n);function n(){var e;return Object(Oc.a)(this,n),(e=t.apply(this,arguments)).selectRef=k.a.createRef(),e.focus=function(){e.selectRef.current.focus()},e.blur=function(){e.selectRef.current.blur()},e}return Object(Cc.a)(n,[{key:"render",value:function(){return k.a.createElement(Ufe,Object.assign({ref:this.selectRef},this.props))}}]),n}(k.a.Component)).Option=Wue,Hfe.OptGroup=Yue,Hfe);function Kfe(e){var t=e.suffixIcon,n=e.clearIcon,r=e.menuItemSelectedIcon,o=e.removeIcon,i=e.loading,a=e.multiple,c=e.prefixCls,s=n;n||(s=w.createElement(kr.a,null));var l=null;if(void 0!==t)l=t;else if(i)l=w.createElement(Vr.a,{spin:!0});else{var u="".concat(c,"-suffix");l=function(e){var t=e.open,n=e.showSearch;return t&&n?w.createElement(zr.a,{className:u}):w.createElement(Lne.a,{className:u})}}return{clearIcon:s,suffixIcon:l,itemIcon:void 0!==r?r:a?w.createElement(zne.a,null):null,removeIcon:void 0!==o?o:w.createElement(Mo.a,null)}}var Yfe=function(e){Ft()(n,e);var t=Bt()(n);function n(){var e;return Mt()(this,n),(e=t.apply(this,arguments)).selectRef=w.createRef(),e.focus=function(){e.selectRef.current&&e.selectRef.current.focus()},e.blur=function(){e.selectRef.current&&e.selectRef.current.blur()},e.getMode=function(){var t=e.props.mode;if("combobox"!==t)return t===n.SECRET_COMBOBOX_MODE_DO_NOT_USE?"combobox":t},e.renderSelect=function(t){var n,r=t.getPopupContainer,o=t.getPrefixCls,i=t.renderEmpty,a=t.direction,c=t.virtual,s=t.dropdownMatchSelectWidth,l=e.props,u=l.prefixCls,f=l.notFoundContent,p=l.className,d=l.size,h=l.listHeight,m=void 0===h?256:h,v=l.listItemHeight,y=void 0===v?24:v,g=l.getPopupContainer,b=l.dropdownClassName,k=l.bordered,x=o("select",u),O=e.getMode(),C="multiple"===O||"tags"===O;n=void 0!==f?f:"combobox"===O?null:i("Select");var _=Kfe(ht()(ht()({},e.props),{multiple:C,prefixCls:x})),E=_.suffixIcon,j=_.itemIcon,S=_.removeIcon,P=_.clearIcon,R=Object(br.a)(e.props,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered"]),T=_t()(b,ut()({},"".concat(x,"-dropdown-").concat(a),"rtl"===a));return w.createElement(jr.Consumer,null,(function(t){var o,i=d||t,l=_t()(p,(o={},ut()(o,"".concat(x,"-lg"),"large"===i),ut()(o,"".concat(x,"-sm"),"small"===i),ut()(o,"".concat(x,"-rtl"),"rtl"===a),ut()(o,"".concat(x,"-borderless"),!k),o));return w.createElement(Wfe,ht()({ref:e.selectRef,virtual:c,dropdownMatchSelectWidth:s},R,{listHeight:m,listItemHeight:y,mode:O,prefixCls:x,direction:a,inputIcon:E,menuItemSelectedIcon:j,removeIcon:S,clearIcon:P,notFoundContent:n,className:l,getPopupContainer:g||r,dropdownClassName:T}))}))},e}return It()(n,[{key:"render",value:function(){return w.createElement(on,null,this.renderSelect)}}]),n}(w.Component);Yfe.Option=Wue,Yfe.OptGroup=Yue,Yfe.SECRET_COMBOBOX_MODE_DO_NOT_USE="SECRET_COMBOBOX_MODE_DO_NOT_USE",Yfe.defaultProps={transitionName:"slide-up",choiceTransitionName:"",bordered:!0};var Xfe=Yfe;n(701);function $fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gfe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$fe(Object(n),!0).forEach((function(t){Zfe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zfe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jfe(){return(Jfe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qfe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var epe=k.a.forwardRef((function(e,t){var n=e.className,r=e.dropdownClassName,o=Qfe(e,["className","dropdownClassName"]);return k.a.createElement(Xfe,Jfe({className:_t()("larkui-select",n),dropdownClassName:_t()("larkui-select-dropdown",r),ref:t},o))}));epe.propTypes=Gfe(Gfe({},Xfe.SelectProps),{},{className:st.a.string,dropdownClassName:st.a.string}),Do()(epe,Xfe);var tpe=epe,npe=n(68),rpe=n.n(npe),ope={puml:{sequence:{id:"sequence",name:"时序图 (Sequence)",text:'@startuml\n\nautonumber\n\nactor "用户" as User\nparticipant "浏览器" as Browser\nparticipant "服务端" as Server #orange\n\nactivate User\n\nUser -> Browser: 输入 URL\nactivate Browser\n\nBrowser -> Server: 请求服务器\nactivate Server\n\nServer -> Server: 模板渲染\nnote right of Server: 这是一个注释\n\nServer -> Browser: 返回 HTML\ndeactivate Server\n\nBrowser --\x3e User\n\n@enduml',src:"https://cdn.nlark.com/__puml/b11b6192390c95750c4b71c2580ff529.svg"},"use-case":{id:"use-case",name:"用例图 (Use Case)",text:"@startuml\n\nactor A\nactor B\n\nA -up-> (up)\nA -right-> (center)\nA -down-> (down)\nA -left-> (left)\n\nB -up-> (up)\nB -left-> (center)\nB -right-> (right)\nB -down-> (down)\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/a7908b49c22b05104624bebc463cd25d.svg"},class:{id:"class",name:"类图 (Class)",text:"@startuml\n\nclass Car {\n  color\n  model\n  +start()\n  #run()\n  #stop()\n}\n\nCar <|- Bus\nCar *-down- Tire\nCar *-down- Engine\nBus o-down- Driver\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/e9cf4eba3cdaf0cf1bc68065406d9d43.svg"},flowchart:{id:"flowchart",name:"流程图 (Flow)",text:"@startuml\n\nstart\n\n:step 1;\n\nif (try) then (true)\n  :step 2;\n  :step 3;\nelse (false)\n  :error;\n  end\nendif\n\nstop\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/48a1408972f20bc1f4837aa807254692.svg"},activity:{id:"activity",name:"活动图 (Activity)",text:"@startuml\n\n|A Section|\nstart\n:step1;\n|#AntiqueWhite|B Section|\n:step2;\n:step3;\n|A Section|\n:step4;\n|B Section|\n:step5;\nstop\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/2aa76dcc256f08335083bd039b5b4e49.svg"},component:{id:"component",name:"组件图 (Component)",text:"@startuml\n\nDataAccess - [First Component]\n[First Component] ..> HTTP : use\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/6b9de2b03b69402b018655ed491fcd34.svg"},state:{id:"state",name:"状态图 (State)",text:"@startuml\n\n[*] --\x3e State1\nState1 --\x3e [*]\nState1 : this is a string\nState1 : this is another string\n\nState1 -> State2\nState2 --\x3e [*]\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/0d1c26fb399ed9669a2e1a29e98b4de4.svg"},object:{id:"object",name:"对象图 (Object)",text:"@startuml\n\nobject Car\nobject Bus\nobject Tire\nobject Engine\nobject Driver\n\nCar <|- Bus\nCar *-down- Tire\nCar *-down- Engine\nBus o-down- Driver\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/1af2d7ebc3e554c752289bcce7679cdb.svg"}}},ipe={getTemplates:function(e){return ope[e]||null}},ape={TEXT_DIAGRAM_TYPES:{PUML:"puml",MERMAID:"mermaid",GRAPHVIZ:"graphviz",FLOWCHART:"flowchart"},TEXT_DIAGRAMS:[{type:"puml",name:"PlantUML"},{type:"mermaid",name:"Mermaid"},{type:"flowchart",name:"Flowchart"},{type:"graphviz",name:"Graphviz"}],TEXT_DIAGRAM_GUIDES:{puml:"https://www.yuque.com/yuque/help/editor-puml",flowchart:"https://www.yuque.com/yuque/help/flowchart",graphviz:"https://www.yuque.com/yuque/help/graphviz",mermaid:"https://www.yuque.com/yuque/help/mermaid"},TEXT_DIAGRAM_SYNTAX:{puml:"plantuml"},EDITOR_MODE:{CODE:"code",PREVIEW:"preview"},EDITOR_LAYOUT:{DEFAULT:"default",TWO_COLUMN:"two-column"}},cpe={Preview:function(){return k.a.createElement("svg",{className:"preview-icon",width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1"},k.a.createElement("g",{id:"Editor-Interface",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},k.a.createElement("g",{id:"16-PlantUML---编辑",transform:"translate(-1001.000000, -372.000000)",fill:"#25B864",fillRule:"nonzero"},k.a.createElement("g",{id:"Group-4",transform:"translate(1001.000000, 368.000000)"},k.a.createElement("path",{d:"M7,4 C3.134375,4 0,7.134375 0,11 C0,14.865625 3.134375,18 7,18 C10.865625,18 14,14.865625 14,11 C14,7.134375 10.865625,4 7,4 Z M9.2515625,11.1078125 L5.8390625,13.590625 C5.8171875,13.60625 5.7921875,13.6140625 5.765625,13.6140625 C5.696875,13.6140625 5.640625,13.5578125 5.640625,13.4890625 L5.640625,8.5265625 C5.640625,8.5 5.6484375,8.475 5.6640625,8.453125 C5.7046875,8.396875 5.7828125,8.384375 5.8390625,8.425 L9.2515625,10.90625 C9.2625,10.9140625 9.271875,10.9234375 9.2796875,10.934375 C9.3203125,10.9890625 9.3078125,11.0671875 9.2515625,11.1078125 Z",id:"Shape"})))))}},spe=cpe;function lpe(e){return(lpe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function upe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fpe(e,t){return(fpe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ppe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hpe(e);if(t){var o=hpe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dpe(this,n)}}function dpe(e,t){return!t||"object"!==lpe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hpe(e){return(hpe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mpe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fpe(e,t)}(i,e);var t,n,r,o=ppe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onImgLoad=function(){"function"==typeof t.props.onLoad&&t.props.onLoad()},t.state={url:e.url,error:null},t}return t=i,(n=[{key:"componentDidMount",value:function(){!this.state.url&&this.props.code&&this.genImg()}},{key:"componentDidUpdate",value:function(e){this.props.code!==e.code&&this.genImg()}},{key:"genImg",value:function(){var e=this;hw(this.props.type,this.props.code,this.props.origin).then((function(t){var n;t.success?e.setState({url:(n=t.svg,"data:image/svg+xml;utf8,".concat(encodeURIComponent(n))),error:null}):e.setState({error:t.message})})).catch((function(t){e.setState({error:t.message})}))}},{key:"render",value:function(){var e,t=this.props,n=t.type,r=t.className,o=void 0===r?"":r,i=this.state,a=i.url,c=i.error;return a=this.props.onBeforeRenderImage(a),e=null!==c?k.a.createElement("pre",null,c):a?k.a.createElement("img",{src:a,onLoad:this.onImgLoad,onDragStart:function(e){e.preventDefault(),e.stopPropagation()}}):k.a.createElement("span",{className:"lake-icon lake-icon-loading"}),k.a.createElement("div",{className:"lake-text-diagram-viewer lake-text-diagram-".concat(n," ").concat(o)},e)}}])&&upe(t.prototype,n),r&&upe(t,r),i}(k.a.PureComponent);mpe.propTypes={className:st.a.string,type:st.a.string.isRequired,code:st.a.string.isRequired,url:st.a.string,onBeforeRenderImage:st.a.func.isRequired,onLoad:st.a.func};var vpe=mpe;n(697);function ype(e){return(ype="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gpe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bpe(e,t){return(bpe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wpe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xpe(e);if(t){var o=xpe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kpe(this,n)}}function kpe(e,t){return!t||"object"!==ype(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xpe(e){return(xpe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ope=Lu()("lake:text-diagram"),Cpe=ape.EDITOR_MODE,_pe=ape.EDITOR_LAYOUT,Epe=ape.TEXT_DIAGRAM_TYPES,jpe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bpe(e,t)}(i,e);var t,n,r,o=wpe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).focusCM=function(){t.instance.focus()},t.switchType=function(e){if(e!==t.state.type){var n=t.getCodeMirrorMode(e);Ope("switch diagram type",{type:e,syntax:n}),t.setState({type:e,mode:Cpe.CODE,codeForPreview:null}),t.instance.codeMirror.setOption("mode",n),t.props.onDiagramTypeChange(e)}},t.switchLayout=function(e){(t.setState({layout:e,mode:Cpe.CODE}),t.instance&&t.instance.focus(),e===_pe.TWO_COLUMN)&&(t.bodyRef.current.style.height="100%")},t.switchTemplate=function(e){var n=ipe.getTemplates(t.state.type);if(n){var r=n[e];t.instance.codeMirror.setValue(r.text)}},t.switchView=function(e){var n=t.instance.getValue();t.setState({mode:e,codeForPreview:e===Cpe.PREVIEW?n:null},(function(){e===Cpe.CODE&&t.fixEditorBodySize()}))},t.doPreview=function(){var e=t.instance.getValue();Ope("preview",e),t.setState({codeForPreview:e})},t.getHelpUrl=function(){return ape.TEXT_DIAGRAM_GUIDES[t.state.type]},t.getRootDom=function(){return t.rootRef.current},t.onPreviewDone=function(){t.fixEditorBodySize()},t.handlePreviewButtonClick=function(){var e=t.state,n=e.mode;e.layout!==_pe.TWO_COLUMN?n!==Cpe.PREVIEW?n===Cpe.CODE&&t.switchView(Cpe.PREVIEW):t.switchView(Cpe.CODE):t.doPreview()},t.needShowPreviewPanel=function(){return t.state.layout===_pe.TWO_COLUMN||t.state.mode===Cpe.PREVIEW},t.renderPreview=function(){var e=t.state,n=e.mode,r=e.layout,o=e.codeForPreview;return r===_pe.DEFAULT&&n===Cpe.CODE?null:o?k.a.createElement(vpe,{type:t.state.type,code:o,origin:t.props.origin,onBeforeRenderImage:t.props.onBeforeRenderImage,onLoad:t.onPreviewDone}):null},t.renderDiagramSelect=function(){return k.a.createElement(tpe,{className:"lake-diagram-select",defaultValue:t.props.type,size:"small",style:{width:128},getPopupContainer:t.getRootDom,onSelect:function(e){t.switchType(e)}},ape.TEXT_DIAGRAMS.map((function(e){return k.a.createElement(tpe.Option,{name:e.name.toLowerCase(),value:e.type,key:e.name},e.name)})))},t.state={mode:Cpe.CODE,type:e.type||Epe.PUML,layout:_pe.DEFAULT,codeForPreview:null},t.rootRef=k.a.createRef(),t.editorRef=k.a.createRef(),t.bodyRef=k.a.createRef(),t.templates=ipe.getTemplates(e.type),t.instance=null,t}return t=i,(n=[{key:"componentDidMount",value:function(){this.initEditor()}},{key:"initEditor",value:function(){var e=this,t=this.editorRef.current,n=this.props.type,r=this.getOptions(n),o=this.props.isMaximize,i=nm()((function(){e.doPreview()}),300),a=rpe.a.fromTextArea(t,r);a.on("change",(function(){var t=a.getValue();"function"==typeof e.props.onChange&&e.props.onChange(t),o()&&i()})),a.on("focus",(function(){"function"==typeof e.props.onFocus&&e.props.onFocus()})),a.on("blur",(function(){if("function"==typeof e.props.onBlur){var t=a.getValue();e.props.onBlur(t)}})),this.instance={codeMirror:a,switchLayout:this.switchLayout,focus:function(){a.focus()},getValue:function(){return a.getValue()},doPreview:function(){e.doPreview()}},"function"==typeof this.props.onLoad&&this.props.onLoad({editor:this.instance})}},{key:"getCodeMirrorMode",value:function(e){return ape.TEXT_DIAGRAM_SYNTAX[e]||"simplemode"}},{key:"getDiagramName",value:function(e){var t=ape.TEXT_DIAGRAMS.find((function(t){return t.type===e}));return t?t.name:""}},{key:"getOptions",value:function(e){return{tabSize:2,mode:this.getCodeMirrorMode(e),lineNumbers:!0,lineWrapping:!1,indentWithTabs:!0,styleActiveLine:!1,matchBrackets:!0,autofocus:!1,dragDrop:!1,readOnly:!1,scrollbarStyle:"null",viewportMargin:1/0}}},{key:"fixEditorBodySize",value:function(){var e=this.state,t=e.mode;if(e.layout===_pe.DEFAULT){var n=this.bodyRef.current,r=null;t===Cpe.PREVIEW?(r=n.querySelector(".lake-text-diagram-preview").scrollHeight,n.style.height=r+"px"):n.style.height="auto"}}},{key:"renderTemplates",value:function(){var e=this,t=this.props.locale,n=ipe.getTemplates(this.state.type);return n?k.a.createElement(Hne,{trigger:["click"],getPopupContainer:this.getRootDom,disabled:this.state.mode!==Cpe.CODE,placement:"bottomLeft",overlay:k.a.createElement(sne,{onClick:function(t){var n=t.key;t.domEvent.stopPropagation(),e.switchTemplate(n)}},Object.values(n).map((function(e){return k.a.createElement(sne.Item,{key:e.id},e.name)})))},k.a.createElement("a",{className:"diagram-template-selector"},t.template," ",k.a.createElement(fue,null))):null}},{key:"render",value:function(){var e=this,t=this.props.locale,n=this.state,r=n.mode,o=n.layout;return k.a.createElement("div",{className:_t()(["lake-text-diagram-stage","lake-text-diagram-layout-".concat(o)]),onKeyDown:function(t){(t.metaKey||t.ctrlKey)&&80===t.keyCode&&(t.preventDefault(),e.handlePreviewButtonClick())},ref:this.rootRef},k.a.createElement("div",{className:"lake-text-diagram-nav"},this.props.canChangeType?this.renderDiagramSelect():k.a.createElement("span",{className:"diagram-name"},this.getDiagramName(this.props.type)),k.a.createElement("div",{className:"diagram-actions"},this.renderTemplates(),k.a.createElement("a",{className:"diagram-help",href:this.getHelpUrl(),target:"_blank"},t.help),k.a.createElement(dn,{title:fe.macos?t.macPreviewTooltip:t.winPreviewTooltip},k.a.createElement("button",{size:"small",className:_t()({"diagram-preview":!0,"diagram-preview-active":r===Cpe.PREVIEW}),onClick:this.handlePreviewButtonClick},k.a.createElement("span",{role:"img",className:"anticon"},k.a.createElement(spe.Preview,null)),t.preview)))),k.a.createElement("div",{className:"lake-text-diagram-editor-wrap",ref:this.bodyRef,onClick:this.focusCM},k.a.createElement("div",{className:"lake-text-diagram-editor"},k.a.createElement("textarea",{value:this.props.code,ref:this.editorRef,autoComplete:"off",tabIndex:"1",readOnly:!0})),k.a.createElement("div",{className:"lake-text-diagram-preview",style:{display:this.needShowPreviewPanel()?"block":"none"}},this.renderPreview())))}}])&&gpe(t.prototype,n),r&&gpe(t,r),i}(k.a.PureComponent);jpe.propTypes={canChangeType:st.a.bool.isRequired,type:st.a.oneOf(Object.values(ape.TEXT_DIAGRAM_TYPES)),code:st.a.string.isRequired,locale:st.a.object.isRequired,onChange:st.a.func,onDiagramTypeChange:st.a.func.isRequired,onBlur:st.a.func.isRequired,onFocus:st.a.func.isRequired,onBeforeRenderImage:st.a.func.isRequired,onLoad:st.a.func,isMaximize:st.a.func,origin:st.a.func};var Spe=jpe;function Ppe(e){return(Ppe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rpe(e){return function(e){if(Array.isArray(e))return Tpe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Tpe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tpe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tpe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dpe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ape(e,t,n){return(Ape="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lpe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Mpe(e,t){return(Mpe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Npe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lpe(e);if(t){var o=Lpe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ipe(this,n)}}function Ipe(e,t){return!t||"object"!==Ppe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lpe(e){return(Lpe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fpe=Lu()("lake:text-diagram"),zpe=ape.EDITOR_LAYOUT,Bpe=ape.TEXT_DIAGRAM_TYPES;var Vpe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mpe(e,t)}(i,e);var t,n,r,o=Npe(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).focusToCodeEditor=function(){n.editor&&n.editor.focus()},n.onEditorChange=function(e){e!==n.value.code&&(n.value.code=e,n.value.url=null),n.engine&&n.engine.setUserChanged()},n.changeDiagramType=function(e){n.diagramType=e,n.prevValue={url:null,code:null}},n.onEditorBlur=function(){Fpe("editor blur"),n.engine.toolbar.disable(!1),n.saveDiagram()},n.onEditorFocus=function(){Fpe("editor focus"),n.engine.toolbar.disable(!0)},n.needConvertToImage=function(){return n.value.code?!n.value.url:n.prevValue.code&&!n.prevValue.url},n.saveDiagram=function(){if(n.value&&null!==n.value.code){var e={code:n.value.code,url:n.value.url,type:n.diagramType};Fpe("save diagram",e),n.setValue(e)}},n.genImage=function(e){return dw(n.diagramType,e,n.getTopEngine().options.previewOrigin).then((function(e){e.url&&(n.value.url=e.url),n.engine.history.hold(),n.saveDiagram(),n.prevValue=n.value}))},n.onBeforeSave=function(){return n.value.code&&!n.value.url?n.genImage(n.value.code):null},n.getDiagramType=function(e){return"diagram"===n.name?e.type||Bpe.PUML:n.name},n.engine=e,n.contentView=t,n.value={url:null,code:null},n.prevValue={url:null,code:null},n.root=null,n.diagramType=null,n.editor=null,n}return t=i,(n=[{key:"embedToolbar",value:function(){var e=this,t=[{type:"dnd"},{type:"maximize"},{type:"separator"},{type:"copy"},{type:"copyCardLink",onClick:function(){return e.copyCardEmbedLink()}},{type:"separator"}].concat(Rpe(this.getMoreEmbedToolbarConfig()));return this.state.readonly&&(t=[{type:"maximize"},{type:"copyCardLink",onClick:function(){return e.copyCardEmbedLink()}}]),t}},{key:"destroy",value:function(){this.engine&&this.engine.asyncEvent.off("save:before",this.onBeforeSave)}},{key:"maximize",value:function(){Ape(Lpe(i.prototype),"maximize",this).call(this),this.state.readonly||(this.editor.switchLayout(zpe.TWO_COLUMN),this.editor.doPreview(),this.engine.toolbar.hide())}},{key:"restore",value:function(){Ape(Lpe(i.prototype),"restore",this).call(this),this.state.readonly||(this.editor.switchLayout(zpe.DEFAULT),this.engine.toolbar.show())}},{key:"activate",value:function(){this.state.readonly||this.resizeController&&this.resizeController.show()}},{key:"unactivate",value:function(){Fpe("[puml]card blur"),this.saveDiagram(),this.needConvertToImage()&&(Fpe("[puml]card blur, gen image"),this.genImage(this.value.code)),this.state.readonly||this.resizeController&&this.resizeController.hide()}},{key:"renderEditor",value:function(e){var t=this;Fpe("render editor"),He.a.render(k.a.createElement(Spe,{canChangeType:"diagram"===this.name,type:this.diagramType,code:e.code||"",onFocus:this.onEditorFocus,onBlur:this.onEditorBlur,onChange:this.onEditorChange,onDiagramTypeChange:this.changeDiagramType,onBeforeRenderImage:this.onBeforeRenderImage,isMaximize:function(){return t.state.maximize},origin:this.getTopEngine().options.previewOrigin,onLoad:function(e){var n=e.editor;t.editor=n},locale:this.locale}),this.root[0],(function(){var e=t.root.find(".lake-text-diagram-editor"),n=t.value.height;t.createResizeController(e),n&&e.css("height",n+"px")}))}},{key:"renderViewer",value:function(e){Fpe("render puml code."),He.a.render(k.a.createElement("div",{className:"lake-text-diagram-viewer"},k.a.createElement(vpe,{type:this.diagramType,code:e.code,origin:this.getTopEngine().options.previewOrigin,onBeforeRenderImage:this.onBeforeRenderImage,url:e.url})),this.root[0])}},{key:"render",value:function(e,t){Fpe("init card use:",t),t&&(this.prevValue=t),e.append('<div class="lake-text-diagram lake-text-diagram-root"></div>'),this.root=this.container.find(".lake-text-diagram-root"),this.diagramType=this.getDiagramType(t),this.engine?(this.locale=this.engine.locale.textDiagram,this.engine.on("save:before",this.saveDiagram),this.engine.asyncEvent.on("save:before",this.onBeforeSave),this.renderEditor(this.prevValue)):this.renderViewer(this.prevValue),this.toggleMargin()}}])&&Dpe(t.prototype,n),r&&Dpe(t,r),i}(uw);Vpe.type="block",Vpe.uid=!0;var qpe=[{value:"plain",syntax:"simplemode",name:"Plain Text"},{value:"bash",syntax:"shell",name:"Bash"},{value:"basic",syntax:"vbscript",name:"Basic"},{value:"c",syntax:"text/x-csrc",name:"C"},{value:"cpp",syntax:"text/x-c++src",name:"C++"},{value:"csharp",syntax:"text/x-csharp",name:"C#"},{value:"css",syntax:"css",name:"CSS"},{value:"dart",syntax:"dart",name:"Dart"},{value:"diff",syntax:"diff",name:"Diff"},{value:"dockerfile",syntax:"dockerfile",name:"Dockerfile"},{value:"erlang",syntax:"erlang",name:"Erlang"},{value:"git",syntax:"shell",name:"Git"},{value:"go",syntax:"go",name:"Go"},{value:"graphql",syntax:"simplemode",name:"GraphQL"},{value:"groovy",syntax:"groovy",name:"Groovy"},{value:"html",syntax:"htmlmixed",name:"HTML"},{value:"http",syntax:"http",name:"HTTP"},{value:"java",syntax:"text/x-java",name:"Java"},{value:"javascript",syntax:"text/javascript",name:"JavaScript"},{value:"json",syntax:"application/json",name:"JSON"},{value:"jsx",syntax:"jsx",name:"JSX"},{value:"katex",syntax:"simplemode",name:"KaTeX"},{value:"kotlin",syntax:"text/x-kotlin",name:"Kotlin"},{value:"less",syntax:"css",name:"Less"},{value:"makefile",syntax:"cmake",name:"Makefile"},{value:"markdown",syntax:"markdown",name:"Markdown"},{value:"matlab",syntax:"octave",name:"MATLAB"},{value:"nginx",syntax:"nginx",name:"Nginx"},{value:"objectivec",syntax:"text/x-objectivec",name:"Objective-C"},{value:"pascal",syntax:"pascal",name:"Pascal"},{value:"perl",syntax:"perl",name:"Perl"},{value:"php",syntax:"php",name:"PHP"},{value:"powershell",syntax:"powershell",name:"PowerShell"},{value:"protobuf",syntax:"protobuf",name:"Protobuf"},{value:"python",syntax:"python",name:"Python"},{value:"r",syntax:"r",name:"R"},{value:"ruby",syntax:"ruby",name:"Ruby"},{value:"rust",syntax:"rust",name:"Rust"},{value:"scala",syntax:"text/x-scala",name:"Scala"},{value:"shell",syntax:"shell",name:"Shell"},{value:"sql",syntax:"text/x-sql",name:"SQL"},{value:"plsql",syntax:"text/x-plsql",name:"PL/SQL"},{value:"swift",syntax:"swift",name:"Swift"},{value:"typescript",syntax:"text/typescript",name:"TypeScript"},{value:"vbnet",syntax:"vb",name:"VB.net"},{value:"velocity",syntax:"velocity",name:"Velocity"},{value:"xml",syntax:"xml",name:"XML"},{value:"yaml",syntax:"yaml",name:"YAML"},{value:"stex",syntax:"text/x-stex",name:"sTeX"},{value:"latex",syntax:"text/x-latex",name:"LaTeX"},{value:"systemverilog",syntax:"text/x-systemverilog",name:"SystemVerilog"},{value:"tcl",syntax:"text/x-tcl",name:"Tcl"},{value:"verilog",syntax:"text/x-verilog",name:"Verilog"},{value:"vue",syntax:"text/x-vue",name:"Vue"},{value:"lua",syntax:"text/x-lua",name:"Lua"}],Hpe=(n(702),n(703),w.forwardRef((function(e,t){var n,r=e.prefixCls,o=void 0===r?"rc-switch":r,i=e.className,a=e.checked,c=e.defaultChecked,s=e.disabled,l=e.loadingIcon,u=e.checkedChildren,f=e.unCheckedChildren,p=e.onClick,d=e.onChange,h=e.onKeyDown,m=Object(yt.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),v=Object(Toe.a)(!1,{value:a,defaultValue:c}),y=Object(Ac.a)(v,2),g=y[0],b=y[1];function k(e,t){var n=g;return s||(b(n=e),null==d||d(n,t)),n}var x=_t()(o,i,(n={},Object(xc.a)(n,"".concat(o,"-checked"),g),Object(xc.a)(n,"".concat(o,"-disabled"),s),n));return w.createElement("button",Object.assign({},m,{type:"button",role:"switch","aria-checked":g,disabled:s,className:x,ref:t,onKeyDown:function(e){e.which===See.a.LEFT?k(!1,e):e.which===See.a.RIGHT&&k(!0,e),null==h||h(e)},onClick:function(e){var t=k(!g,e);null==p||p(t,e)}}),l,w.createElement("span",{className:"".concat(o,"-inner")},g?u:f))})));Hpe.displayName="Switch";var Upe=Hpe,Wpe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Kpe=w.forwardRef((function(e,t){var n,r=e.prefixCls,o=e.size,i=e.loading,a=e.className,c=void 0===a?"":a,s=e.disabled,l=Wpe(e,["prefixCls","size","loading","className","disabled"]);Pr("checked"in l||!("value"in l),"Switch","`value` is not a valid prop, do you mean `checked`?");var u=w.useContext(rn),f=u.getPrefixCls,p=u.direction,d=w.useContext(jr),h=f("switch",r),m=w.createElement("div",{className:"".concat(h,"-handle")},i&&w.createElement(Vr.a,{className:"".concat(h,"-loading-icon")})),v=_t()(c,(n={},ut()(n,"".concat(h,"-small"),"small"===(o||d)),ut()(n,"".concat(h,"-loading"),i),ut()(n,"".concat(h,"-rtl"),"rtl"===p),n));return w.createElement(ro,{insertExtraNode:!0},w.createElement(Upe,ht()({},l,{prefixCls:h,className:v,disabled:s||i,ref:t,loadingIcon:m})))}));Kpe.__ANT_SWITCH=!0,Kpe.displayName="Switch";var Ype=Kpe,Xpe=(n(704),Ype);function $pe(e){return($pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zpe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jpe(e,t){return(Jpe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qpe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tde(e);if(t){var o=tde(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ede(this,n)}}function ede(e,t){return!t||"object"!==$pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tde(e){return(tde=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nde=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jpe(e,t)}(i,e);var t,n,r,o=Qpe(i);function i(){var e;Gpe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).handlerFilter=function(e,t){e=e.toLowerCase();var n=t.key||"",r=t.name||"";return r=r.toLowerCase(),n.includes(e)||r.includes(e)},e}return t=i,(n=[{key:"render",value:function(){return k.a.createElement(k.a.Fragment,null,k.a.createElement(tpe,{className:"lake-codeblock-header-select",showSearch:!0,size:"small",style:{width:128},defaultValue:this.props.defaultValue,getPopupContainer:this.props.getPopupContainer,onSelect:this.props.onSelect,filterOption:this.handlerFilter,virtual:!1},qpe.map((function(e){return k.a.createElement(tpe.Option,{name:e.name,value:e.value,key:e.value},e.name)}))),k.a.createElement("div",{className:"lake-codeblock-autowrap"},k.a.createElement("span",{className:"lake-codeblock-text"},this.props.locale.autoWrap),k.a.createElement(Xpe,{size:"small",onChange:this.props.onAutoWrapChange,defaultChecked:this.props.defaultAutoWrap})))}}])&&Zpe(t.prototype,n),r&&Zpe(t,r),i}(k.a.PureComponent);nde.propTypes={defaultValue:st.a.string,onSelect:st.a.func,getPopupContainer:st.a.func,locale:st.a.object,defaultAutoWrap:st.a.bool,onAutoWrapChange:st.a.func};var rde=nde;function ode(e){return(ode="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ide(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ade(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ide(Object(n),!0).forEach((function(t){cde(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ide(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cde(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sde(e){return function(e){if(Array.isArray(e))return lde(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lde(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lde(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lde(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ude(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fde(e,t){return(fde=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pde(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hde(e);if(t){var o=hde(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dde(this,n)}}function dde(e,t){return!t||"object"!==ode(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hde(e){return(hde=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mde={},vde={};qpe.forEach((function(e){mde[e.value]=e.name,vde[e.value]=e.syntax}));var yde=["c","cpp","csharp","erlang","go","groovy","java","kotlin","makefile","objectivec","perl","python","rust","swift","vbnet"],gde="lake-codeblock";function bde(e){return vde[e]||e}function wde(e){var t=e.mode,n=e.editPage;return'\n  <div class="lake-codeblock lake-codeblock-'.concat(Cl.escape(t)," ").concat(e.heightLimit?"height-limit":"",'">\n    ').concat(n?'<div class="lake-codeblock-header"></div>':"",'\n    <div class="lake-codeblock-content"></div>\n  </div>\n  ')}function kde(e,t,n,r){t=bde(t);var o=ru('<div class="CodeMirror CodeMirror-sizer"><pre class="cm-s-default" /></div>');e.append(o),function(e,t,n,r){var o,i=rpe.a.getMode(rpe.a.defaults,t),a=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<9),c=n;if(n.appendChild){var s=r&&r.tabSize||rpe.a.defaults.tabSize;o=document.createDocumentFragment();var l,u=0,f=1;n=function(e,t,n){var r=(e+"").length-(f+"").length;if(!l){var i=document.createElement("span");i.className="lake-preview-line",i.innerHTML='<span class="lake-preview-line-number lake-lm-pad-level-'.concat(r,'"></span><span class="lake-preview-codeblock-content"></span>'),l=i.lastChild,o.appendChild(i)}if("\n"===t)return l.appendChild(document.createTextNode(a?"\r":t)),l=null,u=0,void f++;for(var c="",p=0;;){var d=t.indexOf("\t",p);if(-1===d){c+=t.slice(p),u+=t.length-p;break}u+=d-p,c+=t.slice(p,d);var h=s-u%s;u+=h;for(var m=0;m<h;++m)c+=" ";p=d+1}if(n){var v=l.appendChild(document.createElement("span"));v.className="cm-"+n.replace(/ +/g," cm-"),v.appendChild(document.createTextNode(c))}else l.appendChild(document.createTextNode(c))}}for(var p=rpe.a.splitLines(e),d=r&&r.state||rpe.a.startState(i),h=0,m=p.length;h<m;++h){h&&n(m,"\n");var v=new rpe.a.StringStream(p[h]);for(!v.string&&i.blankLine&&i.blankLine(d);!v.eol();){var y=i.token(v,d);n(m,v.current(),y,h,v.start,d),v.start=v.pos}}c.appendChild&&o&&c.appendChild(o)}(n||"",t,o.find("pre")[0],r)}var xde=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fde(e,t)}(i,e);var t,n,r,o=pde(i);function i(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).adaptMode=function(e){return mde[e.mode]?e.mode:t.mode},t.saveValue=function(){if(!t.engine.domEvent.isComposing){var e=t.codeMirror.getValue();t.setValue({mode:t.mode,code:e},!0)}},t.focusToCodeEditor=function(){t.codeMirror.focus()},t.engine=e,!e)return dde(t);var n=t.getViewEngine();t.card=e.card,t.locale=n.locale.codeBlock;var r=t.loadOptions();return t.mode=mde[r.mode]?r.mode:"plain",t}return t=i,(n=[{key:"loadOptions",value:function(){var e=lC(gde);if(e)try{return JSON.parse(e)}catch(e){}return{}}},{key:"setOptions",value:function(e){uC(gde,JSON.stringify(e))}},{key:"embedToolbar",value:function(){return[{type:"dnd"},{type:"copy"},{type:"copyContent",tips:this.getViewEngine().locale.codeBlock.copyCode},{type:"separator"}].concat(sde(this.getMoreEmbedToolbarConfig()))}},{key:"copyContent",value:function(){var e=this.getViewEngine(),t=this.value.code,n=e.locale.codeBlock.copySuccess;Ip.copyText(t),fs.success(n)}},{key:"destroy",value:function(){}},{key:"activate",value:function(){this.state.readonly||this.resizeController.show(),this.renderToolbar()}},{key:"unactivate",value:function(){this.setOptions({mode:this.mode}),this.saveValue(),this.state.readonly||this.resizeController.hide()}},{key:"renderToolbar",value:function(){var e=this;if(!this.toolbarRendered){this.blockHeader=this.container.find(".lake-codeblock-header");var t=this.blockHeader[0];He.a.render(k.a.createElement(rde,{defaultValue:this.mode,onSelect:function(t){e.mode=t,e.updateMode(e.mode),e.saveValue(),e.focusToCodeEditor()},onAutoWrapChange:function(t){e.updateAutoWrap(t)},locale:this.locale,defaultAutoWrap:(this.value||{}).autoWrap,getPopupContainer:function(){return t}}),t),this.toolbarRendered=!0}}},{key:"createCodeEditor",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.codeMirror=rpe()(this.codeArea[0],ade({mode:e,value:t,lineNumbers:!0,lineWrapping:!!(this.value||{}).autoWrap,styleActiveLine:!1,matchBrackets:!0,autofocus:!1,dragDrop:!1,readOnly:!1,scrollbarStyle:"null",viewportMargin:1/0},r)),this.codeMirror.on("focus",(function(){n.engine.toolbar.disable(!0),n.activate()})),this.codeMirror.on("blur",(function(){n.engine.toolbar.disable(!1)})),this.codeMirror.on("change",nm()((function(){n.engine.change.onChange(n.engine.change.getValue()),n.saveValue()}),1e3)),this.codeMirror.setOption("extraKeys",{Enter:function(e){var t=n.getCfg(e.getValue());for(var r in t)e.setOption(r,t[r]);e.execCommand("newlineAndIndent")}})}},{key:"getCfg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mode,n=yde.includes(t)?4:2;return{tabSize:n,indentUnit:n}}},{key:"updateMode",value:function(e){var t=bde(e),n=this.codeMirror.getValue(),r=this.getCfg(n,e);this.codeArea.empty(),this.createCodeEditor(t,n||"",r)}},{key:"updateAutoWrap",value:function(e){e=!!e,this.codeMirror&&this.codeMirror.setOption("lineWrapping",e),this.setValue({autoWrap:e},!0)}},{key:"renderCode",value:function(e){this.codeArea=this.container.find(".lake-codeblock-content"),this.isAutoWrap()&&this.codeArea.addClass("lake-codeblock-auto-wrap"),kde(this.codeArea,this.mode,e,this.getCfg())}},{key:"isAutoWrap",value:function(){return(this.value||{}).autoWrap}},{key:"renderEditor",value:function(e){this.cardRoot=this.card.closest(this.container),this.codeArea=this.container.find(".lake-codeblock-content"),this.codeArea.on("click",this.focusToCodeEditor),this.lazyRenderCode(e),this.createResizeController(this.codeArea)}},{key:"lazyRenderCode",value:function(e){var t=this;setTimeout((function(){var n=bde(t.mode),r=t.getCfg(e,t.mode);t.createCodeEditor(n,e||"",r)}),0)}},{key:"render",value:function(e,t){t=t||{},this.mode=this.adaptMode(t),e.append(wde({heightLimit:!!t.heightLimit,mode:this.mode,editPage:!!this.engine})),this.engine?this.renderEditor(t.code):this.renderCode(t.code);var n=this.value.height;n&&(this.codeArea.css("height",n+"px"),this.codeArea.addClass("manual-height")),this.toggleMargin()}}])&&ude(t.prototype,n),r&&ude(t,r),i}(uw);xde.type="block";var Ode=n(83),Cde=n.n(Ode),_de=n(245),Ede=n.n(_de),jde=n(57),Sde=n.n(jde);function Pde(e){return function(e){if(Array.isArray(e))return Rde(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Rde(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rde(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rde(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tde(e){for(var t=[],n=e.rows,r=n.length,o=0;o<r;o++){var i=n[o].cells,a=i.length;t[o]=t[o]||[];for(var c=0;c<a;c++){for(var s=i[c],l=s.rowSpan,u=void 0===l?1:l,f=s.colSpan,p=void 0===f?1:f,d=u>1||p>1,h=c;t[o][h];)h++;if(t[o][h]={rowSpan:u,colSpan:p,isMulti:d,element:s},d)for(var m=u;m>0;){for(var v=p;v>0;){if(1!==v||1!==m){var y=o+m-1,g=h+v-1;t[y]=t[y]||[],t[y][g]={isEmpty:!0,parent:{row:o,col:h},element:null}}v--}m--}}}var b=t.map((function(e){return e.length})),w=Math.max.apply(Math,Pde(b));return t.forEach((function(e){if(e.length<w)for(var t=w-e.length;t--;)e.push({rowSpan:1,colSpan:1,isShadow:!0,element:null});for(var n=0;n<w;n++)e[n]||(e[n]={rowSpan:1,colSpan:1,isShadow:!0,element:null})})),{rows:t.length,cols:w,width:e.offsetWidth,table:t}}function Dde(e){return 0===parseInt(e)?"auto":(e.endsWith("%")&&(e=parseFloat(e)/100*750),parseInt(e,10)+"px")}function Ade(e){var t=ru(e);!function(e){var t=e.find("tr"),n=t[0],r=t[1];if(!n)return;0===n.cells.length&&n.remove();1===n.cells.length&&""===n.cells[0].innerText.trim()&&0===n.cells[0].getElementsByTagName("img").length&&0===n.cells[0].getElementsByTagName("div").length&&1===n.cells[0].colSpan&&1===n.cells[0].rowSpan&&r&&1!==r.cells.length&&n.remove()}(t),function(e){for(var t,n=(e=e[0]).rows,r=n.length,o=[],i=[],a=0,c=0,s=0,l=0;l<r;l++){for(var u=n[l].cells,f=0,p=0;p<u.length;p++){var d=u[p],h=d.rowSpan,m=d.colSpan;a+=h*m,f+=m,h>1&&(c+=(h-1)*m)}i[l]=f,0===l&&(t=f),s=Math.max(f,s)}var v=Ede()(a/t),y=t===s;if(v&&y){var g=0;if(i.forEach((function(e){g+=s-e})),g!==c){var b=c-g;if(Ede()(b/s)){for(var w=[],k=0;k<r;k++){for(var x=n[k].cells;o[k+w.length]===s;)w.push(k+w.length);for(var O=k+w.length,C=0;C<x.length;C++){var _=x[C],E=_.rowSpan,j=_.colSpan;if(E>1)for(var S=1;S<E;S++)o[O+S]=(o[O+S]||0)+j}}w.forEach((function(t){e.insertRow(t)}))}}}}(t),Ude(t),t.addClass("lake-table");var n=Dde(t.css("width"));t.css("width",n),t.css("background-color","");var r=Tde(e),o=t.find("col");if(0!==o.length){for(var i=o.length-1;i>=0;i--){var a=ru(o[i]).attr("width");if(a&&ru(o[i]).attr("width",parseFloat(Dde(a))),o[i].span>1)for(var c=o[i].span-1;c--;)o[i].parentNode.insertBefore(o[i].cloneNode(),o[i])}if((o=t.find("col")).length<r.cols)for(var s=o.length-1,l=r.cols-o.length;l--;)o[0].parentNode.appendChild(o[s].cloneNode());t.find("col").attr("span",1)}else{var u=t.find("colgroup")[0];u||(u=document.createElement("colgroup"),t.prepend(u));for(var f=function(e){var t=ru(e.find("tr")[0]).find("td"),n=[];t.each((function(e){var t=ru(e).attr("data-colwidth"),r=ru(e).attr("width"),o=ru(e)[0].colSpan;t?t=t.split(","):r&&(r=parseInt(r)/o);for(var i=0;i<o;){var a=t&&t[i]?parseInt(t[i]):r?parseInt(r):void 0;n.push(a),i++}}));var r=e.find("td");return r.removeAttr("data-colwidth"),r.removeAttr("width"),n}(t),p=document.createElement("col"),d=0;d<r.cols;d++){var h=p.cloneNode();f[d]&&h.setAttribute("width",f[d]),u.appendChild(h)}}return r.table.forEach((function(t,n){e.rows[n]||e.insertRow(n);for(var r=t.filter((function(e){return e.isShadow})).length;r--;)0===n?e.rows[n].insertCell(0):e.rows[n].insertCell()})),t.find("tr").each((function(e){var t=ru(e),n=ru(e).css("height");n=parseInt(n)||33,t.css("height",n+"px")})),e}function Mde(e,t){var n=ru(t),r=ru(e);n.html(Cl.transformCustomTags(e.innerHTML)),Nde(r,n)}function Nde(e,t){var n=ru(t),r=ru(e);n.css("text-align",r.css("text-align")),n.css("vertical-align",r.css("vertical-align"));var o=r.css("background-color");o="rgba(0, 0, 0, 0)"!==o?o:"#fff",n.css("background-color",o),n.css("color",r.css("color")),n.css("font-weight",r.css("font-weight"))}var Ide=null;function Lde(e){Ide={html:e,text:ru(e).innerText}}function Fde(){return Ide}function zde(e){e=e.replace(/<p(>|\s+[^>]*>)/gi,"<div$1").replace(/<\/p>/gi,"</div>");var t=(new DOMParser).parseFromString(e,"text/html");return Bde(t),t.body.innerHTML}function Bde(e){qde(e,(function(e){return e.isBlock()&&(e.hasClass("bi-table")||"table"===e.attr("data-lake-card"))})),function(e){Nu.walkTree(e,(function(e){Hde(e=ru(e))}))}(e)}function Vde(e){qde(e,(function(e){return e.isBlock()&&e.hasClass("bi-table")}))}function qde(e,t){Nu.walkTree(e,(function(e){if(e=ru(e),t(e)){var n=e.find("table");if(n.length>0)return Ude(n),void e.replaceWith(n);e.remove()}}))}function Hde(e){if(e.isBlock()&&"codeblock"===e.attr("data-lake-card")){var t=Cl.decodeCardValue(e.attr("data-card-value"));if(t.code){var n=t.code.split("\n"),r=ru("<p />");n.forEach((function(t){var n,o=r.clone();o.html((n=t,Cl.escape(n).replace(/\t/g,"&nbsp;&nbsp;").replace(/\s/g,"&nbsp;"))),e.before(o)})),e.remove()}}}function Ude(e){Nu.walkTree(e,(function(e){(function(e){if(e.isBlock()){var t;switch(e.name){case"h1":(t=ru('<span class="lake-fontsize-18"></span>')).html(e.html());break;case"h2":(t=ru('<span class="lake-fontsize-16"></span>')).html(e.html());break;case"h3":case"h4":(t=ru('<span class="lake-fontsize-14"></span>')).html(e.html());break;case"h5":case"h6":(t=ru('<span class="lake-fontsize-12"></span>')).html(e.html())}t&&e.replaceWith(t)}})(e=ru(e)),function(e){"a"===e.name&&((e.attr("href")||"").startsWith("#")||e.attr("target")||e.attr("target","_blank"))}(e),Hde(e)}))}function Wde(e){e.dataTransfer.clearData(),e.dataTransfer.setData("lake",null)}function Kde(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,o=t.right,i=t.bottom,a=t.width,c=t.height;return{top:n,left:r,right:o,bottom:i,x:t.x,y:t.y,width:a,height:c}}function Yde(e){return e.getBoundingClientRect().top}function Xde(e){return e.getBoundingClientRect().left}function $de(e){return parseFloat(e.style.width)||e.getBoundingClientRect().width}function Gde(e){if(!e)return 0;var t=e.offsetParent;return t?e.getBoundingClientRect().left-t.getBoundingClientRect().left:e.offsetLeft}function Zde(e){if(!e)return 0;var t=e.offsetParent;return t?e.getBoundingClientRect().top-t.getBoundingClientRect().top:e.offsetTop}function Jde(e){return e.getBoundingClientRect().width}function Qde(e){return e.getBoundingClientRect().height}function ehe(e,t,n){var r,o=e[t][n];return!(r=o.isEmpty?e[o.parent.row][o.parent.col].element:o.element)||""===r.innerText.trim()&&!ru(r).find("img")[0]}var the="table-wrapper",nhe="lake-table",rhe="table-cols-header",ohe="table-cols-header-item",ihe="cols-trigger",ahe="table-rows-header",che="table-rows-header-item",she="rows-trigger",lhe="table-header",uhe="table-active-td",fhe="table-active-td-trigger",phe="mask",dhe="mask-row",hhe="mask-col",mhe="sub-editor",vhe="sub-editor-content",yhe="table-menubar",ghe="table-menubar-item",bhe="table-textarea",whe="table-viewport",khe="lake-table-reader",xhe="table-col-header-btns",Ohe="table-row-header-btns",Che="table-placeholder",_he="table-indicator",Ehe="table-shadow-left",jhe="table-shadow-right",She="table-header-delete-btn",Phe="table-header-add-btn",Rhe="split";function The(e){return(The="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dhe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ahe(e,t){return(Ahe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mhe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ihe(e);if(t){var o=Ihe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nhe(this,n)}}function Nhe(e,t){return!t||"object"!==The(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ihe(e){return(Ihe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lhe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ahe(e,t)}(i,e);var t,n,r,o=Mhe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).render=function(e){var n,r=!0,o=!0;switch(e){case"insertRow":case"removeRow":case"heightchange":r=!1;break;case"clearFormat":case"align":case"fontcolor":case"background":o=!1,r=!1;break;case"input":case"select":case"paste":r=!1,n=t.card.selection.getEffectRows()}r&&t.renderColBars(),o&&t.renderRowBars(n)},t.renderColBars=function(){var e=t.card,n=e.tableRoot,r=e.selection.getTableModel().table,o=n.find("col"),i=!0,a=$de(n[0]),c={},s=0,l=0;o.each((function(e,t){var n=ru(e).attr("width");n?(c[t]=parseInt(n),s+=parseInt(n),i=!1):l++}));var u=a;if(i){var f=[];r.forEach((function(e){e.forEach((function(e,t){f[t]||e.isEmpty||e.isMulti||!e.element||(f[t]=Jde(e.element))}))}));for(var p=0,d=0,h=0;h<o.length;h++)f[h]?d+=f[h]:p++;var m=0;p>0&&(m=Math.floor((a-d)/p));for(var v=0;v<o.length;v++){var y=f[v]||Math.min(u,m);u-=y,ru(o[v]).attr("width",y)}}else if(l){var g=Math.floor((a-s)/l);o.each((function(e,t){var n=void 0===c[t]?Math.min(g,u):c[t];u-=n,ru(e).attr("width",n)}))}else t._isRepaired||(t._isRepaired=!0,o.each((function(e,t){var n=Math.min(u,Math.floor(a*c[t]/s));u-=n,ru(e).attr("width",n)})));t.updateTableWidth()},t.renderRowBars=function(e){var n=t.card,r=n.tableRoot,o=n.template,i=r[0].rows,a=t.rowsHeader.find(o.ROWS_HEADER_ITEM_CLASS),c=0,s=i.length-1;e&&(c=e.row_min,s=e.row_max);for(var l=c;l<=s;l++)ru(a[l]).css("height",Qde(i[l])+"px");t.height=Qde(r[0])},t.onDragCol=function(e){if(e.stopPropagation(),t.colDragging&&(void 0===t.rowDraggingPosiX&&(t.rowDraggingPosiX=e.offsetX),!(Math.abs(t.rowDraggingPosiX-e.offsetX)<3))){t.rowDraggingPosiX=e.offsetX,t.dragBar.removeClass("dragging");var n=ru(e.target).closest("td"),r=ru(e.target).closest(t.card.template.COLS_HEADER_ITEM_CLASS);if(n[0]||r[0])if(r[0]){var o=r.index(),i=e.offsetX>Jde(r[0])/2?o+1:o;t.showPlaceHolder(i)}else{for(var a=t.colsHeader.find(t.card.template.COLS_HEADER_ITEM_CLASS),c=n[0].colSpan,s=t.card.selection.getTdRowCol(n[0]).col,l=s,u=0,f=0;f<c;f++){if(u+Jde(a[s+f])/2>e.offsetX){l=s+f;break}if(u+Jde(a[s+f])>e.offsetX){l=s+f+1;break}u+=Jde(a[s+f])}t.showPlaceHolder(l)}}},t.onDragRow=function(e){if(e.stopPropagation(),t.rowDragging&&(void 0===t.rowDraggingPosiY&&(t.rowDraggingPosiY=e.offsetY),!(Math.abs(t.rowDraggingPosiY-e.offsetY)<3))){t.rowDraggingPosiY=e.offsetY,t.dragBar.removeClass("dragging");var n=ru(e.target).closest("td"),r=ru(e.target).closest(t.card.template.ROWS_HEADER_ITEM_CLASS);if(n[0]||r[0])if(r[0]){var o=r.index()+1;t.showPlaceHolder(o)}else{for(var i=t.rowsHeader.find(t.card.template.ROWS_HEADER_ITEM_CLASS),a=n[0].rowSpan,c=t.card.selection.getTdRowCol(n[0]).row,s=c,l=0,u=0;u<a;u++){if(l+Qde(i[c+u])>e.offsetY){s=c+u+1;break}l+=Qde(i[c+u])}t.showPlaceHolder(s)}}},t.showPlaceHolder=function(e){if(t.colDragging){if(e===t.dropCol)return;if(t.colDraggingIndex.col_min<=e&&e<=t.colDraggingIndex.col_max+1)return delete t.dropCol,void t.placeholder.css("display","none");t.dropCol=e;var n=t.colsHeader.find(t.card.template.COLS_HEADER_ITEM_CLASS),r=t.dropCol!==n.length?Gde(n[t.dropCol])+2:Gde(n[t.dropCol-1])+Jde(n[t.dropCol-1])+2,o=t.viewport[0].scrollLeft,i=Jde(t.viewport[0]);r<o&&(t.viewport[0].scrollLeft=r-5),r>o+i&&(t.viewport[0].scrollLeft=r-i+5),t.placeholder.css({width:"3px",height:t.height+"px",left:r+"px",top:"40px",display:"block"})}if(t.rowDragging){if(e===t.dropRow)return;if(t.rowDraggingIndex.row_min<=e&&e<=t.rowDraggingIndex.row_max+1)return delete t.dropRow,void t.placeholder.css("display","none");t.dropRow=e;var a=t.rowsHeader.find(t.card.template.ROWS_HEADER_ITEM_CLASS),c=t.dropRow<a.length?Zde(a[t.dropRow]):Zde(a[t.dropRow-1])+Qde(a[t.dropRow-1]);t.placeholder.css({height:"3px",width:t.width+"px",left:"3px",top:40+c+"px",display:"block"})}},t.onDragColEnd=function(){if(t.unBindDragColEvent(),t.colDragging&&void 0!==t.dropCol){for(var e=t.card,n=e.command,r=e.selection,o=r.normalizeArea(),i=o.col_min,a=o.col_max,c=t.card.container.find(t.card.template.COLS_HEADER_ITEM_CLASS),s=[],l=i;l<=a;l++)s.push(Jde(c[l]));var u=r.colCount();n.mockCopy(),i>t.dropCol?(n.insertColAt(t.dropCol,u,!1,!0,s),r.selectCols(t.dropCol,t.dropCol+u-1),n.mockPaste(!0),r.selectCols(i+u,a+u),n.removeCol(),r.selectCols(t.dropCol,t.dropCol+u-1)):(n.insertColAt(t.dropCol,u,!1,!0,s),r.selectCols(t.dropCol,t.dropCol+u-1),n.mockPaste(!0),r.selectCols(i,a),n.removeCol(),r.selectCols(t.dropCol-u,t.dropCol-1)),t.placeholder.css("display","none"),t.colDragging=!1,delete t.dropCol}},t.onDragRowEnd=function(){if(t.unBindDragRowEvent(),t.rowDragging&&void 0!==t.dropRow){var e=t.card,n=e.command,r=e.selection,o=r.normalizeArea(),i=o.row_min,a=o.row_max;n.mockCopy(),i>t.dropRow?(n.insertRowAt(t.dropRow,t.dragCount,!1,!0),r.selectRows(t.dropRow,t.dropRow+t.dragCount-1),n.mockPaste(!0),r.selectRows(i+t.dragCount,a+t.dragCount),n.removeRow(),r.selectRows(t.dropRow,t.dropRow+t.dragCount-1)):(n.insertRowAt(t.dropRow,t.dragCount,!1,!0),r.selectRows(t.dropRow,t.dropRow+t.dragCount-1),n.mockPaste(!0),r.selectRows(i,a),n.removeRow(),r.selectRows(t.dropRow-t.dragCount,t.dropRow-1)),t.placeholder.css("display","none"),t.rowDragging=!1,delete t.dropRow}},t.unBindDragColEvent=function(){t.colsHeader.find(t.card.template.COLS_HEADER_ITEM_CLASS).removeClass("dragging"),t.colsHeader.removeClass("dragging"),t.card.container.off("dragover",t.onDragCol),t.card.container.off("drop",t.onDragColEnd),t.card.container.off("dragend",t.onDragColEnd)},t.unBindDragRowEvent=function(){t.rowsHeader.find(t.card.template.ROWS_HEADER_ITEM_CLASS).removeClass("dragging"),t.rowsHeader.removeClass("dragging"),t.card.container.off("dragover",t.onDragRow),t.card.container.off("drop",t.onDragRowEnd),t.card.container.off("dragend",t.onDragRowEnd)},t.bindDragColEvent=function(){t.card.container.on("dragover",t.onDragCol),t.card.container.on("drop",t.onDragColEnd),t.card.container.on("dragend",t.onDragColEnd)},t.bindDragRowEvent=function(){t.card.container.on("dragover",t.onDragRow),t.card.container.on("drop",t.onDragRowEnd),t.card.container.on("dragend",t.onDragRowEnd)},t.onDragStartColsHeader=function(e){e.stopPropagation();var n=t.card.selection.area;if(n&&n.total_col){var r=ru(e.target).closest(t.card.template.COLS_HEADER_ITEM_CLASS);if(r[0]){var o=r.index(),i=t.card.selection.normalizeArea(),a=i.col_min,c=i.col_max;o<a||o>c||(t.colDragging=!0,t.rowDragging=!1,t.dragBar=r,t.colDraggingIndex={col_min:a,col_max:c},t.dragCount=t.card.selection.colCount(),t.dragBar.addClass("dragging"),t.dragBar.find(".drag-info").html("正在移动 ".concat(t.dragCount," 列")),t.colsHeader.addClass("dragging"),Wde(e),t.bindDragColEvent())}}},t.onDragStartRowsHeader=function(e){e.stopPropagation();var n=t.card.selection.area;if(n&&n.total_row){var r=ru(e.target).closest(t.card.template.ROWS_HEADER_ITEM_CLASS);if(r[0]){var o=r.index(),i=t.card.selection.normalizeArea(),a=i.row_min,c=i.row_max;o<a||o>c||(t.rowDragging=!0,t.colDragging=!1,t.dragBar=r,t.rowDraggingIndex={row_min:a,row_max:c},t.dragCount=t.card.selection.rowCount(),t.dragBar.addClass("dragging"),t.dragBar.find(".drag-info").html("正在移动 ".concat(t.dragCount," 行")),t.rowsHeader.addClass("dragging"),Wde(e),t.bindDragRowEvent())}}},t.onMouseDownColsHeader=function(e){var n=t.card,r=n.template,o=n.selection;if(t.trigger=ru(e.target).closest(r.COLS_HEADER_TRIGGER_CLASS),t.trigger[0])t.startChangeCol(t.trigger,e);else if(2===e.button){var i=ru(e.target).closest(r.COLS_HEADER_ITEM_CLASS);if(!i[0])return;var a=i.index(),c=!1;if(o.area&&o.area.total_col){var s=o.normalizeArea(),l=s.col_min,u=s.col_max;a>=l&&a<=u&&(c=!0)}c||t.emit("clickColsHeader",a),t.showContextMenu(e)}},t.startChangeCol=function(e,n){n.stopPropagation(),n.preventDefault(),t.emit("startChangeCellSize"),t.dragging="col",t.draggingX=n.clientX,t.currentCol=ru(e[0].parentNode),t.currentColWidth=Jde(t.currentCol[0]),t.width=Jde(t.colsHeader[0]),t.currentColIndex=t.currentCol.index(),t.bindChangeSizeEvent()},t.onMouseDownRowsHeader=function(e){var n=t.card,r=n.template,o=n.selection;if(t.trigger=ru(e.target).closest(r.ROWS_HEADER_TRIGGER_CLASS),t.trigger[0])t.startChangeRow(t.trigger,e);else if(2===e.button){var i=ru(e.target).closest(r.ROWS_HEADER_ITEM_CLASS);if(!i[0])return;var a=i.index(),c=!1;if(o.area&&o.area.total_row){var s=o.normalizeArea(),l=s.row_min,u=s.row_max;a>=l&&a<=u&&(c=!0)}c||t.emit("clickRowsHeader",a),t.showContextMenu(e)}},t.startChangeRow=function(e,n){n.stopPropagation(),n.preventDefault(),t.emit("startChangeCellSize"),t.dragging="row",t.draggingY=n.clientY,t.currentRow=ru(e[0].parentNode),t.currentRowHeight=Qde(t.currentRow[0]),t.currentRowIndex=t.currentRow.index(),t.bindChangeSizeEvent()},t.onChangeSize=function(e){t.dragging&&("row"===t.dragging?t.onChangeRowHeight(e):"col"===t.dragging&&t.onChangeColWidth(e))},t.onChangeColWidth=function(e){var n=e.clientX-t.draggingX,r=Math.max(t.MIN_WIDTH,t.currentColWidth+n);n=r-t.currentColWidth;var o=t.width+n;t.currentCol.css("width",r+"px"),t.colsHeader.css("width",o+"px");var i=t.viewport[0],a=Kde(i),c=Gde(t.currentCol[0])+Jde(t.currentCol[0]);c-i.scrollLeft+20>a.width?i.scrollLeft=c+20-a.width:i.scrollLeft+a.width===i.scrollWidth&&(i.scrollLeft=Math.max(0,o+34-a.width)),t.clearActiveStatus(),t.hideContextMenu(),t.renderRowBars(),t.renderColSplitBars(),t.changeColWidth(r,o)},t.onChangeRowHeight=function(e){var n=e.clientY-t.draggingY,r=Math.max(t.MIN_HEIGHT,t.currentRowHeight+n);n=r-t.currentRowHeight,t.currentRow.css("height",r+"px"),t.clearActiveStatus(),t.hideContextMenu(),t.renderRowSplitBars(),t.changeRowHeight(r),t.emit("heightchanging")},t.changeColWidth=function(e){ru(t.card.tableRoot.find("col")[t.currentColIndex]).attr("width",e),t.updateTableWidth()},t.changeRowHeight=function(e){ru(t.card.tableRoot.find("tr")[t.currentRowIndex]).css("height",e+"px")},t.renderColSplitBars=function(){t.trigger.addClass("dragging").css("height",t.height+24+"px")},t.renderRowSplitBars=function(){var e=Math.min(Jde(t.viewport[0]),t.width);t.trigger.addClass("dragging").css("width",e+24+"px")},t.onChangeSizeEnd=function(e){"mouseleave"===e.type&&t.card.container.contains(e.toElement)||t.dragging&&(t.trigger.removeClass("dragging"),"col"===t.dragging&&t.trigger.css("height","17px"),"row"===t.dragging&&t.trigger.css("width","17px"),t.dragging=null,t.renderRowBars(),t.unBindChangeSizeEvent(),t.width=Jde(t.card.tableRoot[0]),t.height=Qde(t.card.tableRoot[0]),t.emit("sizeChanged"))},t.hide=function(){t.tableWrapper.removeClass("editing"),t.hideContextMenu(),t.hideMultiAddition()},t.show=function(){t.tableWrapper.addClass("editing")},t.clearActiveStatus=function(){var e=t.card.template,n=t.colsHeader.find(e.COLS_HEADER_ITEM_CLASS),r=t.rowsHeader.find(e.ROWS_HEADER_ITEM_CLASS);n.removeClass("active"),n.removeClass("selected"),n.removeClass("no-dragger"),n.removeClass("multi-selected"),r.removeClass("active"),r.removeClass("selected"),r.removeClass("multi-selected"),r.removeClass("no-dragger"),t.tableHeader.removeClass("selected")},t.activeHeader=function(){var e=t.card,n=e.selection,r=e.template,o=n.area,i=n.getTableModel();if(t.clearActiveStatus(),o){for(var a=t.colsHeader.find(r.COLS_HEADER_ITEM_CLASS),c=t.rowsHeader.find(r.ROWS_HEADER_ITEM_CLASS),s=o.total_col,l=o.total_row,u=o.total_table,f=n.normalizeArea(),p=f.row_min,d=f.row_max,h=f.col_min,m=f.col_max,v=d>p,y=m>h,g=p;g<=d;g++)ru(c[g]).addClass("active"),(l||u)&&ru(c[g]).addClass("selected"),v?ru(c[g]).addClass("multi-selected"):ru(c[g]).removeClass("multi-selected"),u&&ru(c[g]).addClass("no-dragger");for(var b=h;b<=m;b++)ru(a[b]).addClass("active"),(s||u)&&ru(a[b]).addClass("selected"),y?ru(a[b]).addClass("multi-selected"):ru(a[b]).removeClass("multi-selected"),u&&ru(a[b]).addClass("no-dragger");0===p&&d===i.rows-1&&0===h&&m===i.cols-1?t.tableHeader.addClass("selected"):t.tableHeader.removeClass("selected")}},t.removeRow=function(e){var n=t.card.template,r=t.rowsHeader.find(n.ROWS_HEADER_ITEM_CLASS);t.rowsHeader[0].removeChild(r[e])},t.removeCol=function(e){var n=t.card.template,r=t.colsHeader.find(n.COLS_HEADER_ITEM_CLASS);t.colsHeader[0].removeChild(r[e]),t.updateTableWidth()},t.clickRowsHeader=function(e){var n=t.card.template;if(!ru(e.target).closest(n.ROWS_HEADER_TRIGGER_CLASS)[0]){var r=ru(e.target).closest(n.ROWS_HEADER_ITEM_CLASS);r[0]&&t.emit("clickRowsHeader",r.index())}},t.clickColsHeader=function(e){var n=t.card.template;if(!ru(e.target).closest(n.COLS_HEADER_TRIGGER_CLASS)[0]){var r=ru(e.target).closest(n.COLS_HEADER_ITEM_CLASS);r[0]&&t.emit("clickColsHeader",r.index())}},t.clickTableHeader=function(){t.emit("clickTableHeader")},t.handleClickContainer=function(e){var n=t.card.template,r=ru(e.target).closest("td");if((ru(e.target).closest(n.MULTI_ADDITION_CLASS).length||t.hideMultiAddition(),!r[0])&&!ru(e.target).closest(".mask")[0])return;2===e.button?(e.preventDefault(),t.showContextMenu(e)):t.hideContextMenu()},t.handleHoverMenu=function(e){var n=ru(e.target).closest(".table-menubar-item");if(n[0]&&(e.stopPropagation(),!n.hasClass("disabled"))){var r=n.attr("data-action");t.card.selection.preview(r)}},t.handleLeaveMenu=function(e){e.stopPropagation(),t.card.selection.preview()},t.handleAdditionColBtnEvent=function(e,n){if("mouseover"===e)t.showColIndicator(n);else if("mouseout"===e)t.hideIndicator();else if("click"===e){t.hideIndicator(),t.card.command.insertColAt(ru(n).index()+1,1,!1,!1)}},t.handleAdditionRowBtnEvent=function(e,n){if("mouseover"===e)t.showRowIndicator(n);else if("mouseout"===e)t.hideIndicator();else if("click"===e){t.hideIndicator(),t.card.command.insertRowAt(ru(n).index()+1,1,!1,!1)}},t.handleDeleteColBtnEvent=function(){t.card.command.removeCol(!1)},t.handleDeleteRowBtnEvent=function(){t.card.command.removeRow(!1)},t.handleClickMenu=function(e){var n=ru(e.target).closest(".table-menubar-item");if(n[0]){if(e.stopPropagation(),!n.hasClass("disabled")){var r=n.attr("data-action");t.card.command[r]()}t.hideContextMenu()}},t.hideContextMenu=function(){t.contextVisible&&(t.contextVisible=!1,t.menuBar.css("display","none"))},t.getMenuDisabled=function(e){switch(e){case"splitCell":return!t.card.selection.hasMergeCell();case"mergeCell":return t.card.selection.isSingleArea();case"mockPaste":return!t.card.command.hasCopyData();case"removeCol":case"insertColLeft":case"insertColRight":return t.card.selection.isRowSelected();case"removeRow":case"insertRowUp":case"insertRowDown":return t.card.selection.isColSelected();default:return!1}},t.showContextMenu=function(e){var n=t.card.selection.area;if(ru(e.target).closest("td")[0]||n){var r=t.menuBar.find(t.card.template.MENUBAR_ITEM_CLASS),o=t.menuBar.find(t.card.template.SPLIT_LINE_CLASS),i=Math.min(Math.max(120,document.body.offsetHeight-500),e.clientY);t.menuBar.children().removeClass("disabled"),r.each((function(e){var n=ru(e).attr("data-action");t.getMenuDisabled(n)&&ru(e).addClass("disabled")})),o.each((function(e){var t=ru(e),n=t.next();if(n)for(;n;){if(n.hasClass(Rhe))return void t.addClass("disabled");if(!n.hasClass("disabled"))return;n=n.next()}else t.addClass("disabled")})),t.menuBar.css("left",e.clientX+30+"px"),t.menuBar.css("top",i+"px"),t.menuBar.css("display","block"),t.contextVisible=!0}},t.focusTextArea=function(){zu.log("focusTextArea"),t.focusTimer&&clearTimeout(t.focusTimer),t.focusTimer=setTimeout((function(){t.textArea[0].value="",t.textArea[0].blur(),t.textArea[0].focus()}),100)},t.filterEvent=function(e){var n=t.card.template,r=(e.target||e.srcElement).tagName.toLocaleUpperCase();return!!ru(e.target).closest(n.TABLE_TEXTAREA_CLASS)[0]||!("INPUT"===r||"SELECT"===r||"TEXTAREA"===r)},t.bindChangeSizeEvent=function(){t.colsHeader.addClass("resize"),t.rowsHeader.addClass("resize"),document.addEventListener("mousemove",t.onChangeSize),document.addEventListener("mouseup",t.onChangeSizeEnd),document.addEventListener("mouseleave",t.onChangeSizeEnd)},t.unBindChangeSizeEvent=function(){t.colsHeader.removeClass("resize"),t.rowsHeader.removeClass("resize"),document.removeEventListener("mousemove",t.onChangeSize),document.removeEventListener("mouseup",t.onChangeSizeEnd),document.removeEventListener("mouseleave",t.onChangeSizeEnd)},t.onMultiChangeRowCol=function(e,n){var r=t.card.selection.getTableModel(),o=r.rows,i=r.cols;"row"===n&&((e=Math.max(t.contentRow+1,e))>o?t.card.command.insertRow("end",e-o):e<o&&(t.card.selection.selectRows(e,o-1),t.card.command.removeRow())),"col"===n&&((e=Math.max(t.contentCol+1,e))>i?t.card.command.insertCol("end",e-i):e<i&&(t.card.selection.selectCols(e,i-1),t.card.command.removeCol())),t.card.selection.clear()},t.showMultiAddition=function(e,n){if(ru(e.target).closest(".multi-trigger")[0]){var r=e.offsetX,o=e.offsetY,i=e.clientX,a=e.clientY;t.card.selection.clear();var c,s,l,u,f,p,d,h,m=function(e){for(var t=e.table,n=e.rows,r=e.cols,o=n-1,i=r-1,a=!1,c=!1;o>0&&!a;){for(var s=0;s<r;s++)if(!ehe(t,o,s)){a=!0;break}a||o--}for(;i>0&&!c;){for(var l=0;l<n;l++)if(!ehe(t,l,i)){c=!0;break}c||i--}return{row:o,col:i}}(t.card.selection.getTableModel()),v=m.row,y=m.col;t.contentRow=v,t.contentCol=y,"row"===n?(c="auto",l=0,s="auto",u="-2px",f="absolute",p=t.card.selection.getTableModel().rows,d=v+1,h=Math.max(d+50,p)):"col"===n&&(f="fixed",c=Math.max(0,i-r-28)+"px",s=a-o-17+"px",l="auto",u="auto",p=t.card.selection.getTableModel().cols,d=y+1,h=Math.max(d+10,p)),t.multiAddition.css({left:c,top:s,right:l,bottom:u,position:f,display:"block"}),t.multiAdditionVisible=!0,He.a.unmountComponentAtNode(t.multiAddition[0]),He.a.render(k.a.createElement(Qie,{defaultValue:p,min:d,max:h,step:1,onChange:function(e){t.onMultiChangeRowCol(Math.max(d,Math.min(h,e)),n)}}),t.multiAddition[0])}},t.hideMultiAddition=function(){t.multiAdditionVisible&&(t.multiAdditionVisible=!1,t.multiAddition.css("display","none"))},t.refresh=function(e){t.hideContextMenu(),t.render(e),t.show(),t.activeHeader(),t.focusTextArea()},t.bindEvents=function(){t.colsHeader.on("mousedown",t.onMouseDownColsHeader).on("click",t.clickColsHeader).on("dragstart",t.onDragStartColsHeader),t.rowsHeader.on("mousedown",t.onMouseDownRowsHeader).on("click",t.clickRowsHeader).on("dragstart",t.onDragStartRowsHeader),t.tableHeader.on("click",t.clickTableHeader),t.card.container.on("mousedown",t.handleClickContainer),t.card.container.on("dragover",(function(e){return e.stopPropagation()})),t.menuBar.on("click",t.handleClickMenu),t.menuBar.on("mouseover",t.handleHoverMenu),t.menuBar.on("mouseleave",t.handleLeaveMenu),t.textArea.on("paste",t.card.command.shortcutPaste),t.textArea.on("copy",t.card.command.shortcutCopy),t.textArea.on("cut",t.card.command.shortcutCut),["mouseover","mouseout","click"].forEach((function(e){t.colsHeader.on(e,(function(n){var r=n.target;r.classList.contains(Phe)&&t.handleAdditionColBtnEvent(e,r.parentNode.parentNode)}),!1),t.rowsHeader.on(e,(function(n){var r=n.target;r.classList.contains(Phe)&&t.handleAdditionRowBtnEvent(e,r.parentNode.parentNode)}),!1)})),t.colsHeader.on("click",(function(e){var n=e.target;n.classList.contains(She)&&t.handleDeleteColBtnEvent(n.parentNode.parentNode)}),!1),t.rowsHeader.on("click",(function(e){var n=e.target;n.classList.contains(She)&&t.handleDeleteRowBtnEvent(n.parentNode.parentNode)}),!1)},t.card=e,t.dragging=!1,t.draggingX=0,t.draggingY=0,t.width=0,t.height=0,t.MIN_WIDTH=40,t.MIN_HEIGHT=33,t.currentCol=null,t.currentColWidth=0,t.currentColIndex=0,t.currentRow=null,t.currentRowHeight=0,t.currentRowIndex=0,t._isRepaired=!1,t}return t=i,(n=[{key:"showColIndicator",value:function(e){var t=e.parentNode.getBoundingClientRect(),n=e.getBoundingClientRect();this.indicator.addClass("col-line").removeClass("row-line"),this.indicator.css({top:"40px",left:n.right-t.left+"px",width:"2px"})}},{key:"showRowIndicator",value:function(e){var t=e.parentNode.getBoundingClientRect(),n=e.getBoundingClientRect();this.indicator.addClass("row-line").removeClass("col-line"),this.indicator.css({top:n.bottom-t.top+"px",left:0,width:this.width+"px"})}},{key:"hideIndicator",value:function(){this.indicator.removeClass("col-line").removeClass("row-line")}},{key:"init",value:function(){var e=this.card,t=e.container,n=e.template;this.colsHeader=t.find(n.COLS_HEADER_CLASS),this.rowsHeader=t.find(n.ROWS_HEADER_CLASS),this.multiAddition=t.find(n.MULTI_ADDITION_CLASS),this.tableHeader=t.find(n.HEADER_CLASS),this.menuBar=t.find(n.MENUBAR_CLASS),this.textArea=t.find(n.TABLE_TEXTAREA_CLASS),this.viewport=t.find(n.VIEWPORT),this.placeholder=t.find(n.PLACEHOLDER_CLASS),this.tableWrapper=t.find(n.TABLE_WRAPPER_CLASS),this.indicator=t.find(n.INDICATOR_CLASS),this.bindEvents()}},{key:"updateTableWidth",value:function(){var e=this.card.tableRoot.find("col"),t=this.colsHeader.find(this.card.template.COLS_HEADER_ITEM_CLASS),n=0;return e.each((function(e,r){var o=parseInt(ru(e).attr("width"));n+=o,ru(t[r]).css("width",o+"px")})),Number.isNaN(n)?$de(this.card.tableRoot[0]):(this.card.tableRoot.css("width",n+"px"),this.colsHeader.css("width","".concat(n,"px")),this.width=n,n)}}])&&Dhe(t.prototype,n),r&&Dhe(t,r),i}(_n.a),Fhe=n(351),zhe=n.n(Fhe);function Bhe(e){return(Bhe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qhe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vhe(Object(n),!0).forEach((function(t){Hhe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vhe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hhe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uhe(e,t){return(Uhe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Whe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yhe(e);if(t){var o=Yhe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Khe(this,n)}}function Khe(e,t){return!t||"object"!==Bhe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yhe(e){return(Yhe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xhe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uhe(e,t)}(n,e);var t=Whe(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this)).insertColLeft=function(){r.insertCol("left")},r.insertColRight=function(){r.insertCol("right")},r.insertRowUp=function(){r.insertRow("up")},r.insertRowDown=function(){r.insertRow("down")},r.insertColAt=function(e,t,n,o,i){var a=r.card,c=a.container,s=a.selection,l=a.tableRoot,u=a.template,f=s.getTableModel().table,p=(n=0===e||n)?e:e-1,d=n?"after":"before",h=c.find(u.COLS_HEADER_ITEM_CLASS)[p],m=c.find(u.COLS_HEADER_CLASS),v=0;i||(i=h.offsetWidth),cv()(i)?i.forEach((function(e){v+=e})):zhe()(i)&&(v=t*i);var y=m[0].offsetWidth+v;m.css("width",y+"px"),l.css("width",y+"px");for(var g=l.find("colgroup"),b=c.find("tr"),w=l.find("col"),k=w[p].cloneNode(),x=e,O=t;O>0;){var C=ru(h.outerHTML);ru(h)[d](C);var _=k.cloneNode();ru(_).attr("width",cv()(i)?i[t-O]:i);var E=w[x];g[0].insertBefore(_,E),O--}function j(e,t,n,r){for(var o=0;o<n;o++){var i=e.insertCell(t);i.innerHTML=u.EmptyCell,i.rowSpan=r.rowSpan,Nde(r,i)}}if(b.each((function(e,r){var o=f[r][p],i=s.getTdIndex(r,x);if(o.isMulti)!n&&o.colSpan>1?o.element.colSpan=o.colSpan+t:j(e,i,t,o.element);else if(o.isEmpty){if(o.parent.col===p)return;var a=f[o.parent.row][o.parent.col];o.parent.col<x&&o.parent.col+a.colSpan-1>=x?a.element.colSpan=a.colSpan+t:o.parent.row===r&&j(e,i,t,a.element)}else j(e,i,t,o.element)})),r.emit("actioned","insertCol",o),s.area){var S=Object.assign(s.area,{col:e,col2:e+t-1});s.selectArea(S)}},r.insertCol=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,o=r.card.selection,i=o.area,a=o.getTableModel(),c="left"===e,s="end"===e||!e,l=r.card.container.find(r.card.template.COLS_HEADER_ITEM_CLASS),u=a.cols-1;if(!s&&(t=o.isSingleArea()?1:o.colCount(),i)){var f=o.normalizeArea(),p=f.col_min,d=f.col_max;u=c?p:d}var h=c?u:u+1,m=l[u].offsetWidth;if(r.insertColAt(h,t,c,n,m),s){var v=r.card.selection.viewport[0];v.scrollLeft=v.scrollWidth-v.offsetWidth}},r.removeCol=function(e){var t=r.card,n=t.selection,o=t.tableRoot,i=t.controllBar,a=t.template,c=n.area,s=n.getTableModel();if(c){var l=s.table,u=c.col,f=c.col2,p=n.colCount(),d=Math.min(u,f),h=Math.max(u,f),m=o.find("colgroup"),v=o.find("tr"),y=m.find("col");if(h===y.length-1&&0===d)r.removeTable();else{for(var g=h;g>=d;g--)i.removeCol(g),y[g].remove();l.forEach((function(e,t){for(var n=h;n>=d;n--){var r=e[n];if(r.isEmpty){var o=l[r.parent.row][r.parent.col];if(r.parent.col<d){var i=Math.min(p,r.parent.col+o.colSpan-d);o.element.colSpan=o.colSpan-i}}else{if(r.isMulti){var c=n+r.colSpan-1>h,s=h+1-n;if(c){for(var u=0,f=0;f<=h;f++)e[f].isEmpty||u++;var m=v[t].insertCell(u);m.innerHTML=a.EmptyCell,m.colSpan=r.colSpan-s,m.rowSpan=r.rowSpan,Nde(r.element,m)}}r.element.remove()}}})),r.emit("actioned","removeCol",e)}}},r.insertRowAt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=r.card,a=i.container,c=i.selection,s=i.tableRoot,l=i.template,u=c.getTableModel(),f=u.table,p=(n=0===e||n)?"after":"before",d=n?e:e-1,h=a.find(l.ROWS_HEADER_ITEM_CLASS),m=h[d],v=n?d:d+1,y=f[d],g=[];y.forEach((function(e,r){if(e.isMulti)!n&&e.rowSpan>1?e.element.rowSpan=e.rowSpan+t:g.push({tdBase:e.element});else if(e.isEmpty){var o=f[e.parent.row][e.parent.col];e.parent.row<v&&e.parent.row+o.rowSpan-1>=v?o.element.rowSpan=o.rowSpan+t:e.parent.row<d&&e.parent.col===r&&g.push({tdBase:o.element})}else g.push({tdBase:e.element})}));for(var b=t,w=function(){var e=s[0].insertRow(v);g.forEach((function(t){var n=e.insertCell();n.innerHTML=l.EmptyCell,n.colSpan=t.tdBase.colSpan,Nde(t.tdBase,n)})),ru(m)[p](ru(m.outerHTML)),b--};b>0;)w();if(r.emit("actioned","insertRow",o),c.area){var k=Object.assign(c.area,{row:e,row2:e+t-1});c.selectArea(k)}r.card.onTableSizeChange()},r.insertRow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,o=r.card.selection,i=o.area,a=o.getTableModel(),c="up"===e,s="end"===e||!e,l=a.rows-1;if(!s&&(t=o.isSingleArea()?1:o.rowCount(),i)){var u=i.row,f=i.row2;l=c?Math.min(u,f):Math.max(u,f)}var p=c?l:l+1;r.insertRowAt(p,t,c,n)},r.removeRow=function(e){var t=r.card,n=t.selection,o=t.tableRoot,i=t.controllBar,a=t.template,c=n.area,s=n.getTableModel();if(c){var l=s.table,u=c.row,f=c.row2,p=n.rowCount(),d=Math.min(u,f),h=Math.max(u,f),m=o.find("tr");if(h===s.rows-1&&0===d)r.removeTable();else{for(var v=function(e){l[e].forEach((function(t,r){if(t.isMulti&&t.rowSpan>1&&e+t.rowSpan-1>h){var o=n.getTdIndex(h+1,r),i=m[h+1].insertCell(o),c=h-e+1;i.innerHTML=a.EmptyCell,i.colSpan=t.colSpan,i.rowSpan=t.rowSpan-c}if(t.isEmpty){var s=l[t.parent.row][t.parent.col];if(t.parent.row<d){var u=Math.min(p,t.parent.row+s.rowSpan-d);s.element.rowSpan=s.rowSpan-u}}}))},y=d;y<=h;y++)v(y);for(var g=h;g>=d;g--)o[0].deleteRow(g),i.removeRow(g);r.emit("actioned","removeRow",e),r.card.onTableSizeChange()}}},r.mergeCell=function(e){var t=r.card.selection,n=t.area;if(n){r.splitCell();var o,i=n.row,a=n.col,c=n.row2,s=n.col2,l=Math.min(i,c),u=Math.min(a,s),f=t.rowCount(),p=t.colCount(),d=[];t.each((function(e,t,n){if(n===u&&t===l)return(o=e.element).rowSpan=f,void(o.colSpan=p);e.element&&(""!==e.element.innerText.trim()&&d.unshift(e.element.innerHTML),e.element.remove())})),o.innerHTML=o.innerHTML+d.join(""),r.emit("actioned","mergeCell",e)}},r.splitCell=function(e){var t=r.card,n=t.selection,o=t.tableRoot,i=t.template,a=n.area,c=n.getTableModel();if(a){var s=c.table,l=o.find("tr"),u=n.normalizeArea(),f=u.row_min,p=u.row_max,d=u.col_min,h=u.col_max;n.each((function(e,t,r){if(e.isMulti){if(e.element.colSpan=1,e.element.rowSpan=1,t+e.rowSpan-1>p){var o=p+1,a=r,c=n.getTdIndex(o,a),u=l[o].insertCell(c);u.rowSpan=t+e.rowSpan-1-p,u.colSpan=e.colSpan,Nde(e.element,u),u.innerHTML=i.EmptyCell}if(r+e.colSpan-1>h){var m=t,v=h+1,y=n.getTdIndex(m,v),g=h-r,b=l[m].insertCell(y+g);b.rowSpan=Math.min(e.rowSpan,p-t+1),b.colSpan=r+e.colSpan-1-h,Nde(e.element,b),b.innerHTML=i.EmptyCell}}if(e.isEmpty){var w=e.parent.row,k=e.parent.col,x=s[w][k],O=w+x.rowSpan-1,C=k+x.colSpan-1;if(w<f){var _=h>=C;if(x.element.rowSpan=f-w,x.element.colSpan=_?x.colSpan:h-k+1,!_&&r===h&&t===f){var E=h+1,j=w,S=n.getTdIndex(j,E),P=l[j].insertCell(S);P.rowSpan=x.rowSpan,P.colSpan=C-h,Nde(x.element,P),P.innerHTML=i.EmptyCell}if(O>p&&r===Math.min(C,h)&&t===f){var R=p+1,T=k,D=n.getTdIndex(R,T),A=l[R].insertCell(D);A.rowSpan=O-p,A.colSpan=_?x.colSpan:h-k+1,Nde(x.element,A),A.innerHTML=i.EmptyCell}}if(k<d){var M=p>=O;if(x.element.colSpan=d-k,x.element.rowSpan=M?x.rowSpan:p-w+1,!M&&t===p&&r===d){var N=p+1,I=k,L=n.getTdIndex(N,I),F=l[N].insertCell(L);F.colSpan=x.colSpan,F.rowSpan=O-p,Nde(x.element,F),F.innerHTML=i.EmptyCell}if(C>h&&t===Math.min(O,p)&&r===h){var z=w,B=h+1,V=n.getTdIndex(z,B),q=l[z].insertCell(V);q.colSpan=C-h,q.rowSpan=M?x.rowSpan:p-w+1,Nde(x.element,q),q.innerHTML=i.EmptyCell}}var H=n.getTdIndex(t,r);l[t].insertCell(H).innerHTML=i.EmptyCell}}),!0),r.emit("actioned","splitCell",e)}},r.changed=function(){r.tableCleared=!1},r.clear=function(){var e=r.card,t=e.selection,n=e.subEngine,o=e.template,i=t.area;if(i&&!n){if(i.total_table){if(r.tableCleared)return r.removeTable(),void(r.tableCleared=!1);r.tableCleared=!0}if(i.total_row){if(r.rowCleared)return r.removeRow(),void(r.rowCleared=!1);r.rowCleared=!0}if(i.total_col){if(r.colCleared)return r.removeCol(),void(r.colCleared=!1);r.colCleared=!0}t.each((function(e){e.element&&(e.element.innerHTML=o.EmptyCell)})),r.emit("actioned","clear")}},r.clearFormat=function(){var e=r.card.selection;e.area&&(e.each((function(e){e.element&&e.element.removeAttribute("style")})),r.emit("actioned","clearFormat"))},r.hasCopyData=function(){return Fde()},r.mockPaste=function(e){var t=Fde();t&&r.paste(t,e)},r.shortcutPaste=function(e){e.preventDefault(),e.stopPropagation();var t=Ip.getClipboardData(e);r.paste(t)},r.paste=function(e,t){var n=r.card.selection,o=n.area,i=n.getTableModel();if(o){var a=n.normalizeArea(),c=a.row_min,s=a.col_min,l=a.row_max,u=a.col_max,f=c===l&&s===u,p=n.isSingleArea(),d=e.html,h=e.text,m=function(e){for(var t=[],n=0,r=e.length-1;e[n]&&e[n].tagName&&"span"===e[n].tagName.toLowerCase()&&""===e[n].innerText.trim();)n++;for(;e[r]&&e[r].tagName&&"span"===e[r].tagName.toLowerCase()&&""===e[r].innerText.trim();)r--;if(n<=r)for(var o=n;o<=r;o++)t.push(e[o]);return t.length?ru(t):e}(ru(new $f(d,r.card.engine.schema,r.card.engine.conversion).toValue()));if("table"===m.name){Ade(m[0]);var v=Tde(m[0]),y=v.rows,g=v.cols,b=v.table[0][0],w=b.rowSpan,k=b.colSpan;if(w===y&&k===g&&p)return Mde(v.table[0][0].element,i.table[c][s].element),void r.emit("actioned","paste",t);if(f){if(g+s>i.cols){var x=g+s-i.cols;r.insertCol("end",x,!0)}if(y+c>i.rows){var O=y+c-i.rows;r.insertRow("end",O,!0)}n.selectArea({row:c,col:s,row2:c+y-1,col2:s+g-1})}var C=n.area,_=Math.min(C.row,C.row2),E=Math.max(C.row,C.row2),j=Math.min(C.col,C.col2),S=Math.max(C.col,C.col2);r.splitCell(!0),n.each((function(e,t,n){var r=(t-_)%y,o=(n-j)%g,i=v.table[r][o];if(i)return i.isMulti?(e.element.rowSpan=Math.min(i.rowSpan,E-t+1),e.element.colSpan=Math.min(i.colSpan,S-n+1),void Mde(i.element,e.element)):void(i.isEmpty?e.element.remove():i.element&&Mde(i.element,e.element))}))}else{r.mergeCell(!0);var P=ru(i.table[c][s].element);r.card.createEditor(P,d||new Od(h).toHTML())}r.emit("actioned","paste",t)}},r.copy=function(){var e=r.card.selection.getSelectionHtml();e&&(Ip.copyNode(e),Lde(e))},r.mockCopy=function(){var e=r.card.selection.getSelectionHtml();e&&Lde(e)},r.shortcutCopy=function(e){var t=r.card.selection.getSelectionHtml();t&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",ru(t)[0].innerText),e.clipboardData.setData("text/html",t),Lde(t),e.preventDefault())},r.cut=function(){r.copy(),r.clear()},r.shortcutCut=function(e){r.shortcutCopy(e),r.clear()},r.removeTable=function(){r.emit("tableRemoved"),r.card.engine.change.removeCard(r.card.cardRoot)},r.alignLeft=function(){r.align("left")},r.alignCenter=function(){r.align("center")},r.alignRight=function(){r.align("right")},r.align=function(e){var t=r.card.selection;t.area&&(t.each((function(t){t.element&&ru(t.element).css("text-align",e)})),r.emit("actioned","align"))},r.valign=function(e){var t=r.card.selection;t.area&&(t.each((function(t){t.element&&ru(t.element).css("vertical-align",e)})),r.emit("actioned","align"))},r.background=function(e){var t=r.card.selection;t.area&&(t.each((function(t){t.element&&(e?ru(t.element).css("background-color",e):ru(t.element).css("background-color",""))})),r.emit("actioned","background"))},r.fontcolor=function(e){var t=r.card.selection;t.area&&(t.each((function(t){t.element&&ru(t.element).css("color",e||"#666")})),r.emit("actioned","fontcolor"))},r.toggleBorder=function(){var e=r.card.tableRoot.hasClass("lake-no-border");e?r.card.tableRoot.removeClass("lake-no-border"):r.card.tableRoot.addClass("lake-no-border"),r.card.value=qhe(qhe({},r.card.value),{},{hideBorder:!e}),r.card.setCardValue(!1),r.emit("actioned","toggleBorder",!1)},r.queryState=function(e){var t=r.card,n=t.selection,o=t.engine,i=t.subEngine;if("border"===e)return r.card.tableRoot.hasClass("lake-no-border");if(i)return i.command.queryState(e);if(!n.area)return!1;var a,c=""!==ru(n.getSelectionHtml())[0].innerText.trim(),s=!1;return n.each((function(t){if(t.element&&c&&!s&&""!==t.element.innerText.trim()){ru(t.element).attr("contenteditable",!0);var n=o.change.getRange();n.selectNodeContents(t.element),o.change.select(n),o.change.marks=lp.getActiveMarks(n),a=o.command.queryState(e),s=!0,ru(t.element).removeAttr("contenteditable")}})),a},r.fill=function(e){var t=r.card.selection,n=Tde(e[0]),o=t.normalizeArea(),i=o.row_min,a=o.col_min;t.each((function(e,t,r){var o=t-i,c=r-a,s=n.table[o][c];s&&e.element&&e.element&&s.element&&(e.element.innerHTML=s.element.innerHTML)}))},r.execute=function(){var e,t=r.card,n=t.selection,o=t.cardRoot,i=t.engine,a=t.subEngine,c=t.state;if(!c.readonly)if(a){var s;(s=a.command).execute.apply(s,arguments)}else{var l=n.area;if(l){var u=n.getSelectionHtml();u=new $f(u,i.schema,i.conversion).toValue();var f=ru(u=Cl.transformCustomTags(u));o.append(f),f.attr("contenteditable",!0),f.addClass("tmp-table");var p=i.change.getRange();p.selectNodeContents(f[0]),i.change.select(p),(e=i.command).execute.apply(e,arguments),f.removeAttr("contenteditable"),r.fill(f),f.remove(),r.emit("actioned","fontstyle")}}},r.card=e,r}return n}(_n.a);function $he(e){return($he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ghe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zhe(e,t){return(Zhe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jhe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tme(e);if(t){var o=tme(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qhe(this,n)}}function Qhe(e,t){return!t||"object"!==$he(t)&&"function"!=typeof t?eme(e):t}function eme(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tme(e){return(tme=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nme=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zhe(e,t)}(i,e);var t,n,r,o=Jhe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).selectFirstCell=function(){var e=t.card.tableRoot.find("td");t.selectCell(e[0])},t.rowCount=function(){if(!t.area)return 0;var e=t.area,n=e.row,r=e.row2;return Math.abs(n-r)+1},t.colCount=function(){if(!t.area)return 0;var e=t.area,n=e.col,r=e.col2;return Math.abs(n-r)+1},t.selectCell=function(e,n){if(e&&e.tagName&&"td"===e.tagName.toLowerCase()){var r,o=t.getTableModel().table,i=e.parentNode,a=e.rowSpan,c=e.colSpan,s=i.rowIndex;o[s].forEach((function(t,n){t.element===e&&(r=n)}));var l={row:s,col:r,row2:s+a-1,col2:r+c-1};if(!n||!t.area)return t.area=l,delete t.from_col,delete t.from_row,delete t.shift_base_area,void t.renderActiveBox();var u=t.normalizeArea(),f=u.row_min,p=u.row_max,d=u.col_min,h=u.col_max;if("contextmenu"===n){if(f<=s&&s<=p&&d<=r&&r<=h)return;return t.area=l,delete t.shift_base_area,void t.renderActiveBox()}if("shift"===n)return t.shift_base_area=t.shift_base_area||t.area,t.area=t.getAdjustArea(t.shift_base_area,l),void t.renderActiveBox();switch(n){case"drag_nw":t.base_area=t.base_area||t._getSouthEastTdArea();break;case"drag_se":t.base_area=t.base_area||t._getNorthWestTdArea();break;case"drag_n":t.row_base=void 0!==t.row_base?t.row_base:p;break;case"drag_s":t.row_base=void 0!==t.row_base?t.row_base:f;break;case"drag_w":t.col_base=void 0!==t.col_base?t.col_base:h;break;case"drag_e":t.col_base=void 0!==t.col_base?t.col_base:d}t.base_area&&(t.area=t.getAdjustArea(t.base_area,l)),void 0!==t.col_base&&(t.area.col=t.col_base,t.area.col2=r),void 0!==t.row_base&&(t.area.row=t.row_base,t.area.row2=s),t.renderActiveBox()}},t.getAdjustArea=function(e,n){for(var r=t.getTableModel().table,o=e.row,i=e.col,a=e.row2,c=e.col2,s=n.row,l=n.row2,u=n.col,f=n.col2,p=Math.min(o,a,s,l),d=Math.max(o,a,s,l),h=Math.min(i,c,u,f),m=Math.max(i,c,u,f),v={row:p,col:h,row2:d,col2:m},y=p;y<=d;y++)for(var g=h;g<=m;g++){if(r[y][g].isEmpty){var b=r[y][g].parent;if(b.row<p||b.col<h){var w=r[b.row][b.col],k={row:b.row,col:b.col,row2:b.row+w.rowSpan-1,col2:b.col+w.colSpan-1};return t.getAdjustArea(v,k)}}if(r[y][g].isMulti){var x=r[y][g];if(y+x.rowSpan-1>d||g+x.colSpan-1>m){var O={row:y,col:g,row2:y+x.rowSpan-1,col2:g+x.colSpan-1};return t.getAdjustArea(v,O)}}}return v},t.isSingleArea=function(){var e=eme(t).area,n=t.getTableModel().table;if(!e)return!1;var r=t.normalizeArea(),o=r.row_min,i=r.row_max,a=r.col_min,c=r.col_max,s=n[o][a];return o+s.rowSpan-1===i&&a+s.colSpan-1===c},t.hasMergeCell=function(){if(!eme(t).area)return!1;var e=!1;return t.each((function(t){(t.isEmpty||t.isMulti)&&(e=!0)})),e},t._getSouthEastTdArea=function(){var e=eme(t).area,n=t.getTableModel().table;if(!e)return null;var r=t.normalizeArea(),o=r.row_max,i=r.col_max,a=n[o][i],c=o,s=i;return a.isEmpty&&(c=(a=n[a.parent.row][a.parent.col]).parent.row,s=a.parent.col),{row:c,col:s,row2:o,col2:i}},t._getNorthWestTdArea=function(){var e=eme(t).area,n=t.getTableModel().table;if(!e)return null;var r=t.normalizeArea(),o=r.row_min,i=r.col_min,a=n[o][i];return{row:o,col:i,row2:o+a.rowSpan-1,col2:i+a.colSpan-1}},t.selectCol=function(e){var n=t.getTableModel();t.area={row:0,row2:n.rows-1,col:Dw.a.shift&&t.area.total_col?t.area.col:e,col2:e,total_col:!0},t.renderActiveBox()},t.selectCols=function(e,n){var r=t.getTableModel();t.area={row:0,row2:r.rows-1,col:e,col2:n,total_col:!0},t.renderActiveBox()},t.selectRow=function(e){var n=t.getTableModel();t.area={row:Dw.a.shift&&t.area.total_row?t.area.row:e,row2:e,col:0,col2:n.cols-1,total_row:!0},t.renderActiveBox()},t.selectRows=function(e,n){var r=t.getTableModel();t.area={row:e,row2:n,col:0,col2:r.cols-1,total_row:!0},t.renderActiveBox()},t.selectArea=function(e){t.area=e,t.renderActiveBox()},t.selectTable=function(e){if(t.card.active&&(!e||!t.card.subEngine)){var n=eme(t).area,r=t.getTableModel();n&&n.total_table?t.clear():t.selectArea({row:0,row2:r.rows-1,col:0,col2:r.cols-1,total_table:!0})}},t.selectLeft=function(e,n){if(!t.card.subEngine){var r=eme(t).area,o=t.getTableModel();if(r){var i=t.normalizeArea(),a=i.row_min,c=i.col_min,s=t.from_row||a,l=Math.max(c-1,0);t.from_row=t.from_row||s,0===c&&n&&s>0&&(l=o.cols-1,s-=1,t.from_row=s),delete t.from_col,t.selectTd(s,l)}}},t.selectRight=function(e,n){if(!t.card.subEngine){var r=eme(t).area,o=t.getTableModel();if(r){var i=t.normalizeArea(),a=i.row_min,c=i.col_max,s=t.from_row||a,l=Math.min(c+1,o.cols-1);t.from_row=t.from_row||s,c+1===o.cols&&n&&(l=0,(s+=1)===o.rows&&t.card.command.insertRow("end"),t.from_row=s),delete t.from_col,t.selectTd(s,l)}}},t.selectUp=function(){if(!t.card.subEngine&&eme(t).area){var e=t.normalizeArea(),n=e.row_min,r=e.col_min,o=Math.max(n-1,0),i=t.from_col||r;t.from_col=t.from_col||r,delete t.from_row,t.selectTd(o,i)}},t.selectDown=function(){if(!t.card.subEngine){var e=eme(t).area,n=t.getTableModel();if(e){var r=t.normalizeArea(),o=r.row_max,i=r.col_min,a=Math.min(o+1,n.rows-1),c=t.from_col||i;t.from_col=t.from_col||i,delete t.from_row,t.selectTd(a,c)}}},t.selectTab=function(e){t.card.subEngine&&t.card.removeEditor(),e.preventDefault(),Dw.a.shift?t.selectLeft(e,!0):t.selectRight(e,!0)},t.selectEnter=function(e){t.card.subEngine||(e.preventDefault(),t.selectDown())},t.getTableModel=function(){return t.tableModel||t.refreshModel(),t.tableModel},t.selectTd=function(e,n){var r=t.getTableModel().table,o=r[e][n];if(o.isEmpty){var i=r[o.parent.row][o.parent.col];t.selectArea({row:o.parent.row,col:o.parent.col,row2:o.parent.row+i.rowSpan-1,col2:o.parent.col+i.colSpan-1})}else{t.selectArea({row:e,col:n,row2:e+o.rowSpan-1,col2:n+o.colSpan-1});var a=parseInt(t.activeBox.css("left")),c=Kde(t.viewport[0]);a<t.viewport[0].scrollLeft?t.viewport[0].scrollLeft=a:a+80>t.viewport[0].scrollLeft+c.width&&(t.viewport[0].scrollLeft=a-c.width+80)}},t.renderActiveBox=function(){t.hideSubEditor(),t.reRenderActiveBox(),t.emit("select")},t.reRenderActiveBox=function(e){var n=eme(t).area,r=t.getTableModel(),o=t.card.template;if(n){t.single=t.isSingleArea();var i,a,c,s,l=r.table,u=t.normalizeArea(),f=u.row_min,p=u.row_max,d=u.col_min,h=u.col_max,m=t.card.tableRoot[0],v=Kde(m.tHead||m.tBodies[0]||m);if(t.single){var y=Kde(l[f][d].element);i=y.left-v.left,a=y.top-v.top,c=y.width,s=y.height}else{var g=t.colsHeader.find(o.COLS_HEADER_ITEM_CLASS),b=t.rowsHeader.find(o.ROWS_HEADER_ITEM_CLASS);i=Xde(g[d])-v.left,a=Yde(b[f])-v.top,c=g[h].getBoundingClientRect().right-Xde(g[d]),s=function(e){return e.getBoundingClientRect().bottom}(b[p])-Yde(b[f])}t.showActiveBox(i,a,s,c,e),t.areaWidth=c,t.areaHeight=s,t.areaLeft=i,t.areaTop=a,t.reRenderSubEditor(),t.td=t.single?l[f][d].element:null}},t.showActiveBox=function(e,n,r,o,i){var a=eme(t),c=a.activeBox,s=a.hideTextarea,l=c.find(".l"),u=c.find(".r"),f=c.find(".t"),p=c.find(".b"),d=c.find(".mask"),h=c.find(".mask-col"),m=c.find(".mask-row"),v=c.find(".se"),y=c.find(".n"),g=c.find(".s"),b=c.find(".w"),w=c.find(".e");c.removeClass("col"),c.removeClass("row"),c.removeClass("total"),c.removeClass("preview-mask-col"),c.removeClass("preview-mask-row"),t.area.total_col&&c.addClass("col"),t.area.total_row&&c.addClass("row"),t.area.total_table&&c.addClass("total"),"removeCol"===i&&c.addClass("preview-mask-col"),"removeRow"===i&&c.addClass("preview-mask-row"),l.css("height","".concat(r,"px")),u.css("height","".concat(r+1,"px")),u.css("left","".concat(o,"px")),f.css("width","".concat(o,"px")),p.css("top","".concat(r,"px")),p.css("width","".concat(o,"px")),v.css("left","".concat(o-3,"px")),v.css("top","".concat(r-3,"px")),y.css("top","-4px"),y.css("left","".concat(o/2-3,"px")),g.css("top","".concat(r-3,"px")),g.css("left","".concat(o/2-3,"px")),b.css("left","-4px"),b.css("top","".concat(r/2-3,"px")),w.css("left","".concat(o-3,"px")),w.css("top","".concat(r/2-3,"px")),d.css("width","".concat(o,"px")),d.css("height","".concat(r,"px")),h.css("width","".concat(o+1,"px")),h.css("height","".concat(Qde(t.rowsHeader[0])-33,"px")),h.css("top","-".concat(n,"px")),m.css("height","".concat(r+1,"px")),m.css("width","".concat(Jde(t.colsHeader[0]),"px")),m.css("left","-".concat(e,"px")),c.css("left","".concat(e,"px")),c.css("top","".concat(n,"px")),c.css("display","block"),s.css("left","".concat(t.clickX+10,"px")),s.css("top","".concat(t.clickY-10,"px"))},t.showSubEditor=function(){t.reRenderSubEditor(),t.editArea.css("display","table"),t.activeBox.addClass("editing")},t.reRenderSubEditor=function(){t.editAreaContent=t.editArea.find(t.card.template.SUB_EDITOR_CONTENT_CLASS),t.editArea.css("width","".concat(t.areaWidth-1,"px")),t.editAreaContent.css("width","".concat(t.areaWidth-2,"px")),t.editAreaContent.css("max-width","".concat(t.areaWidth-2,"px")),t.editAreaContent.css("height","".concat(t.areaHeight,"px")),Nde(t.td,t.editAreaContent)},t.hideSubEditor=function(){var e=t.card.template;t.editArea.html(""),t.editArea[0].remove(),t.editArea=ru(e.SubEditor),t.activeBox.append(t.editArea),t.activeBox.removeClass("editing")},t.hideActiveBox=function(){t.activeBox.css("display","none")},t.startDragTriggerToSelectCell=function(e){var n=t.card.template,r=ru(e.target).closest(n.ACTIVE_TD_TRIGGER_CLASS);if(r[0]){e.preventDefault();var o=r.attr("direction");t.dragSelecting=!0,t.dragDirection=o,t.addDragEvent()}},t.onTdMouseDown=function(e){Dw.a.shift=e.shiftKey;var n=ru(e.target).closest("td");if(n[0]){var r;Dw.a.shift&&(r="shift"),2===e.button&&(r="contextmenu"),t.card.active&&e.stopPropagation(),t.clickX=e.clientX,t.clickY=e.clientY;var o=t.td===n[0],i=t.card.isEditing(n);if(o&&!i&&!r)return zu.log("active emit==="),void t.emit("active",n);t.card.isEditing(n)||(e.preventDefault(),t.selectCell(n[0],r),"contextmenu"!==r&&t.delayStartDrag(n))}},t.delayStartDrag=function(e){t.dragTimer&&clearTimeout(t.dragTimer),t.card.container.on("mouseup",t.cancelStartDrag),t.dragTimer=setTimeout((function(){t.dragSelecting=!0,t.dragDirection="drag_se",t.dragoverTd=e[0],t.addDragEvent()}),100)},t.cancelStartDrag=function(){t.dragTimer&&(clearTimeout(t.dragTimer),t.card.container.off("mouseup",t.cancelStartDrag))},t.addDragEvent=function(){t.card.tableRoot.addClass("drag-select"),t.card.tableRoot.addClass(t.dragDirection),t.areaMask.addClass(t.dragDirection),t.card.container.on("mouseup",t.dragEnd).on("mouseleave",t.delayDragEnd).on("mousemove",t.dragToSelectCell)},t.removeDragEvent=function(){t.card.tableRoot.removeClass("drag-select"),t.card.tableRoot.removeClass(t.dragDirection),t.areaMask.removeClass(t.dragDirection),t.card.container.off("mouseup",t.dragEnd).off("mouseleave",t.delayDragEnd).off("mousemove",t.dragToSelectCell)},t.dragToSelectCell=function(e){if(t.dragSelecting){t.timer&&clearTimeout(t.timer);var n=ru(e.target).closest("td");n[0]&&(n.isRoot()||e.preventDefault(),n[0]!==t.dragoverTd&&(t.selectCell(n[0],t.dragDirection),t.dragoverTd=n[0]))}},t.dragEnd=function(){t.dragSelecting&&(t.dragSelecting=!1,delete t.base_area,delete t.row_base,delete t.col_base,t.removeDragEvent())},t.delayDragEnd=function(){t.timer=setTimeout(t.dragEnd,500)},t.preview=function(e){switch(e){case"removeCol":case"removeRow":t.reRenderActiveBox(e);break;default:t.reRenderActiveBox()}},t.clear=function(){t.area=null,t.td=null,t.hideActiveBox(),t.emit("cancelSelect")},t.normalizeArea=function(){if(t.area){var e=t.area,n=e.row,r=e.col,o=e.row2,i=e.col2;return{row_min:Math.min(n,o),row_max:Math.max(n,o),col_min:Math.min(r,i),col_max:Math.max(r,i)}}},t.getEffectRows=function(){if(t.area){var e=t.normalizeArea(),n=e.row_min,r=e.row_max,o=t.getTableModel().table,i=n,a=r,c=o[n],s=o[r];return c.forEach((function(e){if(e.isEmpty){var t=e.parent.row,n=e.parent.col;i=Math.min(i,t),a=Math.max(a,t+o[t][n].rowSpan-1)}})),s.forEach((function(e){if(e.isEmpty){var t=e.parent.row,n=e.parent.col;a=Math.max(a,t+o[t][n].rowSpan-1)}e.isMulti&&(a=Math.max(a,r+e.rowSpan-1))})),{row_min:i,row_max:a}}},t.each=function(e,n){var r=eme(t).area,o=t.getTableModel().table;if(r){var i=t.normalizeArea(),a=i.row_min,c=i.row_max,s=i.col_min,l=i.col_max;if(n)for(var u=c;u>=a;u--)for(var f=l;f>=s;f--){e(o[u][f],u,f)}else for(var p=a;p<=c;p++)for(var d=s;d<=l;d++){e(o[p][d],p,d)}}},t.getTdIndex=function(e,n){for(var r=t.getTableModel().table[e],o=0,i=0;i<n;i++)r[i].element&&o++;return o},t.getTdElement=function(e,n){var r=t.getTableModel().table,o=r[e][n];return o.element?o.element:o.isEmpty?r[o.parent.row][o.parent.col].element:void 0},t.getTdRowCol=function(e){var n=t.getTableModel().table,r=e.parentNode.rowIndex,o=n[r],i=0;return o.forEach((function(t,n){t.element===e&&(i=n)})),{row:r,col:i}},t.getSelectionHtml=function(){var e=eme(t),n=e.area,r=e.card,o=t.getTableModel().table,i=r.tableRoot;if(!n)return null;for(var a=t.normalizeArea(),c=a.row_min,s=a.row_max,l=a.col_min,u=a.col_max,f=i.find("col"),p=[],d=0,h=l;h<=u;h++)p.push('<col width="'.concat(f[h].width,'" />')),d+=parseInt(f[h].width);for(var m="<colgroup>".concat(p.join(""),"</colgroup>"),v=[],y=c;y<=s;y++){for(var g=[],b=l;b<=u;b++){var w=o[y][b],k=void 0,x=void 0,O=void 0;if(w.element&&(O=w.element.cloneNode(!0)),w.isMulti&&(k=Math.min(y+w.rowSpan-1,s)-y+1,x=Math.min(b+w.colSpan-1,u)-b+1),w.isEmpty){var C=o[w.parent.row][w.parent.col];if(w.parent.row===y&&w.parent.col<l&&b===l){var _=l-w.parent.col;x=Math.min(C.colSpan-_,u-l+1),k=C.rowSpan,O=C.element.cloneNode(!0)}if(w.parent.col===b&&w.parent.row<c&&y===c){var E=c-w.parent.row;k=Math.min(C.rowSpan-E,s-c+1),x=C.colSpan,O=C.element.cloneNode(!0)}}O&&(O.setAttribute("rowspan",k),O.setAttribute("colspan",x),g.push(O.outerHTML))}v.push("<tr>".concat(g.join(""),"</tr>"))}return'\x3c!--StartFragment--\x3e<table style="width: '.concat(d,'px">').concat(m).concat(v.join(""),"</table>\x3c!--EndFragment--\x3e")},t.refreshModel=function(){t.tableModel=Tde(t.card.tableRoot[0]),zu.log(t.tableModel)},t.cancelSelect=function(){t.card.subEngine?t.emit("cancelSelect"):t.clear()},t.onClickMask=function(e){if(2!==e.button){var n=e.offsetX,r=e.offsetY,o=t.getTdByMaskXY(n,r);t.selectCell(o)}},t.onMouseMoveMask=function(e){if(t.dragSelecting){var n=e.offsetX,r=e.offsetY,o=t.getTdByMaskXY(n,r);t.selectCell(o,t.dragDirection)}},t.getTdByMaskXY=function(e,n){for(var r=t.getTableModel(),o=t.card.template,i=t.normalizeArea(),a=i.row_min,c=i.col_min,s=t.colsHeader.find(o.COLS_HEADER_ITEM_CLASS),l=t.rowsHeader.find(o.ROWS_HEADER_ITEM_CLASS),u=a,f=c,p=Jde(s[f]),d=Qde(l[u]);p<e;)p+=Jde(s[++f]);for(;d<n;)d+=Qde(l[++u]);var h=r.table[u][f];return h.isEmpty&&(h=r.table[h.parent.row][h.parent.col]),h.element},t.render=function(e){t.refreshModel();var n=eme(t).area,r=t.getTableModel();if(n){var o=t.normalizeArea(),i=o.row_min,a=o.col_min;switch(e){case"removeRow":t.selectRow(Math.min(i,r.rows-1));break;case"removeCol":t.selectCol(Math.min(a,r.cols-1));break;default:t.renderActiveBox()}}},t.card=e,t}return t=i,(n=[{key:"isRowSelected",value:function(){return this.area&&(this.area.total_row||this.area.total_table)}},{key:"isColSelected",value:function(){return this.area&&(this.area.total_col||this.area.total_table)}},{key:"isTableSelected",value:function(){return this.area&&this.area.total_table}},{key:"bindEvents",value:function(){this.card.container.on("mousedown",this.onTdMouseDown).on("dragstart",(function(e){return e.stopPropagation()})).on("contextmenu",(function(e){return e.preventDefault()})).on("select",(function(e){return e.preventDefault()})),this.activeBox.on("mousedown",this.startDragTriggerToSelectCell),this.areaMask.on("mousedown",this.onClickMask).on("mousemove",this.onMouseMoveMask)}},{key:"init",value:function(){var e=this.card,t=e.container,n=e.template;this.activeBox=t.find(n.ACTIVE_TD_CLASS),this.colsHeader=t.find(n.COLS_HEADER_CLASS),this.rowsHeader=t.find(n.ROWS_HEADER_CLASS),this.viewport=t.find(n.VIEWPORT),this.editArea=this.activeBox.find(n.SUB_EDITOR_CLASS),this.editAreaContent=this.editArea.find(this.card.template.SUB_EDITOR_CONTENT_CLASS),this.areaMask=this.activeBox.find(n.AREA_MASK),this.hideTextarea=this.activeBox.find(n.TABLE_TEXTAREA_CLASS),this.bindEvents()}}])&&Ghe(t.prototype,n),r&&Ghe(t,r),i}(_n.a);function rme(e){return"classic"===e.getTypography()?"1515":"11"}function ome(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ime=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.card=t,this.data=[],this.index=0}var t,n,r;return t=e,(n=[{key:"undo",value:function(){0!==this.index&&(this.index--,this.card.reRender(this.data[this.index]))}},{key:"redo",value:function(){this.data[this.index+1]&&(this.index++,this.card.reRender(this.data[this.index]))}},{key:"isEnd",value:function(){return this.index>=this.data.length-1}},{key:"clear",value:function(){this.data=[],this.index=0}},{key:"save",value:function(e){this.data[this.index]&&this.index++,this.data=this.data.slice(0,this.index),this.data.length>=100&&(this.data.shift(),this.index--),this.data[this.index]=e,this.index++}}])&&ome(t.prototype,n),r&&ome(t,r),e}();function ame(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var cme={handler:{},filter:function(e){Dw.a.filter=function(t){var n=e.template,r=(t.target||t.srcElement).tagName.toLocaleUpperCase();return!!ru(t.target).closest(n.TABLE_TEXTAREA_CLASS)[0]||!("INPUT"===r||"SELECT"===r||"TEXTAREA"===r)}},add:function(e,t){var n=this;this.handler[e]?this.handler[e].push(t):(this.handler[e]=[t],Dw()(e,(function(t){n.handler[e].forEach((function(e){e(t)}))})))},clear:function(){}},sme=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.card=t,cme.filter(t)}var t,n,r;return t=e,(n=[{key:"add",value:function(e,t){var n=this;cme.add(e,(function(e){n.card&&n.card.active&&t(e)}))}}])&&ame(t.prototype,n),r&&ame(t,r),e}(),lme=[{table:{class:["lake-table","lake-no-border"],style:{width:"@length"}}},"colgroup",{col:{width:"@number",span:"@number"}},"thead","tbody",{tr:{style:{height:"@length"}}},{td:{colspan:"@number",rowspan:"@number","data-colwidth":/^\d+(,\d+)*$/,width:"@number",style:{"text-align":["left","center","right","justify"],"vertical-align":["top","middle","bottom"],"background-color":"@color",background:"@color",color:"@color"}}},{th:{colspan:"@number",rowspan:"@number",style:{"text-align":["left","center","right","justify"],"vertical-align":["top","middle","bottom"],"background-color":"@color",background:"@color",color:"@color"}}}];function ume(e){return(ume="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fme(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pme(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fme(Object(n),!0).forEach((function(t){dme(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fme(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dme(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hme(e){return function(e){if(Array.isArray(e))return mme(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mme(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mme(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mme(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yme(e,t){return(yme=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gme(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xme(e);if(t){var o=xme(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bme(this,n)}}function bme(e,t){return!t||"object"!==ume(t)&&"function"!=typeof t?wme(e):t}function wme(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kme(e,t,n){return(kme="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xme(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function xme(e){return(xme=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ome={en:{insertColLeft:"Insert column(s) left",insertColRight:"Insert column(s) right",insertRowUp:"Insert row(s) up",insertRowDown:"Insert row(s) down",mergeCell:"Merge cells",splitCell:"Unmerge cells",hideBorder:"Hide border",removeCol:"Delete selected column(s)",removeRow:"Delete selected row(s)",removeTable:"Delete table",copy:"Copy",cut:"Cut",paste:"Paste",clear:"Clear",align:"Align",verticalAlign:"Vertical Align",alignLeft:"Align left",alignCenter:"Align center",alignRight:"Align right",alignJustify:"Align justify",alignTop:"Align Top",alignMiddle:"Align middle",alignBottom:"Align bottom",undo:"Undo",redo:"Redo",paintformat:"Paint format",removeformat:"Clear format",bold:"Bold",italic:"Italic",strikethrough:"Strike-through",underline:"Underline",fontcolor:"Font color",highlightColor:"Highlight color",backcolor:"Background color",taskList:"Task list",list:"List",orderedList:"Order list",unorderedList:"UnOrder list",link:"Link",image:"Image",label:"Label",save:"Save",insertCard:"Insert card",fontsizeTitle:"Font",file:"Attachment",lineHeight:"Line Height",defaultText:"Default",fileDescription:"Upload one or more files"},"zh-cn":{insertColLeft:"左边插入列",insertColRight:"右边插入列",insertRowUp:"上方插入行",insertRowDown:"下方插入行",mergeCell:"合并单元格",splitCell:"拆分单元格",hideBorder:"隐藏边框",removeCol:"删除选中列",removeRow:"删除选中行",removeTable:"删除表格",copy:"复制",cut:"剪切",paste:"粘贴",clear:"清空选中区域",align:"水平对齐",verticalAlign:"垂直对齐",alignLeft:"左对齐",alignCenter:"水平居中",alignRight:"右对齐",alignJustify:"两端对齐",alignTop:"顶对齐",alignMiddle:"垂直居中",alignBottom:"底对齐",undo:"撤销",redo:"重做",paintformat:"格式刷",removeformat:"清除格式",bold:"粗体",italic:"斜体",strikethrough:"中划线",underline:"下划线",fontcolor:"字体颜色",highlightColor:"字体背景色",backcolor:"单元格背景色",taskList:"任务列表",list:"列表",orderedList:"有序列表",unorderedList:"无序列表",link:"链接",image:"图片",label:"状态",save:"保存",insertCard:"插入卡片",fontsizeTitle:"字号",file:"附件",lineHeight:"行高",defaultText:"默认",fileDescription:"上传单个或多个文件"}},Cme=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yme(e,t)}(i,e);var t,n,r,o=gme(i);function i(e,t){var n,r,a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(c=o.call(this)).destroy=function(){kme((n=wme(c),xme(i.prototype)),"destroy",n).call(n);var e=c.active;c.active=!1,c.unBindKeyEvents(),e&&c.engine&&c.engine.toolbar.restore()},c.activate=function(){c.active=!0,c.container.css("user-select","none"),c.mobile||c.engine.toolbar.set(function(e){var t=e.engine,n=e.selection,r=e.command,o=e.locale,i=["file","image","label"],a=[{key:"9",value:"12px"},{key:"10",value:"13px"},{key:"11",value:"14px"},{key:"1515",value:"15px"},{key:"12",value:"16px"},{key:"14",value:"19px"},{key:"16",value:"22px"},{key:"18",value:"24px"},{key:"22",value:"29px"},{key:"24",value:"32px"},{key:"30",value:"40px"},{key:"36",value:"48px"}],c={};a.forEach((function(e){var t=e.key,n=e.value;c[t]=n}));var s=gC(t);return s=s.filter((function(t){return-1!==i.indexOf(t.name)&&("label"===t.name&&(t.onClick=function(){e.subEngine.command.execute("label")}),t.name="table:"+t.name,!0)})),[{name:"table:card",type:"collapse",title:o.insertCard,icon:'<span class="lake-svg-icon lake-svg-icon-insert" />',size:SC.ICON,getDisabled:function(){return!e.subEngine},data:[{items:s}],onClick:function(t){e.subEngine&&e.subEngine.command.execute(t)}},{type:"separator"},{name:"table:save",title:o.save,hotkey:fe.macos?"⌘+S":"Ctrl+S",icon:'<span class="lake-icon lake-icon-save" />',size:SC.ICON,onClick:function(){t.command.execute("save")}},{name:"table:undo",title:o.undo,hotkey:fe.macos?"⌘+Z":"Ctrl+Z",icon:'<span class="lake-icon lake-icon-undo" />',size:SC.ICON,getDisabled:function(){return!(e.subEngine&&e.subEngine.command.queryState("undo")||(e.fullscreen?0!==e.history.index:t.command.queryState("undo")))},onClick:function(){e.undo()}},{name:"table:redo",title:o.redo,hotkey:fe.macos?"⌘+Shift+Z":"Ctrl+Shift+Z",icon:'<span class="lake-icon lake-icon-redo" />',size:SC.ICON,getDisabled:function(){return(!e.subEngine||!e.subEngine.command.queryState("redo"))&&(e.fullscreen?e.history.isEnd():!t.command.queryState("redo"))},onClick:function(){e.redo()}},{name:"table:removeformat",title:o.removeformat,icon:'<span class="lake-icon lake-icon-clean" />',size:SC.ICON,onClick:function(){r.clearFormat(),r.execute("removeformat")}},{type:"separator"},{name:"table:fontsize",type:"dropdown",title:o.fontsizeTitle,className:"lake-button-fontsize",data:a,size:SC.FONTSIZE,getActive:function(){return e.command.queryState("fontsize")||rme(t)},getDisabled:function(){return!e.selection.area},getCurrentText:function(e){return c[e]||c[rme(t)]},onClick:function(t){e.command.execute("fontsize",t)}},{name:"table:bold",title:o.bold,hotkey:fe.macos?"⌘+B":"Ctrl+B",icon:'<span class="lake-icon lake-icon-bold" />',size:SC.ICON,getDisabled:function(){return!e.selection.area},getActive:function(){return e.command.queryState("bold")},onClick:function(){e.command.execute("bold")}},{name:"table:italic",title:o.italic,hotkey:fe.macos?"⌘+I":"Ctrl+I",icon:'<span class="lake-icon lake-icon-italic" />',size:SC.ICON,getDisabled:function(){return!e.selection.area},getActive:function(){return e.command.queryState("italic")},onClick:function(){e.command.execute("italic")}},{name:"table:strikethrough",title:o.strikethrough,key:fe.macos?"⌘+Shift+X":"Ctrl+Shift+X",icon:'<span class="lake-icon lake-icon-strikethrough" />',size:SC.ICON,getDisabled:function(){return!e.selection.area},getActive:function(){return e.command.queryState("strikethrough")},onClick:function(){e.command.execute("strikethrough")}},{name:"table:underline",title:o.underline,key:fe.macos?"⌘+U":"Ctrl+U",icon:'<span class="lake-icon lake-icon-underline" />',size:SC.ICON,getDisabled:function(){return!e.selection.area},getActive:function(){return e.command.queryState("underline")},onClick:function(){e.command.execute("underline")}},{type:"separator"},{name:"table:fontcolor",type:"color",title:o.fontcolor,moreTitle:o.fontcolor,defaultColor:"#000000",currentColor:"#F5222D",size:SC.SPLIT_BUTTON,getActive:function(){return e.command.queryState("fontcolor")||[]},onClick:function(t){e.command.execute("fontcolor",t,"#000000")}},{name:"table:highlight",type:"color",title:o.highlightColor,moreTitle:o.highlightColor,defaultColor:"#FFFFFF",currentColor:"#FADB14",size:SC.SPLIT_BUTTON,getActive:function(){return e.command.queryState("backcolor")||""},onClick:function(t){e.command.execute("backcolor",t,"#FFFFFF")}},{name:"table:backcolor",type:"color",title:o.backcolor,moreTitle:o.backcolor,defaultColor:"#FFFFFF",currentColor:"#f5f5f5",size:SC.SPLIT_BUTTON,onClick:function(e){"#FFFFFF"===e?r.background():r.background(e)}},{name:"hideBorder",title:o.hideBorder,icon:'<span class="lake-icon lake-icon-table-border" />',getDisabled:function(){return!n.area},getActive:function(){return e.command.queryState("border")},onClick:function(){r.toggleBorder()}},{type:"separator"},{name:"insertRowUp",title:o.insertRowUp,icon:'<span class="lake-icon lake-icon-table-insert-row-up" />',size:SC.ICON,getDisabled:function(){return!n.area},onClick:function(){e.removeEditor(),r.insertRowUp()}},{name:"insertRowDown",title:o.insertRowDown,icon:'<span class="lake-icon lake-icon-table-insert-row-down" />',size:SC.ICON,getDisabled:function(){return!n.area},onClick:function(){e.removeEditor(),r.insertRowDown()}},{name:"removeRow",title:o.removeRow,icon:'<span class="lake-icon lake-icon-table-remove-row" />',size:SC.ICON,getDisabled:function(){return!n.area},onClick:function(){e.removeEditor(),r.removeRow()}},{type:"separator"},{name:"insertColLeft",title:o.insertColLeft,icon:'<span class="lake-icon lake-icon-table-insert-col-left" />',size:SC.ICON,getDisabled:function(){return!n.area},onClick:function(){e.removeEditor(),r.insertColLeft()}},{name:"insertColRight",title:o.insertColRight,icon:'<span class="lake-icon lake-icon-table-insert-col-right" />',size:SC.ICON,getDisabled:function(){return!n.area},onClick:function(){e.removeEditor(),r.insertColRight()}},{name:"removeCol",title:o.removeCol,icon:'<span class="lake-icon lake-icon-table-remove-col" />',size:SC.ICON,getDisabled:function(){return!n.area},onClick:function(){e.removeEditor(),r.removeCol()}},{type:"separator"},{name:"mergecell",title:o.mergeCell,icon:'<span class="lake-icon lake-icon-table-merge-cell" />',size:SC.ICON,getDisabled:function(){return!n.area||n.isSingleArea()},onClick:function(){r.mergeCell()}},{name:"splitCell",title:o.splitCell,icon:'<span class="lake-icon lake-icon-table-split-cell" />',size:SC.ICON,getDisabled:function(){return!n.hasMergeCell()},onClick:function(){e.removeEditor(),r.splitCell()}},{type:"separator"},{name:"table:alignment",type:"dropdown",title:o.align,icon:'<span class="lake-icon lake-icon-left" />',size:SC.ICON,className:"lake-button-icon-list",data:[{key:"left",icon:'<span class="lake-icon lake-icon-left" />',title:o.alignLeft,className:"lake-button-set-list-item-icon"},{key:"center",icon:'<span class="lake-icon lake-icon-center" />',title:o.alignCenter,className:"lake-button-set-list-item-icon"},{key:"right",icon:'<span class="lake-icon lake-icon-right" />',title:o.alignRight,className:"lake-button-set-list-item-icon"},{key:"justify",icon:'<span class="lake-icon lake-icon-justify" />',title:o.alignJustify,className:"lake-button-set-list-item-icon"}],getActive:function(){},onClick:function(e){r.align(e)}},{name:"table:verticalAlignment",type:"dropdown",title:o.verticalAlign,icon:'<span class="lake-icon lake-icon-top" />',size:SC.ICON,className:"lake-button-icon-list",data:[{key:"top",icon:'<span class="lake-icon lake-icon-top" />',title:o.alignTop,className:"lake-button-set-list-item-icon"},{key:"middle",icon:'<span class="lake-icon lake-icon-middle" />',title:o.alignMiddle,className:"lake-button-set-list-item-icon"},{key:"bottom",icon:'<span class="lake-icon lake-icon-bottom" />',title:o.alignBottom,className:"lake-button-set-list-item-icon"}],getActive:function(){},onClick:function(e){r.valign(e)}},{type:"separator"},{name:"table:unorderedlist",title:o.unorderedList,hotkey:fe.macos?"⌘+Shift+8":"Ctrl+Shift+8",icon:'<span class="lake-icon lake-icon-uList" />',size:SC.ICON,getDisabled:function(){return!e.subEngine},getActive:function(){return e.subEngine&&"unorderedlist"===e.subEngine.command.queryState("tasklist")},onClick:function(){e.subEngine&&e.subEngine.command.execute("tasklist","unorderedlist")}},{name:"table:orderedlist",title:o.orderedList,hotkey:fe.macos?"⌘+Shift+7":"Ctrl+Shift+7",icon:'<span class="lake-icon lake-icon-oList" />',size:SC.ICON,getDisabled:function(){return!e.subEngine},getActive:function(){return e.subEngine&&"orderedlist"===e.subEngine.command.queryState("tasklist")},onClick:function(){e.subEngine&&e.subEngine.command.execute("tasklist","orderedlist")}},{name:"table:tasklist",title:o.taskList,icon:'<span class="lake-icon lake-icon-tList" />',size:SC.ICON,getDisabled:function(){return!e.subEngine},getActive:function(){return e.subEngine&&"tasklist"===e.subEngine.command.queryState("tasklist")},onClick:function(){e.subEngine&&e.subEngine.command.execute("tasklist","tasklist")}},{name:"lineheight",type:"dropdown",title:o.lineHeight,icon:'<span class="lake-icon lake-icon-line-height" />',size:SC.ICON,className:"lake-button-icon-list",data:[{key:"17",title:o.defaultText},{key:"1",title:"1"},{key:"115",title:"1.15"},{key:"15",title:"1.5"},{key:"2",title:"2"},{key:"25",title:"2.5"},{key:"3",title:"3"}],getDisabled:function(){return!t.command.queryState("lineheight")},getActive:function(){return t.command.queryState("lineheight")},onClick:function(e){t.command.execute("lineheight",e)}},{type:"separator"},{name:"table:link",title:o.link,className:"lake-button-link",hotkey:fe.macos?"⌘+K":"Ctrl+K",icon:'<span class="lake-icon lake-icon-link" />',size:SC.ICON,getDisabled:function(){return!e.subEngine},onClick:function(){e.subEngine&&e.subEngine.command.execute("link")}}]}(wme(c))),c.selection.refreshModel(),c.controllBar.refresh(),c.onTableSizeChange()},c.unactivate=function(){c.active=!1,c.container.css("user-select","auto"),c.selection.clear(),c.controllBar.hide(),c.removeEditor(),c.engine.toolbar.restore()},c.embedToolbar=function(){var e=c.mobile?[{type:"copy"},{type:"delete"}]:[{type:"dnd"},{type:"maximize"},{type:"separator"},{type:"copy"},{type:"copyCardLink",onClick:function(){return c.copyCardEmbedLink()}},{type:"separator"}].concat(hme(c.getMoreEmbedToolbarConfig()));return c.state.readonly&&(e=[{type:"maximize"},{type:"copyCardLink",onClick:function(){return c.copyCardEmbedLink()}}]),e},c.maximize=function(){kme((r=wme(c),xme(i.prototype)),"maximize",r).call(r),c.scrollbar.refresh(),c.engine&&(c.fullscreen=!0,c.setCardValue(),c.controllBar.hideMultiAddition())},c.restore=function(){kme((a=wme(c),xme(i.prototype)),"restore",a).call(a),c.scrollbar.refresh(),c.engine&&(c.fullscreen=!1,c.history.clear(),c.controllBar.hideMultiAddition())},c.handleTdChanged=function(){if(c.changed=!0,c.subEngine){c.subEngine.td.html(Cl.transformCustomTags(c.subEngine.change.getValue())),c.subEngine.card.renderAll(c.subEngine.td,void 0,c.subEngine),c.command.changed(),c.delayToUpdateToolbar();var e=c.subEngine.td[0].offsetHeight;c.tdHeight&&e===c.tdHeight||(c.tdHeight=e,c.controllBar.render("heightchange"),c.selection.reRenderActiveBox(),c.onTableSizeChange()),c.lazySetCardValue()}},c.startEdit=function(e){c.active&&(ru(e.target).closest(c.template.TABLE_TEXTAREA_CLASS)[0]&&("input"!==e.type||!e.isComposing&&"insertCompositionText"!==e.inputType&&"deleteCompositionText"!==e.inputType&&"insertFromComposition"!==e.inputType)&&(c.subEngine||c.selection.td&&c.selection.single&&c.createEditor(ru(c.selection.td),"<p>".concat(e.data||e.target.value,"</p>"))))},c.saveValue=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(c.changed=!0),c.setCardValue(!0)},c.lazySetCardValue=function(){c.lazySetValueTimer&&clearTimeout(c.lazySetValueTimer),c.lazySetValueTimer=setTimeout((function(){c.setCardValue()}),500)},c.setCardValue=function(e){var t=c.selection.getTableModel(),n=c.tableRoot[0].outerHTML;if(n!==c.lastSaveHtml&&c.changed){c.lastSaveHtml=n,n=new $f(n,c.engine.schema,c.engine.conversion).toValue();var r={rows:t.rows,cols:t.cols,html:n,margin:!!(c.value||{}).margin,hideBorder:!!(c.value||{}).hideBorder};c.cardManage.setValue(c.cardRoot,r),c.changed=!1,e||c.fullscreen&&c.history.save(r)}},c.tryUndo=function(){c.subEngine?0===c.subEngine.history.index&&c.removeEditor(!0):c.undo()},c.tryRedo=function(){c.subEngine||c.redo()},c.undo=function(){c.subEngine&&c.subEngine.history.hasUndo?c.subEngine.command.execute("undo"):c.subEngine?c.removeEditor(!0):c.fullscreen?c.history.undo():(c.focusCard(),c.engine.command.execute("undo"))},c.focusCard=function(){c.engine.change.focusCard(c.cardRoot),c.engine.change.focus()},c.redo=function(){c.subEngine?c.subEngine.command.execute("redo"):c.fullscreen?c.history.redo():c.engine.command.execute("redo")},c.delayToUpdateToolbar=function(){c.toolbarTimer&&clearTimeout(c.toolbarTimer),c.toolbarTimer=setTimeout((function(){c.engine.toolbar.updateState()}),100)},c.isEditing=function(e){return c.subEngine&&e[0]===c.subEngine.td[0]},c.createEditor=function(e,t){if(!c.isEditing(e)){zu.log("create subEditor"),c.selection.showSubEditor();var n=pme(pme({},c.engine.options.image),{},{fixSize:!0,hideEmbedToolbar:!1});if(c.subEngine=nAe.create(c.selection.editAreaContent,{plugins:["bold","italic","fontcolor","fontsize","strikethrough","underline","backcolor","removeformat","code","file","label","list","link","image","tasklist","indent","emoji","markdown"],lang:c.engine.options.lang,image:n,onBeforeRenderImage:c.engine.options.onBeforeRenderImage,file:c.engine.options.file,parentEngine:c.engine,typography:c.engine.typography}),c.engine&&c.subEngine.on("userchanged",(function(){c.engine.setUserChanged()})),c.subEngine.isRemoteImage=c.engine.isRemoteImage,c.subEngine.uploader=c.engine.uploader,c.subEngine.td=e,c.subEngine.locale=c.engine.locale,c.subEngine.schema.add(c.innerSchema),c.delayToUpdateToolbar(),c.subEngine.change.setValue(zde(e.html())),t){var r=zde(t);r=new $f(r,c.subEngine.schema,c.subEngine.conversion).toValue(),c.subEngine.command.execute("selectall"),c.subEngine.change.setValue(r),c.handleTdChanged(),zu.log("subEngine focus selectall")}setTimeout((function(){c.subEngine&&(c.subEngine.focusToEnd(),zu.log("subEngine focus"))}),10),c.subEngine.on("change",c.handleTdChanged),c.subEngine.on("select",c.delayToUpdateToolbar),c.subEngine.on("paste:origin",Bde),c.subEngine.on("keydown:tab",(function(){return!1}))}},c.removeEditor=function(e){c.changed=!0,c.subEngine&&(c.handleTdChanged(),zu.log("removeEditor"),c.subEngine.destroy(),c.subEngine=null,c.selection.hideSubEditor(),e||c.setCardValue(),c.lazySetValueTimer&&clearTimeout(c.lazySetValueTimer))},c.prevent=function(e){ru(e.target).closest(".lake-table")[0]&&e.preventDefault()},c.unBindKeyEvents=function(){document.removeEventListener("contextmenu",c.prevent)},c.bindKeyEvents=function(){c.hotkey.add("backspace, del, delete",c.command.clear),c.hotkey.add("up",c.selection.selectUp),c.hotkey.add("down",c.selection.selectDown),c.hotkey.add("left",c.selection.selectLeft),c.hotkey.add("right",c.selection.selectRight),c.hotkey.add("tab, shift+tab",c.tab),c.hotkey.add("enter",c.selection.selectEnter),c.hotkey.add("esc",c.selection.cancelSelect),c.hotkey.add("command+a, ctrl+a",c.selection.selectTable),c.hotkey.add("command+z, ctrl+z",c.tryUndo),c.hotkey.add("command+b, ctrl+b",(function(){c.subEngine||c.command.execute("bold")})),c.hotkey.add("command+i, ctrl+i",(function(){c.subEngine||c.command.execute("italic")})),c.hotkey.add("command+u, ctrl+u",(function(){c.subEngine||c.command.execute("underline")})),c.hotkey.add("command+shift+x, ctrl+shift+x",(function(){c.subEngine||c.command.execute("strikethrough")})),c.hotkey.add("command+y, command+shift+z, ctrl+y, ctrl+shift+z",c.tryRedo),document.addEventListener("contextmenu",c.prevent)},c.tab=function(e){c.subEngine&&c.subEngine.command.queryState("tasklist")||c.selection.selectTab(e)},c.bindEditEvents=function(){c.inited||(c.controllBar.on("startChangeCellSize",c.selection.clear),c.controllBar.on("clickColsHeader",c.selection.selectCol),c.controllBar.on("clickRowsHeader",c.selection.selectRow),c.controllBar.on("clickTableHeader",c.selection.selectTable),c.controllBar.on("sizeChanged",(function(){c.changed=!0,c.setCardValue(),c.scrollbar.refresh()})),c.controllBar.on("heightchanging",(function(){c.changed=!0,c.onTableSizeChange()})),c.command.on("actioned",(function(e,t){c.changed=!0,"paste"!==e&&"fontstyle"!==e||nAe.card.renderAll(c.container,void 0,c.engine),c.removeEditor(),c.controllBar.render(e),c.selection.render(e),c.scrollbar.refresh(),t||c.setCardValue(),c.onTableSizeChange()})),c.command.on("tableRemoved",c.destroy),c.selection.on("select",(function(){c.delayToUpdateToolbar(),c.removeEditor(),c.controllBar.refresh("select")})),c.selection.on("cancelSelect",(function(){c.removeEditor(),c.controllBar.clearActiveStatus()})),c.selection.on("active",c.createEditor),zu.log("bindEvent"),c.container.on("compositionend",c.startEdit),c.container.on("input",c.startEdit),c.container.on("select",c.prevent),c.bindKeyEvents(),c.bindEvent(c.engine.event,"save:before",(function(){return c.setCardValue()})),c.inited=!0)},c.reRender=function(e){c.delayToUpdateToolbar(),e&&(c.container.html(""),c.render(c.container,e,!0),c.selection.refreshModel(),c.controllBar.refresh())},c.engine=e,c.contentView=t;var s,l=e?e.options.lang:t.options.lang;return c.locale=Ome[l||"en"],c.constants={defaultRows:3,defaultCols:3,MENU:[{action:"cut",icon:"cut",text:(s=wme(c)).locale.cut},{action:"copy",icon:"copy",text:s.locale.copy},{action:"mockPaste",icon:"paste",text:s.locale.paste},{action:"clear",icon:"clear",text:s.locale.clear},{split:!0},{action:"insertColLeft",icon:"insert-col-left",text:s.locale.insertColLeft},{action:"insertColRight",icon:"insert-col-right",text:s.locale.insertColRight},{action:"insertRowUp",icon:"insert-row-up",text:s.locale.insertRowUp},{action:"insertRowDown",icon:"insert-row-down",text:s.locale.insertRowDown},{split:!0},{action:"mergeCell",icon:"merge-cell",text:s.locale.mergeCell},{action:"splitCell",icon:"split-cell",text:s.locale.splitCell},{split:!0},{action:"removeCol",icon:"remove-col",text:s.locale.removeCol},{action:"removeRow",icon:"remove-row",text:s.locale.removeRow},{split:!0},{action:"removeTable",icon:"remove-table",text:s.locale.removeTable}]},c.template=function(e){return{TABLE_WRAPPER_CLASS:".".concat(the),TABLE_CLASS:".".concat(nhe),COLS_HEADER_CLASS:".".concat(rhe),COLS_HEADER_ITEM_CLASS:".".concat(ohe),COLS_HEADER_TRIGGER_CLASS:".".concat(ihe),COLS_ADDITION_CLASS:".".concat("cols-addition"),COLS_ADDITION_HEADER_CLASS:".".concat("cols-addition-header"),ROWS_HEADER_CLASS:".".concat(ahe),ROWS_HEADER_ITEM_CLASS:".".concat(che),ROWS_HEADER_TRIGGER_CLASS:".".concat(she),ROWS_ADDITION_CLASS:".".concat("rows-addition"),ROWS_ADDITION_HEADER_CLASS:".".concat("rows-addition-header"),HEADER_CLASS:".".concat(lhe),ACTIVE_TD_CLASS:".".concat(uhe),ACTIVE_TD_TRIGGER_CLASS:".".concat(fhe),AREA_MASK:".".concat(phe),ROW_MASK:".".concat(dhe),COL_MASK:".".concat(hhe),SUB_EDITOR_CLASS:".".concat(mhe),SUB_EDITOR_CONTENT_CLASS:".".concat(vhe),MENUBAR_CLASS:".".concat(yhe),MENUBAR_ITEM_CLASS:".".concat(ghe),TABLE_TEXTAREA_CLASS:".".concat(bhe),VIEWPORT:".".concat(whe),VIEWPORT_READER:".".concat(khe),PLACEHOLDER_CLASS:".".concat(Che),MULTI_ADDITION_CLASS:".".concat("multi-addition"),SHADOW_LEFT_CLASS:".".concat(Ehe),SHADOW_RIGHT_CLASS:".".concat(jhe),SPLIT_LINE_CLASS:".".concat(Rhe),COL_HEADER_BTNS:".".concat(xhe),ROW_HEADER_BTNS:".".concat(Ohe),HEADER_DELETE_BTN:".".concat(She),HEADER_ADD_BTN:".".concat(Phe),INDICATOR_CLASS:".".concat(_he),EmptyCell:"<p><br /></p>",SubEditor:'<div class="'.concat(mhe,'"><div class="').concat(vhe,'"></div></div>'),htmlEdit:function(t){var n=t.rows,r=t.cols,o=t.html,i="<td><p><br /></p></td>".repeat(r),a="<tr>".concat(i,"</tr>").repeat(n),c="<col />".repeat(r),s="<colgroup>".concat(c,"</colgroup>"),l='\n        <div class="'.concat(rhe,'">\n          ').concat('<div class="'.concat(ohe,'" draggable="true">\n            <div class="').concat(xhe,'">\n              <a class="table-control-icon-btn ').concat(She,'">\n                <span class="lake-icon lake-icon-delete"></span>\n              </a>\n              <a class="table-control-icon-btn ').concat(Phe,'">\n                  <span class="lake-icon lake-icon-plus"></span>\n              </a>\n            </div>\n            <div class="col-dragger">\n              <span class="lake-icon lake-icon-drag"></span>\n              <p class="drag-info"></p>\n            </div>\n            <div class="').concat(ihe,'"></div>\n            </div>').repeat(r),"\n        </div>\n      "),u='\n        <div class="'.concat(ahe,'">\n          ').concat('<div class="'.concat(che,'" draggable="true">\n            <div class="').concat(Ohe,'">\n              <a class="table-control-icon-btn ').concat(She,'">\n                <span class="lake-icon lake-icon-delete"></span>\n              </a>\n              <a class="table-control-icon-btn ').concat(Phe,'">\n                  <span class="lake-icon lake-icon-plus"></span>\n              </a>\n            </div>\n            <div class="row-dragger">\n              <span class="lake-icon lake-icon-drag"></span>\n              <span class="drag-info"></span>\n            </div>\n            <div class="').concat(she,'"></div>\n            </div>').repeat(n),"\n        </div>\n      "),f='<div class="'.concat(lhe,'"></div>'),p='<textarea class="'.concat(bhe,'"></textarea>'),d='<div class="'.concat(uhe,'">\n        ').concat(p,'\n        <div class="').concat(hhe,'"></div>\n        <div class="').concat(dhe,'"></div>\n        <div class="l"></div>\n        <div class="r"></div>\n        <div class="t"></div>\n        <div class="b"></div>\n        <div class="').concat(phe,'"></div>\n        <div class="nw ').concat(fhe,'" direction="drag_nw"></div>\n        <div class="se ').concat(fhe,'" direction="drag_se"></div>\n        <div class="n ').concat(fhe,'" direction="drag_n"></div>\n        <div class="w ').concat(fhe,'" direction="drag_w"></div>\n        <div class="s ').concat(fhe,'" direction="drag_s"></div>\n        <div class="e ').concat(fhe,'" direction="drag_e"></div>\n        ').concat(this.SubEditor,"\n      </div>"),h='<div class="'.concat(_he,'"></div>'),m='<div class="'.concat(Che,'"></div>'),v='<div class="'.concat(Ehe,'"></div>'),y='<div class="'.concat(jhe,'"></div>'),g=e.constants.MENU.map((function(e){return e.split?'<div class="'.concat(Rhe,'"></div>'):'<div class="'.concat(ghe,'" data-action="').concat(e.action,'">\n          <span class="lake-icon lake-icon-table-').concat(e.icon,'"></span>\n          ').concat(e.text,"\n        </div>")}));g='<div class="'.concat(yhe,'">').concat(g.join(""),"</div>"),o&&(o.includes("<colgroup>")||(zu.log("before",o),o=o.replace(/^(<table[^>]+>)/,(function(e){return e+s})),zu.log("after",o)),o=Ade(ru(o)[0]).outerHTML);var b=o||'\n        <table class="'.concat(nhe,'">\n          ').concat(s,"\n          ").concat(a,"\n        </table>");return'\n        <div class="'.concat(the,'">\n          ').concat(f,'\n          <div class="').concat(whe,'">\n            ').concat(l,'\n            <div class="').concat("lake-table-inner",'">\n              ').concat(d,"\n              ").concat(b,"\n            </div>\n            ").concat(m,"\n            ").concat(h,"\n            ").concat(v,"\n            ").concat(y,"\n          </div>\n          ").concat(u,"\n          ").concat(g,"\n        </div>")},htmlView:function(e){var t=e.html;return'<div class="'.concat(khe,'">\n        ').concat(t,"\n      </div>")}}}(wme(c)),e?(c.change=e.change,c.cardManage=e.card,c.controllBar=new Lhe(wme(c)),c.selection=new nme(wme(c)),c.command=new Xhe(wme(c)),c.hotkey=new sme(wme(c)),c.innerSchema=Cde.a.filter((function(e){var t=!0;return Sde()(e)?(e.table||e.tr||e.td||e.th||e.tbody||e.col||e.thead||e.h1||e.h2||e.h3||e.h4||e.h5||e.h6)&&(t=!1):"table"!==e&&"tr"!==e&&"td"!==e&&"th"!==e&&"col"!==e&&"colgroup"!==e&&"tbody"!==e&&"thead"!==e||(t=!1),t})),c.history=new ime(wme(c)),c.mobile="mobile"===c.engine.options.type,c.changed=!1,c):bme(c)}return t=i,(n=[{key:"select",value:function(){if(this.state.readonly)kme(xme(i.prototype),"select",this).call(this);else{var e=this.container;e[0].childNodes.length>0&&e.addClass("lake-table-selected")}}},{key:"unselect",value:function(){if(this.state.readonly)kme(xme(i.prototype),"unselect",this).call(this);else{var e=this.container;e[0].childNodes.length>0&&e.removeClass("lake-table-selected")}}},{key:"selectByOther",value:function(e){var t=this.container;t[0].childNodes.length>0&&t.css("outline","2px solid "+e)}},{key:"unselectByOther",value:function(){var e=this.container;e[0].childNodes.length>0&&e.css("outline","")}},{key:"getTableHeight",value:function(){return Ub(this.tableRoot[0])}},{key:"onTableSizeChange",value:function(){this.container.css({"min-height":this.getTableHeight()+"px"})}},{key:"render",value:function(){this.doRender.apply(this,arguments)}},{key:"doRender",value:function(e,t,n){var r=this.engine;if(this.toggleMargin(),e.on("dragstart",(function(e){e.stopPropagation(),e.preventDefault()})),t.html&&(r||(this.contentView.schema.add(lme),t.html=new $f(t.html,this.contentView.schema,this.contentView.conversion).toValue()),t.html=Cl.transformCustomTags(t.html)),!r){var o=this.template.htmlView(t);return e.append(o),nAe.card.renderAll(e,void 0,this.contentView),this.viewport=e.find(this.template.VIEWPORT_READER),this.scrollbar=new Pb(this.viewport,!0,!1,!0),void(0===this.contentView.docVerstion&&this.container.css({"margin-top":"24px","margin-bottom":"24px"}))}var i=this.template.htmlEdit(t);e.append(i),nAe.card.renderAll(e,void 0,r),this.tableRoot=e.find(this.template.TABLE_CLASS),this.viewport=e.find(this.template.VIEWPORT),this.selection.init(),this.controllBar.init(),this.scrollbar=new Pb(this.viewport,!0,!1,!0),this.bindEditEvents(),t.html&&!n||(this.changed=!0,this.setCardValue(n))}}])&&vme(t.prototype,n),r&&vme(t,r),i}(uw);Cme.type="block",Cme.uid=!0,Cme.canSearch=!0;var _me=n(181),Eme=n.n(_me),jme=Cl.escape,Sme=function(e,t){var n='\n      <div class="lake-video-icon">\n        <svg width="32px" height="24px" viewBox="0 0 32 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0.25">\n            <g transform="translate(-704.000000, -550.000000)" fill="#000000" fill-rule="nonzero">\n              <g transform="translate(704.000000, 550.000000)">\n                <g>\n                  <path d="M13.09375,17.30625 L20.65625,12.375 C20.95,12.16875 20.95,11.809375 20.65625,11.603125 L13.09375,6.696875 C12.66875,6.4 12,6.6375 12,7.084375 L12,16.921875 C12,17.365625 12.671875,17.603125 13.09375,17.30625 Z" id="Path"></path>\n                  <path d="M30,0 L2,0 C0.896875,0 0,0.896875 0,2 L0,22 C0,23.103125 0.896875,24 2,24 L30,24 C31.103125,24 32,23.103125 32,22 L32,2 C32,0.896875 31.103125,0 30,0 Z M5.25,21.25 C5.25,21.525 5.025,21.75 4.75,21.75 L2.5,21.75 C2.225,21.75 2,21.525 2,21.25 L2,18.5 C2,18.225 2.225,18 2.5,18 L4.75,18 C5.025,18 5.25,18.225 5.25,18.5 L5.25,21.25 Z M5.25,13.375 C5.25,13.65 5.025,13.875 4.75,13.875 L2.5,13.875 C2.225,13.875 2,13.65 2,13.375 L2,10.625 C2,10.35 2.225,10.125 2.5,10.125 L4.75,10.125 C5.025,10.125 5.25,10.35 5.25,10.625 L5.25,13.375 Z M5.25,5.5 C5.25,5.775 5.025,6 4.75,6 L2.5,6 C2.225,6 2,5.775 2,5.5 L2,2.75 C2,2.475 2.225,2.25 2.5,2.25 L4.75,2.25 C5.025,2.25 5.25,2.475 5.25,2.75 L5.25,5.5 Z M24.75,21.75 L7.25,21.75 L7.25,2.25 L24.75,2.25 L24.75,21.75 Z M30,21.25 C30,21.525 29.775,21.75 29.5,21.75 L27.25,21.75 C26.975,21.75 26.75,21.525 26.75,21.25 L26.75,18.5 C26.75,18.225 26.975,18 27.25,18 L29.5,18 C29.775,18 30,18.225 30,18.5 L30,21.25 Z M30,13.375 C30,13.65 29.775,13.875 29.5,13.875 L27.25,13.875 C26.975,13.875 26.75,13.65 26.75,13.375 L26.75,10.625 C26.75,10.35 26.975,10.125 27.25,10.125 L29.5,10.125 C29.775,10.125 30,10.35 30,10.625 L30,13.375 Z M30,5.5 C30,5.775 29.775,6 29.5,6 L27.25,6 C26.975,6 26.75,5.775 26.75,5.5 L26.75,2.75 C26.75,2.475 26.975,2.25 27.25,2.25 L29.5,2.25 C29.775,2.25 30,2.475 30,2.75 L30,5.5 Z" id="Shape"></path>\n                </g>\n              </g>\n            </g>\n          </g>\n        </svg>\n      </div>\n    ',r='\n      <i class="lake-video-anticon">\n        <svg viewBox="0 0 1024 1024" class="lake-video-anticon-spin" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true">\n          <path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path>\n        </svg>\n      </i>\n    ',o='\n      <div class="lake-video-icon">\n        <svg width="41px" height="29px" viewBox="0 0 41 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g transform="translate(-704.000000, -550.000000)">\n              <g id="Group-2" transform="translate(704.000000, 550.000000)">\n                <g id="video" fill="#000000" fill-rule="nonzero" opacity="0.449999988">\n                  <path d="M13.09375,17.30625 C12.671875,17.603125 12,17.365625 12,16.921875 L12,7.084375 C12,6.6375 12.66875,6.4 13.09375,6.696875 L20.65625,11.603125 C20.95,11.809375 20.95,12.16875 20.65625,12.375 L13.09375,17.30625 Z M30,0 C31.103125,0 32,0.896875 32,2 L32,22 C32,23.103125 31.103125,24 30,24 L2,24 C0.896875,24 0,23.103125 0,22 L0,2 C0,0.896875 0.896875,0 2,0 L30,0 Z M5.25,21.25 L5.25,18.5 C5.25,18.225 5.025,18 4.75,18 L2.5,18 C2.225,18 2,18.225 2,18.5 L2,21.25 C2,21.525 2.225,21.75 2.5,21.75 L4.75,21.75 C5.025,21.75 5.25,21.525 5.25,21.25 Z M5.25,13.375 L5.25,10.625 C5.25,10.35 5.025,10.125 4.75,10.125 L2.5,10.125 C2.225,10.125 2,10.35 2,10.625 L2,13.375 C2,13.65 2.225,13.875 2.5,13.875 L4.75,13.875 C5.025,13.875 5.25,13.65 5.25,13.375 Z M5.25,5.5 L5.25,2.75 C5.25,2.475 5.025,2.25 4.75,2.25 L2.5,2.25 C2.225,2.25 2,2.475 2,2.75 L2,5.5 C2,5.775 2.225,6 2.5,6 L4.75,6 C5.025,6 5.25,5.775 5.25,5.5 Z M24.75,21.75 L24.75,2.25 L7.25,2.25 L7.25,21.75 L24.75,21.75 Z M30,21.25 L30,18.5 C30,18.225 29.775,18 29.5,18 L27.25,18 C26.975,18 26.75,18.225 26.75,18.5 L26.75,21.25 C26.75,21.525 26.975,21.75 27.25,21.75 L29.5,21.75 C29.775,21.75 30,21.525 30,21.25 Z M30,13.375 L30,10.625 C30,10.35 29.775,10.125 29.5,10.125 L27.25,10.125 C26.975,10.125 26.75,10.35 26.75,10.625 L26.75,13.375 C26.75,13.65 26.975,13.875 27.25,13.875 L29.5,13.875 C29.775,13.875 30,13.65 30,13.375 Z M30,5.5 L30,2.75 C30,2.475 29.775,2.25 29.5,2.25 L27.25,2.25 C26.975,2.25 26.75,2.475 26.75,2.75 L26.75,5.5 C26.75,5.775 26.975,6 27.25,6 L29.5,6 C29.775,6 30,5.775 30,5.5 Z" id="Combined-Shape"></path>\n                </g>\n                <g id="error-fill" transform="translate(21.000000, 10.000000)">\n                  <rect id="Rectangle" fill="#000000" opacity="0" x="0" y="0" width="20" height="20"></rect>\n                  <path d="M19.0267927,16.510301 L19.0272631,16.5111171 C19.4269215,17.2064579 18.9263267,18.0729167 18.125,18.0729167 L1.875,18.0729167 C1.07367326,18.0729167 0.573078461,17.2064579 0.973207261,16.510301 L9.0970084,2.44988987 C9.28650026,2.11750251 9.63068515,1.92708333 10,1.92708333 C10.368224,1.92708333 10.7098796,2.11659543 10.9017927,2.447801 L19.0267927,16.510301 Z" id="Path" stroke="#FFFFFF" stroke-width="0.833333333" fill="#FFFFFF"></path>\n                  <path d="M18.6660156,16.71875 L10.5410156,2.65625 C10.4199219,2.44726562 10.2109375,2.34375 10,2.34375 C9.7890625,2.34375 9.578125,2.44726562 9.45898438,2.65625 L1.33398438,16.71875 C1.09375,17.1367188 1.39453125,17.65625 1.875,17.65625 L18.125,17.65625 C18.6054688,17.65625 18.90625,17.1367188 18.6660156,16.71875 Z M9.375,8.125 C9.375,8.0390625 9.4453125,7.96875 9.53125,7.96875 L10.46875,7.96875 C10.5546875,7.96875 10.625,8.0390625 10.625,8.125 L10.625,11.71875 C10.625,11.8046875 10.5546875,11.875 10.46875,11.875 L9.53125,11.875 C9.4453125,11.875 9.375,11.8046875 9.375,11.71875 L9.375,8.125 Z M10,15 C9.48242188,15 9.0625,14.5800781 9.0625,14.0625 C9.0625,13.5449219 9.48242188,13.125 10,13.125 C10.5175781,13.125 10.9375,13.5449219 10.9375,14.0625 C10.9375,14.5800781 10.5175781,15 10,15 Z" id="Shape" fill="#FAAD14" fill-rule="nonzero"></path>\n                </g>\n              </g>\n            </g>\n          </g>\n        </svg>\n      </div>\n    ',i='<span class="lake-error-icon">X</span>';if("pending"===e.status)return'\n      <div class="lake-video">\n        <div class="lake-video-content lake-video-uploading">\n          <div class="lake-video-center">\n            '.concat(n,'\n            <div class="lake-video-name">').concat(jme(e.name)," (").concat(Eme()(e.size),')</div>\n            <div data-role="progress" class="lake-video-progress">\n              ').concat(r,'\n              <span data-role="percent" class="percent">').concat(jme(t.pending),"</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    ");if("uploading"===e.status)return'\n      <div class="lake-video">\n        <div class="lake-video-content lake-video-uploading">\n          <div class="lake-video-center">\n            '.concat(n,'\n            <div class="lake-video-name">').concat(jme(e.name)," (").concat(Eme()(e.size),')</div>\n            <div data-role="progress" class="lake-video-progress">\n              ').concat(r,'\n              <span data-role="percent" class="percent">').concat(jme(e.percent),"%</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    ");if("uploaded"===e.status||"done"===e.status)return'\n      <div class="lake-video">\n        <div class="lake-video-content">\n          <div class="lake-video-center">\n            '.concat(n,'\n            <div class="lake-video-name">').concat(jme(e.name)," ").concat(e.size?"("+Eme()(e.size)+")":"",'</div>\n            <div class="lake-video-converting">\n              ').concat(r,"\n              <span>").concat(jme("done"===e.status?t.fetching:t.transcoding),"</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    ");if("error"===e.status){var a="";switch(e.code){case"reject":a=t.rejectError;break;default:a=t.commonError}var c="reject"===e.code;return'\n      <div class="lake-video">\n        <div class="lake-video-content lake-video-error">\n          <div class="lake-video-center">\n            '.concat(c?o:"",'\n            <div class="lake-video-name">').concat(jme(e.name||""),'</div>\n            <div class="lake-video-message">').concat(c?"":i).concat(jme(e.message||a),"</div>\n          </div>\n        </div>\n      </div>\n    ")}return'\n    <div class="lake-video">\n      <div class="lake-video-content lake-video-done"></div>\n    </div>\n  '};function Pme(e){return(Pme="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rme(e){return function(e){if(Array.isArray(e))return Tme(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Tme(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tme(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tme(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ame(e,t,n){return(Ame="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fme(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Mme(e,t){return(Mme=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nme(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fme(e);if(t){var o=Fme(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ime(this,n)}}function Ime(e,t){return!t||"object"!==Pme(t)&&"function"!=typeof t?Lme(e):t}function Lme(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fme(e){return(Fme=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zme=Lu()("editor:card:video"),Bme=Cl.sanitizeUrl,Vme=6,qme=5,Hme=["vod.yuque.com","intranetproxy.alipay.com","cdn.nlark.com","lark.alipay.com"],Ume=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mme(e,t)}(i,e);var t,n,r,o=Nme(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).focusCard=function(){t.engine.change.focusCard(t.cardRoot)},t.startChecker=function(e,n){var r=Lme(t);zme("初始化状态轮询: %j",t.value);!function t(){r.queryStates((function(){e()}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"reject"===e.code?n(e):setTimeout(t,3e3)}))}()},t.hasOldCoverUrl=function(){return t.value.coverUrl&&t.value.coverUrl.includes("?auth_key=")},t.handleOldCoverageUrl=function(){t.hasOldCoverUrl()&&(t.value.coverUrl=null)},t.getDocUrl=function(){var e=window.appData,t=Lh()(e,"group.login"),n=Lh()(e,"book.slug"),r=Lh()(e,"doc.slug");if(t&&n&&r)return"".concat(location.protocol,"//").concat(location.host,"/").concat(t,"/").concat(n,"/").concat(r)},t.updatePlayerState=function(e){t.value.aliyunVideoSrc=e.aliyunVideoSrc||null,t.value.taobaoVideoId=e.taobaoVideoId||null,t.value.uploaderId=e.userId||null,e.taobaoVideoId&&e.userId&&t.getTopEngine().setGlobalData("video.autoKey."+e.taobaoVideoId,e.auth_key),t.value.docUrl=t.getDocUrl(),t.setValue(t.value)},t.queryStates=function(e,n){t.num=t.num||0,t.num++;var r=function(n){var r=Lh()(n,"PlayInfoList.PlayInfo");t.updatePlayerState({aliyunVideoSrc:r[r.length-1].PlayURL}),e()},o=function(n){t.updatePlayerState(n),e()},i=function(e,n){var r=Lh()(e,"snapShotRes.MediaSnapshot");if(r&&r.Total){var o=Math.floor(r.Total/2),i=Lh()(r,"Snapshots.Snapshot");if(t.value.coverUrl=i?Lh()(r,"Snapshots.Snapshot[".concat(o,"].Url")):Lh()(r,"Snapshots[".concat(o,"].Url")),t.isContentView)return n();t.engine.asyncEvent.emitAsync("video:coverurl",{url:t.value.coverUrl}).then((function(e){e&&e[0]&&(t.value.coverUrl=e[0],t.setValue(t.value)),n()}))}else n()};Ma({method:"get",url:Lh()(t.engine||t.contentView,"options.video.queryAction")||"/api/video/query",dataType:"json",data:{video_id:t.value.videoId},success:function(e){var a=e.data;zme("第 %d 次查询结果: %j",t.num,t.value),a.RequestId?"Forbidden.IllegalStatus"===a.Code?n():(t.handleOldCoverageUrl(),t.value.coverUrl?r(a):i(a,(function(){return r(a)}))):a.state===Vme?(t.handleOldCoverageUrl(),t.value.coverUrl?o(a):i(a,(function(){return o(a)}))):a.state===qme?n({code:"reject"}):n()},error:function(e){n({code:"server-query"}),zme("状态轮询异常: %O",e)},processData:!0})},t.initPlayer=function(e){if(t.value.uploaderId&&t.value.taobaoVideoId){e="https://cloud.video.taobao.com/play/u/".concat(t.value.uploaderId,"/p/1/e/6/t/1/").concat(t.value.taobaoVideoId,".mp4");var n=t.getTopEngine().getGlobalData("video.autoKey."+t.value.taobaoVideoId);n&&(e+="?auth_key=".concat(n)),zme("鉴权auth_key: %s",n)}t.value.aliyunVideoSrc&&(e=t.value.aliyunVideoSrc),zme("初始化播放器: %s",e),t.src=Bme(e),t.createPlayer(t.src,t.value.coverUrl)},t.engine=e,t.isContentView=!e,t.isContentView?Ime(t):(t.card=e.card,t)}return t=i,(n=[{key:"embedToolbar",value:function(){var e=this,t=[];return this.state.readonly&&this.value.download?t=[{type:"download",onClick:this.downloadFile.bind(this)}]:this.state.readonly||"done"!==this.value.status||(t=[{type:"download",onClick:this.downloadFile.bind(this)},{type:"separator"}]),t.concat([{type:"dnd"},{type:"copy"},{type:"preferences",onClick:function(){e.setSidebar(),e.openPreferences=!0}},{type:"separator"}].concat(Rme(this.getMoreEmbedToolbarConfig())))}},{key:"setSidebar",value:function(){var e=this.value,t=this.locale;this.engine.sidebar.set({name:"video",title:t.preferences,className:"lake-video-sidebar",data:e})}},{key:"downloadFile",value:function(){this.src&&(this.engine&&this.engine.options&&this.engine.options.downloadVideoHandler?this.engine.options.downloadVideoHandler(this.src):window.open(this.src))}},{key:"activate",value:function(){this.container.find(".lake-video-content").addClass("lake-video-content-active")}},{key:"restoreSideBar",value:function(){this.engine&&this.openPreferences&&(this.engine.sidebar.restore("video"),this.openPreferences=!1)}},{key:"unactivate",value:function(){this.container.find(".lake-video-content").removeClass("lake-video-content-active"),this.restoreSideBar()}},{key:"isEqualValue",value:function(e,t){return e.coverUrl===t.coverUrl&&e.docUrl===t.docUrl&&e.name===t.name&&e.percent===t.percent&&e.size===t.size&&e.status===t.status&&e.taobaoVideoId===t.taobaoVideoId&&e.uploaderId===t.uploaderId&&e.videoId===t.videoId}},{key:"createPlayer",value:function(e,t){var n=this,r=window.lozad_observer,o=document.createElement("video");o.preload="none",o.setAttribute(r?"data-src":"src",e),o.setAttribute("webkit-playsinline","webkit-playsinline"),o.setAttribute("playsinline","playsinline"),this.value&&this.value.width&&(o.style.width=this.value.width+"px",o.style.maxWidth="100%"),this.value&&this.value.height&&(o.style.height=this.value.height+"px"),o.className="lozad",t&&(o.poster=t);var i=this.container.find(".lake-video-content");i.addClass("lake-video-done"),i.empty(),i.append(o),r&&r.observe(),o.oncontextmenu=function(){return!1},setTimeout((function(){o.controls=!0,n.isContentView&&(o.controlsList="nodownload")}),0)}},{key:"isInWhiteList",value:function(e){var t=e.aliyunVideoSrc||e.src;if(t)try{var n=new URL(t).hostname;if(n)return Hme.includes(n)}catch(e){}return!0}},{key:"render",value:function(e,t){var n=this;this.container=e,this.value=t||{},e.empty();var r=ru(Sme(this.value,this.locale));if(this.value.src){if(!this.isInWhiteList(this.value))return;return e.append(r),void this.initPlayer(this.value.src)}if(this.isContentView){if(zme("阅读模式渲染: %j",this.value),!this.isInWhiteList(this.value))return;if("error"===this.value.status)return;"done"===this.value.status?this.queryStates((function(){e.append(r),n.initPlayer()}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.value.status="error",n.value.code=t.code,r=ru(Sme(n.value,n.locale)),e.append(r)})):"error"===this.value.status&&e.append(r)}else zme("编辑模式渲染: %j",this.value),"uploaded"===this.value.status?(e.append(r),this.startChecker((function(){n.value.status="done",n.setValue(n.value),n.render(n.container,n.value)}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.value.status="error",n.value.code=e.code,n.setValue(n.value),n.render(n.container,n.value)}))):"done"===this.value.status?this.queryStates((function(){e.append(r),n.initPlayer()}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.value.status="error",n.value.code=t.code,r=ru(Sme(n.value,n.locale)),e.append(r)})):e.append(r)}},{key:"_renderError",value:function(e){var t=this.container,n=this.locale,r=ru(Sme(e,n));t.empty(),t.append(r)}},{key:"destroy",value:function(){Ame(Fme(i.prototype),"destroy",this).call(this),this.restoreSideBar()}}])&&Dme(t.prototype,n),r&&Dme(t,r),i}(uw);Ume.type="block",Ume.uid=!0;n(705);function Wme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kme=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"delegate",value:function(e,t,n,r){var o=!1,i=function(n){var i=n.clientX,a=n.clientY,c=e[0].getBoundingClientRect(),s=t[0].getBoundingClientRect();o=!0;var l=Un()((function(e){o&&r(!0,c,s,e.clientX-i,e.clientY-a)}),32),u=function(e){l(e)};ru(document).on("mousemove",u,!1),ru(document).on("mouseup",(function e(t){ru(document).off("mousemove",u,!1),ru(document).off("mouseup",e,!1),o?(o=!1,r(!1,c,s,t.clientX-i,t.clientY-a)):o=!1}),!1)};return n.on("mousedown",i,!1),function(){n.off("mousedown",i,!1)}}}],(n=null)&&Wme(t.prototype,n),r&&Wme(t,r),e}();function Yme(e){return(Yme="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xme(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xme(Object(n),!0).forEach((function(t){Gme(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xme(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gme(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jme(e,t){return(Jme=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qme(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tve(e);if(t){var o=tve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eve(this,n)}}function eve(e,t){return!t||"object"!==Yme(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tve(e){return(tve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nve=300,rve=150,ove=450;var ive=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jme(e,t)}(i,e);var t,n,r,o=Qme(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this))._$boundaryNode=null,n._$container=null,n._$resizePanel=null,n._handlers=[],n._lt=null,n._rt=null,n._lb=null,n._rb=null,n._$boundaryNode=e,n._$container=t,t.append('<div class="lake-video-resizer"><div class="lt"></div><div class="rt"></div><div class="rb"></div><div class="lb"></div><div class="resize-rect"></div></div>'),n._$resizePanel=t.find(".lake-video-resizer"),n._lt=n._$resizePanel.find(".lt"),n._rt=n._$resizePanel.find(".rt"),n._lb=n._$resizePanel.find(".lb"),n._rb=n._$resizePanel.find(".rb"),n._resizeRect=n._$resizePanel.find(".resize-rect"),n._bindEvent(),n}return t=i,(n=[{key:"_bindEvent",value:function(){var e=this;this._handlers.push(Kme.delegate(this._$boundaryNode,this._$container,this._lt,(function(t,n,r,o,i){o<0&&(o=0);var a=Math.max(Math.min(n.width,r.width-o),nve),c=Math.max(Math.min(ove,r.height-i),rve);e._onChange(t,a,c,"lt")}))),this._handlers.push(Kme.delegate(this._$boundaryNode,this._$container,this._rt,(function(t,n,r,o,i){var a=Math.max(Math.min(n.width,r.width+o),nve),c=Math.max(Math.min(ove,r.height-i),rve);e._onChange(t,a,c,"rt")}))),this._handlers.push(Kme.delegate(this._$boundaryNode,this._$container,this._lb,(function(t,n,r,o,i){o<0&&(o=0);var a=Math.max(Math.min(n.width,r.width-o),nve),c=Math.max(Math.min(ove,r.height+i),rve);e._onChange(t,a,c,"lb")}))),this._handlers.push(Kme.delegate(this._$boundaryNode,this._$container,this._rb,(function(t,n,r,o,i){var a=Math.max(Math.min(n.width,r.width+o),nve),c=Math.max(Math.min(ove,r.height+i),rve);e._onChange(t,a,c,"rb")})))}},{key:"_unbindEvent",value:function(){this._handlers.forEach((function(e){e&&e()})),this._$resizePanel.remove()}},{key:"show",value:function(){this._$resizePanel.addClass("show")}},{key:"hide",value:function(){this._$resizePanel.removeClass("show")}},{key:"destroy",value:function(){this._unbindEvent()}},{key:"_onChange",value:function(e,t,n,r){e?this._updateResizeRect(t,n,r):(this.emit("change",{width:t,height:n}),this._hideResizeRect())}},{key:"_updateResizeRect",value:function(e,t,n){var r={width:e+"px",height:t+"px",display:"block"};"lt"===n?r=$me($me({},r),{},{right:0,bottom:0,top:"auto",left:"auto"}):"rt"===n?r=$me($me({},r),{},{left:0,bottom:0,top:"auto",right:"auto"}):"lb"===n?r=$me($me({},r),{},{right:0,top:0,left:"auto",bottom:"auto"}):"rb"===n&&(r=$me($me({},r),{},{left:0,top:0,right:"auto",bottom:"auto"})),this._resizeRect.css(r)}},{key:"_hideResizeRect",value:function(){this._resizeRect.css("display","none")}}])&&Zme(t.prototype,n),r&&Zme(t,r),i}(_n.a);function ave(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var cve=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._videoCard=null,this._cb=null,this._resizer=null,this._videoCard=t,this._cb=n}var t,n,r;return t=e,(n=[{key:"createResizer",value:function(){var e=this._videoCard,t=this._cb,n=e.container.find(".lake-video-done");n.length&&(this._resizer=new ive(e.container,n),this._resizer.on("change",(function(e){var n=e.width,r=e.height;t&&t(n,r)})))}},{key:"enable",value:function(){this._resizer?this._resizer.show():(this.createResizer(),this._resizer&&this._resizer.show())}},{key:"disable",value:function(){this._resizer&&this._resizer.hide()}},{key:"destroy",value:function(){this._resizer&&this._resizer.destroy()}}])&&ave(t.prototype,n),r&&ave(t,r),e}();function sve(e){return(sve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fve(e,t,n){return(fve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mve(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function pve(e,t){return(pve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mve(e);if(t){var o=mve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hve(this,n)}}function hve(e,t){return!t||"object"!==sve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mve(e){return(mve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vve=Cl.sanitizeUrl,yve={en:{download:"Download",rejectError:"Video content is broken",commonError:"Video playback error, please try again later",transcoding:"Transcoding, please wait a moment",preferences:"Local video settings",pending:"Waiting...",aborted:"Upload interrupted",transcodeError:"Transcoding failed",networkError:"Network error",invalidVideo:"The video is damaged",queryError:"Query transcoding failed",fetching:"Getting video"},"zh-cn":{download:"下载",rejectError:"视频链接已损坏",commonError:"视频无法播放，请稍后重试",transcoding:"正在转码中，请稍候...",preferences:"本地视频设置",pending:"等待上传中...",aborted:"上传被中断",transcodeError:"转码失败",networkError:"网络错误，请稍后再试",invalidVideo:"视频已损坏",queryError:"查询转码失败",fetching:"获取视频中"}},gve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pve(e,t)}(i,e);var t,n,r,o=dve(i);function i(){return lve(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(e,t){this.value&&"done"===this.value.status&&this.videoURL||this.forceRender(e,t)}},{key:"forceRender",value:function(e,t){if(this.container=e,this.value=t||{},this.locale=this.locale||yve[this.getLang()],this.toggleMargin(),this.refreshToolbar(),"done"!==this.value.status&&"uploaded"!==this.value.status&&(!this.value.src||this.value.status)||this.value.taskId||this.value.videoId)return this._renderNewVideo();fve(mve(i.prototype),"render",this).call(this,e,this.value)}},{key:"activate",value:function(){var e=this;this.videoSizeController?this.videoSizeController.enable():this.engine&&"done"===this.value.status&&this.engine.options.allowResizeVideo&&(this.videoSizeController=new cve(this,(function(t,n){e._setVideoSize(t,n)})),this.videoSizeController.enable())}},{key:"unactivate",value:function(){this.videoSizeController&&this.videoSizeController.disable()}},{key:"_setVideoSize",value:function(e,t){this.setValue({width:e,height:t},!0);var n=this.container.find("video");n.length&&n.css({width:e+"px",height:t+"px",maxWidth:"100%"})}},{key:"rerender",value:function(){this.render(this.container,this.value)}},{key:"destroy",value:function(){this.checker&&this.checker.cancel(),this.videoSizeController&&this.videoSizeController.destroy(),fve(mve(i.prototype),"destroy",this).call(this)}},{key:"_renderNewVideo",value:function(){var e=this,t=this._checkError();if(t)this._renderError(t);else{var n=this.container,r=ru(Sme(this.value,this.locale));if(n.empty(),n.append(r),!this.value.videoId&&(this.value.src||this.value.aliyunVideoSrc))return this.src=this.value.src||this.value.aliyunVideoSrc,this.setValue({status:"done"},!0),this.value.status="done",this.refreshToolbar(),void this._initNewPlayer(this.src);if(this.value.videoId&&!this.statusIsChecked)if(this.videoURL)this.src=this.videoURL,this.setValue({status:"done"},!0),this.value.status="done",this.refreshToolbar(),this._initNewPlayer(this.videoURL,this.coverURL);else{var o=OO.checkStatus(this.getViewEngine(),this.value.videoId);this.checker=o,o.promise.then((function(t){e.statusIsChecked=!0,t.success?(e.coverURL=vve(t.data.cover),e.videoURL=vve(t.data.video),e.src=e.videoURL,e.setValue({status:"done"},!0),e.value.status="done",e.refreshToolbar(),e._initNewPlayer(e.videoURL,e.coverURL)):(e.setValue({status:"error",message:e.locale.transcodeError}),e.value.status="error",e.value.message=e.locale.transcodeError,e.rerender())})).catch((function(t){e.statusIsChecked=!0,console.error(t),e._renderError({status:"error",message:e.locale.networkError})}))}}}},{key:"_initNewPlayer",value:function(e,t){var n=ru(Sme(this.value,this.locale));this.container.empty(),this.container.append(n),this.createPlayer(e,t)}},{key:"_renderError",value:function(e){var t=this.container,n=this.locale,r=ru(Sme(e,n));t.empty(),t.append(r)}},{key:"_checkError",value:function(){var e=this.value;if(!e)return{status:"error",message:this.locale.aborted};if(e.src||e.aliyunVideoSrc)return this.isInWhiteList(this.value)?null:{status:"error",message:this.locale.invalidVideo};if("uploaded"!==e.status&&"done"!==e.status&&"error"!==e.status){if(!e.taskId||!OO.hasTask(this.engine,e.taskId))return{status:"error",name:e.name,message:this.locale.aborted}}else if(!e.videoId){if("done"===e.status||"uploaded"===e.status)return{status:"error",name:e.name,message:this.locale.invalidVideo};if("error"!==e.status)return{status:"error",name:e.name,message:this.locale.queryError}}return null}}])&&uve(t.prototype,n),r&&uve(t,r),i}(Ume),bve={en:{download:"Download",placeholder:"Please paste the link here",submit:"submit",addressInvalid:"Link error, please check and re-enter",validUrl:"Illegal link, can't be embedded",uploading:"uploading",iframeOverLimit:"Documents support up to ${limit} embedded cards",iframeOverLimitCardView:"Embed cards can't be more than ${limit}",canNotShowCard:"Card cannot be displayed",stillTransfering:"Some files are still transfering",stillUploading:"Some files are still in the process of uploading",transfering:"Transferring",invalid:"Attachment invalid",wechatAlert:"Wechat does not support third-party content",example:"Example",help:"Help"},"zh-cn":{download:"下载",placeholder:"请在此粘贴链接",submit:"确定",addressInvalid:"链接错误，请检查后重新输入",validUrl:"输入链接有误，无法嵌入",uploading:"上传中",iframeOverLimit:"文档最多支持 ${limit} 张嵌入卡片",iframeOverLimitCardView:"嵌入卡片不能多于 ${limit} 张",canNotShowCard:"卡片无法展示",stillTransfering:"有文件还在转存中",stillUploading:"有文件还在上传中",transfering:"转存中",invalid:"附件已失效",wechatAlert:"小程序不支持查看第三方内容",example:"查看示例",help:"帮助"}};function wve(e){return(wve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ove(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cve(e,t,n){return(Cve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Sve(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _ve(e,t){return(_ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sve(e);if(t){var o=Sve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jve(this,n)}}function jve(e,t){return!t||"object"!==wve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sve(e){return(Sve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_ve(e,t)}(i,e);var t,n,r,o=Eve(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kve(Object(n),!0).forEach((function(t){xve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({minHeight:80,defaultHeight:136,transition:"all 0.3s linear",resize:!0},e),t}return t=i,(n=[{key:"isError",value:function(){return!1}},{key:"getHeight",value:function(){var e=this.options.defaultHeight;return this.value.height||e}},{key:"renderError",value:function(){}},{key:"addIframeItem",value:function(){var e=this.getViewEngine().iframeHelper,t={};return this.iframeItem=t,!e||e.add(t)}},{key:"renderIframe",value:function(e,t,n){var r=this.getViewEngine();r.iframeHelper?this.iframeItem&&(this.iframeItem.iframe=e,this.iframeItem.url=t,r.iframeHelper.render(this.iframeItem,n,this.state.readonly)):e.attr("src",t)}},{key:"hitBlack",value:function(){return!0}},{key:"activate",value:function(){this.showRisizeController(),this.hideMask()}},{key:"restoreSideBar",value:function(){this.engine&&this.openPreferences&&(this.engine.sidebar.restore(this.sidebarName),this.openPreferences=!1)}},{key:"unactivate",value:function(){this.hideRisizeController(),this.showMask(),this.restoreSideBar()}},{key:"onResizeComplete",value:function(e){this.setValue({height:e})}},{key:"renderResizeController",value:function(){var e,t,n,r=this,o=this.root,i=this.options.minHeight;this.createResizeController(o,{onDragstart:function(){n=Ub(r.iframe[0]),r.iframe.css("transition","none"),r.showMask(),e=!0},onDragmove:function(e){t=(t=n+e)>=i?t:i,r.iframe.css("height",t+"px"),r.iframe.attr("data-height",t)},onDragend:function(){r.iframe.css("transition",r.transition),e&&(r.hideMask(),e=void 0,r.onResizeComplete(Ub(r.iframe[0]))),t=void 0}}),!0===this.state.activated&&this.showRisizeController()}},{key:"showMask",value:function(){this.mask&&this.mask.show()}},{key:"hideMask",value:function(){this.mask&&this.mask.hide()}},{key:"_removeIframe",value:function(){var e=this.getViewEngine();this.iframeItem&&e.iframeHelper&&(e.iframeHelper.remove(this.iframeItem),this.iframeItem=void 0)}},{key:"destroy",value:function(){this._removeIframe(),Cve(Sve(i.prototype),"destroy",this).call(this)}},{key:"clear",value:function(){this._removeIframe(),this.container.empty(),this.removeEvent()}},{key:"saveValue",value:function(){var e=this.iframe;e&&this.setValue({height:Ub(e[0])})}},{key:"getEmbedEmbedTitle",value:function(){return""}},{key:"renderOverLimitView",value:function(){var e=this.locale;this.container.append('<div style="\n      background: #fafafa;\n      border: 1px solid #d9d9d9;\n      color: rgba(0,0,0,0.45);\n      text-align: center;\n      padding: 0 12px;\n    ">\n      <p style="margin-bottom: 22px; padding-top: 4px; text-align: left; color: rgba(0,0,0,.65)">'.concat(this.getEmbedEmbedTitle(),'</p>\n      <p style="margin-bottom: 8px;"><img src="https://gw.alipayobjects.com/zos/basement_prod/e2bcbfed-6e3a-4f3b-957f-f52a460cfa43.svg"/></p>\n      <p>').concat(e.canNotShowCard,'</p>\n      <p style="margin-bottom: 40px">').concat(this.getiframeOverLimitCardViewTips(),"</p>\n    </div>"))}},{key:"getUrl",value:function(){}},{key:"getiframeOverLimitCardViewTips",value:function(){var e=this.locale,t=this.getViewEngine().iframeHelper;if(t)return e.iframeOverLimitCardView.replace("${limit}",t.options.limit)}},{key:"getiframeOverLimitTips",value:function(){var e=this.locale,t=this.getViewEngine().iframeHelper;if(t)return e.iframeOverLimit.replace("${limit}",t.options.limit)}},{key:"renderView",value:function(){var e=this,t=this.state.readonly,n=this.getUrl();if(this.clear(),this.isError()){if(t)return;this.renderError()}else this.addIframeItem()?n&&this.hitBlack(n)?fs.error(this.locale.validUrl):t?this.renderReadView():(this.renderEditView(),this.bindEvent(this.engine,"save:before",(function(){return e.saveValue()}))):n?this.renderOverLimitView():(fs.error(this.getiframeOverLimitTips()),this.remove())}},{key:"render",value:function(){var e=this.getLang(),t=bve[e];this.locale=t,this.value=this.value||{},this.renderView(),this.toggleMargin(),this.state.readonly&&this.isError()||this.container.css("border","1px solid #d9d9d9")}}])&&Ove(t.prototype,n),r&&Ove(t,r),i}(uw);function Rve(e){return function(e){if(Array.isArray(e))return Tve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Tve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tve(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ave(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dve(Object(n),!0).forEach((function(t){Mve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nve(e){return(Nve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ive(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fve(e,t,n){return(Fve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hve(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function zve(e,t){return(zve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hve(e);if(t){var o=Hve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vve(this,n)}}function Vve(e,t){return!t||"object"!==Nve(t)&&"function"!=typeof t?qve(e):t}function qve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hve(e){return(Hve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Uve=Cl.escape,Wve=Cl.sanitizeUrl,Kve="data-card-alias",Yve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zve(e,t)}(i,e);var t,n,r,o=Bve(i);function i(){var e;Ive(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).handleInputKeydown=function(t){kb("tab",t)&&(t.preventDefault(),t.stopPropagation()),kb("enter",t)&&e.handleSubmit(e.getSrcFromInput())},e.handleSubmit=function(t){var n=e.getOptions(),r=null,o=null;if(e.getDocEmbedURLWithError){var i=e.getDocEmbedURLWithError(t);r=i.url,o=i.message}else r=n.getDocEmbedURL?n.getDocEmbedURL(t):e.getDocEmbedURL(t);var a=null;r&&"object"===Nve(r)&&(a=r.name,o=r.message,r=r.url);var c=qve(e).locale;r?(a&&e.cardRoot.attr(Kve,a),e.setValue(Ave(Ave({},e.getInitData()),{},{url:r,src:t})),e.render(),e.afterHandleSubmit()):e.engine.messageError(o||c.addressInvalid)},e.handleInsertExample=function(){var t=e.getExampleURL(),n=e.getExampleInitData();e.setValue(Ave(Ave({},n||{}),{},{url:t,src:t})),e.render(),e.afterHandleSubmit()},e}return t=i,(n=[{key:"getDocEmbedURL",value:function(){return!1}},{key:"embedToolbar",value:function(){return[{type:"dnd"},{type:"copy"},{type:"separator"}].concat(Rve(this.getMoreEmbedToolbarConfig()))}},{key:"getUrl",value:function(){var e=this.value,t=e.src,n=e.url;return n||t||void 0}},{key:"getExampleURL",value:function(){return null}},{key:"getExampleInitData",value:function(){return{}}},{key:"getInitData",value:function(){return{}}},{key:"getSrcFromInput",value:function(){return this.find("url")[0].value.trim()}},{key:"afterHandleSubmit",value:function(){}},{key:"unactivate",value:function(){Fve(Hve(i.prototype),"unactivate",this).call(this),this.container.find(".lake-embed-content").removeClass("lake-embed-content-active")}},{key:"find",value:function(e){var t="[data-role=".concat(e,"]");return this.container.find(t)}},{key:"focusInput",value:function(){var e=this;setTimeout((function(){var t=e.find("url")[0];t&&t.focus()}),50)}},{key:"getPlaceHolder",value:function(){var e=this.locale;return Uve(e.placeholder)}},{key:"renderInput",value:function(){var e=this,t=this.container,n=this.locale,r=this.getPlaceHolder(),o=!!this.getExampleURL(),i=ru('\n    <div class="lake-embed lake-embed-active">\n      <div class="lake-embed-form">\n        <span class="lake-embed-editor">\n          <input data-role="url" placeholder="'.concat(Uve(r),'" spellcheck="false" class="lake-embed-input" value="" autocomplete="off"/>\n        </span>\n        <span class="lake-embed-button">\n          ').concat(o?'<button class="lake-embed-example-button" data-role="example">'.concat(n.example,"</button>"):"",'\n          <button class="lake-ui-button" data-role="submit"><span>').concat(Uve(n.submit),"</span>\n        </button></span>\n      </div>\n    </div>\n    "));t.append(i);var a=this.find("url");a.on("keydown",this.handleInputKeydown),this.find("submit").on("click",(function(){var t=e.getSrcFromInput();e._handleSubmit?e._handleSubmit(t):e.handleSubmit(t)})),this.find("example").on("click",this.handleInsertExample),this.handleInputBoxInput&&a.on("input",this.handleInputBoxInput),this.handleInputBoxFocus&&a.on("focus",this.handleInputBoxFocus),this.handleInputBoxBlur&&a.on("blur",this.handleInputBoxBlur)}},{key:"getEmbedEmbedTitle",value:function(){return this.getUrl()}},{key:"renderIframeView",value:function(){var e=this.container,t=this.value,n=this.options,r=this.getHeight(),o=n.transition,i=ru('\n      <div class="lake-embed lake-embed-active">\n        <div class="lake-embed-content">\n          <div class="lake-embed-mask"></div>\n          <div class="lake-embed-content-bg">\n            <span class="lake-icon lake-icon-loading"></span>\n          </div>\n          <iframe data-role="iframe"\n            class="lake-embed-content-frame"\n            frameborder="0"\n            '.concat(n.allow?'allow="'+Uve(n.allow)+'"':"",'\n            allowfullscreen="true"\n            style="height: ').concat(Uve(r),"px; transition: ").concat(Uve(o),'"\n          >\n          </iframe>\n        </div>\n      </div>\n    ')),a=i.find(".lake-embed-mask"),c=i.find("iframe");t.height&&c.attr("data-height",r),c.on("load",(function(){i.find(".lake-embed-content-bg").hide(),c.addClass("lake-embed-content-frame-loaded")})),e.append(i);var s=this.getUrl();this.root=i,this.mask=a,this.iframe=c,this.renderIframe(c,Wve(s)),!0===this.state.activated&&this.hideMask()}},{key:"renderEditView",value:function(){var e=this.value,t=this.options.resize;e.url?(this.renderIframeView(),t&&this.renderResizeController()):this.renderInput()}},{key:"renderReadView",value:function(){this.value.url&&(this.renderIframeView(),this.hideMask())}}])&&Lve(t.prototype,n),r&&Lve(t,r),i}(Pve);function Xve(e){return(Xve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jve(e,t){return(Jve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tye(e);if(t){var o=tye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eye(this,n)}}function eye(e,t){return!t||"object"!==Xve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tye(e){return(tye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Yve.type="block";var nye=/^https?:\/\/riddle\.alibaba-inc\.com.*/;var rye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jve(e,t)}(i,e);var t,n,r,o=Qve(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$ve(Object(n),!0).forEach((function(t){Gve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultHeight:530,resize:!1},e))}return t=i,(n=[{key:"getPlaceHolder",value:function(){return"en"===this.getLang()?"Please enter a Riddle link address":"请输入 Riddle 链接地址"}},{key:"hitBlack",value:function(e){return function(e){return!e.match(nye)}(e)}},{key:"getDocEmbedURL",value:function(e){return function(e){if(e.match(nye))return e.endsWith("iframe")||(e+="/iframe"),e}(e)}}])&&Zve(t.prototype,n),r&&Zve(t,r),i}(Yve);function oye(e){return(oye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sye(e,t,n){return(sye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pye(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function lye(e,t){return(lye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pye(e);if(t){var o=pye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fye(this,n)}}function fye(e,t){return!t||"object"!==oye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pye(e){return(pye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dye(e){var t,n;if(n=e.match(/^https?:\/\/\w+\.youku\.com\/v_show\/id_([^\.]+)/i))return t=n[1],"https://player.youku.com/embed/".concat(t);if(n=e.match(/^https?:\/\/\w+\.bilibili\.com\/video\/av(\d+)/i)){t=n[1];var r=e.match(/p=(\d+)/);return r&&(r=r[1]),"https://player.bilibili.com/player.html?aid=".concat(t).concat(r?"&p=".concat(r):"")}return e.startsWith("https://cloud.video.taobao.com/")?e:void 0}var hye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lye(e,t)}(i,e);var t,n,r,o=uye(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iye(Object(n),!0).forEach((function(t){aye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({resize:!1},e))).onResize=function(){t.iframe&&t.iframe.css("height","".concat(t.getHeight(),"px"))},window.addEventListener("resize",t.onResize,!1),t}return t=i,(n=[{key:"getHeight",value:function(){var e=this.getContainerWidth();return Math.min(e/(16/9),window.innerHeight/7*5)}},{key:"getExampleURL",value:function(){return dye("https://v.youku.com/v_show/id_XNDQ2Mzc1OTEyOA==.html")}},{key:"getPlaceHolder",value:function(){return"en"===this.getLang()?"Paste a link from site like Youku, Bilibili, Taobao Video":"粘贴视频链接，已支持优酷、哔哩哔哩、淘宝视频"}},{key:"hitBlack",value:function(e){return function(e){return!e.match(/^https:.*\.youku\.com\//)&&!e.match(/^https:.*\.bilibili\.com\//)&&!e.startsWith("https://cloud.video.taobao.com/")}(e)}},{key:"getDocEmbedURL",value:function(e){return dye(e)}},{key:"isError",value:function(){return!!Xb.isWechatMiniApp}},{key:"renderError",value:function(){var e=this.container,t=this.locale;e.append('\n      <div class="youku-error">\n        <p><span class="lake-icon lake-icon-warning"></span></p>\n        <p>'.concat(t.wechatAlert,"</p>\n      </div>\n    "))}},{key:"destroy",value:function(){window.removeEventListener("resize",this.onResize),sye(pye(i.prototype),"destroy",this).call(this)}}])&&cye(t.prototype,n),r&&cye(t,r),i}(Yve),mye=n(352),vye=n.n(mye);function yye(e){return(yye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gye(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function bye(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){gye(i,r,o,a,c,"next",e)}function c(e){gye(i,r,o,a,c,"throw",e)}a(void 0)}))}}function wye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kye(e,t){return(kye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cye(e);if(t){var o=Cye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oye(this,n)}}function Oye(e,t){return!t||"object"!==yye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cye(e){return(Cye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _ye=Cl.escape,Eye="lake-plugin-mention";var jye=function(e){var t="";if(e.dep){var n=e.dep&&e.dep.split("-")[0];t='<span class="lake-mention-item-dep">'.concat(_ye(n),'</span><span class="lake-mention-item-split">-</span>')}var r,o=e.nick_name?'data-nick-name="'.concat(_ye(e.nick_name),'"'):"";return'\n  <div class="lake-mention-item" data-index="'.concat(_ye(e.index),'" data-login="').concat(_ye(e.login),'" ').concat(o,' data-name="').concat(_ye(e.name),'">\n    <span class="lake-mention-item-avatar">\n      <img src="').concat(_ye((r=e.avatar,r&&(r.startsWith("http")&&r||window.appData.space.host+r))),'">\n    </span>\n    <span class="lake-mention-item-text">\n      <span class="lake-mention-item-text-item">\n        <span class="lake-mention-item-name">').concat(_ye(e.name),'</span>\n      </span>\n      <span class="lake-mention-item-text-item" style="font-size: 12px;">\n        ').concat(t,'<span class="lake-mention-item-id">').concat(_ye(e.login),"</span>\n      </span>\n    </span>\n  </div>\n  ")},Sye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kye(e,t)}(i,e);var t,n,r,o=xye(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).getDefaultSuggestions=function(){var e=t.engine.options.mention||{};return e.defaultSuggestions?e.defaultSuggestions:e.getDefaultSuggestions?e.getDefaultSuggestions():[]},t.handleSearchResult=function(){var e=bye(regeneratorRuntime.mark((function e(n,r){var o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={},o=(o=n||[]).map((function(e){return i[e.login]=!0,e.avatar=e.avatar_url||e.avatar,e})),a=t.getDefaultSuggestions(),o=a.filter((function(e){var t=i[e.login];return!t&&e.login&&(t=-1!==e.login.toLowerCase().indexOf(r)),!t&&e.name&&(t=-1!==e.name.toLowerCase().indexOf(r)),t})).concat(o),o=vye()(o,"login"),e.next=8,t.renderSuggestion(o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.handleSearch=function(){var e=bye(regeneratorRuntime.mark((function e(n){var r,o,i,a,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.engine,o=r.options.mention||{},i=o.action,a=o.paramName,!o.getData){e.next=10;break}return e.next=6,o.getData(n);case 6:return c=e.sent,e.next=9,t.handleSearchResult(c,n);case 9:return e.abrupt("return",e.sent);case 10:t.ajax&&t.ajax.abort(),(s={url:i,data:{},method:"get",success:function(e){t.ajax=null,t.handleSearchResult(e.data,n).then()},error:function(e){console.error(e)}}).data[a]=n,t.ajax=Ma(s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleItemClick=function(e){e.preventDefault();var n=ru(e.target).closest(".lake-mention-item");t.updateCard(n),t.focusCard()},t.handlePreventDefault=function(e){if(0!==t.cardRoot.closest("body").length)return e.preventDefault(),!1},t.handleInput=function(){var e=bye(regeneratorRuntime.mark((function e(n){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.engine.domEvent.isComposing){e.next=2;break}return e.abrupt("return");case 2:if(""!==(r=n[0].innerText)){e.next=6;break}return t.engine.change.removeCard(t.cardRoot),e.abrupt("return");case 6:if(""!==(o=r.trim().substr(1))){e.next=12;break}return i=t.getDefaultSuggestions(),e.next=11,t.renderSuggestion(i);case 11:return e.abrupt("return",e.sent);case 12:t.handleSearch(o);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.focusCard=function(){t.engine.change.focusCard(t.cardRoot)},t.renderSuggestion=function(){var e=bye(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?t._handleRenderSuggestion(n):(r=t.getDefaultSuggestions(),t._handleRenderSuggestion(r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t._handleRenderSuggestion=function(e){if(t.unbindEvents(),t.container.find(".lake-mention-list").remove(),0!==e.length){var n=ru('<div class="lake-mention-list" />');n.on("mousedown",(function(e){return e.preventDefault()})),e.forEach((function(e,r){e.index=r,e.avatar=e.avatar_url||e.avatar;var o=ru(jye(e));0===r&&o.addClass("lake-mention-item-selected"),o.on("click",t.handleItemClick),o.on("mouseenter",(function(){t.selectItem(o)})),n.append(o)})),t.container.append(n),t.bindEvents()}},t.engine=e,t.readonly=!e,t}return t=i,r=[{key:"getValueHTML",value:function(e,t){var n=t=t||{},r=n.login,o=n.nickName,i=n.name;if(r){var a,c=Lh()(e||{},"options.mention.origin"),s="";return c?s=' target="_blank"':c=Lh()(window,"appData.space.host")||window.location.origin,a=o?"".concat(_ye(o),"(").concat(_ye(r),")"):"".concat(_ye(i||r),"(").concat(_ye(r),")"),'<a class="lake-mention-at" href="'.concat(_ye(c),"/").concat(_ye(r),'"').concat(s,">@").concat(a,"</a>")}return'<span class="lake-mention-at">@'.concat(_ye(o||i),"</span>")}}],(n=[{key:"destroy",value:function(){this.unbindEvents()}},{key:"activate",value:function(){"done"!==this.status&&(this.container.find(".lake-mention-list").show(),this.bindEvents())}},{key:"unactivate",value:function(){"done"!==this.status&&(this.container.find(".lake-mention-list").hide(),this.unbindEvents())}},{key:"unbindEvents",value:function(){this.engine&&(Dw.a.deleteScope(Eye),Dw.a.unbind("enter",Eye),Dw.a.unbind("up",Eye),Dw.a.unbind("down",Eye),this.engine&&this.engine.off("keydown:enter",this.handlePreventDefault))}},{key:"bindEvents",value:function(){var e=this;this.engine&&(this.unbindEvents(),Dw.a.setScope(Eye),Dw()("enter",Eye,(function(t){if(0!==e.cardRoot.closest("body").length){t.preventDefault();var n=e.container.find(".lake-mention-list").find(".lake-mention-item-selected");e.updateCard(n),e.focusCard()}})),Dw()("up",Eye,(function(t){0!==e.cardRoot.closest("body").length&&(t.preventDefault(),e.scrollItem("up"))})),Dw()("down",Eye,(function(t){0!==e.cardRoot.closest("body").length&&(t.preventDefault(),e.scrollItem("down"))})),this.engine.on("keydown:enter",this.handlePreventDefault))}},{key:"scrollItem",value:function(e){var t=this.container.find(".lake-mention-list"),n=t.find(".lake-mention-item-selected"),r="up"===e?n.prevElement():n.nextElement();if(r){this.selectItem(r);var o=t[0].clientHeight,i=n[0].clientHeight*r.attr("data-index");t[0].scrollTop=i-o/2}}},{key:"selectItem",value:function(e){this.container.find(".lake-mention-list").find(".lake-mention-item-selected").removeClass("lake-mention-item-selected"),e.addClass("lake-mention-item-selected")}},{key:"updateCard",value:function(e){this.unbindEvents();var t={login:e.attr("data-login"),name:e.attr("data-name")},n=e.attr("data-nick-name");n&&(t.nickName=n),this.engine.history.hold(),this.engine.change.updateCard(this.cardRoot,t)}},{key:"render",value:function(e,t){var n=this,r=this.engine;if(this.readonly){if(!t)return;e.append(i.getValueHTML(this.getTopEngine(),t))}else{t&&t.name?(e.append(i.getValueHTML(this.getTopEngine(),t)),this.status="done"):(e.append('<a class="lake-mention-at" contenteditable="true">@</a>'),this.status="inputting");var o=e.find(".lake-mention-at");if(o.on("click",(function(e){e.preventDefault()})),"done"!==this.status){o.on("keydown",(function(e){var t=kb("space",e),i=kb("enter",e),a=kb("esc",e);if(t||i||a){if(e.preventDefault(),i&&n.container.find(".lake-mention-list").find(".lake-mention-item-selected").length>0)return;n.unbindEvents();var c=o[0].innerText.substr(1);if(""===c)return r.change.removeCard(n.cardRoot),void r.change.insertText("@");r.change.removeCard(n.cardRoot),r.change.insertText("@"+c)}})),o.on("blur",(function(){var e=n.engine,t=n.cardRoot,r=e.card.getComponent(t);r&&(r.value||(e.change.removeCard(n.cardRoot),e.change.insertText(o[0].innerText)))}));var a=Date.now();o.on("input",(function(){if(Date.now()-a<100){var e=o.first();e&&e.isText()&&"@@"===e[0].nodeValue&&ru(e[0].splitText(1)).remove()}setTimeout((function(){n.handleInput(o).then()}),10)}))}}}}])&&wye(t.prototype,n),r&&wye(t,r),i}(uw);function Pye(e){var t,n=e||{},r=n.type,o=n.targetType,i="";return"group"===r?function(e){if(e.image&&/^https?:\/\//.test(e.image))return'<span class="lake-group-avatar"><img src="'.concat(encodeURI(e.image),'"></span>');return'<span class="lake-group-avatar lake-group-text-avatar" style="background-color: '.concat(function(e){if(!e)return Mye[0];var t=e.charCodeAt(0);return Mye[t%Mye.length]||Mye[0]}(e.title),'"><span>').concat(ow(function(e){var t=e.codePointAt(0);if(t=String.fromCodePoint(t),!/[0-9a-zA-Z\u4e00-\u9fa5]/.test(t)){var n=e.match(/[\u4e00-\u9fa5]/);n||(n=e.match(/[0-9a-zA-Z]/)),n&&(t=n[0])}return t}(e.title)),"</span></span>")}(e):(o&&"book"===o.toLowerCase()&&(i="repo-"),t="lake-svg-icon-yuque-".concat(i,"sheet"===r?"sheet":"design"===r?"design":"thread"===r?"thread":"mind"===r?"mind":"doc"),'<span class="lake-svg-icon '.concat(t,'"></span>'))}function Rye(e,t){return e&&e.title?e.title:Lh()(t,"yuque.untitled","Untitled")}function Tye(e){var t=Lh()(e,"options.yuqueCard",{}).groupLoginName;return!t&&window.appData&&(t=(window.appData.group||{}).login),t||null}function Dye(e,t){var n=t.pathname;return e.filter((function(e){var r=e.url,o=new URL(r,t.origin).pathname;return o!==n&&o+"/edit"!==n}))}Sye.type="inline",Sye.selectStyleType="background";function Aye(e){var t=e.parentNode,n=t.getBoundingClientRect(),r=e.getBoundingClientRect();r.bottom>n.bottom?t.scrollTop=t.scrollTop+(r.bottom-n.bottom)+50:r.top<n.top&&(t.scrollTop=t.scrollTop-(n.top-r.top)-50)}var Mye=["#3988E4","#B97940","#2F9547","#235B9D","#59AF9A"];function Nye(){if(this.engine&&!this._recommendPanelVisible){var e=Bye.call(this);e[0].style.display="block",this._recommendPanelIndex=-1,this._recommendPanelVisible=!0,this._uiForRecommendPanel.find(".lake-doc-recommend-panel-body")[0].scrollTop=0,e.removeClass("focused"),Uye.call(this)}}function Iye(){this._recommendPanelVisible&&(this._recommendPanelVisible=!1,this._recommendPanelIndex=-1,this._uiForRecommendPanel.find(".selected").removeClass("selected"),this._uiForRecommendPanel[0].style.display="none")}function Lye(){if(this._recommendPanelVisible){var e=qye.call(this);e&&0!==e.length&&(this._recommendPanelIndex++,this._recommendPanelIndex>e.length-1&&(this._recommendPanelIndex=-1),Vye.call(this))}}function Fye(){if(this._recommendPanelVisible){var e=qye.call(this);e&&0!==e.length&&(this._recommendPanelIndex--,this._recommendPanelIndex<-1&&(this._recommendPanelIndex=e.length-1),Vye.call(this))}}function zye(){if(this._recommendPanelVisible&&-1!==this._recommendPanelIndex){var e=this._uiForRecommendPanel.find(".lake-doc-recommend-panel-item")[this._recommendPanelIndex];return e?e.getAttribute("data-href"):null}}function Bye(){if(this._uiForRecommendPanel)return this._uiForRecommendPanel;var e=this.getLocale().yuque;return this._uiForRecommendPanel=ru('\n    <div class="lake-doc-recommend-panel">\n        <div class="lake-doc-recommend-panel-header">'.concat(e.recently,'</div>\n        <div class="lake-doc-recommend-panel-body"></div>\n        <div class="lake-doc-recommend-panel-footer">').concat(e.recommendTip,"</div>\n    </div>\n    ")),this.container.find(".lake-embed-form").append(this._uiForRecommendPanel),this._handleRecommendItemMousedown=Hye.bind(this),this._uiForRecommendPanel.on("mousedown",this._handleRecommendItemMousedown,!1),this._uiForRecommendPanel}function Vye(){var e=this._recommendPanelIndex;if(this._uiForRecommendPanel.find(".selected").removeClass("selected"),-1!==e){var t=this._uiForRecommendPanel.find(".lake-doc-recommend-panel-item")[e];t&&(this._uiForRecommendPanel.addClass("focused"),ru(t).addClass("selected"),Aye(t))}else this._uiForRecommendPanel.find(".lake-doc-recommend-panel-body")[0].scrollTop=0}function qye(){var e=Tye(this.getViewEngine());return $ye.call(this,e)}function Hye(e){e.preventDefault();var t=ru(e.target).closest(".lake-doc-recommend-panel-item");if(t.length){var n=t.attr("data-href");n&&this._handleSubmit(n)}}function Uye(){var e=Tye(this.getViewEngine());if(e){var t=$ye.call(this,e);t?Yye.call(this,e,t):(Wye.call(this,e),Kye.call(this))}else Iye.call(this)}function Wye(e){var t=this;Ma({method:"get",url:Lh()(this.getTopEngine(),"options.yuque.recentAction")||"/api/editor/recent",data:{type:"doc",scope:e},success:function(n){var r=Dye((n.data||[]).slice(0,10),t.getViewEngine().getPageLocation()),o=Tye(t.getViewEngine());Gye.call(t,e,r),o===e&&Yye.call(t,e,r)},error:function(){Xye.call(t)}})}function Kye(){var e=this.getLocale().yuque;this._uiForRecommendPanel.find(".lake-doc-recommend-panel-body").html('<div class="lake-doc-recommend-panel-loading">'.concat(e.loading,"</div>"))}function Yye(e,t){if(this._recommendPanelVisible&&this._lastRenderedGruop!==e){this._lastRenderedGruop=e;var n=this.getViewEngine().getPageLocation().origin,r=t.map((function(e){var t=Pye(e),r=new URL(e.url,n).href;return'<div class="lake-doc-recommend-panel-item" data-href="'.concat(encodeURI(r),'">\n        ').concat(t,'\n        <dl class="lake-doc-recommend-panel-item-content">\n            <dt>').concat(ow(e.title),"</dt>\n            <dd>").concat(ow(e.belong),"</dd>\n        </dl>\n    </div>")})).join("\n");this._uiForRecommendPanel.find(".lake-doc-recommend-panel-body").html(r)}}function Xye(){var e=this.getLocale().yuque;this._uiForRecommendPanel.find(".lake-doc-recommend-panel-body").html('<div class="lake-doc-recommend-panel-error">'.concat(e.loadingError,"</div>"))}function $ye(e){var t=this.engine;return t._cachedRecommend?t._cachedRecommend[e]:null}function Gye(e,t){var n=this.engine;n._cachedRecommend||(n._cachedRecommend={}),n._cachedRecommend[e]=t}function Zye(e){var t=ege.call(this);Qye.call(this,e),this._searchPanelVisible||(t[0].style.display="block",this._searchPanelVisible=!0),this._searchPanelIndex=-1,this._uiForSearchPanel.find(".lake-doc-search-panel-body")[0].scrollTop=0,this._uiForSearchPanel.removeClass("focused")}function Jye(){this._searchPanelVisible&&(sge.call(this),this._searchPanelVisible=!1,this._searchPanelIndex=-1,this._uiForSearchPanel.find(".selected").removeClass("selected"),this._uiForSearchPanel[0].style.display="none")}function Qye(e){this._searchCache||(this._searchCache={});var t=this._searchCache;t[e]?(sge.call(this),rge.call(this,t[e])):(cge.call(this,e),tge.call(this))}function ege(){if(this._uiForSearchPanel)return this._uiForSearchPanel;var e=this.getLocale().yuque,t=function(e){var t=Lh()(e,"options.yuqueCard",{}).groupName;return!t&&window.appData&&(t=(window.appData.group||{}).name),t||null}(this.getViewEngine());return this._uiForSearchPanel=ru('\n    <div class="lake-doc-search-panel">\n        <div class="lake-doc-search-panel-body"></div>\n        <div class="lake-doc-search-panel-footer">'.concat(e.searchRange," ").concat(ow(t),"</div>\n    </div>\n    ")),this.container.find(".lake-embed-form").append(this._uiForSearchPanel),this._handleSearchItemMousedown=lge.bind(this),this._uiForSearchPanel.on("mousedown",this._handleSearchItemMousedown,!1),this._uiForSearchPanel}function tge(){var e=this.getLocale().yuque;this._uiForSearchPanel.find(".lake-doc-search-panel-body").html('<div class="lake-doc-search-panel-waiting">'.concat(e.searching,"</div>"))}function nge(){var e=this.getLocale().yuque;this._uiForSearchPanel.find(".lake-doc-search-panel-body").html('<div class="lake-doc-search-panel-error">'.concat(e.searchError,"</div>"))}function rge(e){if(e.length){var t=this.getViewEngine(),n=t.locale,r=e.map((function(e){var r=Pye(e),o=new URL(e.url,t.getPageLocation().origin),i=Rye(e,n);return'<div class="lake-doc-search-panel-item" data-href="'.concat(o,'">\n                ').concat(r,'\n                <dl class="lake-doc-search-panel-item-content">\n                    <dt>').concat(i,"</dt>\n                    <dd>").concat(ow(e.belong||"-"),"</dd>\n                </dl>\n            </div>")})).join("\n");this._uiForSearchPanel.find(".lake-doc-search-panel-body").html(r)}else{var o=this.getLocale().yuque;this._uiForSearchPanel.find(".lake-doc-search-panel-body").html('<div class="lake-doc-search-panel-tip">\n        <span class="lake-svg-icon lake-svg-icon-search"></span>\n        <div class="lake-doc-search-panel-tip-content">\n            <div>'.concat(o.emptySearchTip,"</div>\n            <div>").concat(o.emptySearchSubTip,"</div>\n        </div>\n    </div>"))}}function oge(){if(this._searchPanelVisible){var e=this._uiForSearchPanel.find(".lake-doc-search-panel-item");if(e.length){if(this._uiForSearchPanel.find(".selected").removeClass("selected"),this._searchPanelIndex++,this._searchPanelIndex>e.length-1)return this._searchPanelIndex=-1,void(this._uiForSearchPanel.find(".lake-doc-search-panel-body")[0].scrollTop=0);this._uiForSearchPanel.addClass("focused");var t=e[this._searchPanelIndex];t&&(ru(t).addClass("selected"),Aye(t))}}}function ige(){if(this._searchPanelVisible){var e=this._uiForSearchPanel.find(".lake-doc-search-panel-item");if(e.length)if(this._uiForSearchPanel.find(".selected").removeClass("selected"),this._searchPanelIndex--,-1!==this._searchPanelIndex){this._searchPanelIndex<-1&&(this._searchPanelIndex=e.length-1);var t=e[this._searchPanelIndex];t&&(ru(t).addClass("selected"),Aye(t))}else this._uiForSearchPanel.find(".lake-doc-search-panel-body")[0].scrollTop=0}}function age(){if(this._searchPanelVisible&&-1!==this._searchPanelIndex){var e=this._uiForSearchPanel.find(".lake-doc-search-panel-item")[this._searchPanelIndex];return e?e.getAttribute("data-href"):null}}function cge(e){var t=this;sge.call(this);var n=Ma({method:"get",url:Lh()(this.getTopEngine(),"options.yuque.searchAction")||"/api/editor/search",data:{q:e,type:"doc",scope:Tye(this.getViewEngine())},success:function(n){var r=Dye((n.data||[]).slice(0,10),t.getViewEngine().getPageLocation());t._searchCache[e]=r,rge.call(t,r)},error:function(){n.xhr._aborted||nge.call(t)}});this._searchHandle=n,this._searchHandle.promise.then((function(){t._searchHandle===n&&(t._searchHandle=null)}))}function sge(){this._searchHandle&&(this._searchHandle.xhr.abort(),this._searchHandle=null)}function lge(e){e.preventDefault();var t=ru(e.target).closest(".lake-doc-search-panel-item");if(t.length){var n=t.attr("data-href");n&&this._handleSubmit(n)}}function uge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fge=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handle=null,this.cardComponent=null,this.cardComponent=t}var t,n,r;return t=e,(n=[{key:"getCache",value:function(e){var t=this.cardComponent.getViewEngine();return!!t._docCardCache&&t._docCardCache[e]}},{key:"get",value:function(e){var t=this;if(this.handle&&this.handle.url===e)return this.handle.promise;this._cancel();var n=new Promise((function(n){var r=e;try{r=new URL(r).toString()}catch(e){}var o=Ma({method:"get",url:Lh()(t.cardComponent.getTopEngine(),"options.yuque.linkDetailAction")||"/api/editor/link_detail",data:{url:r},success:function(r){t.handle=null,t._saveCache(e,r.data),n({success:!0,data:r.data})},error:function(){t.handle=null,n({success:!1})}});t.handle={resolve:n,request:o,promise:null,url:e}}));return this.handle.promise=n,n}},{key:"_saveCache",value:function(e,t){var n=this.cardComponent.getViewEngine();n._docCardCache||(n._docCardCache={}),n._docCardCache[e]=t}},{key:"_cancel",value:function(){this.handle&&(this.handle.resolve({success:!1}),this.handle=null)}}])&&uge(t.prototype,n),r&&uge(t,r),e}();function pge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pge(Object(n),!0).forEach((function(t){hge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mge(){var e=this,t=this.value,n=t.src,r=t.detail;if(this.contentView)r?yge.call(this,r):gge.call(this);else{this.detailFetcher||(this.detailFetcher=new fge(this));var o=this.detailFetcher.getCache(n);o||this.detailFetcher.get(n).then((function(t){var n=t.success,o=t.data;n?(o=dge(dge({},r),o),e.setValue({detail:o}),e.value.detail=o,e.value.mode&&"card"!==e.value.mode||yge.call(e,o)):r||gge.call(e)})),r||o?r?yge.call(this,r):(this.setValue({detail:o}),yge.call(this,o)):vge.call(this)}}function vge(){var e=this.getLocale().yuque;bge.call(this,'<div class="lake-doc-card-view"><div class="lake-doc-card-view-loading">'.concat(e.loading,"</div></div>"))}function yge(e){var t=this.getViewEngine().locale,n=Pye(e),r=ow(Rye(e,t)),o=e.desc?'<div class="lake-doc-card-view-desc">'.concat(ow(e.desc),"</div>"):"";bge.call(this,'<div class="lake-doc-card-view">\n        <div class="lake-doc-card-view-box">\n          '.concat(n,'\n          <div class="lake-doc-card-view-content">\n            <div class="lake-doc-card-view-title">').concat(r,"</div>\n            ").concat(o,'\n            <div class="lake-doc-card-view-belong">').concat(ow(e.belong||e.url)||"-","</div>\n          </div>\n        </div>\n      </div>"))}function gge(){var e=this.getLocale().yuque;bge.call(this,'<div class="lake-doc-card-view"><div class="lake-doc-card-view-error"><div>'.concat(e.loadingError,'</div><div class="lake-doc-card-view-error-tip">').concat(ow(this.value.src),"</div></div></div>"))}function bge(e){this.engine||(e='<a href="'.concat(encodeURI(this.value.src),'" target="_blank">').concat(e,"</a>")),this.container.html(e)}function wge(){var e=this.getLocale().yuque;kge.call(this,'<div class="lake-doc-unsupported-view">'.concat(e.unsupportedThread,"</div>"))}function kge(e){this.engine||(e='<a href="'.concat(encodeURI(this.value.src),'" target="_blank">').concat(e,"</a>")),this.container.html(e)}function xge(e){return(xge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cge(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var _ge=["0.0.0.0","255.255.255.255",/^127\./,/^192\.168\./,/^10\./],Ege=[["view","doc_embed"]],jge=[["inner",2],["view","doc_embed"]],Sge=[["inner",5],["view","doc_embed"]];function Pge(e){try{var t=new URL(e,"http://localhost").hostname;return!(!t||"localhost"===t)&&(!/^\d+\.\d+.\d+.\d+$/.test(t)||!_ge.some((function(e){return"string"==typeof e?e===t:e.test(t)})))}catch(e){return!1}}var Rge=[/\.yuque\.com$/,/(^|\.)yuque(\-pre)?\.(antfin|alibaba)-inc\.com$/,/(^|\.)yuque(\-pre)?\.antfin\.com$/,/\.alipay\.net$/];function Tge(e,t){var n="";return t.forEach((function(t){var r=t[0],o=t[1];"number"==typeof o&&(o=e[o]),n+="".concat(r,"=").concat(o,"&")})),n.substring(0,n.length-1)}function Dge(e,t){for(var n=!1,r=0;r<e.length;r++){var o=e[r],i=o[0],a=o[1],c=t.match(a);if(c){n="".concat(c[1],"?").concat(Tge(c,i));break}}return n}var Age=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentLocation=null,this.locale=null,this.whiteList=null,this.blackList=null,this.currentLocation=t,this.locale=n||{errorMessage:{}},this.locale.errorMessage||(this.locale.errorMessage={}),this._initWithList(),this._initBlackList()}var t,n,r;return t=e,(n=[{key:"_initWithList",value:function(){var e=Cge(this.currentLocation.origin);this.whiteList={insite:[[jge,new RegExp("("+e+"\\/[^/]{1,100}\\/[^/]{1,100}(?:\\/[^/]{1,100})?)\\?.*inner=([^/]{1,100})&")],[jge,new RegExp("("+e+"\\/[^/]{1,100}\\/[^/]{1,100}(?:\\/[^/]{1,100})?)\\?.*inner=(.*)")],[jge,new RegExp("("+e+"\\/[^/]{1,100}\\/[^/]{1,100}(?:\\/[^/]{1,100})?)#(.*)")],[Ege,new RegExp("("+e+"\\/[^/]{1,100}\\/[^/]{1,100}(\\/.*)?)")]],yuque:[[jge,/(^https:\/\/[^/]{1,100}yuque\.com\/[^/]{1,100}\/[^/]{1,100}(?:\/[^/]{1,100})?)\?.*inner=([^/]{1,100})&/],[jge,/(^https:\/\/[^/]{1,100}yuque\.com\/[^/]{1,100}\/[^/]{1,100}(?:\/[^/]{1,100})?)\?.*inner=(.*)/],[jge,/(^https:\/\/[^/]{1,100}yuque\.com\/[^/]{1,100}\/[^/]{1,100}(?:\/[^/]{1,100})?)#(.*)/],[Ege,/^(https:\/\/[^/]{1,100}(yuque)\.com\/[^/]{1,100}\/[^/]{1,100}(\/.*)?)/]],lark:[[Sge,/(^https:\/\/[^/]{1,100}(((antfin|alibaba)-inc)|antfin)\.com\/[^/]{1,100}\/[^/]{1,100}(?:\/[^/]{1,100})?)\?.*inner=([^/]{1,100})&/],[Sge,/(^https:\/\/[^/]{1,100}(((antfin|alibaba)-inc)|antfin)\.com\/[^/]{1,100}\/[^/]{1,100}(?:\/[^/]{1,100})?)\?.*inner=(.*)/],[Sge,/(^https:\/\/[^/]{1,100}(((antfin|alibaba)-inc)|antfin)\.com\/[^/]{1,100}\/[^/]{1,100}(?:\/[^/]{1,100})?)#(.*)/],[Ege,/^(https:\/\/[^/]{1,100}(((antfin|alibaba)-inc)|antfin)\.com\/[^/]{1,100}\/[^/]{1,100}(\/.*)?)/]]}}},{key:"_initBlackList",value:function(){var e=this,t=this.locale,n=Cge(this.currentLocation.origin);this.blackList=[{rule:function(t,n){var r=new URL(t,e.currentLocation.origin).pathname;return!(/^\/[^\/]{2,}\/[^\/]+(\/[^\/]+)?$/.test(r)||n&&/^\/[^\/]{2,}$/.test(r))},message:t.errorMessage.notSupportURL},{rule:function(t){if(!e.currentLocation.pathname)return!1;var n=new URL(t,e.currentLocation.origin).pathname,r=e.currentLocation.pathname;return n===r||n+"/edit"===r},message:t.errorMessage.currentDOCURL},{rule:function(t){return!t.match(new RegExp(n+"\\/[^/]{1,100}"))&&!e.isYuque(t)&&!e.isLark(t)},message:t.errorMessage.notSupportURL},{rule:function(t){var n,r=(t=new URL(t,e.currentLocation.origin)).pathname,o=["/settings/applications/","/login/callback","/login/oauth","/sites/","/settings/callback/","/dashboard/","/about/"],i=["/topics/"],a=["/invitation","/apply","/settings/basic","/settings/advanced","/settings/lab","/topics/kanban","/settings/logs","/s","/watchers","/stargazers","/new","/dashboard"];for(n=0;n<o.length;n++){var c=o[n];if(r.startsWith(c))return!0}for(n=0;n<i.length;n++){var s=i[n];if(-1!==r.indexOf(s))return!0}for(n=0;n<a.length;n++){var l=a[n];if(r.endsWith(l))return!0}return!1},message:t.errorMessage.notSupportURL}]}},{key:"isYuque",value:function(e){return e.match(/^(https:\/\/[^/]{1,100}yuque\.com\/[^/]{1,100}(?:\/.*)?)/)}},{key:"isLark",value:function(e){try{var t=new URL(e);return["yuque.antfin.com","yuque.antfin-inc.com","yuque.alibaba-inc.com"].includes(t.host)}catch(e){return!1}}},{key:"parseLarkSameOrigin",value:function(e){if(this.isLark(e)&&this.isLark(this.currentLocation.href)){var t=new URL(e,this.currentLocation.origin).origin;return e.replace(t,this.currentLocation.origin)}return e}},{key:"isYuqueLink",value:function(e){var t=new URL(e,this.currentLocation.origin),n=t.origin,r=t.hostname;return n===this.currentLocation.origin||Rge.some((function(e){return e.test(r)}))}},{key:"getURLInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={isYuqueURL:this.isYuqueLink(e),valid:!1,url:e};return t="object"===xge(t)&&t?t:{},n.isYuqueURL?(n.url=this.getDocEmbedURL(e,!1,!!t.group),n.valid=!!n.url):n.valid=Pge(e),n}},{key:"hitBlack",value:function(e,t){return this._hitBlack(e,t).hit}},{key:"_hitBlack",value:function(e,t){for(var n=0;n<this.blackList.length;n++){var r=this.blackList[n];if(r.rule(e,t))return console.warn("命中黑名单：规则 %d, url: %s",n,e),{hit:!0,message:r.message}}return{hit:!1}}},{key:"getDocEmbedURL",value:function(e,t,n){var r=window.appData||{},o=this.whiteList,i=o.yuque,a=o.lark,c=o.insite,s=this._hitBlack(e,n);return s.hit?!!t&&{url:null,message:s.message}:n&&Mge(e)?e:r.isYuque?Dge(c.concat(i),e):Dge(c.concat(a,i),e)}}])&&Oge(t.prototype,n),r&&Oge(t,r),e}();function Mge(e){var t=new URL(e,window.location.origin).pathname;return/^\/[^\/]{2,}$/.test(t)}function Nge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ige=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"fix",value:function(e,t){if(!e)return e;var n=new URL(e,window.location.origin);return"file:"!==n.protocol?e:new URL(n.pathname+n.search+n.hash,t.origin).href}}],(n=null)&&Nge(t.prototype,n),r&&Nge(t,r),e}();function Lge(e){return(Lge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fge(e){return function(e){if(Array.isArray(e))return zge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zge(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vge(e,t,n){return(Vge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kge(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function qge(e,t){return(qge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kge(e);if(t){var o=Kge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uge(this,n)}}function Uge(e,t){return!t||"object"!==Lge(t)&&"function"!=typeof t?Wge(e):t}function Wge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kge(e){return(Kge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yge(e){var t=new URL(e,window.location.origin).pathname;return/^\/[^\/]{2,}\/[^\/]+$/.test(t)}var Xge="default",$ge="adaptive",Gge="custom";window.addEventListener("message",(function(e){var t=e.data;if(t&&t.isYuqueEmbed)for(var n=t.href,r=t.contentHeight,o=document.querySelectorAll('[data-lake-card="yuque"] iframe'),i=0;i<o.length;i++){var a=o[i];if(a.getAttribute("src")===n){var c=xb.card.getComponent(ru(a).closest('[data-lake-card="yuque"]'));c&&c.onPageSendHeight(r)}}}),!1);var Zge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qge(e,t)}(i,e);var t,n,r,o=Hge(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,{defaultHeight:467})).handleInputKeydown=function(t){if(t.stopPropagation(),kb("tab",t)&&(t.preventDefault(),t.stopPropagation()),kb("enter",t)){var n=zye.call(Wge(e))||age.call(Wge(e));n?e._handleSubmit(n):e._handleSubmit(e.getSrcFromInput())}else kb("down",t)?(t.preventDefault(),Lye.call(Wge(e)),oge.call(Wge(e))):kb("up",t)&&(t.preventDefault(),Fye.call(Wge(e)),ige.call(Wge(e)))},e.handleInputBoxInput=function(t){var n=t.target.value;n?(Iye.call(Wge(e)),/^https?:\/\//.test(n)?Jye.call(Wge(e)):Zye.call(Wge(e),n)):(Jye.call(Wge(e)),Nye.call(Wge(e)))},e.handleInputBoxFocus=function(t){t.target.value||Nye.call(Wge(e))},e.handleInputBoxBlur=function(){Iye.call(Wge(e)),Jye.call(Wge(e))},e}return t=i,(n=[{key:"onPageSendHeight",value:function(e){if(this.value.url){var t=this.getTopEngine(),n="yuque.page.height."+this.value.url,r=t.getGlobalData(n);t.setGlobalData(n,e),e&&r!==e&&this.isAdaptiveHeightMode()&&this.resizeView()}}},{key:"embedToolbar",value:function(){var e=this,t=[];return this.value&&this.value.src?(this.isDisableEmbedView()&&"embed"===this.value.mode&&(this.value.mode="card"),"card"===this.value.mode?(t.push({type:"doc-title",onClick:function(){e.toggleMode("title")}}),this.isDisableEmbedView()||Yge(this.value.src)||Mge(this.value.src)||t.push({type:"doc-embed",onClick:function(){e.toggleMode("embed")}})):t.push({type:"doc-title",onClick:function(){e.toggleMode("title")}},{type:"doc-card",onClick:function(){e.toggleMode("card")}},{type:"separator"},{type:"height-mode-default",disabled:this.isDefaultHeightMode(),onClick:function(){e.toggleHeightMode(Xge)}},{type:"height-mode-adaptive",disabled:this.isAdaptiveHeightMode(),onClick:function(){e.toggleHeightMode($ge)}}),[{type:"dnd"}].concat(t,[{type:"separator"},{type:"gotolink",onClick:function(){e.value&&e.value.src&&e.getTopEngine().openLink(e.value.src)}},{type:"copy"},{type:"separator"}],Fge(this.getMoreEmbedToolbarConfig()))):[{type:"copy"},{type:"separator"}].concat(Fge(this.getMoreEmbedToolbarConfig()))}},{key:"isDisableEmbedView",value:function(){return!!Lh()(this.getTopEngine(),"options.disableYuqueCardEmbedView")}},{key:"isAllowToDefaultHeight",value:function(){var e=this.value.heightMode;return e&&e!==Xge}},{key:"isAllowToAdaptiveHeight",value:function(){var e=this.value.heightMode;return!e||e!==$ge}},{key:"getUrl",value:function(){var e=Vge(Kge(i.prototype),"getUrl",this).call(this);return e?e=this.validator.parseLarkSameOrigin(e):e}},{key:"getLocale",value:function(){return this.getViewEngine().locale}},{key:"getHeight",value:function(){var e=this.options.defaultHeight;if(this.isDefaultHeightMode())return e;var t="yuque.page.height."+this.value.url;return this.isAdaptiveHeightMode()&&this.value.url?this.getTopEngine().getGlobalData(t)||e:this.isCustomHeightMode()&&this.value.height||e}},{key:"isDefaultHeightMode",value:function(){var e=this.value,t=e.heightMode;return void 0===e.height&&(!t||t===Xge)}},{key:"isAdaptiveHeightMode",value:function(){return this.value.heightMode===$ge}},{key:"isCustomHeightMode",value:function(){var e=this.value,t=e.heightMode;return void 0!==e.height||t===Gge}},{key:"toggleMode",value:function(e){if("mode"!==this.value.mode){if("title"===e)return this.engine.constructor.plugin.executePluginMethod(this.engine,"yuque","toggleToTitleMode",this);this.setValue({mode:e}),this.rerender(),this.refreshToolbar()}}},{key:"toggleHeightMode",value:function(e){this.value.heightMode!==e&&(this.setValue({heightMode:e,height:e!==Gge?void 0:this.value.height}),this.resizeView(),this.refreshToolbar())}},{key:"resizeView",value:function(){if("embed"===this.value.mode){var e=this.getHeight(),t=this.cardRoot.find("iframe")[0];t&&(t.style.height=e+"px",t.dataset.height=e)}}},{key:"refreshToolbar",value:function(){this.getViewEngine().card.updateToolbar(this),this.getViewEngine().card.showToolbar(this.cardRoot)}},{key:"getPlaceHolder",value:function(){return"en"===this.getLang()?"Search for documents, tables or paste links":"搜索语雀文档、表格或贴入链接"}},{key:"getExampleURL",value:function(){return this.getDocEmbedURL("https://www.yuque.com/yuque/help/about")}},{key:"getInitData",value:function(){return{mode:this.isDisableEmbedView()?"card":"embed"}}},{key:"getExampleInitData",value:function(){return{mode:this.isDisableEmbedView()?"card":"embed"}}},{key:"hitBlack",value:function(e){var t=new URL(e,window.location.origin),n=!(!this.value||"card"!==this.value.mode);return!!this.validator.hitBlack(e,n)||(!n||!Mge(e))&&-1===t.search.indexOf("view=doc_embed")}},{key:"getDocEmbedURL",value:function(e){return this.validator.getDocEmbedURL(e)}},{key:"getDocEmbedURLWithError",value:function(e){var t=this.validator.getDocEmbedURL(e,!0);return!1===t?{url:null}:"object"!==Lge(t)?{url:t}:t?{url:t.url,message:t.message}:{url:t}}},{key:"renderEmbedEmbedView",value:function(){var e=this.getLang(),t="en"===e?"Displaying online documents is not supported in embedded cards":"嵌入卡片中暂不支持展示在线文档";this.container.append('<div style="background: #fafafa; height: 80px; padding-top: 28px; text-align: center; color: rgba(0,0,0,0.45);">\n    '.concat(t,'。<a href="').concat(window.location.href,'">').concat("en"===e?"Original Document link":"原文链接","</href>\n    </div>"))}},{key:"render",value:function(){this.value&&this.fixFileProtocol(),this.isDisableEmbedView()&&"embed"===this.value.mode&&(this.value.mode="card"),(this.value.src&&this.value.url||!this.getTopEngine().isReadonly)&&(this.validator||(this.validator=new Age(fe.desktop?this.getTopEngine().getPageLocation():window.location,this.getLocale())),this.toggleMargin(),this.value=this.value||{},window.location.search.indexOf("view=doc_embed")>0?this.renderEmbedEmbedView():Vge(Kge(i.prototype),"render",this).call(this))}},{key:"rerender",value:function(){this.render()}},{key:"onResizeComplete",value:function(e){Vge(Kge(i.prototype),"onResizeComplete",this).call(this,e),this.toggleHeightMode(Gge)}},{key:"renderEditView",value:function(){var e=this.value,t=this.options.resize;if(e.url)if("card"===e.mode)this.renderCardView();else{if(function(e){return!(!e||"thread"!==e.type||"Book"===e.target_type)}(this.value.detail))return void this.renderUnsupportedView();this.renderIframeView(),t&&this.renderResizeController(),this.showRisizeController()}else this.renderInput()}},{key:"renderReadView",value:function(){var e=this.value,t=e.url,n=e.mode;t&&("card"===n?mge.call(this):Vge(Kge(i.prototype),"renderReadView",this).call(this))}},{key:"renderCardView",value:function(){mge.call(this)}},{key:"_handleSubmit",value:function(e){var t=this.getTopEngine(),n=new URL(e,t.getPageLocation());/^\/[^\/]+\/[^\/]+\/?$/.test(n.pathname)?t.messageError(this.getLocale().errorMessage.notSupportURL):this.handleSubmit(e)}},{key:"afterHandleSubmit",value:function(){this.refreshToolbar()}},{key:"renderUnsupportedView",value:function(){wge.call(this)}},{key:"fixFileProtocol",value:function(){var e=this.getTopEngine();if(e){var t=Ige.fix(this.value.src,e.getPageLocation()),n=Ige.fix(this.value.url,e.getPageLocation());t!==this.value.src&&this.setValue({src:t}),n!==this.value.url&&this.setValue({url:n})}}}])&&Bge(t.prototype,n),r&&Bge(t,r),i}(Yve);function Jge(e){return(Jge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ebe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tbe(e,t){return(tbe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nbe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ibe(e);if(t){var o=ibe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rbe(this,n)}}function rbe(e,t){return!t||"object"!==Jge(t)&&"function"!=typeof t?obe(e):t}function obe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ibe(e){return(ibe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var abe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tbe(e,t)}(i,e);var t,n,r,o=nbe(i);function i(){var e;Qge(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).detailFetcher=new fge(obe(e)),e}return t=i,(n=[{key:"embedToolbar",value:function(){var e=this;return[{type:"doc-card",onClick:function(){e.toggleMode("card")}},this.isDisableEmbedView()||Yge(this.value.src)||Mge(this.value.src)?null:{type:"doc-embed",onClick:function(){e.toggleMode("embed")}},{type:"separator"},{type:"gotolink",onClick:function(){e.value&&e.value.src&&e.getTopEngine().openLink(e.value.src)}},{type:"copy"},{type:"delete"}].filter(Boolean)}},{key:"getLocale",value:function(){return this.getViewEngine().locale}},{key:"toggleMode",value:function(e){return this.engine.constructor.plugin.executePluginMethod(this.engine,"yuque","toggleToBlockMode",this,e)}},{key:"render",value:function(){this.value=this.value||{},this.rerender()}},{key:"rerender",value:function(){var e=this.value,t=e.detail,n=e.src;if(this.contentView)t?this.renderDetail(t):this.renderError();else{var r=this.detailFetcher.getCache(n);t||r?(t||this.setValue({detail:r}),this.renderDetail(t||r)):this.renderLoading()}}},{key:"isDisableEmbedView",value:function(){return!!Lh()(this.getTopEngine(),"options.disableYuqueCardEmbedView")}},{key:"renderDetail",value:function(e){var t=ow(Rye(e,this.getViewEngine().locale)),n=Pye(e);this.container.html(this.wrap('<span class="le-card-yuque-inline">'.concat(n,'<span class="le-card-yuque-inline-content">').concat(t,"</span></span>")))}},{key:"renderLoading",value:function(){this.fetchData(this.value.src),this.container.html(this.wrap('<span class="le-card-yuque-inline"><span class="lake-svg-icon lake-svg-icon-yuque-doc"></span><span class="le-card-yuque-inline-content">内容获取中...</span></span>'))}},{key:"renderError",value:function(){this.container.html(this.wrap('<span class="le-card-yuque-inline"><span class="lake-svg-icon lake-svg-icon-yuque-doc"></span><span class="le-card-yuque-inline-content">未能获取内容</span></span>'))}},{key:"wrap",value:function(e){return this.engine?e:'<a href="'.concat(encodeURI(this.value.src),'" target="_blank">').concat(e,"</a>")}},{key:"fetchData",value:function(e){var t=this;e&&this.detailFetcher.get(e).then((function(e){var n=e.success,r=e.data;n?(t.setValue({detail:r}),t.value.detail=r,t.renderDetail(r)):t.value.detail||t.renderError()}))}}])&&ebe(t.prototype,n),r&&ebe(t,r),i}(uw);abe.selectStyleType="background",abe.type="inline";var cbe={en:{title:"Locked Text",lock:"Lock",setPassword:"Set Password",unlock:"Unlock",lockInputPlaceholder:"Recommend to set more than 6 digits",lockInputTitle:"Set the password (careful custody, the text cannot be retrieved after the password is lost)",passwordPattern:"Passwords only support: numbers, letters and common symbols",unlockInputPlaceholder:"Enter Password to unlock",ok:"OK",cancel:"Cancel",errorFeedback:"Incorrect password",lockedFeedback:"Password has gone wrong more than 5 times, please try again after 1 minute",contentFeedback:"Please enter content in the card",encryptoError:"Encryption failed",unLockedInfo:"Currently unencrypted",noPassword:"Please enter password"},"zh-cn":{title:"加密文本",lock:"锁住",setPassword:"设置密码",unlock:"解锁",lockInputPlaceholder:"建议设置 6 位以上",lockInputTitle:"设置密码 (谨慎保管，丢失后无法找回)：",passwordPattern:"密码仅支持：数字、字母及常见符号",unlockInputPlaceholder:"请输入密码",ok:"确认",cancel:"取消",errorFeedback:"密码有误",lockedFeedback:"密码出错超过 5 次，请 1 分钟后再尝试",contentFeedback:"请在加密卡片中输入内容",encryptoError:"加密失败",unLockedInfo:"未设置密码，将明文显示",noPassword:"请输入密码"}},sbe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},lbe=function(e,t){return w.createElement(_oe,Object.assign({},e,{ref:t,icon:sbe}))};lbe.displayName="UnlockOutlined";var ube=w.forwardRef(lbe);function fbe(e){return(fbe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dbe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hbe(e,t){return(hbe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mbe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ybe(e);if(t){var o=ybe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vbe(this,n)}}function vbe(e,t){return!t||"object"!==fbe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ybe(e){return(ybe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gbe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hbe(e,t)}(i,e);var t,n,r,o=mbe(i);function i(){var e;pbe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).changeUnlockPassword=function(t){e.password=t.target.value},e.unLock=function(){e.props.onUnlock(e.password)},e.onPressEnter=function(t){e.props.onUnlock(t.target.value)},e}return t=i,(n=[{key:"render",value:function(){return k.a.createElement("div",{className:"unlock-panel"},k.a.createElement("div",{className:"lock-icon"}),k.a.createElement("p",null,k.a.createElement(oi,{type:"password",placeholder:this.props.locale.unlockInputPlaceholder,onChange:this.changeUnlockPassword,onPressEnter:this.onPressEnter,autoComplete:"nope",addonAfter:k.a.createElement("span",{className:"unlock-btn",onClick:this.unLock},k.a.createElement(ube,null),this.props.locale.unlock)})),k.a.createElement("p",{className:"error-info"},this.props.locale.errorFeedback),k.a.createElement("p",{className:"lock-info"},this.props.locale.lockedFeedback))}}])&&dbe(t.prototype,n),r&&dbe(t,r),i}(k.a.Component);gbe.propTypes={onUnlock:st.a.func,locale:st.a.object};var bbe=gbe;function wbe(e){return(wbe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xbe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Obe(e,t){return(Obe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cbe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ebe(e);if(t){var o=Ebe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _be(this,n)}}function _be(e,t){return!t||"object"!==wbe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ebe(e){return(Ebe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jbe=/[^a-zA-Z0-9\`\~\!\@\#\$\%\^\&\*\(\)\_\+\-\=\{\}\|\[\]\\\:\"\;\'\<\>\?\,\.\/]/,Sbe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Obe(e,t)}(i,e);var t,n,r,o=Cbe(i);function i(){var e;kbe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).changeLockPassword=function(t){e.password=t.target.value},e.lock=function(){e.password?e.password.match(jbe)?fs.error(e.props.locale.passwordPattern):e.props.onLock(e.password):fs.error(e.props.locale.noPassword)},e}return t=i,(n=[{key:"render",value:function(){return k.a.createElement("div",{className:"lock-panel"},k.a.createElement("div",{className:"lock-icon"}),k.a.createElement("p",{className:"lock-title"},this.props.locale.lockInputTitle),k.a.createElement("p",null,k.a.createElement(oi,{placeholder:this.props.locale.lockInputPlaceholder,onChange:this.changeLockPassword,autoComplete:"nope"})),k.a.createElement("p",null,k.a.createElement(Oee,{type:"primary",onClick:this.lock},this.props.locale.ok),k.a.createElement(Oee,{onClick:this.props.onCancelLock},this.props.locale.cancel)))}}])&&xbe(t.prototype,n),r&&xbe(t,r),i}(k.a.Component);Sbe.propTypes={onLock:st.a.func,onCancelLock:st.a.func,locale:st.a.object};var Pbe=Sbe;function Rbe(e){return(Rbe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tbe(e){return function(e){if(Array.isArray(e))return Dbe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dbe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dbe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dbe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Abe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mbe(e,t){return(Mbe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nbe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lbe(e);if(t){var o=Lbe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ibe(this,n)}}function Ibe(e,t){return!t||"object"!==Rbe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lbe(e){return(Lbe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fbe={},zbe={},Bbe="/api/services/crypto",Vbe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mbe(e,t)}(i,e);var t,n,r,o=Nbe(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).destroy=function(){n.engine&&n.engine.toolbar.disable(!1),delete Fbe[n.getId()]},n.updateValue=function(e){n.password?n.crypting&&!e||(n.crypting=!0,Ma({method:"post",url:n.cyptoApi,data:{pwd:n.password,text:n.originData,action:"encrypt"},success:function(t){n.crypting=!1,n.crypted=!0,n.cryptoData=t.data,n.setValue({locked:!0,cryptoData:n.cryptoData,originData:""},!0),e&&n.showUnLockpanel(),n.showStatus()},error:function(){n.crypting=!1,e&&n.engine.messageError(n.locale.encryptoError)}})):n.setValue({locked:!1,originData:n.originData},!0)},n.lock=function(e){if(void 0!==e&&n.cachePassword(e),n.engine){if(!n.password)return void n.showLockPanel();n.updateValue(!0)}},n.unLock=function(e){e&&n.cryptoData&&(n.disabled||n.decrypting||(n.decrypting=!0,Ma({method:"post",url:n.cyptoApi,data:{pwd:e,text:n.cryptoData,action:"decrypt"},success:function(t){n.decrypting=!1,n.originData=void 0!==t.data?t.data:"",n.cachePassword(e),n.showOriginData(n.originData),n.locktrigger.find(".text").html(n.locale.lock),n.showStatus()},error:function(){n.decrypting=!1,n.showError()}})))},n.showError=function(){n.errorCount+=1,5===n.errorCount&&(n.disabled=!0,ru(n.unLockContainer).addClass("locked"),n.delayClearLockStatus()),ru(n.unLockContainer).addClass("error")},n.delayClearLockStatus=function(){setTimeout((function(){n.disabled=!1,n.errorCount=0,ru(n.unLockContainer).removeClass("error"),ru(n.unLockContainer).removeClass("locked")}),6e4)},n.showOriginData=function(e){n.clear(),n.textarea[0].value=e,n.textarea.attr("data-origin-data",e),n.originData=e,n.locked=!1,zbe[n.getId()]=!0},n.showLockPanel=function(){n.clear(),He.a.render(k.a.createElement(Pbe,{onLock:n.lock,onCancelLock:n.onCancelLock,locale:n.locale}),n.lockContainer)},n.showUnLockpanel=function(){n.locked=!0,n.clear(),He.a.render(k.a.createElement(bbe,{onUnlock:n.unLock,locale:n.locale}),n.unLockContainer),delete zbe[n.getId()]},n.cachePassword=function(e){n.password=e,Fbe[n.getId()]=e},n.clear=function(){ru(n.unLockContainer).removeClass("error"),ru(n.unLockContainer).removeClass("locked"),He.a.unmountComponentAtNode(n.unLockContainer),n.lockContainer&&He.a.unmountComponentAtNode(n.lockContainer)},n.onCancelLock=function(){n.clear()},n.onChangeValue=function(e){var t=e.target.value;n.originData!==t&&(n.originData=t,n.updateValue())},n.onInput=function(e){n.timer&&clearTimeout(n.timer),n.timer=setTimeout((function(){n.onChangeValue(e)}),3e3)},n.bindLockEvent=function(){n.locktrigger=n.container.find(".locktrigger"),n.locktrigger.on("click",(function(){n.lock()}))},n.showStatus=function(){n.engine&&(n.value.cryptoData?n.lockstatus.html(""):n.lockstatus.html(n.locale.unLockedInfo))},n.renderHTML=function(e){if(n.cryptoData=n.value.cryptoData||"",n.originData=n.value.originData||"",n.container.append(ru(function(e,t){return'\n    <div class="lake-lockedtext">\n      '.concat(e?'\n      <div class="lake-lockedtext-header">\n        <h5>'.concat(t.title,'</h5>\n        <span class="lockstatus"></span>\n        <span class="locktrigger">\n          <span class="lake-icon lake-icon-lock"></span>\n          <span class="text">').concat(t.setPassword,"</span>\n        </span>\n      </div>"):"",'\n      <div class="lake-lockedtext-content">\n        <textarea class="lockedtext"></textarea>\n      </div>\n      <div class="unlock-container ').concat(e?"editing":"reading",'"></div>\n      <div class="lock-container"></div>\n    </div>\n  ')}(e,n.locale))),n.textarea=n.container.find(".lockedtext"),n.unLockContainer=n.container.find(".unlock-container")[0],n.lockContainer=n.container.find(".lock-container")[0],n.lockstatus=n.container.find(".lockstatus"),n.bindLockEvent(),n.showStatus(),n.locked=!zbe[n.getId()]&&n.locked,!e)if(n.cryptoData)n.locked=!0;else if(n.originData)return void n.showOriginData(n.originData);if(!n.locked){if(n.originData)return void n.showOriginData(n.originData);if(Fbe[n.getId()])return void n.unLock(Fbe[n.getId()])}n.cryptoData&&n.showUnLockpanel()},n.engine=e,n.contentView=t,e?(n.card=e.card,n.locale=cbe[e.options.lang],n.cyptoApi=e.options&&e.options.lockedtext&&e.options.lockedtext.action?e.options.lockedtext.action:Bbe):(n.locale=cbe[t.options.lang],n.cyptoApi=t.options&&t.options.lockedtext&&t.options.lockedtext.action?t.options.lockedtext.action:Bbe),n.originData="",n.cryptoData="",n.password="",n.locked=!1,n.errorCount=0,n}return t=i,(n=[{key:"embedToolbar",value:function(){return[{type:"dnd"},{type:"copy"},{type:"separator"}].concat(Tbe(this.getMoreEmbedToolbarConfig()))}},{key:"activate",value:function(){this.engine&&this.engine.toolbar.disable(!0)}},{key:"unactivate",value:function(){this.engine&&this.engine.toolbar.disable(!1)}},{key:"renderView",value:function(){this.renderHTML(),this.toggleMargin(),this.textarea.attr("readonly",!0)}},{key:"renderEditor",value:function(){this.renderHTML(!0),this.toggleMargin(),this.textarea.on("change",this.onChangeValue),this.textarea.on("input",this.onInput)}},{key:"getId",value:function(){return this.value.uid||this.value.id}},{key:"render",value:function(e,t){this.value=t||{},this.contentView?this.renderView():this.renderEditor()}}])&&Abe(t.prototype,n),r&&Abe(t,r),i}(uw);function qbe(e){return(qbe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hbe(e){return function(e){if(Array.isArray(e))return Ube(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ube(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ube(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ube(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wbe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kbe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ybe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xbe(e,t,n){return(Xbe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jbe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function $be(e,t){return($be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gbe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jbe(e);if(t){var o=Jbe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zbe(this,n)}}function Zbe(e,t){return!t||"object"!==qbe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jbe(e){return(Jbe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Vbe.type="block",Vbe.uid=!0;var Qbe=Cl.escape,ewe=Cl.sanitizeUrl,twe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$be(e,t)}(i,e);var t,n,r,o=Gbe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wbe(Object(n),!0).forEach((function(t){Kbe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wbe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultHeight:467},e))).downloadFile=function(){var e=t.value,n=e.src,r=e.name;if(n){var o=t.getTopEngine();o&&o.options&&o.options.downloadFileHandler?o.options.downloadFileHandler(iw(n),r):window.open(iw(n))}},t.onSaveBefore=function(){return new Promise((function(e,n){"uploading"!==t.value.status?"transfering"!==t.value.status?e():n(t.locale.stillTransfering):n(t.locale.stillUploading)}))},t}return t=i,(n=[{key:"hitBlack",value:function(e){return!(e=new URL(e,location.origin)).pathname.startsWith("/office/")&&!e.pathname.startsWith("/preview/")}},{key:"embedToolbar",value:function(){var e=this,t=[{type:"dnd"},{type:"copy"},{type:"separator"},{type:"expand"},{type:"collapse"},{type:"preferences",onClick:function(){e.setSidebar(),e.openPreferences=!0}},{type:"separator"}].concat(Hbe(this.getMoreEmbedToolbarConfig()));return this.state.readonly&&!this.value.download||t.unshift({type:"download",onClick:this.downloadFile.bind(this)}),t}},{key:"setSidebar",value:function(){}},{key:"collapse",value:function(){this.setValue({collapsed:!0}),this.render()}},{key:"expand",value:function(){this.setValue({collapsed:!1}),this.render()}},{key:"getUrl",value:function(){var e=this.getTopEngine().options,t=Qb(this.value.src,e.previewOrigin,e.previewFrom);return ewe(t)}},{key:"correctURL",value:function(e){return e}},{key:"resolvePreview",value:function(e){return aw(e.replace("/office/","/preview/"),{json:!0})}},{key:"getAcceptExt",value:function(){var e=this.value,t=e.ext;return e.name&&/\.mindnode\.zip$/.test(e.name)?t="mindnode":e.name&&/\.xmind\.zip$/.test(e.name)&&(t="xmind"),t}},{key:"renderCollapse",value:function(){var e=this.value,t=this.getUrl(),n=this.correctURL(t),r=this.getAcceptExt(),o=this.container.append('\n      <div class="lake-embed lake-embed-upload lake-embed-upload-collapse" style="position: relative">\n        <div class="lake-embed-upload-file-icon lake-svg-icon-'.concat(Qbe(r),'"></div>\n        <div class="lake-embed-upload-collapse-body">\n          <div class="lake-embed-upload-collapse-name" >\n            <a href="').concat(n,'" target="_blank">').concat(Qbe(e.name),'</a>\n            <span class="lake-embed-upload-collapse-file-size">').concat(Qbe(Ve.getFileSize(e.size)),'</span>\n          </div>\n        </div>\n        <a class="lake-embed-upload-icon lake-svg-icon-preview" href="').concat(n,'" target="_blank"></a>\n      </div>\n    '));this.root=o}},{key:"getStatusTips",value:function(){var e=this.value,t=this.locale;return"uploading"===e.status?t.uploading:""}},{key:"renderExpand",value:function(){var e=this.value,t=this.options,n=e.status,r=e.ext,o=this.getHeight(),i=this.getUrl(),a=this.correctURL(i),c=t.transition,s=this.state.readonly?" lake-card-readonly":"",l=this.getStatusTips(),u=this.getAcceptExt(),f=ru('\n      <div class="lake-embed lake-embed-upload'.concat(s,'">\n        <div class="lake-embed-upload-header">\n          <span class="lake-embed-upload-icon lake-embed-upload-file-icon lake-svg-icon-').concat(Qbe(u),'"></span>\n          <a href="').concat(Qbe(a),'" target="_blank">\n            <span class="lake-embed-upload-file-name" style="max-width: calc(100% - 60px)"> ').concat(Qbe(e.name),' </span>\n            <span data-role="status-tips">').concat(l,'</span> <span data-role="percent"></span>\n          </a>\n          <a class="lake-embed-upload-icon lake-svg-icon-preview" href="').concat(Qbe(a),'" target="_blank"></a>\n        </div>\n        <div class="lake-embed-upload-body">\n          <div class="lake-embed-content-bg">\n            <span class="lake-icon lake-icon-loading"></span>\n          </div>\n          <iframe\n            frameborder="0"\n            allowfullscreen="true"\n            style="height: ').concat(Qbe(o),"px; transition: ").concat(Qbe(c),'"\n          ></iframe>\n          <div class="lake-embed-mask"></div>\n        </div>\n      </div>\n    ')),p=f.find("iframe");if(this.container.append(f),this.root=f,this.iframe=p,this.mask=f.find(".lake-embed-mask"),e.height&&p.attr("data-height",o),"done"===n)if("xls"!==r&&"xlsx"!==r||p.css("border-top","none"),fe.desktop&&["mindnode.zip","mindnode","pdf","psd","xmind"].includes(r)){var d=this,h=window.appConfig.pdfViewer;this._fetchPreviewURL(a,(function(e){try{var t="".concat(h,"?file=").concat(encodeURIComponent(e));d.renderIframe(p,t,2e3)}catch(e){}}))}else this.renderIframe(p,"".concat(aw(a,{view:"doc_embed"})),2e3);!0===this.state.activated&&this.hideMask()}},{key:"renderReadView",value:function(){this.state.collapsed?this.renderCollapse():(this.renderExpand(),this.hideMask())}},{key:"didInsert",value:function(e){if("uploading"===e.status||"transfering"===e.status){var t=this.getTopEngine();if(!e.uid||!t.uploader||!t.uploader.uploadingFiles[e.uid])return;t&&t.asyncEvent&&this.bindEvent(t.asyncEvent,"save:before",this.onSaveBefore)}}},{key:"getEmbedEmbedTitle",value:function(){var e=this.getAcceptExt(),t=this.value;return'\n        <span class="lake-svg-icon-'.concat(Qbe(e),'" style="\n          float: left;\n          margin-top: 5px;\n          margin-right: 6px;\n          width: 12.6px;\n          height: 13.5px;\n          background-size: 12.6px 13.5px;\n        "></span>\n        ').concat(Qbe(t.name),"\n    ")}},{key:"renderEditView",value:function(){this.state.collapsed?this.renderCollapse():(this.renderExpand(),this.renderResizeController())}},{key:"isError",value:function(){return"error"===this.value.status}},{key:"renderError",value:function(){var e=this.value,t=this.container,n=this.locale;He.a.render(k.a.createElement(h_,{cardIcon:'<span class="lake-svg-icon lake-svg-icon-error-file"></span>',variableContent:(e.message?e.message:n.invalid)+" "+e.name,fixedContent:e.ext?e.ext:"",message:e,block:!0,docWidth:this.getContainerWidth()}),t[0])}},{key:"render",value:function(){var e=this.state,t=this.value||{},n=t.collapsed;this.value=t,t.status=t.status||"done",e.collapsed=void 0!==n&&n,!t.ext&&t.src&&(t.ext=Ve.getFileExtname(t.src)),Xbe(Jbe(i.prototype),"render",this).call(this),this.toggleMargin(),this.refreshToolbar()}},{key:"destroy",value:function(){Xbe(Jbe(i.prototype),"destroy",this).call(this),this.restoreSideBar()}},{key:"_fetchPreviewURL",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;Ma({method:"get",url:this.resolvePreview(e),success:function(e){var n=e.data;t(n.url)},error:function(){r>0&&setTimeout((function(){n._fetchPreviewURL(e,t,r-1)}),3e3)}})}}])&&Ybe(t.prototype,n),r&&Ybe(t,r),i}(Pve);function nwe(e){return(nwe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rwe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function owe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rwe(Object(n),!0).forEach((function(t){iwe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rwe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iwe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function awe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cwe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function swe(e,t,n){return(swe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pwe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function lwe(e,t){return(lwe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uwe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pwe(e);if(t){var o=pwe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fwe(this,n)}}function fwe(e,t){return!t||"object"!==nwe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pwe(e){return(pwe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}twe.type="block";var dwe={en:{preferences:"Local File Preferences"},"zh-cn":{preferences:"本地文件设置"}},hwe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lwe(e,t)}(i,e);var t,n,r,o=uwe(i);function i(){var e;awe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).sidebarName="localdoc",e}return t=i,(n=[{key:"embedToolbar",value:function(){var e=this,t=swe(pwe(i.prototype),"embedToolbar",this).call(this);return t&&this.engine&&this.value&&!1!==this.engine.options.allowResource&&!1!==this.engine.options.allowSaveToResource&&"done"===this.value.status&&t.splice(2,0,{type:"button",name:"saveToResource",iconName:"save-folder",title:this.engine.locale.embedToolbar.saveToResource,onClick:function(){var t=e.getTopEngine();t&&t.event.trigger("saveToResource",{name:"localdoc",data:owe({},e.value)})}}),t}},{key:"setSidebar",value:function(){var e=this.value,t=dwe[this.getLang()];this.engine.sidebar.set({name:"localdoc",title:t.preferences,className:"lake-localdoc-sidebar",data:e})}},{key:"correctURL",value:function(e){var t=this.engine||this.contentView;return t&&t.options&&t.options.localdoc&&t.options.localdoc.domain?new URL(e,t.options.localdoc.domain).href:e}}])&&cwe(t.prototype,n),r&&cwe(t,r),i}(twe),mwe={colors:[["#000000","#262626","#595959","#8C8C8C","#BFBFBF","#D9D9D9","#E9E9E9","#F5F5F5","#FAFAFA","#FFFFFF"],["#F5222D","#FA541C","#FA8C16","#FADB14","#52C41A","#13C2C2","#1890FF","#2F54EB","#722ED1","#EB2F96"],["#FFE8E6","#FFECE0","#FFEFD1","#FFF8BD","#E4F7D2","#D3F5F0","#D4EEFC","#DEE8FC","#EFE1FA","#FAE1EB"],["#FFA39E","#FFBB96","#FFD591","#FFF08F","#B7EB8F","#87E8DE","#91D5FF","#ADC6FF","#D3ADF7","#FFADD2"],["#FF4D4F","#FF7A45","#FFA940","#FFEC3D","#73D13D","#36CFC9","#40A9FF","#597EF7","#9254DE","#F759AB"],["#CF1322","#D4380D","#D46B08","#D4B106","#389E0D","#08979C","#096DD9","#1D39C4","#531DAB","#C41D7F"],["#820014","#871400","#873800","#614700","#135200","#00474F","#003A8C","#061178","#22075E","#780650"]]};mwe._map=function(){for(var e={},t=mwe.colors,n=0,r=t.length;n<r;n++)for(var o=0,i=t[n].length;o<i;o++){e[t[n][o]]={y:n,x:o}}return e}(),mwe.getStroke=function(e){var t=mwe._map[e];return t&&(2===t.y||3===t.y&&t.x>2&&t.x<5)?this.colors[4][t.x]:e},mwe.getColors=function(){return this.colors};var vwe=mwe;function ywe(e){return(ywe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bwe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wwe(e,t,n){return t&&bwe(e.prototype,t),n&&bwe(e,n),e}function kwe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xwe(e,t)}function xwe(e,t){return(xwe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Owe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_we(e);if(t){var o=_we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cwe(this,n)}}function Cwe(e,t){return!t||"object"!==ywe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _we(e){return(_we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ewe=function(e){kwe(n,e);var t=Owe(n);function n(){var e;gwe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).toState=function(e,t){var n=e.hex?zn()(e.hex):zn()(e),r=n.toHsl(),o=n.toHsv(),i=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:"000000"===a&&0===i.a?"transparent":"#".concat(a),rgb:i,hsv:o,oldHue:e.h||t||r.h,source:e.source}},e.getContrastingColor=function(t){if(!t)return"#fff";var n=e.toState(t);return"transparent"===n.hex?"rgba(0,0,0,0.4)":(299*n.rgb.r+587*n.rgb.g+114*n.rgb.b)/1e3>=210?"#8C8C8C":"#FFFFFF"},e.onSelect=function(t,n){n.preventDefault(),n.stopPropagation(),e.props.onSelect&&e.props.onSelect(t)},e}return wwe(n,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.activeColors,r=e.defaultColor,o=e.setStroke,i=["#FFFFFF","#FAFAFA"].indexOf(t)>=0,a=n.indexOf(t)>=0,c=t===r,s={check:{fill:this.getContrastingColor(t),display:a?"block":"none"},block:{backgroundColor:"".concat(t)}};return o&&(s.block.border="1px solid ".concat(vwe.getStroke(t))),k.a.createElement("span",{className:_t()("lake-colorboard-group-item",{"lake-colorboard-group-item-border":i,"lake-colorboard-group-item-active":a,"lake-colorboard-group-item-special":c}),onClick:this.onSelect.bind(this,t)},k.a.createElement("span",{style:s.block},k.a.createElement("svg",{style:s.check,viewBox:"0 0 18 18"},k.a.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))}}]),n}(k.a.Component);Ewe.propTypes={color:st.a.string,activeColors:st.a.array,defaultColor:st.a.string,onSelect:st.a.func,setStroke:st.a.bool};var jwe=function(e){kwe(n,e);var t=Owe(n);function n(){return gwe(this,n),t.apply(this,arguments)}return wwe(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=void 0===t?[]:t,r=e.activeColors,o=e.defaultColor,i=e.onSelect,a=e.setStroke;return k.a.createElement("span",{className:"lake-colorboard-group"},n.map((function(e){return k.a.createElement(Ewe,{color:e,key:e,activeColors:r,defaultColor:o,onSelect:i,setStroke:a})})))}}]),n}(k.a.Component);jwe.propTypes={activeColors:st.a.array,defaultColor:st.a.string,data:st.a.array,onSelect:st.a.func,setStroke:st.a.bool};var Swe=function(e){kwe(n,e);var t=Owe(n);function n(){return gwe(this,n),t.apply(this,arguments)}return wwe(n,[{key:"render",value:function(){var e=this.props.activeColors,t=this.props,n=t.defaultColor,r=t.onSelect,o=t.setStroke,i=this.props.colors;return i||(i=vwe.getColors()),(0===e.length||1===e.length&&""===e[0])&&(e=[n]),k.a.createElement("div",{className:"lake-colorboard"},i.map((function(t,i){return k.a.createElement(jwe,{data:t,key:i,activeColors:e,defaultColor:n,onSelect:r,setStroke:o})})))}}]),n}(k.a.Component);Swe.propTypes={activeColors:st.a.array,defaultColor:st.a.string,onSelect:st.a.func,colors:st.a.array,setStroke:st.a.bool};var Pwe=Swe;function Rwe(e){return(Rwe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Twe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dwe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Twe(Object(n),!0).forEach((function(t){Awe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Twe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Awe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mwe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nwe(e,t){return(Nwe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Iwe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fwe(e);if(t){var o=Fwe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lwe(this,n)}}function Lwe(e,t){return!t||"object"!==Rwe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fwe(e){return(Fwe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zwe=Cl.escape,Bwe=Cl.unescape,Vwe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nwe(e,t)}(i,e);var t,n,r,o=Iwe(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e);var n=e.cardValue.colorIndex;return t.state={activeColors:[e.colors[n]]},t}return t=i,(n=[{key:"change",value:function(e){this.props.onChange(Dwe(Dwe({},this.props.cardValue),e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.colors,r=t.onPressEnter,o=t.onFocus,i=t.onBlur,a=this.state.activeColors;return k.a.createElement("div",null,k.a.createElement(oi,{defaultValue:Bwe(this.props.cardValue.label),onChange:function(t){e.change({label:zwe(t.target.value.trim())})},draggable:"false",onDragStart:function(e){e.preventDefault(),e.stopPropagation()},onClick:function(e){e.stopPropagation()},onMouseDown:function(e){e.stopPropagation(),e.target.focus()},onFocus:o,onBlur:i,onPressEnter:r}),k.a.createElement(Pwe,{activeColors:a,setStroke:!0,onSelect:function(t){e.change({colorIndex:n.indexOf(t)}),e.setState({activeColors:[t]})},colors:[n]}))}}])&&Mwe(t.prototype,n),r&&Mwe(t,r),i}(k.a.Component);Vwe.propTypes={onChange:st.a.func,cardValue:st.a.object,colors:st.a.array,onFocus:st.a.func,onBlur:st.a.func,onPressEnter:st.a.func};var qwe={en:{defaultLabel:"SET LABEL"},"zh-cn":{defaultLabel:"设置标签"}};function Hwe(e){return(Hwe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uwe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wwe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uwe(Object(n),!0).forEach((function(t){Kwe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uwe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kwe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ywe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xwe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $we(e,t,n){return($we="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qwe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Gwe(e,t){return(Gwe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zwe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qwe(e);if(t){var o=Qwe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jwe(this,n)}}function Jwe(e,t){return!t||"object"!==Hwe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qwe(e){return(Qwe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eke=vwe.getColors(),tke=[[eke[2][0],eke[6][0]],[eke[2][3],eke[6][3]],[eke[2][4],eke[6][4]],[eke[0][6],eke[0][2]],[eke[2][6],eke[6][6]],[eke[2][7],eke[6][7]]],nke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gwe(e,t)}(i,e);var t,n,r,o=Zwe(i);function i(){return Ywe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"onChange",value:function(e){this.value=Object.assign(this.value,e),this.updateLabel(),this.engine&&this.engine.setUserChanged()}},{key:"onConfirm",value:function(){this.value&&this.setValue(this.value)}},{key:"focusInput",value:function(){this.editorContainer.find("input")[0].focus()}},{key:"unactivate",value:function(){this.state.readonly||(this.editorContainer.hide(),this.setValue({},!0),this.labelContainer.removeClass("lake-label-selected"),this.engine.readonly(!1),vw(this))}},{key:"updateEditorPosition",value:function(){var e=this.labelContainer.getBoundingClientRect();this.editorContainer.css("left","".concat(e.left,"px")),this.editorContainer.css("top","".concat(e.top+24,"px"))}},{key:"activate",value:function(){this.state.readonly||(this.editorContainer.show(),this.labelContainer.addClass("lake-label-selected"),this.updateEditorPosition(),mw(this))}},{key:"select",value:function(){this.labelContainer.addClass("lake-label-selected")}},{key:"unselect",value:function(){this.state.activated&&!this.state.readonly||this.labelContainer.removeClass("lake-label-selected")}},{key:"selectByOther",value:function(e){this.labelContainer.css("border","2px solid "+e)}},{key:"unselectByOther",value:function(){this.labelContainer.css("border","")}},{key:"updateLabel",value:function(){var e=this.value,t=e.colorIndex,n=e.label,r=tke[t][0],o=tke[t][1],i=n,a=1;n||(i=this.locale.defaultLabel,a=.45),this.labelContainer.css("background",r),this.labelContainer.css("color",o),this.labelContainer.css("opacity",a),this.state.activated?this.labelContainer.addClass("lake-label-selected"):this.labelContainer.removeClass("lake-label-selected"),this.labelContainer.text(Cl.unescape(i))}},{key:"renderView",value:function(){var e=this.container;this.labelContainer=ru('\n      <span class="lake-card-label-container"></span>\n    '),e.append(this.labelContainer),this.updateLabel(),!this.state.readonly&&yw(this.labelContainer)}},{key:"renderEditor",value:function(){var e=this,t=this.container,n=this.value,r=this.engine,o=this.cardRoot,i=ru('<div class="lake-card-label-editor"></div>');this.editorContainer=i,t.append(i),gw({editorContainer:i,engine:r,cardRoot:o}),He.a.render(k.a.createElement(Vwe,{colors:tke.map((function(e){return e[0]})),onChange:function(t){e.onChange(t)},onFocus:function(){i.addClass("input-focus"),e.engine.readonly(!0)},onBlur:function(){e.onConfirm(),i.removeClass("input-focus")},onPressEnter:function(){e.onConfirm()},cardValue:n,defaultValue:this.defaultValue}),i[0])}},{key:"getDefaultValue",value:function(){return{label:"",colorIndex:0}}},{key:"render",value:function(){var e=this.getLang(),t=qwe[e],n=this.getDefaultValue();this.locale=t,this.value=this.value||{},this.value=Wwe(Wwe({},n),this.value),this.defaultValue=n,this.renderView(),this.state.readonly||this.renderEditor()}},{key:"destroy",value:function(){$we(Qwe(i.prototype),"destroy",this).call(this),vw(this)}}])&&Xwe(t.prototype,n),r&&Xwe(t,r),i}(uw);nke.type="inline";var rke="www.processon.com",oke="https://".concat("wxmp.processon.com","/embed/"),ike="https://".concat(rke,"/embed/"),ake="https://".concat(rke,"/chart_image/id/"),cke="https://assets.processon.com/embed/";function ske(e){return e.startsWith(ike)||e.startsWith("https://www.processon.com/view/link/")||e.startsWith(oke)||e.startsWith(cke)}function lke(e){if(e.startsWith("<iframe")){var t=e.match(/src="([^>]{1,200}[^>])"/);e=t?t[1]:""}return e.startsWith("https://www.processon.com/mindmap/")?e.replace("https://www.processon.com/mindmap/",ike):e.startsWith("https://www.processon.com/diagraming/")?e.replace("https://www.processon.com/diagraming/",ike):e.startsWith("https://www.processon.com/apps/")?e.replace("https://www.processon.com/apps/",ike):ske(e)?e:void 0}var uke={isMatchDomain:function(e){return e&&(e.startsWith("https://www.processon.com/")||e.startsWith("https://wxmp.processon.com/"))},isDomain:ske,getDocEmbedURL:lke,name:"processon",simple:"https://www.processon.c…",example:"https://www.processon.com/embed/5d006c43e4b071ad5a206ed2",processonEmbedUrl:ike,processonImageUrl:ake,processonAssetsUrl:cke},fke=["lark.alipay.net","skylark-1-64.test.alipay.net","yuque-pre.antfin-inc.com","localhost"].includes(window.location.hostname),pke=["https://free.modao.cc/app/","https://org.modao.cc/","https://modao.cc/"],dke=["https://free.modao.cc/app/design/"];function hke(e){if(!e)return!1;for(var t=0,n=dke.length;t<n;t++)if(e.startsWith(dke[t]))return!1;for(var r=0;r<pke.length;r++){var o=pke[r];if(e.startsWith(o))return!0}return!1}fke&&pke.concat(["https://jb.modao.cc/app/"]);var mke=["https://map.gaode.com/","https://ditu.gaode.com/","https://www.gaode.com/","https://www.amap.com/","https://ditu.amap.com/","https://ditu.amap.com/","https://gaode.com/"];function vke(e){if(!e)return!1;for(var t=0,n=mke.length;t<n;t++)if(e.startsWith(mke[t]))return!0;return!1}var yke=null;function gke(e){yke||(yke=new DOMParser);try{var t=yke.parseFromString(e,"text/html");if(!t.body)return null;var n=t.body.firstChild;if("IFRAME"!==n.nodeName)return null;if(n)return n.src||null}catch(e){return null}}var bke=[/^https:\/\/codepen\.io\/[^\/]+\/(embed|pen|full)\//];function wke(e){return bke.some((function(t){return t.test(e)}))}var kke=["https://herbox-embed.alipay.com/"];function xke(e){return e&&kke.some((function(t){return e.startsWith(t)}))}var Oke=[/^https:\/\/www\.figma\.com\/embed/];function Cke(e){return Oke.some((function(t){return t.test(e)}))}var _ke=[/https:\/\/deepinsight\.alipay\.com\/pc\.htm\?reportId=[^\/]+/];function Eke(e){return _ke.some((function(t){return t.test(e)}))}var jke=[/^https?:\/\/riddle\.alibaba-inc\.com.*/];function Ske(e){return jke.some((function(t){return t.test(e)}))}function Pke(e){return e.startsWith("http://music.163.com/outchain/player")||e.startsWith("https://music.163.com/outchain/player")}var Rke=/https?:\/\/\S*\.xiami\.com\/song\/([^\/?#]+)/;function Tke(e){return e.startsWith("https://h5.xiami.com/app")||e.startsWith("http://h5.xiami.com/app")||e.startsWith("https://www.xiami.com/webapp/")}function Dke(e){return e.startsWith("http://www.ximalaya.com/thirdparty/player/sound/")||e.startsWith("https://www.ximalaya.com/thirdparty/player/sound/")}function Ake(e){return e.startsWith("https://www.youtube.com/embed/")}function Mke(e){return e.match(/^https:.*\.youku\.com\//)}function Nke(e){return e&&e.match(/^https:.*\.bilibili\.com\//)}function Ike(e){return e.startsWith("https://cloud.video.taobao.com/")}var Lke=/^(https?:\/\/[\S]+?\.canva\.cn\/design\/)((?:[^\/]+\/)+)(view|edit)$/i;function Fke(e){return e&&e.match(/^https:\/\/[\S]+?\.canva\.cn\//)}var zke=/^[a-z0-9]/i,Bke=/[a-z0-9]$/i;function Vke(e){return zke.test(e)&&(e=" "+e),Bke.test(e)&&(e+=" "),e}var qke="?background=white&banner=show&embedded=true";function Hke(e){return e&&e.match(/^https:\/\/([^\/]+\.)?jinshuju\.(com|net)\//)}function Uke(e){return(Uke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kke(e,t,n){return(Kke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gke(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Yke(e,t){return(Yke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gke(e);if(t){var o=Gke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $ke(this,n)}}function $ke(e,t){return!t||"object"!==Uke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gke(e){return(Gke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zke,Jke,Qke=[{isMatchDomain:function(e){return e&&Mke(e)},isDomain:Mke,getDocEmbedURL:function(e){if(e.startsWith("https://player.youku.com/embed/"))return e;var t=e.match(/^https?:\/\/\w+\.youku\.com\/v_show\/id_([^\.]+)/i);return t?"https://player.youku.com/embed/".concat(t[1]):null},simple:"https://v.youku.com/v_show…",example:"https://player.youku.com/embed/XNDQ2Mzc1OTEyOA==",name:"youku"},{isMatchDomain:function(e){return Nke(e)},isDomain:Nke,getDocEmbedURL:function(e){if(e.startsWith("<iframe")&&(e=gke(e)),e.startsWith("https://player.bilibili.com/player.html?"))return e;if(e.startsWith("http://player.bilibili.com/player.html?"))return e.replace(/^http:/i,"https:");var t=e.match(/^https?:\/\/\w+\.bilibili\.com\/video\/av(\d+)/i);if(t){var n=t[1],r=e.match(/p=(\d+)/);return r&&(r=r[1]),"https://player.bilibili.com/player.html?aid=".concat(n).concat(r?"&p=".concat(r,"&page=").concat(r):"")}var o=new URL(e,location.origin),i=(o.origin+o.pathname).match(/^https?:\/\/\w+\.bilibili\.com\/video\/(bv[^\/]+)\/?$/i);if(i){var a,c=i[1];return/\b(?:p=(\d+))/.test(o.search)&&(a=RegExp.$1),"https://player.bilibili.com/player.html?bvid=".concat(c).concat(a?"&p=".concat(a,"&page=").concat(a):"")}return null},simple:"https://www.bilibili.com…",example:"https://player.bilibili.com/player.html?aid=55895675",name:"bilibili"},{isMatchDomain:function(e){return e&&Ike(e)},isDomain:Ike,getDocEmbedURL:function(e){return e.startsWith("https://cloud.video.taobao.com/")?e:null},simple:"https://cloud.video.taobao.com…",name:"taobao"},{isMatchDomain:function(e){return Fke(e)},isDomain:Fke,getDocEmbedURL:function(e){e=(e=new URL(e,location.origin)).origin+e.pathname;var t=Lke.exec(e);if(t&&t[2]){var n=t[2].split("/"),r=t[2];return n.length>1&&n[0]&&(r=n[0]+"/"),t[1]+r+"view?embed"}return null},simple:"https://www.canva.cn/design/…",example:"https://www.canva.cn/design/DAD3c63mhHU/view?embed",name:"canva"},{isMatchDomain:function(e){return!!e&&(e.startsWith("https://h5.xiami.com/")||e.startsWith("http://h5.xiami.com/")||e.startsWith("https://www.xiami.com/"))},isDomain:Tke,getDocEmbedURL:function(e){return e.startsWith("<iframe")?e=(e=gke(e))&&e.replace("autoPlay=1&",""):Rke.test(e)&&(e="https://www.xiami.com/webapp/embed-player?id="+RegExp.$1),Tke(e)?e:null},showInPlaceholder:{extranet:!0,intranet:!0},simple:"https://xiami.com/song/181…",example:"https://www.xiami.com/webapp/embed-player?id=1816059093",name:"xiami"},{isMatchDomain:function(e){return e&&/^https:\/\/jb\.modao\.cc\//.test(e)},isDomain:hke,getDocEmbedURL:function(e){if(e.startsWith("<iframe")){var t=e.match(/src="([^>]{1,200}?[^>])"/);e=t?t[1]:""}if(hke(e)){var n=new URL(e,pke[2]);return(e=n.origin+n.pathname).endsWith("embed")?e=e.replace("embed","embed/v2"):e.endsWith("/embed/v2")||(e+="/embed/v2"),e+n.hash}},showInPlaceholder:{extranet:!0,intranet:!1},placeholder:function(e){return e.thirdparty.placeholders.modao},example:"https://free.modao.cc/app/2cd26580a6717a147454df7470e7ec464093cba3/embed/v2#screen=sk71k6d1dfxulzx",name:"modao"},{isMatchDomain:function(e){return e&&Ske(e)},isDomain:Ske,getDocEmbedURL:function(e){return e.startsWith("<iframe")&&(e=gke(e)),Ske(e)?(e.endsWith("iframe")||(e+="/iframe"),e):null},showInPlaceholder:{extranet:!1,intranet:!0},simple:"https://riddle.alibaba-inc.co…",example:"https://riddle.alibaba-inc.com/riddles/1d4aee7c",name:"riddle"},{isMatchDomain:function(e){return e&&e.startsWith("https://deepinsight.alipay.com/")},isDomain:Eke,getDocEmbedURL:function(e){return Eke(e)?e:null},showInPlaceholder:{extranet:!1,intranet:!0},simple:"https://deepinsight.alipay.com…",name:"deepinsight"},{isMatchDomain:function(e){return vke(e)},isDomain:vke,getDocEmbedURL:function(e){return vke(e)?e:null},name:"amap",showInPlaceholder:{extranet:!0,intranet:!0},simple:"https://ditu.amap.com…",example:"https://ditu.amap.com/"},{isMatchDomain:function(e){return xke(e)},isDomain:xke,getDocEmbedURL:function(e){return xke(e)?e:null},simple:"https://herbox-embed.alipa…",example:"https://herbox-embed.alipay.com/s/doc-aliui-calendar",name:"herbox"},{isMatchDomain:function(e){return e&&e.startsWith("https://music.163.com/")},isDomain:Pke,getDocEmbedURL:function(e){return e.startsWith("<iframe")&&(e=gke(e)),Pke(e)?e:null},name:"music163"},{isMatchDomain:function(e){return e&&Dke(e)},isDomain:Dke,getDocEmbedURL:function(e){return e.startsWith("<iframe")&&(e=gke(e)),Dke(e)?e:null},name:"ximalaya"},{isMatchDomain:function(e){return e&&Ake(e)},isDomain:Ake,getDocEmbedURL:function(e){return e.startsWith("<iframe")&&(e=gke(e)),Ake(e)?e:null},name:"youtube"},{isMatchDomain:function(e){return e&&e.startsWith("https://www.figma.com/")},isDomain:Cke,getDocEmbedURL:function(e){return e.startsWith("<iframe")?e=gke(e):e.match(/^https:\/\/www\.figma\.com\/file|proto\//)&&(e="https://www.figma.com/embed?embed_host=share&url="+encodeURIComponent(e)),Cke(e)?e:null},showInPlaceholder:{extranet:!0,intranet:!1},example:"https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FqwccoVDBmt1FZ6U4eGus2p%2F%25E8%25AF%25AD%25E9%259B%2580%25E6%258F%2592%25E5%259B%25BE",simple:"https://www.figma.com…",name:"figma"},{isMatchDomain:function(e){return e&&e.startsWith("https://codepen.io/")},isDomain:wke,getDocEmbedURL:function(e){return e.startsWith("<iframe")&&(e=gke(e)),wke(e)?e.replace("/pen/","/embed/"):null},showInPlaceholder:{extranet:!0,intranet:!1},simple:"https://codepen.io/afc163…",example:"https://codepen.io/afc163-1472555193/embed/oNXqWGP",name:"codepen"},uke,{isMatchDomain:function(e){return Hke(e)},isDomain:Hke,getDocEmbedURL:function(e){var t=!1;if(e.startsWith("<iframe")&&(e=gke(e),t=!0),!Hke(e))return null;var n=new URL(e,location.origin),r=n.pathname,o=n.origin;return r.startsWith("/f/")?t?e:o+r+qke:/^\/forms\/([^\/]+)(?:\/[^\/]*)?$/.test(r)?o+"/f/"+RegExp.$1+qke:null},simple:"https://www.jinshuju.net/f/…",example:null,name:"jinshuju"}],exe="data-card-alias",txe={"zh-cn":{illegalURL:k.a.createElement("span",null,"无法显示链接内容，请查看",k.a.createElement("a",{href:"https://www.yuque.com/yuque/help/fuu6h3",target:"_blank"},"帮助")),illegalDomain:"暂不支持显示该网站内容"},en:{illegalURL:k.a.createElement("span",null,"Unable to display the link content, please check the ",k.a.createElement("a",{href:"https://www.yuque.com/yuque/help/fuu6h3",target:"_blank"},"help")),illegalDomain:"No support for displaying the content of this website"}},nxe=["ximalaya","youtube","music163"],rxe=["ximalaya","music163"],oxe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yke(e,t)}(i,e);var t,n,r,o=Xke(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,{defaultHeight:500})).thirdparts=[],e}return t=i,(n=[{key:"init",value:function(){var e=this.getTopEngine();if(e.isReadonly)this.thirdparts=Qke.slice(0);else{var t=vC()?nxe:rxe,n=yC(e.options.thirdPartyService);n=n.concat(t),this.thirdparts=Qke.filter((function(e){return-1!==n.indexOf(e.name)}))}}},{key:"activate",value:function(){var e=this;Kke(Gke(i.prototype),"activate",this).call(this),setTimeout((function(){!e.state.readonly&&e.engine.toolbar.disable(!0)}),200),this.state.readonly||this.iframe&&this.container.css("border","1px solid #d9d9d9")}},{key:"unactivate",value:function(){Kke(Gke(i.prototype),"unactivate",this).call(this),!1===this.state.activated||this.destroyed||this.state.readonly||(this.engine.toolbar.disable(!1),this.iframe&&this.container.css("border","1px solid rgba(0,0,0,0)"))}},{key:"getExampleURL",value:function(){var e=this.getThirdPartyByEntrance(this.value.entrance);return e&&e.example||null}},{key:"getThirdPartyByEntrance",value:function(e){if(!e)return null;for(var t=this.thirdparts,n=0,r=t.length;n<r;n++)if(t[n].name===e)return t[n];return null}},{key:"getHeight",value:function(){return this.state.maximize?this.getContainerHeight():Kke(Gke(i.prototype),"getHeight",this).call(this)}},{key:"maximize",value:function(){this.iframe.css("height",this.getHeight()+"px"),this.iframe.css("transition","none"),this.container.css("overflow","hidden"),this.state.readonly||(this.engine.toolbar.hide(),this.hideRisizeController())}},{key:"restore",value:function(){this.iframe.css("height",this.getHeight()+"px"),this.container.css("overflow","initial"),this.state.readonly||(this.engine.toolbar.show(),this.showRisizeController())}},{key:"isError",value:function(){return!!Xb.isWechatMiniApp}},{key:"getLocale",value:function(){var e=this.getViewEngine();return e?e.locale:null}},{key:"getPlaceHolder",value:function(){var e=this.getLocale();if(!e)return"";var t=this.getThirdPartyByEntrance(this.value.entrance);return t?t.placeholder?t.placeholder(e):e.thirdparty.tip.replace("%s",Vke(e.thirdparty.names[t.name])).replace("%s",Vke(t.simple)):e.thirdparty.defaultTip}},{key:"embedToolbar",value:function(){var e=this.alias;if(!e&&this.value.url){var t=this.getDocEmbedURL(this.value.url);t&&(e=t.name)}var n=Kke(Gke(i.prototype),"embedToolbar",this).call(this);return!e||this.isMusic(e)||this.isOnlineVideo(e)?this.state.readonly?[]:n:(n.length>0&&n.unshift({type:"separator"}),n.unshift({type:"maximize"}),n)}},{key:"hitBlack",value:function(e){return this.thirdparts.every((function(t){return!t.isDomain(e)}))}},{key:"refreshToolbar",value:function(){var e=this.getViewEngine();e&&this.cardRoot&&(e.card.updateToolbar(this),e.card.showToolbar(this.cardRoot))}},{key:"afterHandleSubmit",value:function(){this.refreshToolbar()}},{key:"getDocEmbedURL",value:function(e){for(var t=this.thirdparts,n=0,r=t.length;n<r;n++){var o=t[n].getDocEmbedURL(e);if(o)return{name:t[n].name,url:o}}for(var i=!1,a=0,c=t.length;a<c;a++)if(t[a].isMatchDomain(e)){i=!0;break}var s=(this.getTopEngine().options||{}).lang||"zh-cn",l=txe[s];return{url:null,message:i?l.illegalURL:l.illegalDomain}}},{key:"isMusic",value:function(e){return"xiami"===e||"music163"===e||"ximalaya"===e}},{key:"isOnlineVideo",value:function(e){return"youku"===e||"taobao"===e||"bilibili"===e}},{key:"destroy",value:function(){Kke(Gke(i.prototype),"destroy",this).call(this),this.state.readonly||this.engine.toolbar.disable(!1)}},{key:"render",value:function(){if(this.value||(this.value={}),this.value.src&&this.value.url||!this.getTopEngine().isReadonly){this.updateAlias();var e=this.alias,t=this.isMusic(e);this.isOnlineVideo(e)&&(this.options.resize=!1),"xiami"===e?(this.value.height=110,this.options.resize=!1):"music163"===e?(this.value.height=86,this.options.resize=!1):"ximalaya"===e&&(this.value.height=36,this.options.resize=!1),"riddle"===e&&(this.options.allow="clipboard-write https://riddle.alibaba-inc.com;"),Kke(Gke(i.prototype),"render",this).call(this),this.state.readonly?this.iframe&&t&&this.container.css("border","1px solid rgba(0,0,0,0)"):this.iframe&&!this.state.activated&&t&&this.container.css("border","1px solid rgba(0,0,0,0)")}}},{key:"updateAlias",value:function(){if(!this.alias){var e=this.cardRoot.attr(exe);if(e)this.alias=e;else{var t=(this.value||{}).src;if(t)for(var n=Object.keys(this.thirdparts),r=0,o=n.length;r<o;r++){var i=this.thirdparts[n[r]];if(i.getDocEmbedURL(t))return this.cardRoot.attr(exe,i.name),void(this.alias=i.name)}}}}},{key:"renderError",value:function(){var e=this.container,t=this.locale;e.append('\n      <div class="lake-third-party-card-error">\n        <p><span class="lake-icon lake-icon-warning"></span></p>\n        <p>'.concat(t.wechatAlert,"</p>\n      </div>\n    "))}}])&&Wke(t.prototype,n),r&&Wke(t,r),i}(Yve),ixe="price",axe="daysCount",cxe="tip",sxe="OWNER",lxe="PAID";function uxe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fxe=(uxe(Zke={},axe,{max:365,min:1}),uxe(Zke,ixe,{max:99,min:1}),uxe(Zke,cxe,{max:20,min:0}),Zke),pxe=(uxe(Jke={},ixe,!0),uxe(Jke,axe,!0),Jke);function dxe(e,t,n){if(pxe[t]&&function(e){return null==e||""===e}(n))return e.premium.sidebar[t].error.required;switch(t){case ixe:case axe:return function(e,t,n){if(""===n||null==n)return null;return function(e,t,n,r,o){var i=e.premium.sidebar[t],a=Number(n);if(function(e){return e=Number(e),Number.isNaN?Number.isNaN(e):window.isNaN(e)}(a)||!function(e){return Number.isInteger?Number.isInteger(e):(Number.parseInt?Number.parseInt(e,10):parseInt(e,10))===e}(a)||a+""!=n+"")return i.error.invalid;if(a>o||a<r)return i.error.range;return null}(e,t,n,fxe[t].min,fxe[t].max)}(e,t,n);case cxe:return function(e,t,n){if(""===(n=(n||"").replace(/\n+/g,""))||null==n)return null;return function(e,t,n,r,o){var i=e.premium.sidebar[t],a=n.length;if(a<r||a>o)return i.error.length;return null}(e,t,n,fxe[t].min,fxe[t].max)}(e,t,n);default:return null}}function hxe(e){return(hxe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vxe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yxe(e,t){return(yxe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gxe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wxe(e);if(t){var o=wxe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bxe(this,n)}}function bxe(e,t){return!t||"object"!==hxe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wxe(e){return(wxe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kxe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yxe(e,t)}(i,e);var t,n,r,o=gxe(i);function i(){return mxe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.data,t=e.expired;return e.readonly&&(t=e.expired&&"PAID"!==e.role),k.a.createElement("div",{className:"lake-premium-view ".concat(t?"expired":"")},this.renderShadowMask(),k.a.createElement("div",{className:"lake-premium-view-tip ".concat(e.role===lxe?"paid":"")},this.renderTip()))}},{key:"renderTip",value:function(){return this.props.data.readonly?this.renderPreviewTip():this.renderEditingTip()}},{key:"renderPreviewTip",value:function(){var e=this.props.data,t=null;return t=e.role===sxe?this._renderOwnerPreviewTip():e.role===lxe?this._renderPaidPreviewTip():this._renderUnpaidPreviewTip(),k.a.createElement("div",{className:"lake-premium-view-tip-content"},t)}},{key:"renderEditingTip",value:function(){var e=this.props,t=e.data,n=e.engine,r=t.expired?n.locale.premium.expiredTip:n.locale.premium.defaultTip;return k.a.createElement("div",{className:"lake-premium-view-tip-content"},k.a.createElement("span",{className:"lake-icon lake-icon-yuan"}),(t.tip||"").substring(0,fxe.tip.max)||r)}},{key:"renderShadowMask",value:function(){var e=this.props.data;return e.expired||e.role===sxe||e.role===lxe?null:k.a.createElement("div",{className:"lake-premium-shadow-mask"})}},{key:"_renderOwnerPreviewTip",value:function(){return this._renderUnpaidPreviewTip()}},{key:"_renderPaidPreviewTip",value:function(){return k.a.createElement(k.a.Fragment,null,k.a.createElement("span",{className:"lake-icon lake-icon-yuan"}),this.props.engine.locale.premium.paidTip)}},{key:"_renderUnpaidPreviewTip",value:function(){var e=this.props,t=e.data,n=e.engine;return t.expired?k.a.createElement(k.a.Fragment,null,n.locale.premium.expiredTip):k.a.createElement(k.a.Fragment,null,k.a.createElement("span",{className:"lake-icon lake-icon-yuan"}),(t.tip||"").substring(0,fxe.tip.max)||n.locale.premium.defaultTip)}}])&&vxe(t.prototype,n),r&&vxe(t,r),i}(w.Component);function xxe(e){return(xxe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oxe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cxe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oxe(Object(n),!0).forEach((function(t){_xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oxe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Exe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jxe(e,t,n){return(jxe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Txe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Sxe(e,t){return(Sxe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pxe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Txe(e);if(t){var o=Txe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rxe(this,n)}}function Rxe(e,t){return!t||"object"!==xxe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Txe(e){return(Txe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}kxe.propTypes={engine:st.a.object.isRequired,data:st.a.shape({readonly:st.a.bool.isRequired,role:st.a.string,expired:st.a.bool,tip:st.a.string})},kxe.defaultProps={data:{}};var Dxe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sxe(e,t)}(i,e);var t,n,r,o=Pxe(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t)).__engine=null,n.__contentView=null,n.__cardRoot=null,n.__rootNode=null,n._sideBarIsShow=!1,n.__onSaveBefore=function(e){return e?Promise.resolve():new Promise((function(e,t){var r=n.getValue(),o=n.currentEngine().locale,i=dxe(o,ixe,r.price);return i||(i=dxe(o,axe,r.daysCount))||(i=dxe(o,cxe,r.tip))?t(i):void e()})).catch((function(e){return n.__showSidebar(),Promise.reject(e)}))},n.__onSyncUserInput=function(e){n.__setCardValue(Cxe(Cxe({},n.__getCardValue()),e)),n.__updateView()},n.__engine=e,n.__contentView=t,n.__disabled=(n.currentEngine().options.cardBlacklist||[]).includes("premium"),n}return t=i,(n=[{key:"currentEngine",value:function(){return this.__engine||this.__contentView}},{key:"isReadonly",value:function(){return!this.__engine}},{key:"embedToolbar",value:function(){return fe.mobile?[{type:"delete"}]:[{type:"dnd"},{type:"delete"}]}},{key:"activate",value:function(){jxe(Txe(i.prototype),"activate",this).call(this),this.__showSidebar()}},{key:"unactivate",value:function(){jxe(Txe(i.prototype),"unactivate",this).call(this),this.__hideSidebar()}},{key:"currentDocID",value:function(){return(this.currentEngine().metaManager.getRawMeta("skylark")||{}).docID}},{key:"getMargin",value:function(){return!0}},{key:"render",value:function(e,t){if(!this.__disabled)if(t&&t.docID&&t.docID!==this.currentDocID()){var n=this.currentEngine();this.isReadonly()?n.card.removeNode(this.cardRoot):n.card.removeNode(this.cardRoot,n)}else e=ru(e)[0],this.__rootNode!==e&&this.__reset(e),this.__setCardValue(t),this.__rootNode?this.__updateView():this.__initView(e),this.toggleMargin()}},{key:"getValue",value:function(){var e,t=this.__getCardViewData();return _xe(e={},ixe,+t.price||null),_xe(e,axe,+t.daysCount||null),_xe(e,cxe,(t.tip||"").substring(0,fxe.tip.max)||null),_xe(e,"freeze",t.freeze),_xe(e,"expired",t.expired),e}},{key:"destroy",value:function(){this.__destroyView(),this.__hideSidebar(),jxe(Txe(i.prototype),"destroy",this).call(this);var e=this.getTopEngine();e&&e.asyncEvent&&e.asyncEvent.off("save:before",this.__onSaveBefore)}},{key:"didInsert",value:function(){if(this.__cardRoot){var e=this.getTopEngine();e&&e.asyncEvent&&e.asyncEvent.on("save:before",this.__onSaveBefore)}}},{key:"__getCardValue",value:function(){return this.currentEngine().card.getValue(this.__cardRoot)||{}}},{key:"__setCardValue",value:function(e){this.currentEngine().card.setValue(this.__cardRoot,e)}},{key:"__initView",value:function(e){if(!this.__rootNode){if(this.__rootNode&&this.__rootNode!==e)return this.__destroyView(),this.__initView(e);this.__rootNode=e,He.a.render(k.a.createElement(kxe,{engine:this.currentEngine(),data:this.__getCardViewData()}),this.__rootNode)}}},{key:"__updateView",value:function(){He.a.render(k.a.createElement(kxe,{engine:this.currentEngine(),data:this.__getCardViewData()}),this.__rootNode)}},{key:"__getCardViewData",value:function(){var e=this.__getCardValue(),t=this.currentEngine().metaManager.getRawMeta("premium")||{},n=t.price||0===t.price;n&&(e.price=t.price,e.daysCount=t.daysCount);var r=this.isReadonly();return Cxe(Cxe({},e),{},{readonly:r,role:t.role||(r?"UNPAID":sxe),freeze:!!n,expired:!!t.expired})}},{key:"__showSidebar",value:function(){var e=this.currentEngine();this._sideBarIsShow||e.sidebar.disable||e.isSub()||(this._sideBarIsShow=!0,e.sidebar.set({name:"premium",title:null,className:"lake-premium-sidebar",data:Cxe(Cxe({},this.__getCardViewData()),{},{onChange:this.__onSyncUserInput,validate:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dxe.apply(void 0,[e.locale].concat(n))}}),showCloseBtn:!1}))}},{key:"__hideSidebar",value:function(){var e=this.currentEngine();this._sideBarIsShow&&(e.sidebar.disable||e.isSub()||(this._sideBarIsShow=!1,e.sidebar.restore("premium")))}},{key:"__reset",value:function(e){this.__destroyView(),this.__cardRoot=this.currentEngine().card.closest(e)}},{key:"__destroyView",value:function(){this.__rootNode&&He.a.unmountComponentAtNode(this.__rootNode),this.__rootNode=null}}])&&Exe(t.prototype,n),r&&Exe(t,r),i}(uw);function Axe(){var e=this,t=this.value,n=t.src,r=t.detail;if(this.contentView)r?Ixe.call(this,r):Nxe.call(this);else{this.detailFetcher||(this.detailFetcher=new fge(this));var o=this.detailFetcher.getCache(n);o||this.detailFetcher.get(n).then((function(t){var n=t.success,o=t.data;n?(e.setValue({detail:o}),e.value.mode&&"card"!==e.value.mode||Ixe.call(e,o)):r||Nxe.call(e)})),r||o?r?Ixe.call(this,r):(this.setValue({detail:o}),Ixe.call(this,o)):Mxe.call(this)}}function Mxe(){var e=this.getLocale().bookmarkLink;Lxe.call(this,'<div class="lake-bookmark-link"><div class="lake-bookmark-link-loading">'.concat(e.loading,"</div></div>"))}function Nxe(){var e=this.getLocale().bookmarkLink;Lxe.call(this,'<div class="lake-bookmark-link"><div class="lake-bookmark-link-error"><div>'.concat(e.loadingError,'</div><div class="lake-bookmark-link-error-tip">').concat(ow(this.value.src)||"","</div></div></div>"))}function Ixe(e){var t="";e.icon&&(t='<img class="favicon" src="'.concat(ow(e.icon),'"/>'));var n=ow(function(e,t){return e.title?e.title:t.bookmarkLink.untitled}(e,this.getViewEngine().locale)),r=e.desc?ow(e.desc):"&nbsp;",o=ow(e.belong||e.url||"")||"&nbsp;",i="lake-bookmark-link-content ".concat(e.image?"has-cover":""),a=e.image?'<div class="lake-bookmark-link-cover" style="background-image: url('.concat(ow(e.image),')"/>'):"";Lxe.call(this,'<div class="lake-bookmark-link">\n        <div class="'.concat(i,'">\n          <div class="lake-bookmark-link-title">').concat(n,'</div>\n          <div class="lake-bookmark-link-desc">').concat(r,'</div>\n          <div class="lake-bookmark-link-belong">').concat(t).concat(o,"</div>\n        </div>\n        ").concat(a,"\n      </div>"))}function Lxe(e){this.engine||(e='<a href="'.concat(encodeURI(this.value.src),'" target="_blank">').concat(e,"</a>")),this.container.html(e)}function Fxe(e){return(Fxe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zxe(e){return function(e){if(Array.isArray(e))return Bxe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bxe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bxe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bxe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qxe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hxe(e,t){return(Hxe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uxe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kxe(e);if(t){var o=Kxe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wxe(this,n)}}function Wxe(e,t){return!t||"object"!==Fxe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kxe(e){return(Kxe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Dxe.type="block";var Yxe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hxe(e,t)}(i,e);var t,n,r,o=Uxe(i);function i(){return Vxe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"embedToolbar",value:function(){var e=this;return this.engine?[{type:"dnd"},{type:"gotolink",onClick:function(){e.value&&e.value.src&&e.getTopEngine().openLink(e.value.src)}},{type:"copy"},{type:"separator"}].concat(zxe(this.getMoreEmbedToolbarConfig())):[]}},{key:"getLocale",value:function(){return this.getViewEngine().locale}},{key:"rerender",value:function(){Axe.call(this)}},{key:"render",value:function(){this.value||(this.value={}),this.rerender(),this.toggleMargin()}}])&&qxe(t.prototype,n),r&&qxe(t,r),i}(uw);function Xxe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Yxe.type="block";var $xe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"gen",value:function(){return rT.apply(void 0,arguments)}}],(n=null)&&Xxe(t.prototype,n),r&&Xxe(t,r),e}(),Gxe=n(25),Zxe=n.n(Gxe),Jxe={locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",yearFormat:"YYYY年",dayFormat:"D日",dateFormat:"YYYY年M月D日",dateTimeFormat:"YYYY年M月D日 HH时mm分ss秒",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪"},Qxe={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]},eOe={lang:ht()({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeWeekPlaceholder:["开始周","结束周"]},Jxe),timePickerLocale:ht()({},Qxe)};eOe.lang.ok="确 定";var tOe=eOe,nOe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},rOe=function(e,t){return w.createElement(_oe,Object.assign({},e,{ref:t,icon:nOe}))};rOe.displayName="PlusOutlined";var oOe=w.forwardRef(rOe),iOe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},aOe=function(e,t){return w.createElement(_oe,Object.assign({},e,{ref:t,icon:iOe}))};aOe.displayName="ClockCircleOutlined";var cOe=w.forwardRef(aOe),sOe=(n(850),{getNow:function(){return Zxe()()},getWeekDay:function(e){var t=e.clone().locale("en_US");return t.weekday()+t.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},addYear:function(e,t){return e.clone().add(t,"year")},addMonth:function(e,t){return e.clone().add(t,"month")},addDate:function(e,t){return e.clone().add(t,"day")},setYear:function(e,t){return e.clone().year(t)},setMonth:function(e,t){return e.clone().month(t)},setDate:function(e,t){return e.clone().date(t)},setHour:function(e,t){return e.clone().hour(t)},setMinute:function(e,t){return e.clone().minute(t)},setSecond:function(e,t){return e.clone().second(t)},isAfter:function(e,t){return e.isAfter(t)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return Zxe()().locale(e).localeData().firstDayOfWeek()},getWeek:function(e,t){return t.clone().locale(e).week()},getShortWeekDays:function(e){return Zxe()().locale(e).localeData().weekdaysMin()},getShortMonths:function(e){return Zxe()().locale(e).localeData().monthsShort()},format:function(e,t,n){return t.clone().locale(e).format(n)},parse:function(e,t,n){for(var r=[],o=0;o<n.length;o+=1){var i=n[o],a=t;if(i.includes("wo")||i.includes("Wo")){var c=(i=i.replace(/wo/g,"w").replace(/Wo/g,"W")).match(/[-YyMmDdHhSsWwGg]+/g),s=a.match(/[-\d]+/g);c&&s?(i=c.join(""),a=s.join("")):r.push(i.replace(/o/g,""))}var l=Zxe()(a,i,e,!0);if(l.isValid())return l}for(var u=0;u<r.length;u+=1){var f=Zxe()(t,r[u],e,!1);if(f.isValid())return Object(Sr.b)(!1,"Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this."),f}return null}}});var lOe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},uOe=function(e){var t,n=w.useContext(rn).getPrefixCls,r=e.prefixCls,o=e.className,i=e.checked,a=lOe(e,["prefixCls","className","checked"]),c=n("tag",r),s=_t()(c,(t={},ut()(t,"".concat(c,"-checkable"),!0),ut()(t,"".concat(c,"-checkable-checked"),i),t),o);return delete a.onChange,w.createElement("span",ht()({},a,{className:s,onClick:function(t){var n=e.checked,r=e.onChange,o=e.onClick;r&&r(!n),o&&o(t)}}))},fOe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},pOe=new RegExp("^(".concat(sn.join("|"),")(-inverse)?$")),dOe=new RegExp("^(".concat(cn.join("|"),")$")),hOe=function(e,t){var n,r=e.prefixCls,o=e.className,i=e.style,a=e.children,c=e.icon,s=e.color,l=e.onClose,u=e.closeIcon,f=e.closable,p=void 0!==f&&f,d=fOe(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),h=w.useContext(rn),m=h.getPrefixCls,v=h.direction,y=w.useState(!0),g=pt()(y,2),b=g[0],k=g[1];w.useEffect((function(){"visible"in d&&k(d.visible)}),[d.visible]);var x=function(){return!!s&&(pOe.test(s)||dOe.test(s))},O=ht()({backgroundColor:s&&!x()?s:void 0},i),C=x(),_=m("tag",r),E=_t()(_,(n={},ut()(n,"".concat(_,"-").concat(s),C),ut()(n,"".concat(_,"-has-color"),s&&!C),ut()(n,"".concat(_,"-hidden"),!b),ut()(n,"".concat(_,"-rtl"),"rtl"===v),n),o),j=function(e){e.stopPropagation(),l&&l(e),e.defaultPrevented||"visible"in d||k(!1)},S="onClick"in d||a&&"a"===a.type,P=Object(br.a)(d,["visible"]),R=c||null,T=R?w.createElement(w.Fragment,null,R,w.createElement("span",null,a)):a,D=w.createElement("span",ht()({},P,{ref:t,className:E,style:O}),T,p?u?w.createElement("div",{className:"".concat(_,"-close-icon"),onClick:j},u):w.createElement(Mo.a,{className:"".concat(_,"-close-icon"),onClick:j}):null);return S?w.createElement(ro,null,D):D},mOe=w.forwardRef(hOe);mOe.displayName="Tag",mOe.CheckableTag=uOe;var vOe=mOe;var yOe=n(177),gOe=n.n(yOe),bOe=n(176),wOe=n.n(bOe),kOe=w.createContext({}),xOe={visibility:"hidden"};var OOe=function(e){var t=e.prefixCls,n=e.prevIcon,r=void 0===n?"‹":n,o=e.nextIcon,i=void 0===o?"›":o,a=e.superPrevIcon,c=void 0===a?"«":a,s=e.superNextIcon,l=void 0===s?"»":s,u=e.onSuperPrev,f=e.onSuperNext,p=e.onPrev,d=e.onNext,h=e.children,m=w.useContext(kOe),v=m.hideNextBtn,y=m.hidePrevBtn;return w.createElement("div",{className:t},u&&w.createElement("button",{type:"button",onClick:u,tabIndex:-1,className:"".concat(t,"-super-prev-btn"),style:y?xOe:{}},c),p&&w.createElement("button",{type:"button",onClick:p,tabIndex:-1,className:"".concat(t,"-prev-btn"),style:y?xOe:{}},r),w.createElement("div",{className:"".concat(t,"-view")},h),d&&w.createElement("button",{type:"button",onClick:d,tabIndex:-1,className:"".concat(t,"-next-btn"),style:v?xOe:{}},i),f&&w.createElement("button",{type:"button",onClick:f,tabIndex:-1,className:"".concat(t,"-super-next-btn"),style:v?xOe:{}},l))};var COe=function(e){if(w.useContext(kOe).hideHeader)return null;var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.value,i=e.format,a="".concat(t,"-header");return w.createElement(OOe,{prefixCls:a},o?n.locale.format(r.locale,o,i):" ")},_Oe=new Map;function EOe(e,t,n){if(_Oe.get(e)&&cancelAnimationFrame(_Oe.get(e)),n<=0)_Oe.set(e,requestAnimationFrame((function(){e.scrollTop=t})));else{var r=(t-e.scrollTop)/n*10;_Oe.set(e,requestAnimationFrame((function(){e.scrollTop+=r,e.scrollTop!==t&&EOe(e,t,n-10)})))}}function jOe(e,t){var n=t.onLeftRight,r=t.onCtrlLeftRight,o=t.onUpDown,i=t.onPageUpDown,a=t.onEnter,c=e.which,s=e.ctrlKey,l=e.metaKey;switch(c){case See.a.LEFT:if(s||l){if(r)return r(-1),!0}else if(n)return n(-1),!0;break;case See.a.RIGHT:if(s||l){if(r)return r(1),!0}else if(n)return n(1),!0;break;case See.a.UP:if(o)return o(-1),!0;break;case See.a.DOWN:if(o)return o(1),!0;break;case See.a.PAGE_UP:if(i)return i(-1),!0;break;case See.a.PAGE_DOWN:if(i)return i(1),!0;break;case See.a.ENTER:if(a)return a(),!0}return!1}function SOe(e,t,n,r){var o=e;if(!o)switch(t){case"time":o=r?"hh:mm:ss a":"HH:mm:ss";break;case"week":o="gggg-wo";break;case"month":o="YYYY-MM";break;case"quarter":o="YYYY-[Q]Q";break;case"year":o="YYYY";break;default:o=n?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return o}function POe(e,t){var n="time"===e?8:10;return Math.max(n,t.length)+2}var ROe=null,TOe=new Set;var DOe={year:function(e){return"month"===e||"date"===e?"year":e},month:function(e){return"date"===e?"month":e},quarter:function(e){return"month"===e||"date"===e?"quarter":e},week:function(e){return"date"===e?"week":e},time:null,date:null};function AOe(e,t){return e.some((function(e){return e&&e.contains(t)}))}var MOe=function(e){var t=e.prefixCls,n=e.units,r=e.onSelect,o=e.value,i=e.active,a=e.hideDisabledOptions,c="".concat(t,"-cell"),s=w.useContext(kOe).open,l=w.useRef(null),u=w.useRef(new Map);return w.useLayoutEffect((function(){var e=u.current.get(o);e&&!1!==s&&EOe(l.current,e.offsetTop,120)}),[o]),w.useLayoutEffect((function(){if(s){var e=u.current.get(o);e&&EOe(l.current,e.offsetTop,0)}}),[s]),w.createElement("ul",{className:_t()("".concat(t,"-column"),Object(xc.a)({},"".concat(t,"-column-active"),i)),ref:l,style:{position:"relative"}},n.map((function(e){var t;return a&&e.disabled?null:w.createElement("li",{key:e.value,ref:function(t){u.current.set(e.value,t)},className:_t()(c,(t={},Object(xc.a)(t,"".concat(c,"-disabled"),e.disabled),Object(xc.a)(t,"".concat(c,"-selected"),o===e.value),t)),onClick:function(){e.disabled||r(e.value)}},w.createElement("div",{className:"".concat(c,"-inner")},e.label))})))};function NOe(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=String(e);r.length<t;)r="".concat(n).concat(e);return r}function IOe(e){return null==e?[]:Array.isArray(e)?e:[e]}function LOe(e){var t={};return Object.keys(e).forEach((function(n){"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n&&"name"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n])})),t}function FOe(e,t){return e?e[t]:null}function zOe(e,t,n){var r=[FOe(e,0),FOe(e,1)];return r[n]="function"==typeof t?t(r[n]):t,r[0]||r[1]?r:null}function BOe(e,t,n,r,o){var i=e.setHour(t,n);return i=e.setMinute(i,r),i=e.setSecond(i,o)}function VOe(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n].disabled!==t[n].disabled)return!0;return!1}function qOe(e,t,n,r){for(var o=[],i=e;i<=t;i+=n)o.push({label:NOe(i,2),value:i,disabled:(r||[]).includes(i)});return o}var HOe=function(e){var t,n=e.generateConfig,r=e.prefixCls,o=e.operationRef,i=e.activeColumnIndex,a=e.value,c=e.showHour,s=e.showMinute,l=e.showSecond,u=e.use12Hours,f=e.hourStep,p=void 0===f?1:f,d=e.minuteStep,h=void 0===d?1:d,m=e.secondStep,v=void 0===m?1:m,y=e.disabledHours,g=e.disabledMinutes,b=e.disabledSeconds,k=e.hideDisabledOptions,x=e.onSelect,O=[],C="".concat(r,"-content"),_="".concat(r,"-time-panel"),E=a?n.getHour(a):-1,j=a?n.getMinute(a):-1,S=a?n.getSecond(a):-1,P=function(e,t,r,o){var i=a||n.getNow(),c=Math.max(0,t),s=Math.max(0,r),l=Math.max(0,o);return i=BOe(n,i,u&&e?c+12:c,s,l)},R=qOe(0,23,p,y&&y()),T=Object(due.a)((function(){return R}),R,VOe);u&&(t=E>=12,E%=12);var D=w.useMemo((function(){if(!u)return[!1,!1];var e=[!0,!0];return T.forEach((function(t){var n=t.disabled,r=t.value;n||(r>=12?e[1]=!1:e[0]=!1)})),e}),[u,T]),A=Object(Ac.a)(D,2),M=A[0],N=A[1],I=w.useMemo((function(){return u?T.filter(t?function(e){return e.value>=12}:function(e){return e.value<12}).map((function(e){var t=e.value%12,n=0===t?"12":NOe(t,2);return Object(vt.a)(Object(vt.a)({},e),{},{label:n,value:t})})):T}),[u,T]),L=qOe(0,59,h,g&&g(E)),F=qOe(0,59,v,b&&b(E,j));function z(e,t,n,r,o){!1!==e&&O.push({node:w.cloneElement(t,{prefixCls:_,value:n,active:i===O.length,onSelect:o,units:r,hideDisabledOptions:k}),onSelect:o,value:n,units:r})}o.current={onUpDown:function(e){var t=O[i];if(t)for(var n=t.units.findIndex((function(e){return e.value===t.value})),r=t.units.length,o=1;o<r;o+=1){var a=t.units[(n+e*o+r)%r];if(!0!==a.disabled){t.onSelect(a.value);break}}}},z(c,w.createElement(MOe,{key:"hour"}),E,I,(function(e){x(P(t,e,j,S),"mouse")})),z(s,w.createElement(MOe,{key:"minute"}),j,L,(function(e){x(P(t,E,e,S),"mouse")})),z(l,w.createElement(MOe,{key:"second"}),S,F,(function(e){x(P(t,E,j,e),"mouse")}));var B=-1;return"boolean"==typeof t&&(B=t?1:0),z(!0===u,w.createElement(MOe,{key:"12hours"}),B,[{label:"AM",value:0,disabled:M},{label:"PM",value:1,disabled:N}],(function(e){x(P(!!e,E,j,S),"mouse")})),w.createElement("div",{className:C},O.map((function(e){return e.node})))};var UOe=function(e){var t=e.generateConfig,n=e.format,r=void 0===n?"HH:mm:ss":n,o=e.prefixCls,i=e.active,a=e.operationRef,c=e.showHour,s=e.showMinute,l=e.showSecond,u=e.use12Hours,f=void 0!==u&&u,p=e.onSelect,d=e.value,h="".concat(o,"-time-panel"),m=w.useRef(),v=w.useState(-1),y=Object(Ac.a)(v,2),g=y[0],b=y[1],k=[c,s,l,f].filter((function(e){return!1!==e})).length;return a.current={onKeyDown:function(e){return jOe(e,{onLeftRight:function(e){b((g+e+k)%k)},onUpDown:function(e){-1===g?b(0):m.current&&m.current.onUpDown(e)},onEnter:function(){p(d||t.getNow(),"key"),b(-1)}})},onBlur:function(){b(-1)}},w.createElement("div",{className:_t()(h,Object(xc.a)({},"".concat(h,"-active"),i))},w.createElement(COe,Object.assign({},e,{format:r,prefixCls:o})),w.createElement(HOe,Object.assign({},e,{prefixCls:o,activeColumnIndex:g,operationRef:m})))};function WOe(e,t){return!e&&!t||!(!e||!t)&&void 0}function KOe(e,t,n){var r=WOe(t,n);return"boolean"==typeof r?r:e.getYear(t)===e.getYear(n)}function YOe(e,t){return Math.floor(e.getMonth(t)/3)+1}function XOe(e,t,n){var r=WOe(t,n);return"boolean"==typeof r?r:KOe(e,t,n)&&YOe(e,t)===YOe(e,n)}function $Oe(e,t,n){var r=WOe(t,n);return"boolean"==typeof r?r:KOe(e,t,n)&&e.getMonth(t)===e.getMonth(n)}function GOe(e,t,n){var r=WOe(t,n);return"boolean"==typeof r?r:e.getYear(t)===e.getYear(n)&&e.getMonth(t)===e.getMonth(n)&&e.getDate(t)===e.getDate(n)}function ZOe(e,t,n,r){var o=WOe(n,r);return"boolean"==typeof o?o:e.locale.getWeek(t,n)===e.locale.getWeek(t,r)}function JOe(e,t,n){return GOe(e,t,n)&&function(e,t,n){var r=WOe(t,n);return"boolean"==typeof r?r:e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)}(e,t,n)}function QOe(e,t,n,r){return!!(t&&n&&r)&&(!GOe(e,t,r)&&!GOe(e,n,r)&&e.isAfter(r,t)&&e.isAfter(n,r))}function eCe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(t){case"year":return n.addYear(e,10*r);case"quarter":case"month":return n.addYear(e,r);default:return n.addMonth(e,r)}}var tCe=w.createContext({});function nCe(e){var t=e.cellPrefixCls,n=e.generateConfig,r=e.rangedValue,o=e.hoverRangedValue,i=e.isInView,a=e.isSameCell,c=e.offsetCell,s=e.today,l=e.value;return function(e){var u,f=c(e,-1),p=c(e,1),d=FOe(r,0),h=FOe(r,1),m=FOe(o,0),v=FOe(o,1),y=QOe(n,m,v,e);function g(e){return a(d,e)}function b(e){return a(h,e)}var w=a(m,e),k=a(v,e),x=(y||k)&&(!i(f)||b(f)),O=(y||w)&&(!i(p)||g(p));return u={},Object(xc.a)(u,"".concat(t,"-in-view"),i(e)),Object(xc.a)(u,"".concat(t,"-in-range"),QOe(n,d,h,e)),Object(xc.a)(u,"".concat(t,"-range-start"),g(e)),Object(xc.a)(u,"".concat(t,"-range-end"),b(e)),Object(xc.a)(u,"".concat(t,"-range-start-single"),g(e)&&!h),Object(xc.a)(u,"".concat(t,"-range-end-single"),b(e)&&!d),Object(xc.a)(u,"".concat(t,"-range-start-near-hover"),g(e)&&(a(f,m)||QOe(n,m,v,f))),Object(xc.a)(u,"".concat(t,"-range-end-near-hover"),b(e)&&(a(p,v)||QOe(n,m,v,p))),Object(xc.a)(u,"".concat(t,"-range-hover"),y),Object(xc.a)(u,"".concat(t,"-range-hover-start"),w),Object(xc.a)(u,"".concat(t,"-range-hover-end"),k),Object(xc.a)(u,"".concat(t,"-range-hover-edge-start"),x),Object(xc.a)(u,"".concat(t,"-range-hover-edge-end"),O),Object(xc.a)(u,"".concat(t,"-range-hover-edge-start-near-range"),x&&a(f,h)),Object(xc.a)(u,"".concat(t,"-range-hover-edge-end-near-range"),O&&a(p,d)),Object(xc.a)(u,"".concat(t,"-today"),a(s,e)),Object(xc.a)(u,"".concat(t,"-selected"),a(l,e)),u}}function rCe(e){for(var t=e.prefixCls,n=e.disabledDate,r=e.onSelect,o=e.rowNum,i=e.colNum,a=e.prefixColumn,c=e.rowClassName,s=e.baseDate,l=e.getCellClassName,u=e.getCellText,f=e.getCellNode,p=e.getCellDate,d=e.titleCell,h=e.headerCells,m=w.useContext(kOe),v=m.onDateMouseEnter,y=m.onDateMouseLeave,g="".concat(t,"-cell"),b=[],k=0;k<o;k+=1){for(var x=[],O=void 0,C=function(e){var t=p(s,k*i+e),o=n&&n(t);0===e&&(O=t,a&&x.push(a(O))),x.push(w.createElement("td",{key:e,title:d&&d(t),className:_t()(g,Object(vt.a)(Object(xc.a)({},"".concat(g,"-disabled"),o),l(t))),onClick:function(){o||r(t)},onMouseEnter:function(){!o&&v&&v(t)},onMouseLeave:function(){!o&&y&&y(t)}},f?f(t):w.createElement("div",{className:"".concat(g,"-inner")},u(t))))},_=0;_<i;_+=1)C(_);b.push(w.createElement("tr",{key:k,className:c&&c(O)},x))}return w.createElement("div",{className:"".concat(t,"-body")},w.createElement("table",{className:"".concat(t,"-content")},h&&w.createElement("thead",null,w.createElement("tr",null,h)),w.createElement("tbody",null,b)))}var oCe=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.prefixColumn,o=e.locale,i=e.rowCount,a=e.viewDate,c=e.value,s=e.dateRender,l=w.useContext(tCe),u=l.rangedValue,f=l.hoverRangedValue,p=function(e,t,n){var r=t.locale.getWeekFirstDay(e),o=t.setDate(n,1),i=t.getWeekDay(o),a=t.addDate(o,r-i);return t.getMonth(a)===t.getMonth(n)&&t.getDate(a)>1&&(a=t.addDate(a,-7)),a}(o.locale,n,a),d="".concat(t,"-cell"),h=n.locale.getWeekFirstDay(o.locale),m=n.getNow(),v=[],y=o.shortWeekDays||(n.locale.getShortWeekDays?n.locale.getShortWeekDays(o.locale):[]);r&&v.push(w.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var g=0;g<7;g+=1)v.push(w.createElement("th",{key:g},y[(g+h)%7]));var b=nCe({cellPrefixCls:d,today:m,value:c,generateConfig:n,rangedValue:r?null:u,hoverRangedValue:r?null:f,isSameCell:function(e,t){return GOe(n,e,t)},isInView:function(e){return $Oe(n,e,a)},offsetCell:function(e,t){return n.addDate(e,t)}}),k=s?function(e){return s(e,m)}:void 0;return w.createElement(rCe,Object.assign({},e,{rowNum:i,colNum:7,baseDate:p,getCellNode:k,getCellText:n.getDate,getCellClassName:b,getCellDate:n.addDate,titleCell:function(e){return n.locale.format(o.locale,e,"YYYY-MM-DD")},headerCells:v}))};var iCe=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.viewDate,i=e.onNextMonth,a=e.onPrevMonth,c=e.onNextYear,s=e.onPrevYear,l=e.onYearClick,u=e.onMonthClick;if(w.useContext(kOe).hideHeader)return null;var f="".concat(t,"-header"),p=r.shortMonths||(n.locale.getShortMonths?n.locale.getShortMonths(r.locale):[]),d=n.getMonth(o),h=w.createElement("button",{type:"button",key:"year",onClick:l,tabIndex:-1,className:"".concat(t,"-year-btn")},n.locale.format(r.locale,o,r.yearFormat)),m=w.createElement("button",{type:"button",key:"month",onClick:u,tabIndex:-1,className:"".concat(t,"-month-btn")},r.monthFormat?n.locale.format(r.locale,o,r.monthFormat):p[d]),v=r.monthBeforeYear?[m,h]:[h,m];return w.createElement(OOe,Object.assign({},e,{prefixCls:f,onSuperPrev:s,onPrev:a,onNext:i,onSuperNext:c}),v)};var aCe=function(e){var t=e.prefixCls,n=e.panelName,r=void 0===n?"date":n,o=e.keyboardConfig,i=e.active,a=e.operationRef,c=e.generateConfig,s=e.value,l=e.viewDate,u=e.onViewDateChange,f=e.onPanelChange,p=e.onSelect,d="".concat(t,"-").concat(r,"-panel");a.current={onKeyDown:function(e){return jOe(e,Object(vt.a)({onLeftRight:function(e){p(c.addDate(s||l,e),"key")},onCtrlLeftRight:function(e){p(c.addYear(s||l,e),"key")},onUpDown:function(e){p(c.addDate(s||l,7*e),"key")},onPageUpDown:function(e){p(c.addMonth(s||l,e),"key")}},o))}};var h=function(e){var t=c.addYear(l,e);u(t),f(null,t)},m=function(e){var t=c.addMonth(l,e);u(t),f(null,t)};return w.createElement("div",{className:_t()(d,Object(xc.a)({},"".concat(d,"-active"),i))},w.createElement(iCe,Object.assign({},e,{prefixCls:t,value:s,viewDate:l,onPrevYear:function(){h(-1)},onNextYear:function(){h(1)},onPrevMonth:function(){m(-1)},onNextMonth:function(){m(1)},onMonthClick:function(){f("month",l)},onYearClick:function(){f("year",l)}})),w.createElement(oCe,Object.assign({},e,{onSelect:function(e){return p(e,"mouse")},prefixCls:t,value:s,viewDate:l,rowCount:6})))};var cCe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}("date","time");var sCe=function(e){var t=e.prefixCls,n=e.operationRef,r=e.generateConfig,o=e.value,i=e.defaultValue,a=e.disabledTime,c=e.showTime,s=e.onSelect,l="".concat(t,"-datetime-panel"),u=w.useState(null),f=Object(Ac.a)(u,2),p=f[0],d=f[1],h=w.useRef({}),m=w.useRef({}),v="object"===Object(mt.a)(c)?Object(vt.a)({},c):{},y=function(e){m.current.onBlur&&m.current.onBlur(e),d(null)};n.current={onKeyDown:function(e){if(e.which===See.a.TAB){var t=(n=e.shiftKey?-1:1,r=cCe.indexOf(p)+n,cCe[r]||null);return d(t),t&&e.preventDefault(),!0}var n,r;if(p){var o="date"===p?h:m;return o.current&&o.current.onKeyDown&&o.current.onKeyDown(e),!0}return!![See.a.LEFT,See.a.RIGHT,See.a.UP,See.a.DOWN].includes(e.which)&&(d("date"),!0)},onBlur:y,onClose:y};var g=function(e,t){var n=e;"date"===t&&!o&&v.defaultValue?(n=r.setHour(n,r.getHour(v.defaultValue)),n=r.setMinute(n,r.getMinute(v.defaultValue)),n=r.setSecond(n,r.getSecond(v.defaultValue))):"time"===t&&!o&&i&&(n=r.setYear(n,r.getYear(i)),n=r.setMonth(n,r.getMonth(i)),n=r.setDate(n,r.getDate(i))),s&&s(n,"mouse")},b=a?a(o||null):{};return w.createElement("div",{className:_t()(l,Object(xc.a)({},"".concat(l,"-active"),p))},w.createElement(aCe,Object.assign({},e,{operationRef:h,active:"date"===p,onSelect:function(e){g(function(e,t,n){if(!n)return t;var r=t;return r=e.setHour(r,e.getHour(n)),r=e.setMinute(r,e.getMinute(n)),e.setSecond(r,e.getSecond(n))}(r,e,c&&"object"===Object(mt.a)(c)?c.defaultValue:null),"date")}})),w.createElement(UOe,Object.assign({},e,{format:void 0},v,b,{defaultValue:void 0,operationRef:m,active:"time"===p,onSelect:function(e){g(e,"time")}})))};var lCe=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.value,i="".concat(t,"-cell"),a="".concat(t,"-week-panel-row");return w.createElement(aCe,Object.assign({},e,{panelName:"week",prefixColumn:function(e){return w.createElement("td",{key:"week",className:_t()(i,"".concat(i,"-week"))},n.locale.getWeek(r.locale,e))},rowClassName:function(e){return _t()(a,Object(xc.a)({},"".concat(a,"-selected"),ZOe(n,r.locale,o,e)))},keyboardConfig:{onLeftRight:null}}))};var uCe=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.viewDate,i=e.onNextYear,a=e.onPrevYear,c=e.onYearClick;if(w.useContext(kOe).hideHeader)return null;var s="".concat(t,"-header");return w.createElement(OOe,Object.assign({},e,{prefixCls:s,onSuperPrev:a,onSuperNext:i}),w.createElement("button",{type:"button",onClick:c,className:"".concat(t,"-year-btn")},n.locale.format(r.locale,o,r.yearFormat)))};var fCe=function(e){var t=e.prefixCls,n=e.locale,r=e.value,o=e.viewDate,i=e.generateConfig,a=e.monthCellRender,c=w.useContext(tCe),s=c.rangedValue,l=c.hoverRangedValue,u=nCe({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:i,rangedValue:s,hoverRangedValue:l,isSameCell:function(e,t){return $Oe(i,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return i.addMonth(e,t)}}),f=n.shortMonths||(i.locale.getShortMonths?i.locale.getShortMonths(n.locale):[]),p=i.setMonth(o,0),d=a?function(e){return a(e,n)}:void 0;return w.createElement(rCe,Object.assign({},e,{rowNum:4,colNum:3,baseDate:p,getCellNode:d,getCellText:function(e){return n.monthFormat?i.locale.format(n.locale,e,n.monthFormat):f[i.getMonth(e)]},getCellClassName:u,getCellDate:i.addMonth,titleCell:function(e){return i.locale.format(n.locale,e,"YYYY-MM")}}))};var pCe=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,o=e.generateConfig,i=e.value,a=e.viewDate,c=e.onPanelChange,s=e.onSelect,l="".concat(t,"-month-panel");n.current={onKeyDown:function(e){return jOe(e,{onLeftRight:function(e){s(o.addMonth(i||a,e),"key")},onCtrlLeftRight:function(e){s(o.addYear(i||a,e),"key")},onUpDown:function(e){s(o.addMonth(i||a,3*e),"key")},onEnter:function(){c("date",i||a)}})}};var u=function(e){var t=o.addYear(a,e);r(t),c(null,t)};return w.createElement("div",{className:l},w.createElement(uCe,Object.assign({},e,{prefixCls:t,onPrevYear:function(){u(-1)},onNextYear:function(){u(1)},onYearClick:function(){c("year",a)}})),w.createElement(fCe,Object.assign({},e,{prefixCls:t,onSelect:function(e){s(e,"mouse"),c("date",e)}})))};var dCe=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.viewDate,i=e.onNextYear,a=e.onPrevYear,c=e.onYearClick;if(w.useContext(kOe).hideHeader)return null;var s="".concat(t,"-header");return w.createElement(OOe,Object.assign({},e,{prefixCls:s,onSuperPrev:a,onSuperNext:i}),w.createElement("button",{type:"button",onClick:c,className:"".concat(t,"-year-btn")},n.locale.format(r.locale,o,r.yearFormat)))};var hCe=function(e){var t=e.prefixCls,n=e.locale,r=e.value,o=e.viewDate,i=e.generateConfig,a=w.useContext(tCe),c=a.rangedValue,s=a.hoverRangedValue,l=nCe({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:i,rangedValue:c,hoverRangedValue:s,isSameCell:function(e,t){return XOe(i,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return i.addMonth(e,3*t)}}),u=i.setDate(i.setMonth(o,0),1);return w.createElement(rCe,Object.assign({},e,{rowNum:1,colNum:4,baseDate:u,getCellText:function(e){return i.locale.format(n.locale,e,n.quarterFormat||"[Q]Q")},getCellClassName:l,getCellDate:function(e,t){return i.addMonth(e,3*t)},titleCell:function(e){return i.locale.format(n.locale,e,"YYYY-[Q]Q")}}))};var mCe=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,o=e.generateConfig,i=e.value,a=e.viewDate,c=e.onPanelChange,s=e.onSelect,l="".concat(t,"-quarter-panel");n.current={onKeyDown:function(e){return jOe(e,{onLeftRight:function(e){s(o.addMonth(i||a,3*e),"key")},onCtrlLeftRight:function(e){s(o.addYear(i||a,e),"key")},onUpDown:function(e){s(o.addYear(i||a,e),"key")}})}};var u=function(e){var t=o.addYear(a,e);r(t),c(null,t)};return w.createElement("div",{className:l},w.createElement(dCe,Object.assign({},e,{prefixCls:t,onPrevYear:function(){u(-1)},onNextYear:function(){u(1)},onYearClick:function(){c("year",a)}})),w.createElement(hCe,Object.assign({},e,{prefixCls:t,onSelect:function(e){s(e,"mouse")}})))};var vCe=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,o=e.onPrevDecade,i=e.onNextDecade,a=e.onDecadeClick;if(w.useContext(kOe).hideHeader)return null;var c="".concat(t,"-header"),s=n.getYear(r),l=Math.floor(s/gCe)*gCe,u=l+gCe-1;return w.createElement(OOe,Object.assign({},e,{prefixCls:c,onSuperPrev:o,onSuperNext:i}),w.createElement("button",{type:"button",onClick:a,className:"".concat(t,"-decade-btn")},l,"-",u))};var yCe=function(e){var t=e.prefixCls,n=e.value,r=e.viewDate,o=e.locale,i=e.generateConfig,a=w.useContext(tCe),c=a.rangedValue,s=a.hoverRangedValue,l="".concat(t,"-cell"),u=i.getYear(r),f=Math.floor(u/gCe)*gCe,p=f+gCe-1,d=i.setYear(r,f-Math.ceil((12-gCe)/2)),h=nCe({cellPrefixCls:l,value:n,generateConfig:i,rangedValue:c,hoverRangedValue:s,isSameCell:function(e,t){return KOe(i,e,t)},isInView:function(e){var t=i.getYear(e);return f<=t&&t<=p},offsetCell:function(e,t){return i.addYear(e,t)}});return w.createElement(rCe,Object.assign({},e,{rowNum:4,colNum:3,baseDate:d,getCellText:i.getYear,getCellClassName:h,getCellDate:i.addYear,titleCell:function(e){return i.locale.format(o.locale,e,"YYYY")}}))},gCe=10;var bCe=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,o=e.generateConfig,i=e.value,a=e.viewDate,c=e.sourceMode,s=e.onSelect,l=e.onPanelChange,u="".concat(t,"-year-panel");n.current={onKeyDown:function(e){return jOe(e,{onLeftRight:function(e){s(o.addYear(i||a,e),"key")},onCtrlLeftRight:function(e){s(o.addYear(i||a,e*gCe),"key")},onUpDown:function(e){s(o.addYear(i||a,3*e),"key")},onEnter:function(){l("date"===c?"date":"month",i||a)}})}};var f=function(e){var t=o.addYear(a,10*e);r(t),l(null,t)};return w.createElement("div",{className:u},w.createElement(vCe,Object.assign({},e,{prefixCls:t,onPrevDecade:function(){f(-1)},onNextDecade:function(){f(1)},onDecadeClick:function(){l("decade",a)}})),w.createElement(yCe,Object.assign({},e,{prefixCls:t,onSelect:function(e){l("date"===c?"date":"month",e),s(e,"mouse")}})))};var wCe=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,o=e.onPrevDecades,i=e.onNextDecades;if(w.useContext(kOe).hideHeader)return null;var a="".concat(t,"-header"),c=n.getYear(r),s=Math.floor(c/OCe)*OCe,l=s+OCe-1;return w.createElement(OOe,Object.assign({},e,{prefixCls:a,onSuperPrev:o,onSuperNext:i}),s,"-",l)};var kCe=function(e){var t=xCe-1,n=e.prefixCls,r=e.viewDate,o=e.generateConfig,i=e.disabledDate,a="".concat(n,"-cell"),c=o.getYear(r),s=Math.floor(c/xCe)*xCe,l=Math.floor(c/OCe)*OCe,u=l+OCe-1,f=o.setYear(r,l-Math.ceil((12*xCe-OCe)/2));return w.createElement(rCe,Object.assign({},e,{rowNum:4,colNum:3,baseDate:f,getCellText:function(e){var n=o.getYear(e);return"".concat(n,"-").concat(n+t)},getCellClassName:function(e){var n,r=i&&i(e),c=o.getYear(e),f=c+t;return n={},Object(xc.a)(n,"".concat(a,"-disabled"),r),Object(xc.a)(n,"".concat(a,"-in-view"),l<=c&&f<=u),Object(xc.a)(n,"".concat(a,"-selected"),c===s),n},getCellDate:function(e,t){return o.addYear(e,t*xCe)}}))},xCe=10,OCe=10*xCe;var CCe=function(e){var t=e.prefixCls,n=e.onViewDateChange,r=e.generateConfig,o=e.viewDate,i=e.operationRef,a=e.onSelect,c=e.onPanelChange,s="".concat(t,"-decade-panel");i.current={onKeyDown:function(e){return jOe(e,{onLeftRight:function(e){a(r.addYear(o,e*xCe),"key")},onCtrlLeftRight:function(e){a(r.addYear(o,e*OCe),"key")},onUpDown:function(e){a(r.addYear(o,e*xCe*3),"key")},onEnter:function(){c("year",o)}})}};var l=function(e){var t=r.addYear(o,e*OCe);n(t),c(null,t)};return w.createElement("div",{className:s},w.createElement(wCe,Object.assign({},e,{prefixCls:t,onPrevDecades:function(){l(-1)},onNextDecades:function(){l(1)}})),w.createElement(kCe,Object.assign({},e,{prefixCls:t,onSelect:function(e){a(e,"mouse"),c("year",e)}})))};function _Ce(e,t,n){return n?w.createElement("div",{className:"".concat(e,"-footer-extra")},n(t)):null}function ECe(e){var t,n,r=e.prefixCls,o=e.rangeList,i=void 0===o?[]:o,a=e.components,c=void 0===a?{}:a,s=e.needConfirmButton,l=e.onNow,u=e.onOk,f=e.okDisabled,p=e.showNow,d=e.locale;if(i.length){var h=c.rangeItem||"span";t=w.createElement(w.Fragment,null,i.map((function(e){var t=e.label,n=e.onClick,o=e.onMouseEnter,i=e.onMouseLeave;return w.createElement("li",{key:t,className:"".concat(r,"-preset")},w.createElement(h,{onClick:n,onMouseEnter:o,onMouseLeave:i},t))})))}if(s){var m=c.button||"button";l&&!t&&!1!==p&&(t=w.createElement("li",{className:"".concat(r,"-now")},w.createElement("a",{className:"".concat(r,"-now-btn"),onClick:l},d.now))),n=s&&w.createElement("li",{className:"".concat(r,"-ok")},w.createElement(m,{disabled:f,onClick:u},d.ok))}return t||n?w.createElement("ul",{className:"".concat(r,"-ranges")},t,n):null}var jCe=function(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,o=e.className,i=e.style,a=e.locale,c=e.generateConfig,s=e.value,l=e.defaultValue,u=e.pickerValue,f=e.defaultPickerValue,p=e.disabledDate,d=e.mode,h=e.picker,m=void 0===h?"date":h,v=e.tabIndex,y=void 0===v?0:v,g=e.showNow,b=e.showTime,k=e.showToday,x=e.renderExtraFooter,O=e.hideHeader,C=e.onSelect,_=e.onChange,E=e.onPanelChange,j=e.onMouseDown,S=e.onPickerValueChange,P=e.onOk,R=e.components,T=e.direction,D=e.hourStep,A=void 0===D?1:D,M=e.minuteStep,N=void 0===M?1:M,I=e.secondStep,L=void 0===I?1:I,F="date"===m&&!!b||"time"===m,z=24%A==0,B=60%N==0,V=60%L==0,q=w.useContext(kOe),H=q.operationRef,U=q.panelRef,W=q.onSelect,K=q.hideRanges,Y=q.defaultOpenValue,X=w.useContext(tCe),$=X.inRange,G=X.panelPosition,Z=X.rangedValue,J=X.hoverRangedValue,Q=w.useRef({}),ee=w.useRef(!0),te=Object(Toe.a)(null,{value:s,defaultValue:l,postState:function(e){return!e&&Y&&"time"===m?Y:e}}),ne=Object(Ac.a)(te,2),re=ne[0],oe=ne[1],ie=Object(Toe.a)(null,{value:u,defaultValue:f||re,postState:function(e){return e||c.getNow()}}),ae=Object(Ac.a)(ie,2),ce=ae[0],se=ae[1],le=function(e){se(e),S&&S(e)},ue=function(e){var t=DOe[m];return t?t(e):e},fe=Object(Toe.a)((function(){return"time"===m?"time":ue("date")}),{value:d}),pe=Object(Ac.a)(fe,2),de=pe[0],he=pe[1];w.useEffect((function(){he(m)}),[m]);var me,ve=w.useState((function(){return de})),ye=Object(Ac.a)(ve,2),ge=ye[0],be=ye[1],we=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(de===m||n)&&(oe(e),C&&C(e),W&&W(e,t),_&&!JOe(c,e,re)&&_(e))},ke=function(e){return Q.current&&Q.current.onKeyDown?([See.a.LEFT,See.a.RIGHT,See.a.UP,See.a.DOWN,See.a.PAGE_UP,See.a.PAGE_DOWN,See.a.ENTER].includes(e.which)&&e.preventDefault(),Q.current.onKeyDown(e)):(Object(Sr.a)(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1)};H&&"right"!==G&&(H.current={onKeyDown:ke,onClose:function(){Q.current&&Q.current.onClose&&Q.current.onClose()}}),w.useEffect((function(){s&&!ee.current&&se(s)}),[s]),w.useEffect((function(){ee.current=!1}),[]);var xe,Oe,Ce,_e=Object(vt.a)(Object(vt.a)({},e),{},{operationRef:Q,prefixCls:r,viewDate:ce,value:re,onViewDateChange:le,sourceMode:ge,onPanelChange:function(e,t){var n=ue(e||de);be(de),he(n),E&&(de!==n||JOe(c,ce,ce))&&E(t,n)},disabledDate:m===de?p:void 0});switch(delete _e.onChange,delete _e.onSelect,de){case"decade":me=w.createElement(CCe,Object.assign({},_e,{onSelect:function(e,t){le(e),we(e,t)}}));break;case"year":me=w.createElement(bCe,Object.assign({},_e,{onSelect:function(e,t){le(e),we(e,t)}}));break;case"month":me=w.createElement(pCe,Object.assign({},_e,{onSelect:function(e,t){le(e),we(e,t)}}));break;case"quarter":me=w.createElement(mCe,Object.assign({},_e,{onSelect:function(e,t){le(e),we(e,t)}}));break;case"week":me=w.createElement(lCe,Object.assign({},_e,{onSelect:function(e,t){le(e),we(e,t)}}));break;case"time":delete _e.showTime,me=w.createElement(UOe,Object.assign({},_e,"object"===Object(mt.a)(b)?b:null,{onSelect:function(e,t){le(e),we(e,t)}}));break;default:me=b?w.createElement(sCe,Object.assign({},_e,{onSelect:function(e,t){le(e),we(e,t)}})):w.createElement(aCe,Object.assign({},_e,{onSelect:function(e,t){le(e),we(e,t)}}))}if(K||(xe=_Ce(r,de,x),Oe=ECe({prefixCls:r,components:R,needConfirmButton:F,okDisabled:!re||p&&p(re),locale:a,showNow:g,onNow:F&&function(){var e=c.getNow(),t=function(e,t,n,r,o,i){var a=Math.floor(e/r)*r;if(a<e)return[a,60-o,60-i];var c=Math.floor(t/o)*o;return c<t?[a,c,60-i]:[a,c,Math.floor(n/i)*i]}(c.getHour(e),c.getMinute(e),c.getSecond(e),z?A:1,B?N:1,V?L:1),n=BOe(c,e,t[0],t[1],t[2]);we(n,"submit")},onOk:function(){re&&(we(re,"submit",!0),P&&P(re))}})),k&&"date"===de&&"date"===m&&!b){var Ee=c.getNow(),je="".concat(r,"-today-btn"),Se=p&&p(Ee);Ce=w.createElement("a",{className:_t()(je,Se&&"".concat(je,"-disabled")),"aria-disabled":Se,onClick:function(){Se||we(Ee,"mouse",!0)}},a.today)}return w.createElement(kOe.Provider,{value:Object(vt.a)(Object(vt.a)({},q),{},{hideHeader:"hideHeader"in e?O:q.hideHeader,hidePrevBtn:$&&"right"===G,hideNextBtn:$&&"left"===G})},w.createElement("div",{tabIndex:y,className:_t()("".concat(r,"-panel"),o,(t={},Object(xc.a)(t,"".concat(r,"-panel-has-range"),Z&&Z[0]&&Z[1]),Object(xc.a)(t,"".concat(r,"-panel-has-range-hover"),J&&J[0]&&J[1]),Object(xc.a)(t,"".concat(r,"-panel-rtl"),"rtl"===T),t)),style:i,onKeyDown:ke,onBlur:function(e){Q.current&&Q.current.onBlur&&Q.current.onBlur(e)},onMouseDown:j,ref:U},me,xe||Oe||Ce?w.createElement("div",{className:"".concat(r,"-footer")},xe,Oe,Ce):null))},SCe={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};var PCe=function(e){var t,n=e.prefixCls,r=e.popupElement,o=e.popupStyle,i=e.visible,a=e.dropdownClassName,c=e.dropdownAlign,s=e.transitionName,l=e.getPopupContainer,u=e.children,f=e.range,p=e.popupPlacement,d=e.direction,h="".concat(n,"-dropdown");return w.createElement(gt.a,{showAction:[],hideAction:[],popupPlacement:void 0!==p?p:"rtl"===d?"bottomRight":"bottomLeft",builtinPlacements:SCe,prefixCls:h,popupTransitionName:s,popup:r,popupAlign:c,popupVisible:i,popupClassName:_t()(a,(t={},Object(xc.a)(t,"".concat(h,"-range"),f),Object(xc.a)(t,"".concat(h,"-rtl"),"rtl"===d),t)),popupStyle:o,getPopupContainer:l},u)};function RCe(e){var t=e.open,n=e.value,r=e.isClickOutside,o=e.triggerOpen,i=e.forwardKeyDown,a=e.blurToCancel,c=e.onSubmit,s=e.onCancel,l=e.onFocus,u=e.onBlur,f=Object(w.useState)(!1),p=Object(Ac.a)(f,2),d=p[0],h=p[1],m=Object(w.useState)(!1),v=Object(Ac.a)(m,2),y=v[0],g=v[1],b=Object(w.useRef)(!1),k=Object(w.useRef)(!1),x={onMouseDown:function(){h(!0),o(!0)},onKeyDown:function(e){switch(e.which){case See.a.ENTER:return t?!1!==c()&&h(!0):o(!0),void e.preventDefault();case See.a.TAB:return void(d&&t&&!e.shiftKey?(h(!1),e.preventDefault()):!d&&t&&!i(e)&&e.shiftKey&&(h(!0),e.preventDefault()));case See.a.ESC:return h(!0),void s()}t||[See.a.SHIFT].includes(e.which)?d||i(e):o(!0)},onFocus:function(e){h(!0),g(!0),l&&l(e)},onBlur:function(e){!b.current&&r(document.activeElement)?(a?setTimeout((function(){r(document.activeElement)&&s()}),0):t&&(o(!1),k.current&&c()),g(!1),u&&u(e)):b.current=!1}};return Object(w.useEffect)((function(){k.current=!1}),[t]),Object(w.useEffect)((function(){k.current=!0}),[n]),Object(w.useEffect)((function(){return e=function(e){var n=e.target;t&&(r(n)?y||o(!1):(b.current=!0,requestAnimationFrame((function(){b.current=!1}))))},!ROe&&"undefined"!=typeof window&&window.addEventListener&&(ROe=function(e){Object(Dc.a)(TOe).forEach((function(t){t(e)}))},window.addEventListener("mousedown",ROe)),TOe.add(e),function(){TOe.delete(e),0===TOe.size&&(window.removeEventListener("mousedown",ROe),ROe=null)};var e})),[x,{focused:y,typing:d}]}function TCe(e){var t=e.valueTexts,n=e.onTextChange,r=w.useState(""),o=Object(Ac.a)(r,2),i=o[0],a=o[1],c=w.useRef([]);function s(){a(c.current[0])}return c.current=t,w.useEffect((function(){t.every((function(e){return e!==i}))&&s()}),[t.join("||")]),[i,function(e){a(e),n(e)},s]}function DCe(e,t){var n=t.formatList,r=t.generateConfig,o=t.locale;return Object(due.a)((function(){if(!e)return[[""],""];for(var t="",i=[],a=0;a<n.length;a+=1){var c=n[a],s=r.locale.format(o.locale,e,c);i.push(s),0===a&&(t=s)}return[i,t]}),[e,n],(function(e,t){return e[0]!==t[0]||!Mw()(e[1],t[1])}))}function ACe(e,t){var n=t.formatList,r=t.generateConfig,o=t.locale,i=Object(w.useState)(null),a=Object(Ac.a)(i,2),c=a[0],s=a[1],l=DCe(c,{formatList:n,generateConfig:r,locale:o}),u=Object(Ac.a)(l,2)[1];function f(){s(null)}return Object(w.useEffect)((function(){f()}),[e]),[u,function(e){s(e)},f]}function MCe(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,o=e.id,i=e.tabIndex,a=e.style,c=e.className,s=e.dropdownClassName,l=e.dropdownAlign,u=e.popupStyle,f=e.transitionName,p=e.generateConfig,d=e.locale,h=e.inputReadOnly,m=e.allowClear,v=e.autoFocus,y=e.showTime,g=e.picker,b=void 0===g?"date":g,k=e.format,x=e.use12Hours,O=e.value,C=e.defaultValue,_=e.open,E=e.defaultOpen,j=e.defaultOpenValue,S=e.suffixIcon,P=e.clearIcon,R=e.disabled,T=e.disabledDate,D=e.placeholder,A=e.getPopupContainer,M=e.pickerRef,N=e.panelRender,I=e.onChange,L=e.onOpenChange,F=e.onFocus,z=e.onBlur,B=e.onMouseDown,V=e.onMouseUp,q=e.onMouseEnter,H=e.onMouseLeave,U=e.onContextMenu,W=e.onClick,K=e.direction,Y=e.autoComplete,X=void 0===Y?"off":Y,$=w.useRef(null),G="date"===b&&!!y||"time"===b,Z=IOe(SOe(k,b,y,x)),J=w.useRef(null),Q=w.useRef(null),ee=Object(Toe.a)(null,{value:O,defaultValue:C}),te=Object(Ac.a)(ee,2),ne=te[0],re=te[1],oe=w.useState(ne),ie=Object(Ac.a)(oe,2),ae=ie[0],ce=ie[1],se=w.useRef(null),le=Object(Toe.a)(!1,{value:_,defaultValue:E,postState:function(e){return!R&&e},onChange:function(e){L&&L(e),!e&&se.current&&se.current.onClose&&se.current.onClose()}}),ue=Object(Ac.a)(le,2),fe=ue[0],pe=ue[1],de=DCe(ae,{formatList:Z,generateConfig:p,locale:d}),he=Object(Ac.a)(de,2),me=he[0],ve=he[1],ye=TCe({valueTexts:me,onTextChange:function(e){var t=p.locale.parse(d.locale,e,Z);!t||T&&T(t)||ce(t)}}),ge=Object(Ac.a)(ye,3),be=ge[0],we=ge[1],ke=ge[2],xe=function(e){ce(e),re(e),I&&!JOe(p,ne,e)&&I(e,e?p.locale.format(d.locale,e,Z[0]):"")},Oe=function(e){R&&e||pe(e)},Ce=RCe({blurToCancel:G,open:fe,value:be,triggerOpen:Oe,forwardKeyDown:function(e){return fe&&se.current&&se.current.onKeyDown?se.current.onKeyDown(e):(Object(Sr.a)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},isClickOutside:function(e){return!AOe([J.current,Q.current],e)},onSubmit:function(){return(!T||!T(ae))&&(xe(ae),Oe(!1),ke(),!0)},onCancel:function(){Oe(!1),ce(ne),ke()},onFocus:F,onBlur:z}),_e=Object(Ac.a)(Ce,2),Ee=_e[0],je=_e[1],Se=je.focused,Pe=je.typing;w.useEffect((function(){fe||(ce(ne),me.length&&""!==me[0]?ve!==be&&ke():we(""))}),[fe,me]),w.useEffect((function(){fe||ke()}),[b]),w.useEffect((function(){ce(ne)}),[ne]),M&&(M.current={focus:function(){$.current&&$.current.focus()},blur:function(){$.current&&$.current.blur()}});var Re=Object(vt.a)(Object(vt.a)({},e),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0}),Te=w.createElement(jCe,Object.assign({},Re,{generateConfig:p,className:_t()(Object(xc.a)({},"".concat(r,"-panel-focused"),!Pe)),value:ae,locale:d,tabIndex:-1,onChange:ce,direction:K}));N&&(Te=N(Te));var De,Ae,Me=w.createElement("div",{className:"".concat(r,"-panel-container"),onMouseDown:function(e){e.preventDefault()}},Te);S&&(De=w.createElement("span",{className:"".concat(r,"-suffix")},S)),m&&ne&&!R&&(Ae=w.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation(),xe(null),Oe(!1)},className:"".concat(r,"-clear")},P||w.createElement("span",{className:"".concat(r,"-clear-btn")})));var Ne="rtl"===K?"bottomRight":"bottomLeft",Ie=ACe(be,{formatList:Z,generateConfig:p,locale:d}),Le=Object(Ac.a)(Ie,3),Fe=Le[0],ze=Le[1],Be=Le[2];return w.createElement(kOe.Provider,{value:{operationRef:se,hideHeader:"time"===b,panelRef:J,onSelect:function(e,t){("submit"===t||"key"!==t&&!G)&&(xe(e),Oe(!1))},open:fe,defaultOpenValue:j,onDateMouseEnter:ze,onDateMouseLeave:Be}},w.createElement(PCe,{visible:fe,popupElement:Me,popupStyle:u,prefixCls:r,dropdownClassName:s,dropdownAlign:l,getPopupContainer:A,transitionName:f,popupPlacement:Ne,direction:K},w.createElement("div",{className:_t()(r,c,(t={},Object(xc.a)(t,"".concat(r,"-disabled"),R),Object(xc.a)(t,"".concat(r,"-focused"),Se),Object(xc.a)(t,"".concat(r,"-rtl"),"rtl"===K),t)),style:a,onMouseDown:B,onMouseUp:function(){V&&V.apply(void 0,arguments),$.current&&($.current.focus(),Oe(!0))},onMouseEnter:q,onMouseLeave:H,onContextMenu:U,onClick:W},w.createElement("div",{className:_t()("".concat(r,"-input"),Object(xc.a)({},"".concat(r,"-input-placeholder"),!!Fe)),ref:Q},w.createElement("input",Object.assign({id:o,tabIndex:i,disabled:R,readOnly:h||!Pe,value:Fe||be,onChange:function(e){we(e.target.value)},autoFocus:v,placeholder:D,ref:$,title:be},Ee,{size:POe(b,Z[0])},LOe(e),{autoComplete:X})),De,Ae))))}var NCe=function(e){Object(_c.a)(n,e);var t=Object(_ee.a)(n);function n(){var e;return Object(Oc.a)(this,n),(e=t.apply(this,arguments)).pickerRef=w.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return Object(Cc.a)(n,[{key:"render",value:function(){return w.createElement(MCe,Object.assign({},this.props,{pickerRef:this.pickerRef}))}}]),n}(w.Component);function ICe(e,t,n,r){var o=eCe(e,n,r,1);function i(n){return n(e,t)?"same":n(o,t)?"closing":"far"}switch(n){case"year":return i((function(e,t){return function(e,t,n){var r=WOe(t,n);return"boolean"==typeof r?r:Math.floor(e.getYear(t)/10)===Math.floor(e.getYear(n)/10)}(r,e,t)}));case"quarter":case"month":return i((function(e,t){return KOe(r,e,t)}));default:return i((function(e,t){return $Oe(r,e,t)}))}}function LCe(e){var t=e.values,n=e.picker,r=e.defaultDates,o=e.generateConfig,i=w.useState((function(){return[FOe(r,0),FOe(r,1)]})),a=Object(Ac.a)(i,2),c=a[0],s=a[1],l=w.useState(null),u=Object(Ac.a)(l,2),f=u[0],p=u[1],d=FOe(t,0),h=FOe(t,1);return[function(e){return c[e]?c[e]:FOe(f,e)||function(e,t,n,r){var o=FOe(e,0),i=FOe(e,1);if(0===t)return o;if(o&&i)switch(ICe(o,i,n,r)){case"same":case"closing":return o;default:return eCe(i,n,r,-1)}return o}(t,e,n,o)||d||h||o.getNow()},function(e,n){if(e){var r=zOe(f,e,n);s(zOe(c,null,n)||[null,null]);var o=(n+1)%2;FOe(t,o)||(r=zOe(r,e,o)),p(r)}else(d||h)&&p(null)}]}function FCe(e,t){return e&&e[0]&&e[1]&&t.isAfter(e[0],e[1])?[e[1],e[0]]:e}function zCe(e,t,n,r){return!!e||(!(!r||!r[t])||!!n[(t+1)%2])}function BCe(e){var t,n,r,o=e.prefixCls,i=void 0===o?"rc-picker":o,a=e.id,c=e.style,s=e.className,l=e.popupStyle,u=e.dropdownClassName,f=e.transitionName,p=e.dropdownAlign,d=e.getPopupContainer,h=e.generateConfig,m=e.locale,v=e.placeholder,y=e.autoFocus,g=e.disabled,b=e.format,k=e.picker,x=void 0===k?"date":k,O=e.showTime,C=e.use12Hours,_=e.separator,E=void 0===_?"~":_,j=e.value,S=e.defaultValue,P=e.defaultPickerValue,R=e.open,T=e.defaultOpen,D=e.disabledDate,A=e.disabledTime,M=e.dateRender,N=e.panelRender,I=e.ranges,L=e.allowEmpty,F=e.allowClear,z=e.suffixIcon,B=e.clearIcon,V=e.pickerRef,q=e.inputReadOnly,H=e.mode,U=e.renderExtraFooter,W=e.onChange,K=e.onOpenChange,Y=e.onPanelChange,X=e.onCalendarChange,$=e.onFocus,G=e.onBlur,Z=e.onOk,J=e.components,Q=e.order,ee=e.direction,te=e.activePickerIndex,ne=e.autoComplete,re=void 0===ne?"off":ne,oe="date"===x&&!!O||"time"===x,ie=Object(w.useRef)({}),ae=Object(w.useRef)(null),ce=Object(w.useRef)(null),se=Object(w.useRef)(null),le=Object(w.useRef)(null),ue=Object(w.useRef)(null),fe=Object(w.useRef)(null),pe=Object(w.useRef)(null),de=IOe(SOe(b,x,O,C)),he=Object(Toe.a)(0,{value:te}),me=Object(Ac.a)(he,2),ve=me[0],ye=me[1],ge=Object(w.useRef)(null),be=w.useMemo((function(){return Array.isArray(g)?g:[g||!1,g||!1]}),[g]),we=Object(Toe.a)(null,{value:j,defaultValue:S,postState:function(e){return"time"!==x||Q?FCe(e,h):e}}),ke=Object(Ac.a)(we,2),xe=ke[0],Oe=ke[1],Ce=LCe({values:xe,picker:x,defaultDates:P,generateConfig:h}),_e=Object(Ac.a)(Ce,2),Ee=_e[0],je=_e[1],Se=Object(Toe.a)(xe,{postState:function(e){var t=e;if(be[0]&&be[1])return t;for(var n=0;n<2;n+=1)!be[n]||FOe(t,n)||FOe(L,n)||(t=zOe(t,h.getNow(),n));return t}}),Pe=Object(Ac.a)(Se,2),Re=Pe[0],Te=Pe[1],De=Object(Toe.a)([x,x],{value:H}),Ae=Object(Ac.a)(De,2),Me=Ae[0],Ne=Ae[1];Object(w.useEffect)((function(){Ne([x,x])}),[x]);var Ie=function(e,t){Ne(e),Y&&Y(t,e)},Le=function(e,t,n){var r=e.picker,o=e.locale,i=e.selectedValue,a=e.disabledDate,c=e.disabled,s=e.generateConfig,l=FOe(i,0),u=FOe(i,1);function f(e){return 100*s.getYear(e)+s.locale.getWeek(o.locale,e)}function p(e){return 100*s.getYear(e)+s.getMonth(e)}function d(e){return 10*s.getYear(e)+YOe(s,e)}return[w.useCallback((function(e){if(a&&a(e))return!0;if(c[1]&&u)return!GOe(s,e,u)&&s.isAfter(e,u);if(t&&u)switch(r){case"quarter":return d(e)>d(u);case"month":return p(e)>p(u);case"week":return f(e)>f(u);default:return!GOe(s,e,u)&&s.isAfter(e,u)}return!1}),[a,c[1],u,t]),w.useCallback((function(e){if(a&&a(e))return!0;if(c[0]&&l)return!GOe(s,e,u)&&s.isAfter(l,e);if(n&&l)switch(r){case"quarter":return d(e)<d(l);case"month":return p(e)<p(l);case"week":return f(e)<f(l);default:return!GOe(s,e,l)&&s.isAfter(l,e)}return!1}),[a,c[0],l,n])]}({picker:x,selectedValue:Re,locale:m,disabled:be,disabledDate:D,generateConfig:h},ie.current[1],ie.current[0]),Fe=Object(Ac.a)(Le,2),ze=Fe[0],Be=Fe[1],Ve=Object(Toe.a)(!1,{value:R,defaultValue:T,postState:function(e){return!be[ve]&&e},onChange:function(e){K&&K(e),!e&&ge.current&&ge.current.onClose&&ge.current.onClose()}}),qe=Object(Ac.a)(Ve,2),He=qe[0],Ue=qe[1],We=He&&0===ve,Ke=He&&1===ve,Ye=Object(w.useState)(0),Xe=Object(Ac.a)(Ye,2),$e=Xe[0],Ge=Xe[1];Object(w.useEffect)((function(){!He&&ae.current&&Ge(ae.current.offsetWidth)}),[He]);var Ze=w.useRef();function Je(e,t){if(e)clearTimeout(Ze.current),ie.current[t]=!0,ye(t),Ue(e),He||je(null,t);else if(ve===t){Ue(e);var n=ie.current;Ze.current=setTimeout((function(){n===ie.current&&(ie.current={})}))}}function Qe(e){Je(!0,e),setTimeout((function(){var t=[fe,pe][e];t.current&&t.current.focus()}),0)}function et(e,t){var n=e,r=FOe(n,0),o=FOe(n,1);r&&o&&h.isAfter(r,o)&&("week"===x&&!ZOe(h,m.locale,r,o)||"quarter"===x&&!XOe(h,r,o)||"week"!==x&&"quarter"!==x&&"time"!==x&&!GOe(h,r,o)?(0===t?(n=[r,null],o=null):(r=null,n=[null,o]),ie.current=Object(xc.a)({},t,!0)):"time"===x&&!1===Q||(n=FCe(n,h))),Te(n);var i=n&&n[0]?h.locale.format(m.locale,n[0],de[0]):"",a=n&&n[1]?h.locale.format(m.locale,n[1],de[0]):"";X&&X(n,[i,a],{range:0===t?"start":"end"});var c=zCe(r,0,be,L),s=zCe(o,1,be,L);(null===n||c&&s)&&(Oe(n),!W||JOe(h,FOe(xe,0),r)&&JOe(h,FOe(xe,1),o)||W(n,[i,a]));var l=null;0!==t||be[1]?1!==t||be[0]||(l=0):l=1,null===l||l===ve||ie.current[l]&&FOe(n,l)||!FOe(n,t)?Je(!1,t):Qe(l)}var tt=function(e){return He&&ge.current&&ge.current.onKeyDown?ge.current.onKeyDown(e):(Object(Sr.a)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},nt={formatList:de,generateConfig:h,locale:m},rt=DCe(FOe(Re,0),nt),ot=Object(Ac.a)(rt,2),it=ot[0],at=ot[1],ct=DCe(FOe(Re,1),nt),st=Object(Ac.a)(ct,2),lt=st[0],ut=st[1],ft=function(e,t){var n=h.locale.parse(m.locale,e,de);n&&!(0===t?ze:Be)(n)&&(Te(zOe(Re,n,t)),je(n,t))},pt=TCe({valueTexts:it,onTextChange:function(e){return ft(e,0)}}),dt=Object(Ac.a)(pt,3),ht=dt[0],yt=dt[1],gt=dt[2],bt=TCe({valueTexts:lt,onTextChange:function(e){return ft(e,1)}}),wt=Object(Ac.a)(bt,3),kt=wt[0],xt=wt[1],Ot=wt[2],Ct=Object(w.useState)(null),Et=Object(Ac.a)(Ct,2),jt=Et[0],St=Et[1],Pt=Object(w.useState)(null),Rt=Object(Ac.a)(Pt,2),Tt=Rt[0],Dt=Rt[1],At=ACe(ht,{formatList:de,generateConfig:h,locale:m}),Mt=Object(Ac.a)(At,3),Nt=Mt[0],It=Mt[1],Lt=Mt[2],Ft=ACe(kt,{formatList:de,generateConfig:h,locale:m}),zt=Object(Ac.a)(Ft,3),Bt=zt[0],Vt=zt[1],qt=zt[2],Ht=function(e,t){return{blurToCancel:oe,forwardKeyDown:tt,onBlur:G,isClickOutside:function(e){return!AOe([ce.current,se.current,le.current],e)},onFocus:function(t){ye(e),$&&$(t)},triggerOpen:function(t){Je(t,e)},onSubmit:function(){et(Re,e),t()},onCancel:function(){Je(!1,e),Te(xe),t()}}},Ut=RCe(Object(vt.a)(Object(vt.a)({},Ht(0,gt)),{},{open:We,value:ht})),Wt=Object(Ac.a)(Ut,2),Kt=Wt[0],Yt=Wt[1],Xt=Yt.focused,$t=Yt.typing,Gt=RCe(Object(vt.a)(Object(vt.a)({},Ht(1,Ot)),{},{open:Ke,value:kt})),Zt=Object(Ac.a)(Gt,2),Jt=Zt[0],Qt=Zt[1],en=Qt.focused,tn=Qt.typing,nn=xe&&xe[0]?h.locale.format(m.locale,xe[0],"YYYYMMDDHHmmss"):"",rn=xe&&xe[1]?h.locale.format(m.locale,xe[1],"YYYYMMDDHHmmss"):"";Object(w.useEffect)((function(){He||(Te(xe),it.length&&""!==it[0]?at!==ht&&gt():yt(""),lt.length&&""!==lt[0]?ut!==kt&&Ot():xt(""))}),[He,it,lt]),Object(w.useEffect)((function(){Te(xe)}),[nn,rn]),V&&(V.current={focus:function(){fe.current&&fe.current.focus()},blur:function(){fe.current&&fe.current.blur(),pe.current&&pe.current.blur()}});var on=Object.keys(I||{}).map((function(e){var t=I[e],n="function"==typeof t?t():t;return{label:e,onClick:function(){et(n,null),Je(!1,ve)},onMouseEnter:function(){St(n)},onMouseLeave:function(){St(null)}}}));function an(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;He&&Tt&&Tt[0]&&Tt[1]&&h.isAfter(Tt[1],Tt[0])&&(r=Tt);var o=O;if(O&&"object"===Object(mt.a)(O)&&O.defaultValue){var a=O.defaultValue;o=Object(vt.a)(Object(vt.a)({},O),{},{defaultValue:FOe(a,ve)||void 0})}var c=null;return M&&(c=function(e,t){return M(e,t,{range:ve?"end":"start"})}),w.createElement(tCe.Provider,{value:{inRange:!0,panelPosition:t,rangedValue:jt||Re,hoverRangedValue:r}},w.createElement(jCe,Object.assign({},e,n,{dateRender:c,showTime:o,mode:Me[ve],generateConfig:h,style:void 0,direction:ee,disabledDate:0===ve?ze:Be,disabledTime:function(e){return!!A&&A(e,0===ve?"start":"end")},className:_t()(Object(xc.a)({},"".concat(i,"-panel-focused"),0===ve?!$t:!tn)),value:FOe(Re,ve),locale:m,tabIndex:-1,onPanelChange:function(e,n){Ie(zOe(Me,n,ve),zOe(Re,e,ve));var r=e;"right"===t&&(r=eCe(r,n,h,-1)),je(r,ve)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:void 0,defaultPickerValue:void 0})))}var cn=0,sn=0;ve&&se.current&&ue.current&&ce.current&&(cn=se.current.offsetWidth+ue.current.offsetWidth,ce.current.offsetWidth&&cn>ce.current.offsetWidth&&(sn=cn));var ln="rtl"===ee?{right:cn}:{left:cn};var un,fn,pn=w.createElement("div",{className:_t()("".concat(i,"-range-wrapper"),"".concat(i,"-").concat(x,"-range-wrapper")),style:{minWidth:$e}},w.createElement("div",{className:"".concat(i,"-range-arrow"),style:ln}),function(){var e,t=_Ce(i,Me[ve],U),n=ECe({prefixCls:i,components:J,needConfirmButton:oe,okDisabled:!FOe(Re,ve)||D&&D(Re[ve]),locale:m,rangeList:on,onOk:function(){FOe(Re,ve)&&(et(Re,ve),Z&&Z(Re))}});if("time"===x||O)e=an();else{var r=Ee(ve),o=eCe(r,x,h),a=Me[ve]===x,c=an(!!a&&"left",{pickerValue:r,onPickerValueChange:function(e){je(e,ve)}}),s=an("right",{pickerValue:o,onPickerValueChange:function(e){je(eCe(e,x,h,-1),ve)}});e="rtl"===ee?w.createElement(w.Fragment,null,s,a&&c):w.createElement(w.Fragment,null,c,a&&s)}var l=w.createElement(w.Fragment,null,w.createElement("div",{className:"".concat(i,"-panels")},e),(t||n)&&w.createElement("div",{className:"".concat(i,"-footer")},t,n));return N&&(l=N(l)),w.createElement("div",{className:"".concat(i,"-panel-container"),style:{marginLeft:sn},ref:ce,onMouseDown:function(e){e.preventDefault()}},l)}());z&&(un=w.createElement("span",{className:"".concat(i,"-suffix")},z)),F&&(FOe(xe,0)&&!be[0]||FOe(xe,1)&&!be[1])&&(fn=w.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation();var t=xe;be[0]||(t=zOe(t,null,0)),be[1]||(t=zOe(t,null,1)),et(t,null)},className:"".concat(i,"-clear")},B||w.createElement("span",{className:"".concat(i,"-clear-btn")})));var dn={size:POe(x,de[0])},hn=0,mn=0;se.current&&le.current&&ue.current&&(0===ve?mn=se.current.offsetWidth:(hn=cn,mn=le.current.offsetWidth));var vn="rtl"===ee?{right:hn}:{left:hn};return w.createElement(kOe.Provider,{value:{operationRef:ge,hideHeader:"time"===x,onDateMouseEnter:function(e){Dt(zOe(Re,e,ve)),0===ve?It(e):Vt(e)},onDateMouseLeave:function(){Dt(zOe(Re,null,ve)),0===ve?Lt(null):qt(null)},hideRanges:!0,onSelect:function(e,t){var n=zOe(Re,e,ve);"submit"===t||"key"!==t&&!oe?et(n,ve):Te(n)},open:He}},w.createElement(PCe,{visible:He,popupElement:pn,popupStyle:l,prefixCls:i,dropdownClassName:u,dropdownAlign:p,getPopupContainer:d,transitionName:f,range:!0,direction:ee},w.createElement("div",Object.assign({ref:ae,className:_t()(i,"".concat(i,"-range"),s,(t={},Object(xc.a)(t,"".concat(i,"-disabled"),be[0]&&be[1]),Object(xc.a)(t,"".concat(i,"-focused"),0===ve?Xt:en),Object(xc.a)(t,"".concat(i,"-rtl"),"rtl"===ee),t)),style:c,onClick:function(e){He||fe.current.contains(e.target)||pe.current.contains(e.target)||(be[0]?be[1]||Qe(1):Qe(0))},onMouseDown:function(e){!He||!Xt&&!en||fe.current.contains(e.target)||pe.current.contains(e.target)||e.preventDefault()}},LOe(e)),w.createElement("div",{className:_t()("".concat(i,"-input"),(n={},Object(xc.a)(n,"".concat(i,"-input-active"),0===ve),Object(xc.a)(n,"".concat(i,"-input-placeholder"),!!Nt),n)),ref:se},w.createElement("input",Object.assign({id:a,disabled:be[0],readOnly:q||!$t,value:Nt||ht,onChange:function(e){yt(e.target.value)},autoFocus:y,placeholder:FOe(v,0)||"",ref:fe},Kt,dn,{autoComplete:re}))),w.createElement("div",{className:"".concat(i,"-range-separator"),ref:ue},E),w.createElement("div",{className:_t()("".concat(i,"-input"),(r={},Object(xc.a)(r,"".concat(i,"-input-active"),1===ve),Object(xc.a)(r,"".concat(i,"-input-placeholder"),!!Bt),r)),ref:le},w.createElement("input",Object.assign({disabled:be[1],readOnly:q||!tn,value:Bt||kt,onChange:function(e){xt(e.target.value)},placeholder:FOe(v,1)||"",ref:pe},Jt,dn,{autoComplete:re}))),w.createElement("div",{className:"".concat(i,"-active-bar"),style:Object(vt.a)(Object(vt.a)({},vn),{},{width:mn,position:"absolute"})}),un,fn)))}var VCe=function(e){Object(_c.a)(n,e);var t=Object(_ee.a)(n);function n(){var e;return Object(Oc.a)(this,n),(e=t.apply(this,arguments)).pickerRef=w.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return Object(Cc.a)(n,[{key:"render",value:function(){return w.createElement(BCe,Object.assign({},this.props,{pickerRef:this.pickerRef}))}}]),n}(w.Component),qCe=NCe;function HCe(e,t,n){return void 0!==n?n:"year"===e&&t.lang.yearPlaceholder?t.lang.yearPlaceholder:"quarter"===e&&t.lang.quarterPlaceholder?t.lang.quarterPlaceholder:"month"===e&&t.lang.monthPlaceholder?t.lang.monthPlaceholder:"week"===e&&t.lang.weekPlaceholder?t.lang.weekPlaceholder:"time"===e&&t.timePickerLocale.placeholder?t.timePickerLocale.placeholder:t.lang.placeholder}function UCe(e,t,n){return void 0!==n?n:"year"===e&&t.lang.yearPlaceholder?t.lang.rangeYearPlaceholder:"month"===e&&t.lang.monthPlaceholder?t.lang.rangeMonthPlaceholder:"week"===e&&t.lang.weekPlaceholder?t.lang.rangeWeekPlaceholder:"time"===e&&t.timePickerLocale.placeholder?t.timePickerLocale.rangePlaceholder:t.lang.rangePlaceholder}var WCe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var KCe=n(353),YCe=n.n(KCe),XCe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var $Ce={button:function(e){return w.createElement(vo,ht()({size:"small",type:"primary"},e))},rangeItem:function(e){return w.createElement(vOe,ht()({color:"blue"},e))}};function GCe(e){var t,n=e.format,r=e.picker,o=e.showHour,i=e.showMinute,a=e.showSecond,c=e.use12Hours,s=(t=n,t?Array.isArray(t)?t:[t]:[])[0],l=ht()({},e);return s&&(s.includes("s")||void 0!==a||(l.showSecond=!1),s.includes("m")||void 0!==i||(l.showMinute=!1),s.includes("H")||s.includes("h")||void 0!==o||(l.showHour=!1),(s.includes("a")||s.includes("A"))&&void 0===c&&(l.use12Hours=!0)),"time"===r?l:{showTime:l}}var ZCe=function(e){var t=function(e){function t(t,n){var r=function(r){Ft()(i,r);var o=Bt()(i);function i(r){var a;return Mt()(this,i),(a=o.call(this,r)).pickerRef=w.createRef(),a.focus=function(){a.pickerRef.current&&a.pickerRef.current.focus()},a.blur=function(){a.pickerRef.current&&a.pickerRef.current.blur()},a.getDefaultLocale=function(){var e=a.props.locale,t=ht()(ht()({},Ht),e);return t.lang=ht()(ht()({},t.lang),(e||{}).lang),t},a.renderPicker=function(n){var r=a.context,o=r.getPrefixCls,i=r.direction,c=r.getPopupContainer,s=a.props,l=s.prefixCls,u=s.getPopupContainer,f=s.className,p=s.size,d=s.bordered,h=void 0===d||d,m=s.placeholder,v=WCe(s,["prefixCls","getPopupContainer","className","size","bordered","placeholder"]),y=a.props,g=y.format,b=y.showTime,k=o("picker",l),x={showToday:!0},O={};t&&(O.picker=t);var C=t||a.props.picker;return O=ht()(ht()(ht()({},O),b?GCe(ht()({format:g,picker:C},b)):{}),"time"===C?GCe(ht()(ht()({format:g},a.props),{picker:C})):{}),w.createElement(jr.Consumer,null,(function(t){var r,o=p||t;return w.createElement(qCe,ht()({ref:a.pickerRef,placeholder:HCe(C,n,m),suffixIcon:"time"===C?w.createElement(wOe.a,null):w.createElement(gOe.a,null),clearIcon:w.createElement(kr.a,null),allowClear:!0,transitionName:"slide-up"},x,v,O,{locale:n.lang,className:_t()(f,(r={},ut()(r,"".concat(k,"-").concat(o),o),ut()(r,"".concat(k,"-borderless"),!h),r)),prefixCls:k,getPopupContainer:u||c,generateConfig:e,prevIcon:w.createElement("span",{className:"".concat(k,"-prev-icon")}),nextIcon:w.createElement("span",{className:"".concat(k,"-next-icon")}),superPrevIcon:w.createElement("span",{className:"".concat(k,"-super-prev-icon")}),superNextIcon:w.createElement("span",{className:"".concat(k,"-super-next-icon")}),components:$Ce,direction:i}))}))},Pr("quarter"!==t,n,"DatePicker.".concat(n," is legacy usage. Please use DatePicker[picker='").concat(t,"'] directly.")),a}return It()(i,[{key:"render",value:function(){return w.createElement(Xt,{componentName:"DatePicker",defaultLocale:this.getDefaultLocale},this.renderPicker)}}]),i}(w.Component);return r.contextType=rn,n&&(r.displayName=n),r}return{DatePicker:t(),WeekPicker:t("week","WeekPicker"),MonthPicker:t("month","MonthPicker"),YearPicker:t("year","YearPicker"),TimePicker:t("time","TimePicker"),QuarterPicker:t("quarter","QuarterPicker")}}(e),n=t.DatePicker,r=t.WeekPicker,o=t.MonthPicker,i=t.YearPicker,a=t.TimePicker,c=t.QuarterPicker,s=function(e){var t=function(t){Ft()(r,t);var n=Bt()(r);function r(){var t;return Mt()(this,r),(t=n.apply(this,arguments)).pickerRef=w.createRef(),t.focus=function(){t.pickerRef.current&&t.pickerRef.current.focus()},t.blur=function(){t.pickerRef.current&&t.pickerRef.current.blur()},t.getDefaultLocale=function(){var e=t.props.locale,n=ht()(ht()({},Ht),e);return n.lang=ht()(ht()({},n.lang),(e||{}).lang),n},t.renderPicker=function(n){var r=t.context,o=r.getPrefixCls,i=r.direction,a=r.getPopupContainer,c=t.props,s=c.prefixCls,l=c.getPopupContainer,u=c.className,f=c.size,p=c.bordered,d=void 0===p||p,h=c.placeholder,m=XCe(c,["prefixCls","getPopupContainer","className","size","bordered","placeholder"]),v=t.props,y=v.format,g=v.showTime,b=v.picker,k=o("picker",s),x={};return x=ht()(ht()(ht()({},x),g?GCe(ht()({format:y,picker:b},g)):{}),"time"===b?GCe(ht()(ht()({format:y},t.props),{picker:b})):{}),w.createElement(jr.Consumer,null,(function(r){var o,c=f||r;return w.createElement(VCe,ht()({separator:w.createElement("span",{"aria-label":"to",className:"".concat(k,"-separator")},w.createElement(YCe.a,null)),ref:t.pickerRef,placeholder:UCe(b,n,h),suffixIcon:"time"===b?w.createElement(wOe.a,null):w.createElement(gOe.a,null),clearIcon:w.createElement(kr.a,null),allowClear:!0,transitionName:"slide-up"},m,x,{className:_t()(u,(o={},ut()(o,"".concat(k,"-").concat(c),c),ut()(o,"".concat(k,"-borderless"),!d),o)),locale:n.lang,prefixCls:k,getPopupContainer:l||a,generateConfig:e,prevIcon:w.createElement("span",{className:"".concat(k,"-prev-icon")}),nextIcon:w.createElement("span",{className:"".concat(k,"-next-icon")}),superPrevIcon:w.createElement("span",{className:"".concat(k,"-super-prev-icon")}),superNextIcon:w.createElement("span",{className:"".concat(k,"-super-next-icon")}),components:$Ce,direction:i}))}))},t}return It()(r,[{key:"render",value:function(){return w.createElement(Xt,{componentName:"DatePicker",defaultLocale:this.getDefaultLocale},this.renderPicker)}}]),r}(w.Component);return t.contextType=rn,t}(e),l=n;return l.WeekPicker=r,l.MonthPicker=o,l.YearPicker=i,l.RangePicker=s,l.TimePicker=a,l.QuarterPicker=c,l}(sOe),JCe=(n(718),ZCe),QCe=(n(725),void 0),e_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},t_e=w.forwardRef((function(e,t){var n=w.useState(e.visible),r=pt()(n,2),o=r[0],i=r[1];w.useEffect((function(){"visible"in e&&i(e.visible)}),[e.visible]),w.useEffect((function(){"defaultVisible"in e&&i(e.defaultVisible)}),[e.defaultVisible]);var a=function(t,n){"visible"in e||i(t),e.onVisibleChange&&e.onVisibleChange(t,n)},c=function(t){a(!1,t),e.onConfirm&&e.onConfirm.call(QCe,t)},s=function(t){a(!1,t),e.onCancel&&e.onCancel.call(QCe,t)},l=w.useContext(rn).getPrefixCls,u=e.prefixCls,f=e.placement,p=e.children,d=e.overlayClassName,h=e_e(e,["prefixCls","placement","children","overlayClassName"]),m=l("popover",u),v=l("popconfirm",u),y=_t()(v,d),g=w.createElement(Xt,{componentName:"Popconfirm",defaultLocale:Wt.Popconfirm},(function(t){return function(t,n){var r,o=e.okButtonProps,i=e.cancelButtonProps,a=e.title,l=e.cancelText,u=e.okText,f=e.okType,p=e.icon;return w.createElement("div",{className:"".concat(t,"-inner-content")},w.createElement("div",{className:"".concat(t,"-message")},p,w.createElement("div",{className:"".concat(t,"-message-title")},lk(a))),w.createElement("div",{className:"".concat(t,"-buttons")},w.createElement(vo,ht()({onClick:s,size:"small"},i),l||n.cancelText),w.createElement(vo,ht()({onClick:c},"danger"===(r=f)?{danger:!0}:{type:r},{size:"small"},o),u||n.okText)))}(m,t)}));return w.createElement(pn,ht()({},h,{prefixCls:m,placement:f,onVisibleChange:function(t){e.disabled||a(t)},visible:o,overlay:g,overlayClassName:y,ref:t}),Dt(p,{onKeyDown:function(e){var t,n;null===(n=null==p?void 0:(t=p.props).onKeyDown)||void 0===n||n.call(t,e),function(e){e.keyCode===See.a.ESC&&o&&a(!1,e)}(e)}}))}));t_e.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:w.createElement(Wc.a,null),disabled:!1};var n_e=t_e,r_e=(n(726),n_e),o_e={single:"单选",multiple:"多选",dataError:"获取投票数据失败",illegalData:"投票数据异常",voting:"投票中...",votingMessage:"正在投票中",fetching:"正在获取投票数据...",submitting:"正在提交投票数据中...",deleteConfirm:"确定删除该选项？",invalidVote:"投票数据无效",voteSuccess:"投票成功",voteFailure:"投票失败",closed:"已截止",closeText:"截止",reVote:"重新投票",memberCountTip:"%d 人已投票",voteCountTip:"%d 票",countTip:"%d 票",voteBtn:"投票",okText:"确认",cancelText:"取消",form:{title:"请输入投票标题",addBtn:"添加选项",closeTime:"截止时间",item:"选项"},notSupport:"评论、发言暂不支持投票卡片"},i_e={single:"Single",multiple:"Multiple",dataError:"Failed to load data",illegalData:"Illegal data",voting:"voting...",votingMessage:"Voting",fetching:"fetching ...",submitting:"voting ...",deleteConfirm:"Are you sure you want to delete it?",invalidVote:"Invalid voting data",voteSuccess:"vote success",voteFailure:"vote failed",closed:"Ended",closeText:"",reVote:"re-vote",memberCountTip:"%d voted",voteCountTip:"%d voted",countTip:"%d votes",voteBtn:"vote",okText:"Ok",cancelText:"Cancel",form:{title:"Enter a title",addBtn:"Add",closeTime:"Deadline",item:"Option"},notSupport:"Cards are not allowed in comments"},a_e=(n(714),n(715),/(?:[\u0100-\uffff\s]|^)https?:\/\/(?:[^\/.]+?\.)+?[^\/.]+?(?:\/\S*?)?(?:(?=[\u0100-\uffff\s])|$)/g);function c_e(e){if(!e)return e;var t=/\s/;return(e=Cl.escape(e)).toLowerCase().replace(a_e,(function(e){var n="",r="";return"h"!==e[0]&&(n=e[0],e=e.substring(1)),t.test(e[e.length-1])&&(r=e[e.length-1],e=e.substring(0,e.length-1)),"".concat(n,'<a href="').concat(encodeURI(e),'" target="_blank">').concat(e,"</a>").concat(r)}))}function s_e(e){return(s_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l_e(){return(l_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u_e(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f_e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p_e(e,t){return(p_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d_e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m_e(e);if(t){var o=m_e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h_e(this,n)}}function h_e(e,t){return!t||"object"!==s_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m_e(e){return(m_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v_e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p_e(e,t)}(i,e);var t,n,r,o=d_e(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e))._handleKeyDown=function(e){e.stopPropagation(),13!==e.keyCode||e.shiftKey&&e.metaKey&&e.ctrlKey||t.props.onKeyDownEnter()},t._handleChange=function(e){e.target.value=e.target.value.replace(/\n/g,""),t.props.onChange(e)},t.textAreaRef=k.a.createRef(),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.textAreaRef.current&&(this.textAreaRef.current.addEventListener("keydown",this._handleKeyDown,!1),this.props.autoFocus&&setTimeout((function(){e.focus()}),16))}},{key:"componentDidUpdate",value:function(e){this.props.autoFocus&&!e.autoFocus&&this.focus()}},{key:"focus",value:function(){this.textAreaRef.current&&this.textAreaRef.current.focus()}},{key:"componentWillUnmount",value:function(){this.textAreaRef.current&&this.textAreaRef.current.removeEventListener("keydown",this._handleKeyDown,!1)}},{key:"render",value:function(){var e=this.props,t=(e.onChange,e.placeholder),n=e.value,r=e.isReadonly,o=(e.onKeyDownEnter,e.autoLink,e.className),i=void 0===o?"":o,a=u_e(e,["onChange","placeholder","value","isReadonly","onKeyDownEnter","autoLink","className"]);i+=" le-multiline-input",r&&(t="");var c=this._renderDetail();return k.a.createElement("div",l_e({className:i},a),k.a.createElement("div",{className:"le-multiline-input-hidden"},n||t||k.a.createElement("br",null)),c)}},{key:"_renderDetail",value:function(){var e=this.props,t=e.placeholder,n=e.value,r=e.isReadonly,o=e.autoLink;return r&&o?k.a.createElement("div",{className:"detail",dangerouslySetInnerHTML:{__html:c_e(n)}}):k.a.createElement("textarea",{ref:this.textAreaRef,onChange:this._handleChange,value:n||"",disabled:r,placeholder:t})}}])&&f_e(t.prototype,n),r&&f_e(t,r),i}(w.Component);function y_e(e){return(y_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b_e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w_e(e,t){return(w_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k_e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O_e(e);if(t){var o=O_e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x_e(this,n)}}function x_e(e,t){return!t||"object"!==y_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O_e(e){return(O_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}v_e.propTypes={onChange:st.a.func,value:st.a.any,placeholder:st.a.any,isReadonly:st.a.bool.isRequired,autoFocus:st.a.bool,onKeyDownEnter:st.a.func,className:st.a.string,autoLink:st.a.bool},v_e.defaultProps={value:"",autoLink:!1,onChange:function(){},onKeyDownEnter:function(){}};var C_e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w_e(e,t)}(i,e);var t,n,r,o=k_e(i);function i(){return g_e(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getLocale",value:function(){return"en"===this.props.lang?i_e:o_e}},{key:"render",value:function(){var e=this,t=this.getLocale(),n=this.props.data;return k.a.createElement("div",{className:"lake-vote-card"},k.a.createElement("div",{className:"lake-vote-card-title lake-vote-card-section"},k.a.createElement(tpe,{value:n.type||"single",size:"large",onChange:function(t){e.props.onTypeChange(t)}},k.a.createElement(tpe.Option,{value:"single"},t.single),k.a.createElement(tpe.Option,{value:"multiple"},t.multiple)),k.a.createElement(v_e,{className:"lake-vote-title-input",placeholder:t.form.title,onChange:function(t){e.props.onTitleChange(t.target.value)},onKeyDownEnter:this.props.onTitleKeyDownEnter,value:n.title})),k.a.createElement("div",{className:"lake-vote-card-item-box lake-vote-card-section"},this.renderItems()),k.a.createElement("div",{className:"lake-vote-card-control lake-vote-card-section"},k.a.createElement("button",{className:"lake-vote-card-add-item-btn",onClick:this.props.onAddItem},k.a.createElement(oOe,{className:"plus-icon"}),t.form.addBtn)),k.a.createElement("div",null,k.a.createElement("div",{className:"datetime-picker-wrap"},k.a.createElement("div",{className:"datetime-picker-label"},t.form.closeTime),k.a.createElement(JCe,{locale:"zh-cn"===this.props.lang?tOe:Ht,className:"datetime-picker",size:"large",placeholder:"",value:Zxe()(n.deadline),showTime:!0,showToday:!1,allowClear:!1,onChange:this.props.onDateTimeChange,suffixIcon:k.a.createElement(cOe,null)}))))}},{key:"renderItems",value:function(){var e=this,t=this.props.data,n=[].concat(t.items||[null,null]);0===n.length?(n.push(null),n.push(null)):1===n.length&&n.push(null);var r=n.length>2;return n.map((function(t,n){return t=t||{},k.a.createElement("div",{key:t.id||n,className:"lake-vote-card-item ".concat(r?"":"disallow-delete")},k.a.createElement(v_e,{className:"lake-vote-item-input",onKeyDownEnter:function(){e.props.onKeyDownEnter(n)},onChange:function(t){e.props.onItemChange(n,t.target.value)},placeholder:"".concat(e.getLocale().form.item," ").concat(n+1),value:t.value||"",autoFocus:e.props.autoFocusIndex===n,isReadonly:!1}),r?e.renderDeleteButton(t,n):null)}))}},{key:"renderDeleteButton",value:function(e,t){var n=this,r=this.getLocale();return e.value&&e.value.length?k.a.createElement(r_e,{overlayClassName:"lake-vote-card-delete-confirm",okText:r.okText,cancelText:r.cancelText,title:r.deleteConfirm,onConfirm:function(){n.props.onDeleteItem(t)}},k.a.createElement("div",{className:"item-icon"},k.a.createElement("span",{className:"lake-icon lake-icon-delete"}))):k.a.createElement("div",{className:"item-icon",onClick:function(){n.props.onDeleteItem(t)}},k.a.createElement("span",{className:"lake-icon lake-icon-delete"}))}}])&&b_e(t.prototype,n),r&&b_e(t,r),i}(w.Component);C_e.propTypes={lang:st.a.oneOf(["zh-cn","en"]).isRequired,data:st.a.object.isRequired,onItemChange:st.a.func,onAddItem:st.a.func,onDeleteItem:st.a.func,onDateTimeChange:st.a.func,onTitleChange:st.a.func,onTypeChange:st.a.func,onKeyDownEnter:st.a.func,onTitleKeyDownEnter:st.a.func,autoFocusIndex:st.a.number},C_e.defaultProps={lang:"zh-cn",data:{},onItemChange:function(){},onAddItem:function(){},onDeleteItem:function(){},onDateTimeChange:function(){},onTitleChange:function(){},onTypeChange:function(){},onTitleKeyDownEnter:function(){},onKeyDownEnter:function(){}};var __e={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},E_e=function(e,t){return w.createElement(_oe,Object.assign({},e,{ref:t,icon:__e}))};E_e.displayName="LoadingOutlined";var j_e=w.forwardRef(E_e),S_e=(n(728),"RC_FORM_INTERNAL_HOOKS"),P_e=function(){Object(Sr.a)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},R_e=w.createContext({getFieldValue:P_e,getFieldsValue:P_e,getFieldError:P_e,getFieldsError:P_e,isFieldsTouched:P_e,isFieldTouched:P_e,isFieldValidating:P_e,isFieldsValidating:P_e,resetFields:P_e,setFields:P_e,setFieldsValue:P_e,validateFields:P_e,submit:P_e,getInternalHooks:function(){return P_e(),{dispatch:P_e,registerField:P_e,useSubscribe:P_e,setInitialValues:P_e,setCallbacks:P_e,getFields:P_e,setValidateMessages:P_e,setPreserve:P_e}}});function T_e(e){return null==e?[]:Array.isArray(e)?e:[e]}var D_e=n(65),A_e=n.n(D_e),M_e=n(106),N_e=n(354);function I_e(e,t,n){if(!t.length)return n;var r,o=Object(Jue.a)(t),i=o[0],a=o.slice(1);return(r=e||"number"!=typeof i?Array.isArray(e)?Object(Dc.a)(e):Object(vt.a)({},e):[])[i]=I_e(r[i],a,n),r}function L_e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F_e(e){return T_e(e)}function z_e(e,t){return function(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null==n)return;n=n[t[r]]}return n}(e,t)}function B_e(e,t,n){return I_e(e,t,n)}function V_e(e,t){var n={};return t.forEach((function(t){var r=z_e(e,t);n=B_e(n,t,r)})),n}function q_e(e,t){return e&&e.some((function(e){return K_e(e,t)}))}function H_e(e){return"object"===Object(mt.a)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function U_e(e,t){var n=Array.isArray(e)?Object(Dc.a)(e):function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L_e(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],o=t[e],i=H_e(r)&&H_e(o);n[e]=i?U_e(r,o||{}):o})),n):n}function W_e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return U_e(e,t)}),e)}function K_e(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function Y_e(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&e in t.target?t.target[e]:t}function X_e(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var o=e[t],i=t-n;return i>0?[].concat(Object(Dc.a)(e.slice(0,n)),[o],Object(Dc.a)(e.slice(n,t)),Object(Dc.a)(e.slice(t+1,r))):i<0?[].concat(Object(Dc.a)(e.slice(0,t)),Object(Dc.a)(e.slice(t+1,n+1)),[o],Object(Dc.a)(e.slice(n+1,r))):e}var $_e="'${name}' is not a valid ${type}",G_e={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:$_e,method:$_e,array:$_e,object:$_e,number:$_e,date:$_e,boolean:$_e,integer:$_e,float:$_e,regexp:$_e,email:$_e,url:$_e,hex:$_e},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function Z_e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J_e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z_e(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q_e=N_e.a;function eEe(e,t,n,r){var o=J_e({},n,{name:t,enum:(n.enum||[]).join(", ")}),i=function(e,t){return function(){return function(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}(e,J_e({},o,{},t))}};return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(o){var a=t[o];"string"==typeof a?n[o]=i(a,r):a&&"object"===Object(mt.a)(a)?(n[o]={},e(a,n[o])):n[o]=a})),n}(W_e({},G_e,e))}function tEe(e,t,n,r,o){return nEe.apply(this,arguments)}function nEe(){return(nEe=Object(M_e.a)(A_e.a.mark((function e(t,n,r,o,i){var a,c,s,l,u,f;return A_e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=J_e({},r),c=null,a&&"array"===a.type&&a.defaultField&&(c=a.defaultField,delete a.defaultField),s=new Q_e(Object(xc.a)({},t,[a])),l=eEe(o.validateMessages,t,a,i),s.messages(l),u=[],e.prev=7,e.next=10,Promise.resolve(s.validate(Object(xc.a)({},t,n),J_e({},o)));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),e.t0.errors?u=e.t0.errors.map((function(e,t){var n=e.message;return w.isValidElement(n)?w.cloneElement(n,{key:"error_".concat(t)}):n})):(console.error(e.t0),u=[l.default()]);case 15:if(u.length||!c){e.next=20;break}return e.next=18,Promise.all(n.map((function(e,n){return tEe("".concat(t,".").concat(n),e,c,o,i)})));case 18:return f=e.sent,e.abrupt("return",f.reduce((function(e,t){return[].concat(Object(Dc.a)(e),Object(Dc.a)(t))}),[]));case 20:return e.abrupt("return",u);case 21:case"end":return e.stop()}}),e,null,[[7,12]])})))).apply(this,arguments)}function rEe(e,t,n,r,o,i){var a,c=e.join("."),s=n.map((function(e){var t=e.validator;return t?J_e({},e,{validator:function(e,n,r){var o=!1,i=t(e,n,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Object(Sr.a)(!o,"Your validator function has already return a promise. `callback` will be ignored."),o||r.apply(void 0,t)}))}));o=i&&"function"==typeof i.then&&"function"==typeof i.catch,Object(Sr.a)(o,"`callback` is deprecated. Please return a promise instead."),o&&i.then((function(){r()})).catch((function(e){r(e)}))}}):e}));if(!0===o)a=new Promise(function(){var e=Object(M_e.a)(A_e.a.mark((function e(n,o){var a,l;return A_e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<s.length)){e.next=11;break}return e.next=4,tEe(c,t,s[a],r,i);case 4:if(!(l=e.sent).length){e.next=8;break}return o(l),e.abrupt("return");case 8:a+=1,e.next=1;break;case 11:n([]);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var l=s.map((function(e){return tEe(c,t,e,r,i)}));a=(o?function(e){return iEe.apply(this,arguments)}(l):function(e){return oEe.apply(this,arguments)}(l)).then((function(e){return e.length?Promise.reject(e):[]}))}return a.catch((function(e){return e})),a}function oEe(){return(oEe=Object(M_e.a)(A_e.a.mark((function e(t){return A_e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Object(Dc.a)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iEe(){return(iEe=Object(M_e.a)(A_e.a.mark((function e(t){var n;return A_e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.length&&e(r),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aEe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cEe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aEe(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aEe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sEe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function lEe(e,t,n,r,o,i){return"function"==typeof e?e(t,n,"source"in i?{source:i.source}:{}):r!==o}var uEe=function(e){Object(_c.a)(r,e);var t,n=(t=r,function(){var e,n=Object(jc.a)(t);if(sEe()){var r=Object(jc.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(Ec.a)(this,e)});function r(){var e;return Object(Oc.a)(this,r),(e=n.apply(this,arguments)).state={resetCount:0},e.cancelRegisterFunc=null,e.destroy=!1,e.touched=!1,e.dirty=!1,e.validatePromise=null,e.errors=[],e.cancelRegister=function(){var t=e.props.preserve;e.cancelRegisterFunc&&e.cancelRegisterFunc(t),e.cancelRegisterFunc=null},e.getNamePath=function(){var t=e.props.name,n=e.context.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat(Object(Dc.a)(r),Object(Dc.a)(t)):[]},e.getRules=function(){var t=e.props.rules;return(void 0===t?[]:t).map((function(t){return"function"==typeof t?t(e.context):t}))},e.refresh=function(){e.destroy||e.setState((function(e){return{resetCount:e.resetCount+1}}))},e.onStoreChange=function(t,n,r){var o=e.props,i=o.shouldUpdate,a=o.dependencies,c=void 0===a?[]:a,s=o.onReset,l=r.store,u=e.getNamePath(),f=e.getValue(t),p=e.getValue(l),d=n&&q_e(n,u);switch("valueUpdate"===r.type&&"external"===r.source&&f!==p&&(e.touched=!0,e.dirty=!0,e.validatePromise=null,e.errors=[]),r.type){case"reset":if(!n||d)return e.touched=!1,e.dirty=!1,e.validatePromise=null,e.errors=[],s&&s(),void e.refresh();break;case"setField":if(d){var h=r.data;return"touched"in h&&(e.touched=h.touched),"validating"in h&&!("originRCField"in h)&&(e.validatePromise=h.validating?Promise.resolve([]):null),"errors"in h&&(e.errors=h.errors||[]),e.dirty=!0,void e.reRender()}if(i&&!u.length&&lEe(i,t,l,f,p,r))return void e.reRender();break;case"dependenciesUpdate":if(c.map(F_e).some((function(e){return q_e(r.relatedFields,e)})))return void e.reRender();break;default:if(d||(!c.length||u.length||i)&&lEe(i,t,l,f,p,r))return void e.reRender()}!0===i&&e.reRender()},e.validateRules=function(t){var n=e.props,r=n.validateFirst,o=void 0!==r&&r,i=n.messageVariables,a=(t||{}).triggerName,c=e.getNamePath(),s=e.getRules();a&&(s=s.filter((function(e){var t=e.validateTrigger;return!t||T_e(t).includes(a)})));var l=rEe(c,e.getValue(),s,t,o,i);return e.dirty=!0,e.validatePromise=l,e.errors=[],l.catch((function(e){return e})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.validatePromise===l&&(e.validatePromise=null,e.errors=t,e.reRender())})),l},e.isFieldValidating=function(){return!!e.validatePromise},e.isFieldTouched=function(){return e.touched},e.isFieldDirty=function(){return e.dirty},e.getErrors=function(){return e.errors},e.getMeta=function(){return e.prevValidating=e.isFieldValidating(),{touched:e.isFieldTouched(),validating:e.prevValidating,errors:e.errors,name:e.getNamePath()}},e.getOnlyChild=function(t){if("function"==typeof t){var n=e.getMeta();return cEe({},e.getOnlyChild(t(e.getControlled(),n,e.context)),{isFunction:!0})}var r=Object(Nw.a)(t);return 1===r.length&&w.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},e.getValue=function(t){var n=e.context.getFieldsValue,r=e.getNamePath();return z_e(t||n(!0),r)},e.getControlled=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props,r=n.trigger,o=n.validateTrigger,i=n.getValueFromEvent,a=n.normalize,c=n.valuePropName,s=n.getValueProps,l=void 0!==o?o:e.context.validateTrigger,u=e.getNamePath(),f=e.context,p=f.getInternalHooks,d=f.getFieldsValue,h=p(S_e),m=h.dispatch,v=e.getValue(),y=s||function(e){return Object(xc.a)({},c,e)},g=t[r],b=cEe({},t,{},y(v));b[r]=function(){var t;e.touched=!0,e.dirty=!0;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t=i?i.apply(void 0,r):Y_e.apply(void 0,[c].concat(r)),a&&(t=a(t,v,d(!0))),m({type:"updateValue",namePath:u,value:t}),g&&g.apply(void 0,r)};var w=T_e(l||[]);return w.forEach((function(t){var n=b[t];b[t]=function(){n&&n.apply(void 0,arguments);var r=e.props.rules;r&&r.length&&m({type:"validateField",namePath:u,triggerName:t})}})),b},e}return Object(Cc.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.shouldUpdate,t=(0,this.context.getInternalHooks)(S_e).registerField;this.cancelRegisterFunc=t(this),!0===e&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.destroy=!0}},{key:"reRender",value:function(){this.destroy||this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),o=r.child;return r.isFunction?e=o:w.isValidElement(o)?e=w.cloneElement(o,this.getControlled(o.props)):(Object(Sr.a)(!o,"`children` of Field is not validate ReactElement."),e=o),w.createElement(w.Fragment,{key:t},e)}}]),r}(w.Component);uEe.contextType=R_e,uEe.defaultProps={trigger:"onChange",valuePropName:"value"};var fEe=function(e){var t=e.name,n=e.isListField,r=Object(yt.a)(e,["name","isListField"]),o=void 0!==t?F_e(t):void 0,i="keep";return n||(i="_".concat((o||[]).join("_"))),w.createElement(uEe,Object.assign({key:i,name:o},r))};function pEe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dEe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pEe(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pEe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hEe=function(e){var t=e.name,n=e.children,r=w.useContext(R_e),o=w.useRef({keys:[],id:0}).current;if("function"!=typeof n)return Object(Sr.a)(!1,"Form.List only accepts function as children."),null;var i=F_e(r.prefixName)||[],a=[].concat(Object(Dc.a)(i),Object(Dc.a)(F_e(t)));return w.createElement(R_e.Provider,{value:dEe({},r,{prefixName:a})},w.createElement(fEe,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t}},(function(e){var t=e.value,i=void 0===t?[]:t,c=e.onChange,s=r.getFieldValue,l=function(){return s(a||[])||[]},u={add:function(e){o.keys=[].concat(Object(Dc.a)(o.keys),[o.id]),o.id+=1;var t=l();c([].concat(Object(Dc.a)(t),[e]))},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(o.keys=o.keys.filter((function(e,t){return!n.has(t)})),c(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(o.keys=X_e(o.keys,e,t),c(X_e(n,e,t)))}}};return n(i.map((function(e,t){var n=o.keys[t];return void 0===n&&(o.keys[t]=o.id,n=o.keys[t],o.id+=1),{name:t,key:n,isListField:!0}})),u)})))};var mEe=function(){function e(){Object(Oc.a)(this,e),this.list=[]}return Object(Cc.a)(e,[{key:"set",value:function(e,t){var n=this.list.findIndex((function(t){return K_e(t.key,e)}));-1!==n?this.list[n].value=t:this.list.push({key:e,value:t})}},{key:"get",value:function(e){var t=this.list.find((function(t){return K_e(t.key,e)}));return t&&t.value}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.list=this.list.filter((function(t){return!K_e(t.key,e)}))}},{key:"map",value:function(e){return this.list.map(e)}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}();function vEe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yEe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vEe(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vEe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gEe=function e(t){var n=this;Object(Oc.a)(this,e),this.formHooked=!1,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===S_e?(n.formHooked=!0,{dispatch:n.dispatch,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve}):(Object(Sr.a)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=W_e({},e,n.store))},this.getInitialValue=function(e){return z_e(n.initialValues,e)},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new mEe;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=F_e(e);return t.get(n)||{INVALIDATE_NAME_PATH:F_e(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),o=[];return r.forEach((function(e){var n="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(t){var r="getMeta"in e?e.getMeta():null;t(r)&&o.push(n)}else o.push(n)})),V_e(n.store,o.map(F_e))},this.getFieldValue=function(e){n.warningUnhooked();var t=F_e(e);return z_e(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors()}:{name:F_e(e[n]),errors:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=F_e(e);return n.getFieldsError([t])[0].errors},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o,i=t[0],a=t[1],c=!1;0===t.length?o=null:1===t.length?Array.isArray(i)?(o=i.map(F_e),c=!1):(o=null,c=i):(o=i.map(F_e),c=a);var s=function(e){if(!o)return e.isFieldTouched();var t=e.getNamePath();return q_e(o,t)?e.isFieldTouched():c};return c?n.getFieldEntities(!0).every(s):n.getFieldEntities(!0).some(s)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(F_e);return t.some((function(e){var t=e.getNamePath();return q_e(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new mEe,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var o=t.get(r)||new Set;o.add({entity:e,value:n}),t.set(r,o)}}));var o,i=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var o=r.getNamePath();if(void 0!==n.getInitialValue(o))Object(Sr.a)(!1,"Form already set 'initialValues' with path '".concat(o.join("."),"'. Field can not overwrite it."));else{var i=t.get(o);if(i&&i.size>1)Object(Sr.a)(!1,"Multiple Field with path '".concat(o.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(i){var a=n.getFieldValue(o);e.skipExist&&void 0!==a||(n.store=B_e(n.store,o,Object(Dc.a)(i)[0].value))}}}}))};e.entities?o=e.entities:e.namePathList?(o=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=o).push.apply(n,Object(Dc.a)(Object(Dc.a)(r).map((function(e){return e.entity}))))}))):o=r,i(o)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=W_e({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var r=e.map(F_e);r.forEach((function(e){var t=n.getInitialValue(e);n.store=B_e(n.store,e,t)})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach((function(e){var r=e.name,o=(e.errors,Object(yt.a)(e,["name","errors"])),i=F_e(r);"value"in o&&(n.store=B_e(n.store,i,o.value)),n.notifyObservers(t,[i],{type:"setField",data:e})}))},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=yEe({},e.getMeta(),{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t){if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!1===(void 0!==t?t:n.preserve)){var r=e.getNamePath();void 0!==n.getFieldValue(r)&&(n.store=B_e(n.store,r,void 0))}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var o=e.namePath,i=e.triggerName;n.validateFields([o],{triggerName:i})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var o=yEe({},r,{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,o)}))}else n.forceRootUpdate()},this.updateValue=function(e,t){var r=F_e(e),o=n.store;n.store=B_e(n.store,r,t),n.notifyObservers(o,[r],{type:"valueUpdate",source:"internal"});var i=n.getDependencyChildrenFields(r);n.validateFields(i),n.notifyObservers(o,i,{type:"dependenciesUpdate",relatedFields:[r].concat(Object(Dc.a)(i))});var a=n.callbacks.onValuesChange;a&&a(V_e(n.store,[r]),n.store);n.triggerOnFieldsChange([r].concat(Object(Dc.a)(i)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=W_e(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],o=new mEe;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=F_e(t);o.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(o.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var o=n.getNamePath();n.isFieldDirty()&&o.length&&(r.push(o),e(o))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var o=n.getFields();if(t){var i=new mEe;t.forEach((function(e){var t=e.name,n=e.errors;i.set(t,n)})),o.forEach((function(e){e.errors=i.get(e.name)||e.errors}))}r(o.filter((function(t){var n=t.name;return q_e(e,n)})),o)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,o=r?e.map(F_e):[],i=[];n.getFieldEntities(!0).forEach((function(e){if(r||o.push(e.getNamePath()),e.props.rules&&e.props.rules.length){var a=e.getNamePath();if(!r||q_e(o,a)){var c=e.validateRules(yEe({validateMessages:yEe({},G_e,{},n.validateMessages)},t));i.push(c.then((function(){return{name:a,errors:[]}})).catch((function(e){return Promise.reject({name:a,errors:e})})))}}}));var a=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(o,i){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[a]=e,n>0||(t&&i(r),o(r))}))}))})):Promise.resolve([])}(i);n.lastValidatePromise=a,a.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var c=a.then((function(){return n.lastValidatePromise===a?Promise.resolve(n.getFieldsValue(o)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(o),errorFields:t,outOfDate:n.lastValidatePromise!==a})}));return c.catch((function(e){return e})),c},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(e){console.error(e)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t};var bEe=function(e){var t=w.useRef(),n=w.useState(),r=Object(Ac.a)(n,2)[1];if(!t.current)if(e)t.current=e;else{var o=new gEe((function(){r({})}));t.current=o.getForm()}return[t.current]};function wEe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kEe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wEe(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wEe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xEe=w.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),OEe=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,o=e.children,i=w.useContext(xEe),a=w.useRef({});return w.createElement(xEe.Provider,{value:kEe({},i,{validateMessages:kEe({},i.validateMessages,{},t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:a.current}),i.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:a.current}),i.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(a.current=kEe({},a.current,Object(xc.a)({},e,t))),i.registerForm(e,t)},unregisterForm:function(e){var t=kEe({},a.current);delete t[e],a.current=t,i.unregisterForm(e)}})},o)},CEe=xEe;function _Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EEe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_Ee(Object(n),!0).forEach((function(t){Object(xc.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jEe=function(e,t){var n=e.name,r=e.initialValues,o=e.fields,i=e.form,a=e.preserve,c=e.children,s=e.component,l=void 0===s?"form":s,u=e.validateMessages,f=e.validateTrigger,p=void 0===f?"onChange":f,d=e.onValuesChange,h=e.onFieldsChange,m=e.onFinish,v=e.onFinishFailed,y=Object(yt.a)(e,["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"]),g=w.useContext(CEe),b=bEe(i),k=Object(Ac.a)(b,1)[0],x=k.getInternalHooks(S_e),O=x.useSubscribe,C=x.setInitialValues,_=x.setCallbacks,E=x.setValidateMessages,j=x.setPreserve;w.useImperativeHandle(t,(function(){return k})),w.useEffect((function(){return g.registerForm(n,k),function(){g.unregisterForm(n)}}),[g,k,n]),E(EEe({},g.validateMessages,{},u)),_({onValuesChange:d,onFieldsChange:function(e){if(g.triggerFormChange(n,e),h){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];h.apply(void 0,[e].concat(r))}},onFinish:function(e){g.triggerFormFinish(n,e),m&&m(e)},onFinishFailed:v}),j(a);var S=w.useRef(null);C(r,!S.current),S.current||(S.current=!0);var P=c,R="function"==typeof c;R&&(P=c(k.getFieldsValue(!0),k));O(!R);var T=w.useRef();w.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==Object(mt.a)(e)||"object"!==Object(mt.a)(t))return!1;var n=Object.keys(e),r=Object.keys(t),o=new Set([].concat(Object(Dc.a)(n),Object(Dc.a)(r)));return Object(Dc.a)(o).every((function(n){var r=e[n],o=t[n];return"function"==typeof r&&"function"==typeof o||r===o}))})(T.current||[],o||[])||k.setFields(o||[]),T.current=o}),[o,k]);var D=w.useMemo((function(){return EEe({},k,{validateTrigger:p})}),[k,p]),A=w.createElement(R_e.Provider,{value:D},P);return!1===l?A:w.createElement(l,Object.assign({},y,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),k.submit()}}),A)},SEe=w.forwardRef(jEe);SEe.FormProvider=OEe,SEe.Field=fEe,SEe.List=hEe,SEe.useForm=bEe;var PEe=ht()({},Wt.Modal);function REe(e){PEe=e?ht()(ht()({},PEe),e):ht()({},Wt.Modal)}var TEe="internalMark",DEe=function(e){Ft()(n,e);var t=Bt()(n);function n(e){var r;return Mt()(this,n),r=t.call(this,e),REe(e.locale&&e.locale.Modal),Pr(e._ANT_MARK__===TEe,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),r}return It()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&REe(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){REe()}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.children;return w.createElement(Yt.Provider,{value:ht()(ht()({},t),{exist:!0})},n)}}]),n}(w.Component);DEe.defaultProps={locale:{}};var AEe=n(355),MEe=n.n(AEe),NEe=n(357),IEe=n.n(NEe),LEe=n(358),FEe=n.n(LEe),zEe=n(356),BEe=n.n(zEe);var VEe,qEe,HEe={},UEe=4.5,WEe=24,KEe=24,YEe="ant-notification",XEe="topRight",$Ee=!1;function GEe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WEe,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:KEe;switch(e){case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function ZEe(e,t){var n=e.placement,r=void 0===n?XEe:n,o=e.top,i=e.bottom,a=e.getContainer,c=void 0===a?VEe:a,s=e.closeIcon,l=void 0===s?qEe:s,u=e.prefixCls||YEe,f="".concat(u,"-notice"),p="".concat(u,"-").concat(r),d=HEe[p];if(d)Promise.resolve(d).then((function(e){t({prefixCls:f,instance:e})}));else{var h=w.createElement("span",{className:"".concat(u,"-close-x")},l||w.createElement(Mo.a,{className:"".concat(u,"-close-icon")})),m=_t()("".concat(u,"-").concat(r),ut()({},"".concat(u,"-rtl"),!0===$Ee));HEe[p]=new Promise((function(e){Hc.newInstance({prefixCls:u,className:m,style:GEe(r,o,i),getContainer:c,closeIcon:h},(function(n){e(n),t({prefixCls:f,instance:n})}))}))}}var JEe={success:MEe.a,info:BEe.a,error:IEe.a,warning:FEe.a};function QEe(e,t){var n=void 0===e.duration?UEe:e.duration,r=null;e.icon?r=w.createElement("span",{className:"".concat(t,"-icon")},e.icon):e.type&&(r=w.createElement(JEe[e.type]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(e.type)}));var o=!e.description&&r?w.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:w.createElement("div",{className:r?"".concat(t,"-with-icon"):"",role:"alert"},r,w.createElement("div",{className:"".concat(t,"-message")},o,e.message),w.createElement("div",{className:"".concat(t,"-description")},e.description),e.btn?w.createElement("span",{className:"".concat(t,"-btn")},e.btn):null),duration:n,closable:!0,onClose:e.onClose,onClick:e.onClick,key:e.key,style:e.style||{},className:e.className}}var eje={open:function(e){ZEe(e,(function(t){var n=t.prefixCls;t.instance.notice(QEe(e,n))}))},close:function(e){Object.keys(HEe).forEach((function(t){return Promise.resolve(HEe[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,o=e.top,i=e.getContainer,a=e.closeIcon,c=e.prefixCls;void 0!==c&&(YEe=c),void 0!==t&&(UEe=t),void 0!==n?XEe=n:e.rtl&&(XEe="topLeft"),void 0!==r&&(KEe=r),void 0!==o&&(WEe=o),void 0!==i&&(VEe=i),void 0!==a&&(qEe=a),void 0!==e.rtl&&($Ee=e.rtl)},destroy:function(){Object.keys(HEe).forEach((function(e){Promise.resolve(HEe[e]).then((function(e){e.destroy()})),delete HEe[e]}))}};["success","info","warning","error"].forEach((function(e){eje[e]=function(t){return eje.open(ht()(ht()({},t),{type:e}))}})),eje.warn=eje.warning,eje.useNotification=function(e,t){return function(){var n,r=null,o=Mc({add:function(e,t){null==r||r.component.add(e,t)}}),i=pt()(o,2),a=i[0],c=i[1];var s=w.useRef({});return s.current.open=function(o){var i=o.prefixCls,c=n("notification",i);e(ht()(ht()({},o),{prefixCls:c}),(function(e){var n=e.prefixCls,i=e.instance;r=i,a(t(o,n))}))},["success","info","warning","error"].forEach((function(e){s.current[e]=function(t){return s.current.open(ht()(ht()({},t),{type:e}))}})),[s.current,w.createElement(on,{key:"holder"},(function(e){return n=e.getPrefixCls,c}))]}}(ZEe,QEe);var tje=eje,nje=function(e){w.useEffect((function(){e.direction&&(us.config({rtl:"rtl"===e.direction}),tje.config({rtl:"rtl"===e.direction}))}),[e.direction]);var t=function(t){return function(n,r){var o=e.prefixCls;if(r)return r;var i=o||t.getPrefixCls("");return n?"".concat(i,"-").concat(n):i}};return w.createElement(Xt,null,(function(n,r,o){return w.createElement(on,null,(function(n){return function(n,r){var o=e.children,i=e.getTargetContainer,a=e.getPopupContainer,c=e.renderEmpty,s=e.csp,l=e.autoInsertSpaceInButton,u=e.form,f=e.input,p=e.locale,d=e.pageHeader,h=e.componentSize,m=e.direction,v=e.space,y=e.virtual,g=e.dropdownMatchSelectWidth,b=ht()(ht()({},n),{getPrefixCls:t(n),csp:s,autoInsertSpaceInButton:l,locale:p||r,direction:m,space:v,virtual:y,dropdownMatchSelectWidth:g});i&&(b.getTargetContainer=i),a&&(b.getPopupContainer=a),c&&(b.renderEmpty=c),d&&(b.pageHeader=d),f&&(b.input=f);var k=o,x={};return p&&p.Form&&p.Form.defaultValidateMessages&&(x=p.Form.defaultValidateMessages),u&&u.validateMessages&&(x=ht()(ht()({},x),u.validateMessages)),Object.keys(x).length>0&&(k=w.createElement(OEe,{validateMessages:x},o)),w.createElement(Er,{size:h},w.createElement(rn.Provider,{value:b},w.createElement(DEe,{locale:p||r,_ANT_MARK__:TEe},k)))}(n,o)}))}))};n(727);function rje(e){return(rje="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oje(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ije(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oje(Object(n),!0).forEach((function(t){aje(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oje(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aje(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sje(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lje(e,t){return(lje=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uje(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pje(e);if(t){var o=pje(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fje(this,n)}}function fje(e,t){return!t||"object"!==rje(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pje(e){return(pje=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dje=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lje(e,t)}(i,e);var t,n,r,o=uje(i);function i(){var e;cje(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).loading=!1,e.destroyed=!1,e.state={detail:null,localVoteData:{},voting:!1,error:!1,forceShowVoteView:!1},e._onItemCheckedStatusChange=function(t,n){"single"===e.props.data.type?e.setState({localVoteData:aje({},t,n)}):e.setState({localVoteData:ije(ije({},e.state.localVoteData),{},aje({},t,n))})},e._vote=function(){var t=e.getLocale();if(e.state.voting)fs.warn(t.votingMessage);else{var n=e.state.localVoteData,r=e.props.data,o=r.voteId,i=r.items,a=[],c=[];(i||[]).forEach((function(e){var t=e.id;t&&-1===c.indexOf(t)&&c.push(t)})),Object.keys(n||{}).forEach((function(e){e&&n[e]&&-1===a.indexOf(e)&&a.push(e)})),o&&0!==a.length&&0!==c.length?(e.setState({voting:!0}),Ma({url:"/api/votes",method:"post",data:{doc_id:e.props.docId,vote_id:e.props.data.voteId,items:a.join(",")},success:function(){fs.success(t.voteSuccess),e.loading=!1,e.setState({voting:!1,forceShowVoteView:!1,detail:null})},error:function(n){console.error(n),fs.error(t.voteFailure),e.setState({voting:!1})}})):fs.warn(t.invalidVote)}},e._onReVote=function(){e.setState({forceShowVoteView:!0,localVoteData:{}})},e}return t=i,(n=[{key:"render",value:function(){var e=this.props.data;return this.destroyed?null:e&&e.voteId&&e.items?this.state.error?k.a.createElement("div",{className:"lake-vote-reading-card"},k.a.createElement("div",{className:"error-tip"},this.getLocale().dataError)):k.a.createElement(nje,{autoInsertSpaceInButton:!1},k.a.createElement("div",{className:"lake-vote-reading-card"},this.renderVoteOverlay(),this.renderContent())):k.a.createElement("div",{className:"lake-vote-reading-card"},k.a.createElement("div",{className:"error-tip"},this.getLocale().illegalData))}},{key:"componentWillUnmount",value:function(){this.destroyed=!0}},{key:"getLocale",value:function(){return"en"===this.props.lang?i_e:o_e}},{key:"renderVoteOverlay",value:function(){return this.state.voting?k.a.createElement("div",{className:"vote-overlay"},k.a.createElement(j_e,null),this.getLocale().voting):null}},{key:"renderContent",value:function(){if(!this.state.detail)return this.loadDetail();var e=this.props.data,t=this.state,n=t.detail,r=t.forceShowVoteView,o=Zxe()(),i=r||!n.voted.length&&o.isBefore(Zxe()(e.deadline));return k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"lake-vote-reading-card-title lake-vote-card-section"},k.a.createElement("div",{className:"lake-vote-reading-card-type"},"single"===e.type?this.getLocale().single:this.getLocale().multiple),k.a.createElement("div",{className:"lake-vote-reading-card-title-text"},e.title||"")),i?this.renderVoteItems():this.renderResult(),k.a.createElement("div",{className:"lake-vote-reading-card-vote-btn"},i?this.renderVoteBtn():null))}},{key:"renderResult",value:function(){var e,t,n,r,o,i,a=this,c=(e=this.state.detail,t=this.props.data,n={},r=0,o=new Set,i={},e.items.forEach((function(e){r+=e.count,i[e.id]=e})),e.items.forEach((function(e){i[e.id].proportion=Math.floor(e.count/r*1e4)/100})),n.items=t.items.map((function(t){var n=i[t.id]||null;return n&&n.members.forEach((function(e){o.add(e)})),{id:t.id,value:t.value,count:n?n.count:0,members:n?n.members:[],proportion:n?n.proportion:0,participated:-1!==e.voted.indexOf(t.id)}})),n.totalCount=r,n.memberCount=o.size,n),s=c.items.map((function(e){return k.a.createElement("div",{className:"item-preview ".concat(e.participated?"participated":""),key:e.id},k.a.createElement("div",{className:"item-preview-data"},k.a.createElement("div",{className:"item-preview-data-text"},e.value),a.renderNumbers(e)),k.a.createElement("div",{className:"item-preview-proportion"},k.a.createElement("div",{className:"item-preview-proportion-value",style:{width:"".concat(e.proportion,"%")}})))}));return k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"lake-vote-reading-card-item-box"},s),this.renderResultFooter(c))}},{key:"renderResultFooter",value:function(e){var t=this.props.data.deadline,n=Zxe()(),r=Zxe()(t),o=!n.isBefore(r),i=this.getLocale();return k.a.createElement("div",{className:"lake-vote-card-result-footer"},k.a.createElement("div",{className:"member-count"},i.memberCountTip.replace("%d",e.memberCount)),k.a.createElement("div",{className:"deadline"},o?i.closed:"".concat(Zxe()(t).format("YYYY-MM-DD HH:mm:ss")," ").concat(i.closeText)),o?null:k.a.createElement("button",{className:"re-vote-btn",onClick:this._onReVote},i.reVote))}},{key:"renderVoteItems",value:function(){var e=this,t=this.props.data,n=this.state.localVoteData;return t.items.map((function(r){var o;return o="single"===t.type?k.a.createElement(bae,{onChange:function(t){e._onItemCheckedStatusChange(r.id,t.target.checked)},checked:!!n[r.id]}):k.a.createElement(rce,{onChange:function(t){e._onItemCheckedStatusChange(r.id,t.target.checked)},checked:!!n[r.id]}),k.a.createElement("label",{className:"lake-vote-reading-card-item",key:r.id},k.a.createElement("div",{className:"lake-vote-reading-card-item-sign"},o),k.a.createElement("div",{className:"lake-vote-reading-card-item-text"},r.value))}))}},{key:"renderVoteBtn",value:function(){if(!this.state.detail.user_id)return null;var e=this.state.localVoteData,t=Object.keys(e).some((function(t){return e[t]}));return k.a.createElement(Oee,{className:"vote-btn",onClick:this._vote,disabled:!t},this.getLocale().voteBtn)}},{key:"renderNumbers",value:function(e){var t=k.a.createElement("div",{className:"item-preview-data-numbers"},this.getLocale().voteCountTip.replace("%d",e.count)," ",k.a.createElement("div",{className:"percentage"},e.proportion,"%"));if(e.members.length){var n=k.a.createElement("div",{className:"lake-vote-card-preview-members"},e.members.join(" "));return k.a.createElement(wk,{trigger:"hover",overlayClassName:"lake-vote-card-preview-overlay",content:n},t)}return t}},{key:"loadDetail",value:function(){return this.loading||(this._fetchDetail(),this.loading=!0),k.a.createElement("div",{className:"loading"},k.a.createElement(j_e,null),this.getLocale().fetching)}},{key:"_fetchDetail",value:function(){var e=this;Ma({url:"/api/votes",method:"get",data:{doc_id:this.props.docId,vote_id:this.props.data.voteId,deadline:Zxe()(this.props.data.deadline).toISOString(),items:this.props.data.items.map((function(e){return e.id})).join(",")},success:function(t){var n=t.data;e.setState({detail:hje(n,e.props.data)})},error:function(t){console.error(t),e.setState({error:!0})}})}}])&&sje(t.prototype,n),r&&sje(t,r),i}(w.Component);function hje(e,t){if("single"!==t.type)return e;var n={},r=e.items.map((function(e){var t=e.count;if(0===t)return e;var r=(e.members||[]).filter((function(r){return n[r]?(t--,!1):(n[r]=e.id,!0)}));return{id:e.id,count:t,members:r}})),o=e.voted[0]||[];return ije(ije({},e),{},{items:r,voted:o})}dje.propTypes={lang:st.a.oneOf(["zh-cn","en"]).isRequired,data:st.a.object.isRequired,docId:st.a.number.isRequired},dje.defaultProps={lang:"zh-cn",data:{}};n(737);function mje(e){return(mje="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yje(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gje(e,t){return(gje=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bje(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kje(e);if(t){var o=kje(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wje(this,n)}}function wje(e,t){return!t||"object"!==mje(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kje(e){return(kje=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xje="卡片显示异常",Oje="Card display is abnormal",Cje=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gje(e,t)}(i,e);var t,n,r,o=bje(i);function i(){var e;vje(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={hasError:!1},e}return t=i,r=[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}],(n=[{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"render",value:function(){return this.state.hasError?k.a.createElement("div",{className:"lake-vote-card-error"},"en"===this.props.lang?Oje:xje):this.props.children}}])&&yje(t.prototype,n),r&&yje(t,r),i}(w.Component);Cje.propTypes={children:st.a.any,lang:st.a.oneOf(["zh-cn","en"]).isRequired},Cje.defaultProps={lang:"zh-cn"};n(738);function _je(e){return(_je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jje(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sje(e,t){return(Sje=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pje(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tje(e);if(t){var o=Tje(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rje(this,n)}}function Rje(e,t){return!t||"object"!==_je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tje(e){return(Tje=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dje=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sje(e,t)}(i,e);var t,n,r,o=Pje(i);function i(){return Eje(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getLocale",value:function(){return"en"===this.props.lang?i_e:o_e}},{key:"render",value:function(){var e=this.getLocale();return k.a.createElement("div",{className:"lake-vote-card-not-support"},e.notSupport)}}])&&jje(t.prototype,n),r&&jje(t,r),i}(w.Component);function Aje(e){return(Aje="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mje(e){return function(e){if(Array.isArray(e))return Nje(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nje(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nje(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nje(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ije(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lje(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ije(Object(n),!0).forEach((function(t){Fje(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ije(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fje(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bje(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vje(e,t,n){return(Vje="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wje(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function qje(e,t){return(qje=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hje(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wje(e);if(t){var o=Wje(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uje(this,n)}}function Uje(e,t){return!t||"object"!==Aje(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wje(e){return(Wje=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Dje.propTypes={lang:st.a.oneOf(["zh-cn","en"]).isRequired},Dje.defaultProps={lang:"zh-cn"};var Kje="vote",Yje=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qje(e,t)}(i,e);var t,n,r,o=Hje(i);function i(){var e;zje(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n)))._onItemChange=function(t,n){e.value.items[t]&&(e.value=Lje(Lje({},e.value),{},{items:Mje(e.value.items)}),e.value.items[t].value=n),e._saveCurrentValue(),e._renderEditingView(e.container[0],e.value)},e._onAddItem=function(){e.value=Lje(Lje({},e.value),{},{items:[].concat(Mje(e.value.items),[{id:$xe.gen()}])}),e._saveCurrentValue(),e._renderEditingView(e.container[0],e.value)},e._onDateTimeChange=function(t){e.value=Lje(Lje({},e.value),{},{deadline:t.toISOString()}),e._saveCurrentValue(),e._renderEditingView(e.container[0],e.value)},e._onTypeChange=function(t){e.value=Lje(Lje({},e.value),{},{type:t}),e._saveCurrentValue(),e._renderEditingView(e.container[0],e.value)},e._onTitleChange=function(t){e.value=Lje(Lje({},e.value),{},{title:t}),e._saveCurrentValue(),e._renderEditingView(e.container[0],e.value)},e._onKeyDownEnter=function(t){var n=Mje(e.value.items);t+1<n.length?e._renderEditingView(e.container[0],e.value,t+1):n[t].value&&(n.push({id:$xe.gen()}),e.value=Lje(Lje({},e.value),{},{items:n}),e._saveCurrentValue(),e._renderEditingView(e.container[0],e.value,t+1))},e._onTitleKeyDownEnter=function(){e._renderEditingView(e.container[0],e.value,0)},e._onDeleteItem=function(t){var n=Mje(e.value.items);n.splice(t,1),e.value=Lje(Lje({},e.value),{},{items:n}),e._saveCurrentValue(),e._renderEditingView(e.container[0],e.value)},e._saveCurrentValue=Un()((function(){e.saveCardValue(e.value)}),32),e}return t=i,r=[{key:"refreshCardValue",value:function(e){return e&&e.voteId?((e=Lje({},e)).voteId=$xe.gen(),e.items&&e.items.forEach((function(e){e.id=$xe.gen()})),e):{}}}],(n=[{key:"embedToolbar",value:function(){var e=this;if(this.engine)return[{type:"dnd"},{type:"copyCardLink",onClick:function(){return e.copyCardEmbedLink()}},{type:"separator"}].concat(Mje(this.getMoreEmbedToolbarConfig()))}},{key:"saveCardValue",value:function(e){var t=this.cardRoot;this.engine&&this.engine.card.setValue(t,e)}},{key:"render",value:function(e,t){var n=e[0],r=this.getTopEngine().options,o=r.cardBlacklist,i=r.cardWhitelist,a=r.docId;return this.toggleMargin(),this.contentView&&!a||this.engine&&(o&&-1!==o.indexOf(Kje)||i&&-1===i.indexOf(Kje))?this._renderNotSupportView(n):this.engine?(t.voteId||(t=Lje(Lje({},t),{},{type:"single",voteId:$xe.gen(),items:[{id:$xe.gen()},{id:$xe.gen()}],deadline:Zxe()(Zxe()().format("YYYY-MM-DD 00:00:00")).add(2,"days").toISOString()})),this.setValue(t,!0),void this._renderEditingView(n,t)):this._renderReadingView(n,this.value)}},{key:"destroy",value:function(){this.engine&&this.engine.toolbar.disable(!1),this.container[0]&&He.a.unmountComponentAtNode(this.container[0]),Vje(Wje(i.prototype),"destroy",this).call(this)}},{key:"_renderReadingView",value:function(e,t){var n=this.getTopEngine().options,r=n.lang,o=n.docId;He.a.render(k.a.createElement(Cje,{lang:r},k.a.createElement(dje,{data:t,docId:o,lang:r})),e)}},{key:"_renderEditingView",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.getTopEngine().options.lang;He.a.render(k.a.createElement(Cje,{lang:r},k.a.createElement(C_e,{data:t,onItemChange:this._onItemChange,onAddItem:this._onAddItem,onDateTimeChange:this._onDateTimeChange,onDeleteItem:this._onDeleteItem,onTypeChange:this._onTypeChange,onTitleChange:this._onTitleChange,onKeyDownEnter:this._onKeyDownEnter,onTitleKeyDownEnter:this._onTitleKeyDownEnter,autoFocusIndex:n,lang:r})),e)}},{key:"_renderNotSupportView",value:function(e){var t=this.getTopEngine().options.lang;He.a.render(k.a.createElement(Cje,{lang:t},k.a.createElement(Dje,{lang:t})),e)}}])&&Bje(t.prototype,n),r&&Bje(t,r),i}(uw);Yje.type="block";var Xje={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"},$je=function(e,t){return w.createElement(_oe,Object.assign({},e,{ref:t,icon:Xje}))};$je.displayName="WarningOutlined";var Gje=w.forwardRef($je);n(739);function Zje(e){return(Zje="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qje(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eSe(e,t){return(eSe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tSe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rSe(e);if(t){var o=rSe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nSe(this,n)}}function nSe(e,t){return!t||"object"!==Zje(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rSe(e){return(rSe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oSe={copying:"添加中",insertError:"插入失败"},iSe={copying:"Copying",insertError:"Failed to insert"},aSe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eSe(e,t)}(i,e);var t,n,r,o=tSe(i);function i(){return Jje(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getLocale",value:function(){return"zh-cn"===this.props.lang?oSe:iSe}},{key:"render",value:function(){var e=this.props;return k.a.createElement("div",{className:"lake-transfer-view"},k.a.createElement("div",{className:"lake-transfer-view-info"},k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-cloud"}),k.a.createElement("div",{className:"lake-transfer-file-name"},e.fileName),k.a.createElement("div",{className:"lake-transfer-file-size"},e.fileSize?"(".concat(e.fileSize,")"):"")),this._renderTip())}},{key:"_renderTip",value:function(){var e=this.props,t=this.getLocale();return e.isError?k.a.createElement("div",{className:"lake-transfer-error"},t.insertError,k.a.createElement(Gje,null)):k.a.createElement("div",{className:"lake-transfer-loading"},t.copying,k.a.createElement(j_e,null))}}])&&Qje(t.prototype,n),r&&Qje(t,r),i}(w.Component);function cSe(e){if(e){var t=e.options.file||{},n=t.copyAction,r=t.uploadAction;return n||(r?r.replace("/api/upload/attach","/api/upload/copy").replace(/ctoken=[^&]+&/,""):"")}}function sSe(e){return(sSe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lSe(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function uSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fSe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pSe(e,t){return(pSe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dSe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mSe(e);if(t){var o=mSe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hSe(this,n)}}function hSe(e,t){return!t||"object"!==sSe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mSe(e){return(mSe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}aSe.propTypes={isError:st.a.bool,fileName:st.a.string.isRequired,fileSize:st.a.string,lang:st.a.oneOf(["zh-cn","en"]).isRequired},aSe.defaultProps={lang:"zh-cn"};var vSe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pSe(e,t)}(i,e);var t,n,r,o=dSe(i);function i(){var e;uSe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n)))._loading=!1,e}return t=i,(n=[{key:"embedToolbar",value:function(){return[{type:"delete"}]}},{key:"render",value:function(e,t){var n=this,r=this.engine;this.value=t||{},r?"Doc"===this.value.target_type?setTimeout((function(){r.constructor.plugin.executePluginMethod(r,"transfer","onTransferComplete",n.cardRoot,n.value,{})}),32):this.value.filekey?this._loading||"error"===this.value.status||this.doCopy(this.value):this.setValue({status:"error"}):this.value.status="error",this.renderView()}},{key:"rerender",value:function(){this.render(this.container,this.value)}},{key:"doCopy",value:function(e){var t=this;if(!this._loading&&e.type){var n,r,o=this.getTopEngine(),i=cSe(o);if(this._loading=!0,!i)return console.warn("无法执行复制：缺少 copy action"),this.setValue({status:"error",message:"复制失败"}),void this.rerender();Ma({method:"post",url:i,timeout:3e5,data:{attachments:[e.filekey],create_video:!0},success:(n=regeneratorRuntime.mark((function n(r){var i,a,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=r.data,!(a=i[0].url)){n.next=16;break}if(!Ve.isImage(e.filename+"."+e.ext)){n.next=12;break}return n.prev=4,n.next=7,ySe(a);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(4),console.warn("failed to load image: ",n.t0);case 12:return t.setValue({status:"done"}),t.rerender(),c=o.constructor.plugin,n.abrupt("return",c.executePluginMethod(o,"transfer","onTransferComplete",t.cardRoot,e,r.data[0]));case 16:t.setValue({status:"error",message:"复制失败"}),t.rerender();case 18:case"end":return n.stop()}}),n,null,[[4,9]])})),r=function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){lSe(i,r,o,a,c,"next",e)}function c(e){lSe(i,r,o,a,c,"throw",e)}a(void 0)}))},function(e){return r.apply(this,arguments)}),error:function(e){console.error(e),t.setValue({status:"error",message:"复制失败"}),t.rerender()}})}}},{key:"renderView",value:function(){var e=this.value,t=void 0===e?{}:e;He.a.render(k.a.createElement(aSe,{isError:"error"===t.status,fileName:t.filename+"."+t.ext,lang:this.getTopEngine().options.lang||"zh-cn",fileSize:Ve.getFileSize(t.filesize||0)}),this.container[0])}}])&&fSe(t.prototype,n),r&&fSe(t,r),i}(uw);function ySe(e){return new Promise((function(t,n){var r=new Image;r.onload=t,r.onerror=n,r.src=e}))}function gSe(e){return(gSe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bSe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wSe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bSe(Object(n),!0).forEach((function(t){kSe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bSe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kSe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xSe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OSe(e,t){return(OSe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function CSe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ESe(e);if(t){var o=ESe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _Se(this,n)}}function _Se(e,t){return!t||"object"!==gSe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ESe(e){return(ESe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}vSe.type="block";var jSe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OSe(e,t)}(i,e);var t,n,r,o=CSe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._audio=null,t._canPlay=!1,t._ready=!1,Promise.resolve().then((function(){t._audio=new Audio(e),t._audio.autoplay=!1,t._audio.loop=!1,t._audio.preload=!1;var n=t._audio;n.addEventListener("canplay",(function(){t._audio&&(t._canPlay=!0,t.emit("canplay"))}),!1),n.addEventListener("suspend",(function(){t._audio&&100===t._getBufferedPercentage(n.buffered)&&t.emit("loaded")})),n.addEventListener("progress",(function(){t._audio&&t.emit("progress",{percentage:t._getBufferedPercentage(n.buffered)})})),n.addEventListener("loadedmetadata",(function(){t._audio&&(t._ready=!0,t._duration=n.duration,t.emit("loadedmetadata",{duration:t._duration}))}),!1),n.addEventListener("timeupdate",(function(){t._audio&&t.emit("timeupdate",t._calcTime(n.currentTime))}),!1),n.addEventListener("playing",(function(){t._audio&&(t._audio.currentTime>=t._duration?t.emit("pause"):t.emit("playing"))}),!1),n.addEventListener("pause",(function(){t._audio&&t.emit("pause")}),!1),n.addEventListener("ended",(function(){t._audio&&(t.emit("pause"),t.emit("ended"))}),!1),n.addEventListener("seeking",(function(){t._audio&&t.emit("seeking",wSe(wSe({},t._calcTime(n.currentTime)),{},{playStatus:""}))}),!1),n.addEventListener("seeked",(function(){t._audio&&t.emit("seeked",t._calcTime(n.currentTime))}),!1),n.addEventListener("error",(function(){t._audio&&t.emit("error")}))})),t}return t=i,(n=[{key:"destroy",value:function(){this._audio&&(this._audio.pause(),this._audio=null)}},{key:"canPlay",value:function(){return this._canPlay}},{key:"isReady",value:function(){return this._ready}},{key:"duration",value:function(){return this._duration}},{key:"seekTo",value:function(e){this._audio&&(this._audio.currentTime=e)}},{key:"seekToEnd",value:function(){this._audio&&(this._audio.currentTime=this._audio.duration)}},{key:"play",value:function(){this._audio&&this._audio.play().catch((function(e){console.warn(e)}))}},{key:"pause",value:function(){this._audio&&this._audio.pause()}},{key:"_getBufferedPercentage",value:function(e){if(e.length<1)return 0;var t=e.end(e.length-1),n=this._duration;return t&&n?t>=n?100:Math.floor(t/n*100):0}},{key:"_calcTime",value:function(e){var t=this._duration;return t?(e=Math.min(e,t),{currentTime:Math.round(e),percentage:e===t?100:Math.round(e/t*1e4)/100}):{currentTime:0,percentage:0}}}])&&xSe(t.prototype,n),r&&xSe(t,r),i}(_n.a);function SSe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var PSe=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._autoBuffer=!0,this._autoPlay=!1,this._dragging=!1,this._audioController=null,this._containerNode=null,this._controls={},this.$container=null,this.$progressBar=null,this.$pastBard=null,this.$shine=null,this._containerNode=t,this._audioController=new jSe(n),this._audioController.on("progress",(function(e){var t=e.percentage;r._updateBufferedPercentage(t)})),this._audioController.on("timeupdate",(function(e){var t=e.percentage;r._updatePastPercentage(t)})),this._audioController.on("seeking",(function(e){var t=e.percentage;r._updatePastPercentage(t)})),this._audioController.on("seeked",(function(e){var t=e.percentage;r._updatePastPercentage(t),100!==t&&r._audioController.play()})),this._audioController.on("loaded",(function(){r._updateBufferedPercentage(100)})),this._init()}var t,n,r;return t=e,(n=[{key:"canPlay",value:function(){return this._audioController.canPlay()}},{key:"play",value:function(){this._audioController.play()}},{key:"pause",value:function(){this._audioController.pause()}},{key:"seekToPercentage",value:function(e){if(this._audioController.isReady()){var t=this._audioController.duration(),n=e/100*t;n>=t||t-n<1?this._audioController.seekToEnd():this._audioController.seekTo(n)}}},{key:"on",value:function(){var e;return(e=this._audioController).on.apply(e,arguments)}},{key:"off",value:function(){var e;return(e=this._audioController).off.apply(e,arguments)}},{key:"destroy",value:function(){this._unbindEvent(),this._audioController.destroy()}},{key:"_init",value:function(){this._initProgressBar(),this._bindEvent()}},{key:"_bindEvent",value:function(){var e=this,t=ru(this._containerNode.ownerDocument),n=!1,r=fe.mobile,o=r?"touchstart":"mousedown",i=r?"touchmove":"mousemove",a=r?"touchend":"mouseup";this.$container.on(o,(function(e){e.stopPropagation(),n=!0})),this.$container.on(a,(function(t){n&&(t.stopPropagation(),e._seekByUI(RSe(t)))})),this.$shine.on(o,(function(r){r.stopPropagation();var o=e._containerNode.getBoundingClientRect(),c=o.left,s=o.width;e._dragging=!0,n=!1,e._controls.progress.classList.add("dragging");var l=function(t){var n=RSe(t)-c;n<0?n=0:n>s&&(n=s),e._controls.past.style.width=n+"px"};t.on(i,l,!1),t.on(a,(function n(r){e._dragging=!1,e._controls.progress.classList.remove("dragging"),t.off(i,l,!1),t.off(a,n,!1),e._seekByUI(RSe(r))}),!1)}))}},{key:"_seekByUI",value:function(e){var t=this._containerNode.getBoundingClientRect(),n=t.left,r=t.width,o=e-n;o<=0?this.seekToPercentage(0):o>=r?this.seekToPercentage(100):this.seekToPercentage(Math.round(o/r*1e4)/100)}},{key:"_unbindEvent",value:function(){}},{key:"_initProgressBar",value:function(){this._containerNode.innerHTML='\n<div class="lake-player-progress">\n    <div class="past"><div class="shine"></div></div>\n    <div class="buffered"></div>\n</div>',this._controls.progress=this._containerNode.firstElementChild,this._controls.past=this._containerNode.querySelector(".past"),this._controls.buffered=this._containerNode.querySelector(".buffered"),this._controls.shine=this._containerNode.querySelector(".shine"),this.$container=ru(this._containerNode),this.$progressBar=ru(this._controls.progress),this.$pastBar=ru(this._controls.past),this.$shine=ru(this._controls.shine)}},{key:"_updatePastPercentage",value:function(e){this._dragging||(this._controls.past.style.width=e+"%")}},{key:"_updateBufferedPercentage",value:function(e){this._controls.buffered.style.width=e+"%"}}])&&SSe(t.prototype,n),r&&SSe(t,r),e}();function RSe(e){return e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].clientX:e.clientX||0}function TSe(){return k.a.createElement("i",{className:"lake-anticon lake-anticon-loading"},k.a.createElement("svg",{viewBox:"0 0 1024 1024",className:"lake-anticon-spin","data-icon":"loading",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},k.a.createElement("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"})))}n(740);function DSe(e){return(DSe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ASe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MSe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NSe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ISe(e,t){return(ISe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function LSe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=BSe(e);if(t){var o=BSe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return FSe(this,n)}}function FSe(e,t){return!t||"object"!==DSe(t)&&"function"!=typeof t?zSe(e):t}function zSe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BSe(e){return(BSe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var VSe="pause",qSe="play",HSe="buffer",USe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ISe(e,t)}(i,e);var t,n,r,o=LSe(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).player=null,t.playerRootNodeRef=null,t.state={ver:0,canPlay:!1,uiStatus:VSe,currentTime:0,duration:-1},t._onMainButtonClick=function(e){if(e.stopPropagation(),!t.state.hasError&&t.player){var n=t.state.uiStatus;n===VSe?(t.player.canPlay()||t.setState({uiStatus:HSe}),t.player.play()):n===qSe?t.player.pause():n===HSe&&(t.setState({uiStatus:VSe}),t.player.pause())}},t.playerRootNodeRef=k.a.createRef();var n=t.setState;return t.setState=function(e){n.call(zSe(t),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ASe(Object(n),!0).forEach((function(t){MSe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ASe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ver:t.state.ver+1},e))},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.url&&(this.player=new PSe(this.playerRootNodeRef.current,this.props.url),this.player.on("canplay",(function(){e.state.uiStatus===HSe&&e.player.play()})),this.player.on("playing",(function(){e.setState({uiStatus:qSe})}),!1),this.player.on("pause",(function(){e.setState({uiStatus:VSe})}),!1),this.player.on("loadedmetadata",(function(t){var n=t.duration;e.setState({duration:Math.round(n)})})),this.player.on("seeking",(function(t){var n=t.currentTime;e.setState({currentTime:n})})),this.player.on("seeked",(function(t){var n=t.currentTime;e.setState({currentTime:n})})),this.player.on("timeupdate",(function(t){var n=t.currentTime;e.setState({currentTime:n})})),this.player.on("error",(function(){e.setState({hasError:!0})})))}},{key:"componentWillUnmount",value:function(){this.player&&this.player.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){return t.ver!==this.state.ver}},{key:"render",value:function(){return k.a.createElement("div",{className:"lake-player"},k.a.createElement("div",{className:"play-btn",onClick:this._onMainButtonClick},this.renderButton()),k.a.createElement("div",{className:"play-area"},k.a.createElement("div",{className:"audio-info"},this.renderAudioName()),this.renderPlayerControl()))}},{key:"renderButton",value:function(){var e=this.state.uiStatus;return e===VSe?k.a.createElement("svg",{viewBox:"0 0 1024 1024","data-icon":"play",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},k.a.createElement("path",{d:"M810.752 442.432l-485.504-370.56C267.648 27.904 184.576 68.992 184.576 141.504v740.992c0 72.512 83.072 113.6 140.672 69.632l485.504-370.56a87.552 87.552 0 0 0 0-139.136z"})):e===HSe?k.a.createElement(TSe,null):k.a.createElement("svg",{viewBox:"0 0 1024 1024","data-icon":"pause",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},k.a.createElement("path",{d:"M191.3856 128.2048H382.464v768.4608H191.3856V128.1536z m384.512 0h192.8704v768.4608h-192.8704V128.1536z"}))}},{key:"renderPlayerControl",value:function(){return this.props.url?this.state.hasError?k.a.createElement("div",{className:"audio-error"},this.props.locale.audio.cantPlay):k.a.createElement("div",{className:"audio-ctrl"},k.a.createElement("div",{className:"audio-current"},this._toTime(this.state.currentTime)),k.a.createElement("div",{ref:this.playerRootNodeRef,className:"audio-progress-bar"}),k.a.createElement("div",{className:"audio-duration"},this._toTime(this.state.duration))):k.a.createElement("div",{className:"audio-query"},TSe(),this.props.locale.audio.query)}},{key:"renderAudioName",value:function(){var e=this.props,t=e.name,n=e.size;return k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"audio-name"},t),k.a.createElement("div",{className:"audio-size"},n?Ve.getFileSize(n):""))}},{key:"_toTime",value:function(e){if(e<0)return"--:--";if(0===e)return"00:00";var t=Math.floor(e/60),n=e%60;return t<10&&(t="0"+t),n<10&&(n="0"+n),"".concat(t,":").concat(n)}}])&&NSe(t.prototype,n),r&&NSe(t,r),i}(w.Component);USe.propTypes={name:st.a.string.isRequired,locale:st.a.object.isRequired,size:st.a.number,url:st.a.string};var WSe="error",KSe="pending",YSe="uploading",XSe="transcoding",$Se="query",GSe="player";n(741);function ZSe(e){return(ZSe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QSe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ePe(e,t){return(ePe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tPe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rPe(e);if(t){var o=rPe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nPe(this,n)}}function nPe(e,t){return!t||"object"!==ZSe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rPe(e){return(rPe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oPe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ePe(e,t)}(i,e);var t,n,r,o=tPe(i);function i(){return JSe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return k.a.createElement("div",{className:"lake-audio-loading","data-type":this.props.type},k.a.createElement("div",{className:"audio-icon"},k.a.createElement("svg",{viewBox:"0 0 1024 1024","data-icon":"play",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},k.a.createElement("path",{d:"M363.995429 433.664v376.32a150.016 150.016 0 1 1-79.981715-132.681143v-276.626286-200.667428c0-19.456 13.970286-36.096 33.170286-39.424l547.986286-95.012572a40.009143 40.009143 0 0 1 46.811428 39.424v608.987429a150.016 150.016 0 1 1-79.981714-132.681143V352.512L363.995429 433.664z m0-81.188571L832 271.323429V152.539429L363.995429 233.654857v118.820572zM214.016 880.018286a69.997714 69.997714 0 1 0 0-140.032 69.997714 69.997714 0 0 0 0 139.995428z m547.986286-96a69.997714 69.997714 0 1 0 0-140.032 69.997714 69.997714 0 0 0 0 139.995428z"}))),k.a.createElement("div",{className:"audio-info-box"},k.a.createElement("div",{className:"audio-info"},this.renderAudioName()),k.a.createElement("div",{className:"audio-status"},this.renderStatus())))}},{key:"renderAudioName",value:function(){var e=this.props,t=e.name,n=e.size;return k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"audio-name"},t),k.a.createElement("div",{className:"audio-size"},n?Ve.getFileSize(n):""))}},{key:"renderStatus",value:function(){var e=this.props.type;return e===KSe?"等待上传":e===YSe||e===XSe?k.a.createElement("div",{className:"upload-progress"},k.a.createElement(TSe,null),this._getText(e)):e===XSe?k.a.createElement("div",{className:"upload-progress"},k.a.createElement(TSe,null),"转码中"):void 0}},{key:"_getText",value:function(e){return e===XSe?"转码中":e===YSe?this.props.progress?this.props.progress+"%":"上传中":void 0}}])&&QSe(t.prototype,n),r&&QSe(t,r),i}(w.Component);oPe.propTypes={type:st.a.oneOf([KSe,YSe,XSe]),progress:st.a.number,name:st.a.string.isRequired,size:st.a.number};n(742);function iPe(e){return(iPe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cPe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sPe(e,t){return(sPe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lPe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fPe(e);if(t){var o=fPe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uPe(this,n)}}function uPe(e,t){return!t||"object"!==iPe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fPe(e){return(fPe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pPe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sPe(e,t)}(i,e);var t,n,r,o=lPe(i);function i(){return aPe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return k.a.createElement("div",{className:"lake-audio-error","data-error-type":this.props.type},this.renderBody())}},{key:"renderBody",value:function(){var e=this.props,t=e.type,n=e.message;return"copyright"===t?this.renderDeniedTip():k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"error-icon"},k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-audio-error-icon"})),k.a.createElement("div",{className:"error-message"},n))}},{key:"renderDeniedTip",value:function(){var e=this.props,t=e.audio,n=e.audioURL,r=e.locale;if(!n&&null!==n)return k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"error-icon"},k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-audio-icon"})),k.a.createElement("div",{className:"error-message"},r.audio.invalidAudio));var o=null;return o=null===n?k.a.createElement("div",{className:"query"},k.a.createElement(TSe,null),r.audio.query):k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"audio-info"},k.a.createElement("a",{href:n,target:"_blank"},t.name||r.audio.linkTip))),k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"error-icon"},k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-audio-icon"})),k.a.createElement("div",{className:"error-message"},o))}}])&&cPe(t.prototype,n),r&&cPe(t,r),i}(w.Component);pPe.propTypes={type:st.a.oneOf(["copyright","error"]).isRequired,message:st.a.string.isRequired,locale:st.a.object.isRequired,audio:st.a.object,audioURL:st.a.string};n(743);function dPe(e){return(dPe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mPe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vPe(e,t){return(vPe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yPe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bPe(e);if(t){var o=bPe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gPe(this,n)}}function gPe(e,t){return!t||"object"!==dPe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bPe(e){return(bPe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wPe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vPe(e,t)}(i,e);var t,n,r,o=yPe(i);function i(){return hPe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return k.a.createElement("div",{className:"lake-audio"},this.renderBody())}},{key:"renderBody",value:function(){var e=this.props,t=e.type,n=e.progress,r=e.audioInfo;return t===KSe||t===YSe||t===XSe?this.renderLoading(t,r,n):t===GSe||t===$Se?this.renderPlayer(this.props.audioInfo,t):this.renderError()}},{key:"renderError",value:function(){var e=this.props.errorMessage||this.props.locale.audio.cantPlay;return k.a.createElement(pPe,{type:"error",locale:this.props.locale,message:e})}},{key:"renderLoading",value:function(e,t,n){return k.a.createElement(oPe,{type:e,progress:n,name:t.fileName,url:t.url,size:t.fileSize})}},{key:"renderPlayer",value:function(e){return e=e||{},k.a.createElement(USe,{key:"url: ".concat(e.url),locale:this.props.locale,name:e.fileName,url:e.url,size:e.fileSize})}}])&&mPe(t.prototype,n),r&&mPe(t,r),i}(w.Component);function kPe(e){return(kPe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xPe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OPe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xPe(Object(n),!0).forEach((function(t){CPe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xPe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CPe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Pe(e){return function(e){if(Array.isArray(e))return EPe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return EPe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EPe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EPe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SPe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PPe(e,t,n){return(PPe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=APe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function RPe(e,t){return(RPe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function TPe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=APe(e);if(t){var o=APe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DPe(this,n)}}function DPe(e,t){return!t||"object"!==kPe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function APe(e){return(APe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}wPe.propTypes={type:st.a.oneOf([WSe,KSe,YSe,XSe,$Se,GSe]).isRequired,progress:st.a.number,errorMessage:st.a.string,locale:st.a.object.isRequired,audioInfo:st.a.shape({fileName:st.a.string.isRequired,fileSize:st.a.number,url:st.a.string.isRequired})};var MPe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RPe(e,t)}(i,e);var t,n,r,o=TPe(i);function i(){var e;jPe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).queryTranscodeHandler=null,e.audioURL=null,e}return t=i,(n=[{key:"embedToolbar",value:function(){var e=this,t=[];return this.engine?(this.audioURL&&(t=[{type:"download",onClick:this.downloadFile.bind(this)},{type:"separator"},{type:"dnd"},{type:"copy"},{type:"preferences",onClick:function(){e.setSidebar()}}].concat(_Pe(this.getMoreEmbedToolbarConfig()))),t):(this.value.download&&this.audioURL&&(t=[{type:"download",onClick:this.downloadFile.bind(this)}]),t)}},{key:"setSidebar",value:function(){var e=this.value;this.engine.sidebar.set({name:"audio",title:this.getLocale().preferences,className:"lake-audio-sidebar",data:e})}},{key:"restoreSideBar",value:function(){this.engine&&this.engine.sidebar.restore("audio")}},{key:"downloadFile",value:function(){this.audioURL&&(this.engine&&this.engine.options&&this.engine.options.downloadVideoHandler?this.engine.options.downloadVideoHandler(this.audioURL):window.open(this.audioURL))}},{key:"getLocale",value:function(){return this.getViewEngine().locale}},{key:"getLang",value:function(){return this.getViewEngine().options.lang||"zh-cn"}},{key:"setValue",value:function(e,t){this.engine?PPe(APe(i.prototype),"setValue",this).call(this,e,t):this.value=OPe(OPe({},this.value),e)}},{key:"render",value:function(e,t){this.value=t||{},this.inited||(this.rootNode=document.createElement("div"),this.inited=!0,e.empty(),e.append(this.rootNode)),this.rerender(),this.toggleMargin()}},{key:"rerender",value:function(){if(this.verify()){var e=this.value,t=e.status,n=e.audioId;return this.audioURL?this.renderPlayer(this.audioURL):null===this.audioURL&&n?this.renderQuery():"pending"===t?this.renderPending():"uploading"===t?this.renderUploading():"uploaded"===t?this.renderTranscode():this.renderError(this.getLocale().audio.invalidAudio)}}},{key:"unactivate",value:function(){this.restoreSideBar()}},{key:"destroy",value:function(){this.restoreSideBar(),PPe(APe(i.prototype),"destroy",this).call(this),this.rootNode&&He.a.unmountComponentAtNode(this.rootNode)}},{key:"verify",value:function(){var e=this.value;return e?e.audioId?this._checkAccess():this._isUploadError(e)?(this.renderError(this.getLocale().audio.uploadError),!1):this._checkAccess():(this.renderError(this.getLocale().audio.invalidAudio),!1)}},{key:"_checkAccess",value:function(){return this.isBlocked()?(this.renderBlockedError(),!1):!!this.getTopEngine().options.allowAudioPlayer||(this.renderCopyrightDenied(),!1)}},{key:"isBlocked",value:function(){var e=this.engine,t=this.contentView;return e?-1!==(e.options.cardBlacklist||[]).indexOf("audio"):!t||"doc"!==t.options.scene}},{key:"renderError",value:function(e){this.stopQuery(),He.a.render(k.a.createElement(wPe,{type:WSe,locale:this.getLocale(),errorMessage:e}),this.rootNode)}},{key:"renderCopyrightDenied",value:function(){this.renderCopyrightErrorView(this.getLocale().audio.copyright)}},{key:"renderBlockedError",value:function(){this.renderCopyrightErrorView(this.getLocale().audio.notSupport)}},{key:"renderCopyrightErrorView",value:function(e){this.queryAudioURL(),He.a.render(k.a.createElement(pPe,{type:"copyright",locale:this.getLocale(),audio:this.value,audioURL:this.audioURL,message:e}),this.rootNode)}},{key:"renderPending",value:function(){He.a.render(k.a.createElement(wPe,{type:KSe,locale:this.getLocale(),audioInfo:this.getAudioInfo()}),this.rootNode)}},{key:"renderUploading",value:function(){He.a.render(k.a.createElement(wPe,{type:YSe,locale:this.getLocale(),progress:this.value.percent,audioInfo:this.getAudioInfo()}),this.rootNode)}},{key:"renderTranscode",value:function(){this.queryAudioURL(),He.a.render(k.a.createElement(wPe,{type:XSe,locale:this.getLocale(),audioInfo:this.getAudioInfo()}),this.rootNode)}},{key:"renderQuery",value:function(){this.queryAudioURL(),He.a.render(k.a.createElement(wPe,{type:$Se,locale:this.getLocale(),audioInfo:this.getAudioInfo()}),this.rootNode)}},{key:"renderPlayer",value:function(e){He.a.render(k.a.createElement(wPe,{type:GSe,locale:this.getLocale(),audioInfo:this.getAudioInfo(e)}),this.rootNode)}},{key:"stopQuery",value:function(){this.queryTranscodeHandler&&(this.queryTranscodeHandler.cancel(),this.queryTranscodeHandler=null)}},{key:"getAudioInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.value;return{fileName:t.name,fileSize:t.size,url:e}}},{key:"queryAudioURL",value:function(){var e=this;if(this.queryTranscodeHandler)return this.queryTranscodeHandler.promise;var t=this.getLocale();return this.queryTranscodeHandler=OO.checkStatus(this.getTopEngine(),this.value.audioId),this.queryTranscodeHandler.promise.then((function(t){var n=t.data;n.audio?(e.audioURL=n.audio,e.setValue({status:"done"}),e.value.status="done",e.rerender()):e.renderError(e.getLocale().audio.failedToQuery)})).catch((function(n){e.audioURL="",console.error(n),e.setValue({status:"error",message:t.audio.transcodeError}),"error"===e.value.status&&e.rerender()})).then((function(){e.refreshToolbar()})),this.queryTranscodeHandler.promise}},{key:"_isUploadError",value:function(e){var t=!this.engine;return"uploaded"!==e.status&&"done"!==e.status&&(!!t||"error"===e.status||!e.taskId||"pending"!==e.status&&!OO.hasTask(this.getTopEngine(),e.taskId))}}])&&SPe(t.prototype,n),r&&SPe(t,r),i}(uw);MPe.type="block";var NPe={initialize:function(){var e=this;this.command.add("math",{sideEffect:!0,execute:function(){var t=e.change.insertCard("math"),n=e.card.getComponent(t);e.change.activateCard(t),window.setTimeout((function(){n.focusTextarea()}),10)}}),this.on("paste:origin",(function(t){Nu.walkTree(t,(function(t){if((t=ru(t)).isBlock()&&"math"===t.attr("data-type")){var n=t.attr("data-src"),r=t.attr("data-text"),o=t.attr("data-width"),i=t.attr("data-height");r=unescape(r),e.card.replaceNode(t,"math",{src:n,code:r,width:o,height:i})}}))}))}},IPe={initialize:function(){var e=this;this.command.add("save",{sideEffect:!0,execute:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.event.trigger("save:before",t),e.asyncEvent.emitAsync("save:before",t).then((function(){e.options.onSave&&e.options.onSave(),zu.log("save success")})).catch((function(t){e.messageError(t)}))}}),this.domEvent.onDocument("keydown",(function(t){kb("mod+s",t)&&(t.preventDefault(),e.command.execute("save",!0))}))}},LPe="search";function FPe(){var e=this.locale.search,t=function(e){if(e.collapsed)return"";var t=document.createElement("div");return t.appendChild(e.cloneContents()),ru(t).find("[data-lake-card]").remove(),t.textContent}(this.change.getRange());return{name:LPe,title:e.title,className:"lake-dialog-search",data:{searchValue:t}}}var zPe={initialize:function(){var e=this;fC(this,LPe,FPe,"dialog"),this.domEvent.onDocument("keydown",(function(t){kb("mod+shift+g",t)&&(t.preventDefault(),e.command.execute(LPe))}))}};function BPe(e){var t=this.change.getRange();if(t.collapsed){e.preventDefault();var n=this.change.insertCard("cardselect");this.change.activateCard(n),t=this.change.getRange();var r=n.find(".lake-cardselect-keyword");t.selectNodeContents(r[0]),t.collapse(!1),this.change.select(t)}}var VPe={initialize:function(){var e=this;this.on("keydown:slash",(function(t){var n=e.change.getRange(),r=lp.getClosestBlock(n.startContainer),o=r.text().trim().replace(/\u200b/g,"");"/"===o&&fe.safari&&r.empty(),(""===o||"/"===o&&fe.safari||t.ctrlKey||t.metaKey)&&BPe.call(e,t)}))}};function qPe(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function HPe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UPe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WPe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var KPe=window.URL||window.webkitURL;function YPe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XPe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YPe(Object(n),!0).forEach((function(t){$Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YPe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GPe=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HPe(Object(n),!0).forEach((function(t){UPe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HPe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ratio:.8,isOverSize:function(){}},t)}var t,n,r,o,i;return t=e,(n=[{key:"_canvasToFile",value:function(e,t){var n=this.options.ratio,r=e.toDataURL("image/jpeg",n),o=Lp.dataURIToFile(r);return new File([o],t)}},{key:"compress",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.options.isOverSize,r=[],o=0;case 3:if(!(o<t.length)){e.next=23;break}if(i=t[o],!n(i)){e.next=19;break}return a=document.createElement("canvas"),c=a.getContext("2d"),e.next=10,t_(KPe.createObjectURL(i));case 10:s=e.sent,a.width=s.width,a.height=s.height,a.style.width=s.width+"px",a.style.height=s.height+"px",c.drawImage(s,0,0,s.width,s.height),r.push(this._canvasToFile(a,i.name)),e.next=20;break;case 19:r.push(i);case 20:o++,e.next=3;break;case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){qPe(i,n,r,a,c,"next",e)}function c(e){qPe(i,n,r,a,c,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})}])&&WPe(t.prototype,n),r&&WPe(t,r),e}())({isOverSize:function(e){var t="string"==typeof e.ext?e.ext.toLowerCase():void 0;return("jpg"===t||"jpeg"===t)&&!Ve.isSizeLimit("image",e.size)}});function ZPe(e){return e.replace(/^(https:\/\/cdn)-pri(\.nlark\.com)/i,"$1$2")}function JPe(e,t){var n=this,r=this.locale.image||{},o=((this.options.image||{}).uploadAction||"").replace("/api/upload/attach","/api/upload/url").replace(/ctoken=[^&]+&/,"");o&&Ma({method:"post",url:o,data:{url:t},success:function(t){var r=t.data,o={status:"done",src:r.url};r.size&&(o.size=r.size),r.width&&(o.width=r.width),r.height&&(o.height=r.height),Vp.updateCard(n,e,o,!0)},error:function(){Vp.updateCard(n,e,{status:"error",message:r.copyFailedTips},!0)}})}function QPe(e){var t=this.card.getValue(e),n=t.src||"";this.isRemoteImage(n)?(n.startsWith("https://intranetproxy.alipay.com/skylark/")&&(t.src=n.replace(/[\?&]x-oss-process=image\/resize,w_\d+/,"")),t.status="uploading",t.percent=0,this.card.replaceNode(e,"image",t)):"uploading"===t.status&&(delete t.status,this.card.setValue(e,t))}function eRe(e){var t,n;"a"===e.name&&(n=e.attr("href"),e=(t=e).find("[data-type=image]"));var r=e.find("img"),o=r.attr("src");o=ZPe(o);var i=e.attr("data-width")||r.css("width")||r.attr("width")||"",a=e.attr("data-height")||r.css("height")||r.attr("height")||"";/%/.test(i)||(i=parseInt(i,10)),/%/.test(a)||(a=parseInt(a,10));var c={src:o,display:e.attr("data-display"),align:e.attr("data-align")};i&&(c.width=i),a&&(c.height=a),void 0!==n&&(c.link=n),(ew(o)||this.isRemoteImage(o))&&(c.status="uploading",c.percent=0),this.card.replaceNode(t||e,"image",c)}function tRe(e){var t,n;"a"===e.name&&(n=e.attr("href"),e=(t=e).find("img"));var r=e.attr("src");r=ZPe(r);var o=e.css("width")||e.attr("width")||"",i=e.css("height")||e.attr("height")||"";/%/.test(o)||(o=parseInt(o,10)),/%/.test(i)||(i=parseInt(i,10));var a={src:r};o&&(a.width=o),i&&(a.height=i),void 0!==n&&(a.link=n),(ew(r)||this.isRemoteImage(r))&&(a.status="uploading",a.percent=0),this.card.replaceNode(t||e,"image",a)}function nRe(e){var t=this.change.getRange();if(t.collapsed){var n=lp.getClosestBlock(t.startContainer);if("p"===n.name){var r=lp.getBlockLeftText(n,t),o=/^!\[([^\]]{0,})\]\((https?:\/\/[^\)]{5,})\)$/.exec(r);if(o){e.preventDefault(),lp.removeBlockLeftText(n,t);var i=o[1].split("|"),a=o[2],c={src:a,name:i[0],progress:{percent:0}},s=i[1];if("center"!==s&&"right"!==s||this.command.execute("alignment",s),!this.isRemoteImage(a))return c.status="done",delete c.progress,void this.change.insertCard("image",XPe(XPe({},c),{},{margin:{top:!0,bottom:!0}}));var l=Vp.insertCard(this,"image",XPe(XPe({},c||{}),{},{margin:{top:!0,bottom:!0}}));JPe.call(this,l,a)}}}}var rRe={initialize:function(){var e=this;this.on("drop:files",(function(t){if(e.uploader.post("image",t,{onBeforeInsertCard:function(e,t){t.margin={top:!0,bottom:!0}}}))return!1})),this.on("paste:files",(function(t){GPe.compress(t).then((function(t){e.uploader.post("image",t,{onBeforeInsertCard:function(e,t){e.ext||(t.scaleByPixelRatio=!0),t.margin={top:!0,bottom:!0}}})}))})),this.on("paste:origin",(function(t){Nu.walkTree(t,(function(t){if((t=ru(t)).isCard()&&"image"===t.attr("data-lake-card")){var n=e.card.getValue(t)||null,r=t.find("img")[0];if(n&&n.src)return;r&&r.src?(n=XPe(XPe({},n),{},{status:"done",src:r.src}),r.style.width&&(n.width=parseInt(r.style.width,10)),r.style.height&&(n.height=parseInt(r.style.height,10))):n=XPe(XPe({},n),{},{status:"error",message:e.locale.image.copyFailed}),e.card.setValue(t,n)}}))})),this.on("paste:schema",(function(e){e.add({p:{"data-type":"*","data-src":"*","data-align":"*","data-display":"*","data-width":"*","data-height":"*"}})})),this.on("paste:each",(function(t){t.isCard()&&"image"===t.attr("data-ready-card")?QPe.call(e,t):"image"===t.attr("data-type")&&t.find("img").length>0||"a"===t.name&&t.find("[data-type=image]").length>0&&t.find("img").length>0?eRe.call(e,t):("a"===t.name&&t.find("img").length>0||"img"===t.name&&t.attr("src"))&&tRe.call(e,t)})),this.on("paste:after",(function(){e.editArea.find("[data-lake-card=image]").each((function(t,n){var r=ru(t),o=e.card.getComponent(r);if("uploading"===o.value.status){var i=o.imageNode.src||"";if(ew(i)&&e.uploader){var a=Lp.dataURIToFile(i),c=Ve.getFileExtname(a),s=c?"image.".concat(c):"image",l=new File([a],s);return o.value={status:"uploading",src:i,name:s,size:l.size,type:l.type,percent:0},e.card.updateNode(r,o),l.uid=e.uploader.getUid(n),e.uploader.addUploadingCard(l.uid,r),void e.uploader.post("image",[l])}e.isRemoteImage(i)&&(e.card.updateNode(r,o),JPe.call(e,r,i))}}))})),this.on("keydown:enter",(function(t){nRe.call(e,t)}))}},oRe={initialize:function(){var e=this;this.on("drop:files",(function(t){if(e.uploader.post("file",t))return!1})),this.on("paste:origin",(function(t){Nu.walkTree(t,(function(t){if((t=ru(t)).isBlock()&&t.hasClass("bi-file")){var n=t.find(".bi-file-content");if(n.length>0){var r=n.attr("data-src")||"",o=n.attr("data-name"),i=r.split(".").pop(),a=n.find(".size");if(!r||!i||0===a.length)return;var c=a.text().replace(/^.+?([\d\.]+)\s*(kb|mb).*$/i,(function(e,t,n){return"kb"===n.toLowerCase()?1e3*t:"mb"===n.toLowerCase()?1e3*t*1e3:void 0})),s={src:r,name:o,size:parseFloat(c)||0,ext:i};return void e.card.replaceNode(t,"file",s)}}}))})),this.on("paste:schema",(function(e){e.add([{p:{"data-type":"*","data-filetype":"*","data-name":"*","data-size":"*","data-src":"*"}}])})),this.on("paste:each",(function(t){if("file"===t.attr("data-type")){var n=t.attr("data-src");if(n){var r={src:n,name:t.attr("data-name"),size:parseInt(t.attr("data-size"),10)||0,ext:t.attr("data-filetype")};return void e.card.replaceNode(t,"file",r)}}}))}},iRe=n(359),aRe=n.n(iRe),cRe=Lu()("lake:outline"),sRe={sup:1,sub:1};function lRe(e){if(e.nodeType!==Node.ELEMENT_NODE)return null;var t=e.nodeName.toLowerCase();return sRe[t]?t:null}function uRe(e){var t=[],n=[],r=document.createElement("span");return Kb(e,(function(e){return!e.getAttribute||!e.getAttribute("data-lake-card")}),{open:function(e){if(e.nodeType===Node.TEXT_NODE){var o=e.textContent;t.push(o),r.innerText=o,n.push(r.innerHTML)}else{var i=lRe(e);null!==i&&n.push("<".concat(i,">"))}},close:function(e){var t=lRe(e);null!==t&&n.push("</".concat(t,">"))}}),{text:t.join(""),html:n.join("")}}var fRe={_invalidTags:{h1:!0,h2:!0,h3:!0,h4:!0},_isHeadingNode:function(e){if(1!==e.nodeType)return!1;if(!e.tagName)return!1;var t=e.tagName.toLocaleLowerCase();return!0===this._invalidTags[t]},_findHeadingNodes:function(e){var t=e.childNodes;if(!t)return[];for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];this._isHeadingNode(i)&&n.push(i)}return n},_fixDuplicatedHeading:function(e){var t={};e.forEach((function(e){var n=e.id;if(t.hasOwnProperty(n)){var r=t[n];e.id+="-".concat(r),e.domNode.id=e.id,t[n]=r+1}else t[n]=1}))},_getLevel:function(e){return{H1:1,H2:2,H3:3,H4:4}[e]||-1},getText:function(e){var t=Wb(e,(function(e){return!e.getAttribute("data-lake-card")})),n="";return t.forEach((function(e){n+=e.textContent})),n},normalize:function(e){var t=this;if(0===(e=e||[]).length)return[];var n=new aRe.a,r=[];e.forEach((function(e){var o=uRe(e),i=o.text,a=o.html;(i=i.trim())&&(e.id||(e.id=n.id(i)),r.push({id:e.id,text:i,html:a,level:t._getLevel(e.tagName),depth:-1,domNode:e}))}));var o=[];r.forEach((function(e){o.indexOf(e.level)<0&&o.push(e.level)})),o.sort();var i={};return o.forEach((function(e,t){i[e]=t+1})),r.forEach((function(e){e.depth=i[e.level]})),r},extractFromDom:function(e){if(!e)return[];try{var t=this._findHeadingNodes(e);cRe("headings:",t);var n=fRe.normalize(t);return this._fixDuplicatedHeading(n),n.forEach((function(e){delete e.domNode})),n}catch(e){return cRe("error",e),[]}}},pRe=fRe,dRe="toc";function hRe(){var e=this,t=[];return this.editArea.find("h1,h2,h3,h4").each((function(n){n=ru(n),e.card.closest(n)||n.parent().isRoot()&&t.push(n[0])})),pRe.normalize(t)}function mRe(){var e=this.locale.toc,t=null;try{t=hRe.call(this)}catch(e){t=[]}return{name:dRe,title:e.title,className:"lake-toc-sidebar",data:t}}var vRe={initialize:function(){var e=this;pC(this,dRe,mRe);var t=function(){e.command.queryState(dRe)&&window.setTimeout((function(){if(!e.isDestroyed&&e.command.queryState(dRe)){var t=mRe.call(e);e.sidebar.set(t)}}),100)};this.ot&&this.ot.on("load",t),this.on("change",t),this.on("setvalue",t)}},yRe="repository";function gRe(){return{name:yRe,title:null,className:"lake-repository-sidebar",data:null}}var bRe={initialize:function(){pC(this,yRe,gRe)}},wRe={initialize:function(){var e=this;this.command.add("moremark",{sideEffect:!0,queryState:function(){var t=[];return["sup","sub","code"].forEach((function(n){e.command.queryState(n)&&t.push(n)})),t},execute:function(t){e.command.execute(t)}})}};function kRe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xRe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kRe(Object(n),!0).forEach((function(t){ORe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kRe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ORe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CRe="flowchart";var _Re={initialize:function(){var e=this;this.command.add(CRe,{sideEffect:!0,execute:function(){e.locale.flowchart;var t={diagramData:ele.a.deflate(JSON.stringify({head:{version:"2.0.0"},body:[{type:"flowchart",shape:"start-end",id:"9987140f-1575-4455-9627-a5b05621cfa0",x:552.5,y:374,html:'<div style="text-align:center;">开始</div>',zIndex:0}]}),{to:"string"})};e.change.insertCard("flowchart2",xRe(xRe({},t),{},{margin:!0}))}})}},ERe={initialize:function(){var e=this;this.command.add("diagram",{sideEffect:!0,execute:function(t,n){var r=e.change.insertCard("diagram",{code:n||"",type:"puml",margin:!0});window.setTimeout((function(){e.card.getComponent(r).focusToCodeEditor()}),10)}})}},jRe={text:"plain",sh:"bash",ts:"typescript",js:"javascript",py:"python",puml:"plantuml",uml:"plantuml",vb:"basic",md:"markdown","c++":"cpp"},SRe={initialize:function(){var e=this;this.command.add("codeblock",{sideEffect:!0,execute:function(t,n){var r=e.change.insertCard("codeblock",{mode:t,code:n,heightLimit:!0,margin:!0}),o=e.card.getComponent(r);window.setTimeout((function(){o.focusToCodeEditor()}),10)}}),this.on("keydown:enter",(function(t){var n=e.change.getRange();if(n.collapsed){var r=lp.getClosestBlock(n.startContainer);if(r.isHeading()){var o=lp.getBlockLeftText(r,n),i=/^```(.*){0,10}$/.exec(o);if(i){var a=(void 0===i[1]?"":i[1]).toLowerCase();if(mde[a=jRe[a]||a]||""===a)return t.preventDefault(),lp.removeBlockLeftText(r,n),e.command.execute("codeblock",a,""),r.remove(),!1}}}})),this.on("paste:origin",(function(t){Nu.walkTree(t,(function(t){if((t=ru(t)).isBlock()&&t.hasClass("bi-code")){var n=t.find("pre");if(n.length>0){var r=/^bi-code bi-code-(\w+)/.exec(t[0].className),o=r?r[1]:"",i=new $f(n).toText();return void e.card.replaceNode(t,"codeblock",{mode:o,code:i})}}}))})),this.on("paste:schema",(function(e){e.add({pre:{"data-syntax":"*"}})})),this.on("paste:each",(function(t){if("pre"===t.name&&t.attr("data-syntax")){var n=new $f(t).toText();e.card.replaceNode(t,"codeblock",{mode:t.attr("data-syntax"),code:n})}else if("pre"===t.name&&t.first()&&"code"===t.first().name){var r=new $f(t).toText();e.card.replaceNode(t,"codeblock",{mode:"plain",code:r})}}))}};function PRe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RRe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PRe(Object(n),!0).forEach((function(t){TRe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PRe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TRe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DRe(e){var t=this.change.getRange();if(t.collapsed){var n=lp.getClosestBlock(t.startContainer);if("p"===n.name){var r=lp.getBlockLeftText(n,t),o=/^\|(?:(?:[^\|]+?)\|){2,}$/.exec(r);if(o){e.preventDefault(),lp.removeBlockLeftText(n,t);for(var i=o[0].split("|").filter((function(e){return e})),a=i.length,c="<table>",s=0;s<=2;s++){c+="<tr>";for(var l=0;l<=a-1;l++){var u=0===s?Cl.escape(i[l]):"<br />";c+="<td><p>".concat(u,"</p></td>")}c+="</tr>"}var f=ru(c+="</table>"),p=Ade(f[0]),d=Tde(f[0]),h={html:p.outerHTML,rows:d.rows,cols:d.cols};return this.command.execute("table",h),h}}}}var ARe={initialize:function(){var e=this;this.schema.add(lme),zu.log("init"),this.command.add("table",{sideEffect:!0,execute:function(t){zu.log("insert table ......");var n=e.change.insertCard("table",RRe(RRe({},t||{rows:8,cols:8}),{},{margin:!0})),r=e.card.getComponent(n);return e.change.activateCard(n),r.selection.selectFirstCell(),r}}),this.on("paste:origin",Vde),this.on("paste:before",(function(t){Nu.fetchAllChildren(t).forEach((function(t){if("table"===(t=ru(t)).name){var n=Ade(t[0]),r=Tde(t[0]),o={html:n.outerHTML,rows:r.rows,cols:r.cols};e.card.replaceNode(t,"table",o)}}))})),this.on("keydown:enter",(function(t){DRe.call(e,t)}))}},MRe={initialize:function(){var e=this;this.on("setvalue",(function(){e.editArea.find("[data-lake-card=video]").each((function(t){var n=ru(t),r=e.card.getValue(n);"uploading"!==r.status&&"pending"!==r.status||e.card.removeNode(n)}))}))}},NRe={initialize:function(){var e=this;this.command.add("riddle",{execute:function(t){var n=e.change.insertCard("riddle",t);e.card.getComponent(n).focusInput()}})}},IRe={initialize:function(){var e=this;this.command.add("youku",{sideEffect:!0,execute:function(t){var n=e.change.insertCard("youku",t);e.card.getComponent(n).focusInput()}})}};function LRe(e){var t=this.change.getRange();if(t.collapsed){var n,r=t.endContainer,o=t.endOffset,i=null,a="";if(r.nodeType===Node.TEXT_NODE?(i=r,a=r.nodeValue.substring(0,o)):(i=r.childNodes[o-1])&&(i.nodeType===Node.TEXT_NODE?a=i.nodeValue:ru(i).isMark()&&i.lastChild&&i.lastChild.nodeType===Node.TEXT_NODE&&(a=(i=i.lastChild).nodeValue)),n=fe.safari&&229===e.keyCode?/^@$|[\u200b\s]@$/:/[\u200b\s]$/,!a||n.test(a)){e.preventDefault(),fe.safari&&229===e.keyCode&&a.endsWith("@")&&(i.nodeValue=a.substring(0,a.length-1),t.selectNodeContents(i),t.collapse(!1),this.change.select(t));var c=this.change.insertCard("mention");this.card.getComponent(c).renderSuggestion().then();var s=c.find(".lake-mention-at");t.selectNodeContents(s[0]),t.collapse(!1),this.change.select(t)}}}var FRe={initialize:function(){var e=this;!1!==this.options.allowMention&&this.on("keydown:at",(function(t){LRe.call(e,t)}))},extract:function(){var e=this,t=[];return this.card.getCardRootByName("mention").forEach((function(n){var r=e.card.getValue(ru(n));t.push(r)})),t}},zRe=(n(744),n(745),tje);zRe.config({top:105});function BRe(e,t){var n=this,r=this.locale.markdown||{},o="lake-paste-markdown",i=k.a.createElement(Oee,{type:"primary",size:"small",onClick:function(){var r=Lh()(n,"options.markdown.convertAction")||"/api/docs/convert";Ma({method:"post",url:r,data:{from:"markdown",to:"lake",content:e},success:function(e){var r=e.data.content;n.change.setValue(t),n.command.execute("paste",r),zRe.close(o)}})}},r.pasteButton);zRe.open({placement:"topRight",message:r.pasteTitle,description:r.pasteContent,btn:i,key:o})}var VRe={initialize:function(){var e=this;this.on("paste:string",(function(t,n){if(!t.isPasteText){var r="",o=t.html||"";r=t.text?t.text:new $f(o).toText(),function(e){var t="",n=e.html||"";n?(n=n.replace(/<blockquote[^>]*>[\s\S]*?<\/blockquote>/gi,""),t=new $f(n).toText()):e.text&&(t=e.text||"");for(var r=[/^\s*([\*\-\+]|\d+\.)\s+/m,/^\s*#{1,6}\s+/m,/\[(.*?)\]\(([\S]+?)\)/m,/\s*>\s?/m,/(^|\r?\n)(`{3,})[\s\S]*?\1($|\r?\n)/,/^\s*\|(([^\|]+?)\|){2,}\s*$/m],o=0;o<r.length;o++)if(r[o].test(t))return!0;return!1}(t)&&!Lh()(e,"options.markdown.disableConvert")&&BRe.call(e,r,n)}}))}},qRe="translate";function HRe(){var e=this.locale.translate;return{name:qRe,title:e.title,className:"lake-translate-sidebar",data:null}}var URe={initialize:function(){pC(this,qRe,HRe)}};function WRe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KRe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WRe(Object(n),!0).forEach((function(t){YRe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WRe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YRe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XRe={initialize:function(){var e=this;this.command.add("yuque",{sideEffect:!0,execute:function(){var t=e.change.insertCard("yuque",{margin:!0});e.card.getComponent(t).focusInput()}})},toggleToTitleMode:function(e){var t=e.cardRoot.parent();if(t.isRoot()||t.isTable()){var n=ru("<p><br/></p>");e.cardRoot.before(n)}this.change.removeCard(e.cardRoot);var r=e.value;this.change.insertCard("yuqueinline",{src:r.src,url:r.url,detail:r.detail})},toggleToBlockMode:function(e,t){var n=document.createRange();n.setStartAfter(e.cardRoot[0]),n.collapse(!0),this.change.removeCard(e.cardRoot),this.change.select(n),this.change.insertCard("yuque",KRe(KRe({},e.value),{},{mode:t}))}},$Re={initialize:function(){var e=this;this.command.add("lockedtext",{sideEffect:!0,execute:function(){e.change.insertCard("lockedtext",{margin:!0})}})}},GRe={initialize:function(){var e=this;this.command.add("label",{sideEffect:!0,execute:function(){var t=e.change.insertCard("label"),n=e.card.getComponent(t);e.change.activateCard(t),setTimeout((function(){n.focusInput()}),20)}})}};n(311);function ZRe(e){return(ZRe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QRe(e,t){return(QRe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eTe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nTe(e);if(t){var o=nTe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tTe(this,n)}}function tTe(e,t){return!t||"object"!==ZRe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nTe(e){return(nTe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rTe={"zh-cn":{text:"文本",link:"链接",editLink:"编辑链接",addDescription:"添加描述",linkAddress:"链接地址",deleteLink:"删除链接",confirm:"确定",pleaseInputLink:"请输入链接",emptyLink:"空链接",visitLink:"访问链接",pleaseEnterCorrectLink:"请输入正确的链接",selectedContent:"多行文字被选中，暂不支持修改文本",titleMode:"标题",cardMode:"卡片",embedMode:"嵌入",toCard:"转为书签"},en:{text:"Text",link:"Link",editLink:"Edit link",addDescription:"Add a description",linkAddress:"Link address",deleteLink:"Delete link",confirm:"Confirm",pleaseInputLink:"Please input link address",emptyLink:"Empty link",visitLink:"Visit link",pleaseEnterCorrectLink:"Please enter the correct link",selectedContent:"Selected in the document",titleMode:"Title",cardMode:"Card",embedMode:"Embed",toCard:"Convert to bookmark"}};var oTe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QRe(e,t)}(i,e);var t,n,r,o=eTe(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(t=o.call(this,e)).props,r=n.type,a=n.lang,c=n.target;return t.locale=rTe[a],t.nativeEvents=[],t.rect=c[0].getBoundingClientRect(),t.link=c[0].getAttribute("href"),t.isMultiLink=c.length>1,t.state={type:r,invalidLink:t.isInvalidLink(t.link)},t.preventScrollCancel=!1,t.setContainerPosition(),t.validator=new Age(window.location),t}return t=i,(n=[{key:"setContainerPosition",value:function(){var e=this.props,t=e.target,n=e.container,r=t[0].getBoundingClientRect().bottom;n.className="lake-prevent-card-activated",n.style.top="".concat(window.pageYOffset+r+4,"px"),n.style.left=window.pageXOffset+"px",n.style.position="absolute",n.style["z-index"]="1400"}},{key:"adjustPosition",value:function(){var e,t,n=this.props,r=n.container,o=n.target[0].getBoundingClientRect(),i=r.getBoundingClientRect(),a=i.height,c=i.width;t=o.left+c>window.innerWidth-20?window.pageXOffset+window.innerWidth-c-20:o.left-window.pageXOffset<20?window.pageXOffset+20:window.pageXOffset+o.left,o.bottom+a>window.innerHeight-20?(e=window.pageYOffset+o.top-a-4)<0&&(e=4):e=window.pageYOffset+o.bottom+4,r.style.top="".concat(e,"px"),r.style.left="".concat(t,"px")}},{key:"componentDidMount",value:function(){this.bindNativeEvents(),this.adjustPosition()}},{key:"componentDidUpdate",value:function(){this.adjustPosition()}},{key:"componentWillUnmount",value:function(){this.removeNativeEvents()}},{key:"bindNativeEvents",value:function(){var e=this,t=this.props.container,n=!1;this.addNativeEvent(window,"scroll",(function(t){!0!==e.preventScrollCancel?t.target.className&&-1!==t.target.className.indexOf("lake-link")||e.cancel():t.preventDefault()}),!0),this.addNativeEvent(window,"resize",(function(){e.cancel()}),!0),this.addNativeEvent(window,"mousedown",(function(e){var r=e.target;t.contains(r)||(n=!0)}),!0),this.addNativeEvent(window,"mouseup",(function(r){var o=r.target;n&&!t.contains(o)&&e.cancel(),n=!1}),!0),this.addNativeEvent(t,"keydown",(function(t){var n=t.keyCode,r=e.state.invalidLink;13!==n||r||e.confirm(),27===n&&e.cancel()}))}},{key:"cancel",value:function(){var e=this.props,t=e.onCancel,n=e.target;t({link:n&&n[0].getAttribute("href")})}},{key:"addNativeEvent",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,r),this.nativeEvents.push({dom:e,name:t,callback:n,useCapture:r})}},{key:"removeNativeEvents",value:function(){this.nativeEvents.forEach((function(e){var t=e.dom,n=e.name,r=e.callback,o=e.useCapture;t.removeEventListener(n,r,o)})),this.nativeEvents=[]}},{key:"confirm",value:function(){var e=this.props.onConfirm,t=this.state.invalidLink,n=this.getText(),r=this.getLink();t||e(n,r)}},{key:"renderPreview",value:function(){var e=this,t=this.props.onDeleteLink,n=this.getLink(),r=this.locale,o=this.renderToggleBtn(n);return k.a.createElement("div",{className:"lake-link-editor lake-link-editor-preview",ref:function(t){e.containerDom=t}},o,o?k.a.createElement("span",{className:"lake-link-editor-slash"}):null,k.a.createElement(dn,{title:r.visitLink},k.a.createElement("a",{className:"lake-icon lake-icon-gotolink lake-link-control-button",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.props.openLink(n)},target:"_blank",href:n})),k.a.createElement(dn,{title:r.editLink},k.a.createElement("a",{className:"lake-icon lake-icon-edit lake-link-editor-button",onClick:function(){e.setState({type:"edit"})}})),k.a.createElement(dn,{title:r.deleteLink},k.a.createElement("a",{className:"lake-icon lake-icon-unlink lake-link-editor-button",onClick:t})))}},{key:"renderToggleBtn",value:function(e){if(!e)return null;var t=this.validator.getURLInfo(e,{group:!0});return t.valid?t.isYuqueURL?this.renderYuqueLinkToggleBtn(e,t.url):this.renderThirdLinkToggleBtn(e):null}},{key:"renderYuqueLinkToggleBtn",value:function(e,t){var n=this,r=this.locale,o=Yge(e)||Mge(e)?null:k.a.createElement(dn,{title:r.embedMode},k.a.createElement("a",{className:"lake-icon lake-icon-doc-embed lake-link-control-button",onClick:function(){n.props.onToggleMode(!0,e,"embed",t)}}));return k.a.createElement(k.a.Fragment,null,k.a.createElement(dn,{title:r.titleMode},k.a.createElement("a",{className:"lake-icon lake-icon-doc-title lake-link-control-button",onClick:function(){n.props.onToggleMode(!0,e,"title",t)}})),k.a.createElement(dn,{title:r.cardMode},k.a.createElement("a",{className:"lake-icon lake-icon-doc-card lake-link-control-button",onClick:function(){n.props.onToggleMode(!0,e,"card",t)}})),o)}},{key:"renderThirdLinkToggleBtn",value:function(e){var t=this,n=this.locale;return k.a.createElement(dn,{title:n.toCard},k.a.createElement("a",{className:"lake-icon lake-icon-doc-card lake-link-control-button",onClick:function(){t.props.onToggleMode(!1,e)}}))}},{key:"isInvalidLink",value:function(e){return function(e){return!e||e&&!e.match(/^[\x00-\x7F]/)||e.startsWith("javascript:")}(e)}},{key:"renderEditor",value:function(){var e=this,t=this.state.invalidLink,n=this.getText(),r=this.getLink(),o=this.locale;return k.a.createElement("div",{className:"lake-link-editor lake-link-editor-edit",ref:function(t){e.containerDom=t}},k.a.createElement("p",null,o.text),k.a.createElement("p",null,k.a.createElement(oi,{className:"lake-link-text-input",defaultValue:this.isMultiLink?o.selectedContent:n,ref:function(t){e.textInputDom=t},placeholder:o.addDescription,disabled:this.isMultiLink,onChange:function(t){e.text=t.target.value}})),k.a.createElement("p",null,o.link),k.a.createElement("p",null,k.a.createElement(oi,{className:"lake-link-link-input",defaultValue:r,ref:function(t){e.preventScrollCancel=!0,t&&t.focus(),e.linkInputDom=t,setTimeout((function(){e.preventScrollCancel=!1}),32)},placeholder:o.linkAddress,onChange:function(t){e.link=t.target.value,e.setState({invalidLink:e.isInvalidLink(e.link)})}})),t&&""!==r?k.a.createElement("p",{className:"lake-link-invalid-link"},o.pleaseEnterCorrectLink):"",k.a.createElement("p",null,k.a.createElement(Oee,{className:"lake-link-confirm-button",onClick:function(){e.confirm()},disabled:!this.link||t},o.confirm)))}},{key:"getLink",value:function(){var e=this.props.getLink;return this.link&&e(this.link)||""}},{key:"getText",value:function(){var e=this.props.target;return this.isMultiLink?"":this.text||e[0].textContent}},{key:"render",value:function(){return"edit"===this.state.type?this.renderEditor():this.renderPreview()}}])&&JRe(t.prototype,n),r&&JRe(t,r),i}(k.a.Component);oTe.defaultProps={container:{},type:"preview",lang:"zh-cn",onDeleteLink:function(){},onConfirm:function(){},onCancel:function(){},shouldTargetBlank:function(){},getLink:function(e){return e},onToggleMode:function(){},openLink:function(){}},oTe.propTypes={container:st.a.object,target:st.a.arrayOf(st.a.instanceOf(HTMLElement)).isRequired,type:st.a.string,lang:st.a.string,onDeleteLink:st.a.func,onConfirm:st.a.func,onCancel:st.a.func,shouldTargetBlank:st.a.func,getLink:st.a.func,onToggleMode:st.a.func,openLink:st.a.func};var iTe=oTe,aTe={},cTe="link";function sTe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href;if(!e||!Cl.protocols.some((function(t){return e.startsWith(t)})))return!1;try{var n=new URL(e,t),r=new URL(t);return n.host!==r.host||!lTe(n.pathname,r.pathname)}catch(e){console.warn(e)}return!0}function lTe(e,t){t.endsWith("/edit")&&(t=t.replace(/\/edit$/,""));var n=e.replace(/\/$/,"").split("/"),r=t.replace(/\/$/,"").split("/");return n.length===r.length&&(n.pop(),r.pop(),n.join("/")===r.join("/"))}function uTe(e,t,n,r,o,i){var a=ru(t)[0],c=document.createRange();c.setStartAfter(a),c.collapse(!0),a.parentNode.removeChild(a),e.change.select(c),n?"title"===o?e.change.insertCard("yuqueinline",{src:r,url:i,margin:!0}):e.change.insertCard("yuque",{src:r,url:i,mode:o,margin:!0}):e.change.insertCard("bookmarklink",{src:r,text:t.text()})}function fTe(e){var t=window.location,n=t.origin,r=t.pathname,o=Cl.escapeRegExp(n+r.replace("/edit","")),i=new RegExp("^".concat(o,"#"));return e=e.replace(i,"#").trim(),/^(\w+\.)+\w+(\/|$)/.test(e)&&(e="http://"+e),e}function pTe(e){try{var t=new URL(e,location.origin);return!!aTe[t.protocol]}catch(e){return console.error(e),!1}}function dTe(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"preview",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=document.createElement("div"),a=document.body;a.appendChild(i);var c=function e(){i.parentNode===a&&(He.a.unmountComponentAtNode(i),a.removeChild(i)),t.off("beforesetvalue",e)};this.on("beforesetvalue",c),He.a.render(k.a.createElement(nje,{autoInsertSpaceInButton:!1},k.a.createElement(iTe,{target:e.toArray(),shouldTargetBlank:sTe,lang:this.currentLanguage(),getLink:fTe,type:n,container:i,openLink:function(e){var n=new URL(e,Zb());t.openLink(n.href,e)},onToggleMode:function(n,r,o,c){He.a.unmountComponentAtNode(i),a.removeChild(i),uTe(t,e,n,r,o,c)},onDeleteLink:function(){var n=t.change.getRange();n.selectNode(e[0]),t.change.select(n),t.change.unwrapInline("<a />"),c()},onConfirm:function(n,r){t.history.hold(),sTe(r)?e.attr("target","_blank"):e.removeAttr("target"),e.attr("href",pTe(r)?r:""),n&&e.text()!==n&&e.text(n),c(),t.change.change()},onCancel:function(e){var t=e.link;c(),!t&&o&&r()}})),i)}Cl.protocols.forEach((function(e){aTe[e]=!0}));var hTe={initialize:function(){var e=this;this.editArea.on("click",(function(t){var n=ru(t.target).closest("a");if(n.length>0){var r=e.card.closest(n);if(r){var o=e.card.getComponent(r);o&&"table"===o.name&&(t.preventDefault(),t.stopPropagation())}else t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),n[0]&&dTe.call(e,n)}})),this.command.add(cTe,{sideEffect:!0,execute:function(){var t=e.change.getRange();if(t.collapsed){var n=e.lang.link,r=ru("<a>".concat(n.linkText,"</a>"));return e.change.insertInline(r),void(r.length&&dTe.call(e,r,"edit",(function(){e.history.undo()}),!0))}e.change.splitMark(),lp.getActiveMarks(e.change.getRange()).forEach((function(e){var t=e[0];if(t.style.color&&(t.style.color="","SPAN"===t.nodeName)){""===t.style.cssText&&t.removeAttribute("style");var n=e.attr();0===Object.keys(n).length&&lp.unwrapNode(t)}})),e.change.unwrapInline("<a />"),e.change.wrapInline('<a href="" target="_blank" class="lake-link-marker" />'),ff.shrinkRange(t),e.change.select(t);var o=ru(t.commonAncestorContainer);if("a"!==o.name&&((o=o.find(".lake-link-marker"))&&0!==o.length||(o=ru(t.commonAncestorContainer).closest("a"))),o.length)return o.removeClass("lake-link-marker"),dTe.call(e,o,"edit",(function(){e.history.undo()}),!0),o}}),this.hotkey.set("mod+k",cTe),this.on("paste:each",(function(e){"a"===e.name&&(sTe(e.attr("href")||"")?e.attr("target","_blank"):e.removeAttr("target"))}))}};n(746);function mTe(e){return(mTe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yTe(e,t){return(yTe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gTe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wTe(e);if(t){var o=wTe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bTe(this,n)}}function bTe(e,t){return!t||"object"!==mTe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wTe(e){return(wTe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kTe={"zh-cn":{link:"链接",linkAddress:"链接地址",confirm:"确定",pleaseInputLink:"请输入链接",pleaseEnterCorrectLink:"请输入正确的链接"},en:{link:"Link",linkAddress:"Link address",confirm:"Confirm",pleaseInputLink:"Please input link address",pleaseEnterCorrectLink:"Please enter the correct link"}},xTe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yTe(e,t)}(i,e);var t,n,r,o=gTe(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={invalidLink:!1},t.nativeEvents=[];var n=t.props.lang;return t.locale=kTe[n],t.validator=new Age(window.location),t.containerRef=k.a.createRef(),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.bindNativeEvents();var e=this.containerRef.current.getBoundingClientRect(),t=function(e,t,n,r){var o,i,a=window.innerHeight,c=window.innerWidth;return o=e+n<c?e:e<c&&e-n>0?e-n:c-n-10,i=t+r<a?t:t<a&&t-r>0?t-r:a-r-10,{x:Math.max(o,0),y:Math.max(i,0)}}(this.props.x,this.props.y,e.width,e.height),n=t.x,r=t.y;this.containerRef.current.style.left=n+"px",this.containerRef.current.style.top=r+"px"}},{key:"componentWillUnmount",value:function(){this.removeNativeEvents()}},{key:"bindNativeEvents",value:function(){var e=this,t=!1,n=this;this.addNativeEvent(window,"mousedown",(function(n){var r=n.target;e.containerRef.current&&!e.containerRef.current.contains(r)&&(t=!0)}),!0),this.addNativeEvent(window,"mouseup",(function(n){var r=n.target;t&&(t=!1,e.containerRef.current&&!e.containerRef.current.contains(r)&&e.cancel())}),!0),this.addNativeEvent(window,"keydown",(function(t){var n=t.keyCode,r=e.state.invalidLink;13!==n||r||e.confirm(),27===n&&e.cancel()})),this.addNativeEvent(window,"resize",(function(){e.cancel()}),!0),this.addNativeEvent(window,"scroll",(function(t){t.target!==n.linkInputDom.input&&e.cancel()}),!0)}},{key:"addNativeEvent",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,r),this.nativeEvents.push({dom:e,name:t,callback:n,useCapture:r})}},{key:"removeNativeEvents",value:function(){this.nativeEvents.forEach((function(e){var t=e.dom,n=e.name,r=e.callback,o=e.useCapture;t.removeEventListener(n,r,o)})),this.nativeEvents=[]}},{key:"confirm",value:function(){var e=this.props.onConfirm,t=this.state.invalidLink,n=this.link;t||e({text:this.locale.link,link:fTe(n)})}},{key:"cancel",value:function(){var e=this.props,t=e.onCancel,n=e.target;t({link:n&&n[0].getAttribute("href")})}},{key:"isInvalidLink",value:function(){return!1}},{key:"render",value:function(){var e=this,t=this.state.invalidLink,n=this.locale;return k.a.createElement("div",{ref:this.containerRef,className:"lake-link-editor lake-link-card-editor lake-link-editor-edit"},k.a.createElement("p",null,n.link),k.a.createElement("p",null,k.a.createElement(oi,{className:"lake-link-link-input",ref:function(t){t&&t.focus(),e.linkInputDom=t},placeholder:n.linkAddress,onChange:function(t){e.link=t.target.value,e.setState({invalidLink:e.isInvalidLink(e.link)})}})),t&&""!==this.link?k.a.createElement("p",{className:"lake-link-invalid-link"},n.pleaseEnterCorrectLink):"",k.a.createElement("p",null,k.a.createElement(Oee,{className:"lake-link-confirm-button",onClick:function(){e.confirm()},disabled:!this.link||t},n.confirm)))}}])&&vTe(t.prototype,n),r&&vTe(t,r),i}(k.a.Component);xTe.propTypes={lang:st.a.string,onConfirm:st.a.func,onCancel:st.a.func,x:st.a.number.isRequired,y:st.a.number.isRequired},xTe.defaultProps={lang:"zh-cn",onConfirm:function(){},onCancel:function(){}};var OTe={initialize:function(){var e=this,t=document.createElement("div");t.className="lake-ui-link-card-dialog-container",document.body.appendChild(t);var n=!1;this.command.add("linkCard",{queryState:function(){return n},execute:function(){n=!0;var r=e.change.getRange();if(r){var o=ff.createBookmark(r);if(o&&o.focus){var i=o.focus.getBoundingClientRect();ff.moveToBookmark(o),He.a.unmountComponentAtNode(t),He.a.render(k.a.createElement(xTe,{lang:e.options.lang,x:i.x,y:i.y,onCancel:function(){n=!1,He.a.unmountComponentAtNode(t)},onConfirm:function(r){var o=r.text,i=r.link;n=!1,He.a.unmountComponentAtNode(t),e.change.insertCard("bookmarklink",{src:i,text:o,margin:!0})}}),t)}}}})}};function CTe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CTe(Object(n),!0).forEach((function(t){ETe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CTe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ETe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jTe={initialize:function(){var e=this;this.command.add("thirdparty",{sideEffect:!0,execute:function(t){var n=e.change.insertCard("thirdparty",_Te(_Te({},t||{}),{},{margin:!0}));e.card.getComponent(n).focusInput()}})}},STe=(n(747),[{name:{zh:"蓝色",en:"blue"},line:"#69ABE4",border:"#CFEAFC",background:"#EBF7FF"},{name:{zh:"玫红色",en:"rose red"},line:"#E482D4",border:"#FCE1F6",background:"#FCF2FA"},{name:{zh:"绿色",en:"green"},line:"#77C386",border:"#D1E6D4",background:"#F0FAF1"},{name:{zh:"红色",en:"red"},line:"#E48884",border:"#FBDFDB",background:"#FCF4F2"},{name:{zh:"紫色",en:"purple"},line:"#9E8BE1",border:"#DED6F5",background:"#F8F5FF"},{name:{zh:"黄色",en:"yellow"},line:"#DFAC5D",border:"#F7E2B7",background:"#FFF7E6"}]);n(748);function PTe(e){return Number.parseInt(e.format("YYYYMMDD"))}function RTe(e){return Zxe()("".concat(e," 01:01:01+08:00"),"YYYYMMDD HH:mm:ss")}function TTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ATe=function(){function e(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o;TTe(this,e),this._id=null,this._start=null,this._end=null,this._colorIndex=-1,this._title=null,this._desc=null,this._id=Cl.randomId(),this._title=t,this._desc=n,this._colorIndex=r,this._start=o,this._end=i}var t,n,r;return t=e,r=[{key:"recover",value:function(t){var n=t.id,r=t.start,o=t.end,i=t.colorIndex,a=new e(t.title,t.desc,i,r,o);return a._id=n,a}}],(n=[{key:"getID",value:function(){return this._id}},{key:"getStart",value:function(){return this._start}},{key:"getStartMoment",value:function(){return RTe(this._start)}},{key:"getEnd",value:function(){return this._end}},{key:"getEndMoment",value:function(){return RTe(this._end)}},{key:"getDaysCount",value:function(){return this._start===this._end?1:this.getEndMoment().diff(this.getStartMoment(),"days")+1}},{key:"getTitle",value:function(){return this._title}},{key:"getDesc",value:function(){return this._desc}},{key:"getColorIndex",value:function(){return this._colorIndex}},{key:"toJSON",value:function(){return{id:this._id,start:this._start,end:this._end,colorIndex:this._colorIndex,title:this._title,desc:this._desc}}}])&&DTe(t.prototype,n),r&&DTe(t,r),e}();n(749),n(750);function MTe(e){return(MTe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NTe(){return(NTe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ITe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function LTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FTe(e,t){return(FTe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zTe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=VTe(e);if(t){var o=VTe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return BTe(this,n)}}function BTe(e,t){return!t||"object"!==MTe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function VTe(e){return(VTe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qTe=tpe.Option,HTe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FTe(e,t)}(i,e);var t,n,r,o=zTe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={title:"",color:0,startDate:null,endDate:null,desc:""},t._changed=!1,t.rootNodeRef=null,t._handleTitleChange=function(e){t.setState({title:e.target.value}),t._changed=!0},t._handleDescChange=function(e){t.setState({desc:e.target.value}),t._changed=!0},t._handleColorChange=function(e){t.setState({color:e}),t._changed=!0},t._handleDateChange=function(e){t.setState({startDate:e[0],endDate:e[1]}),t._changed=!0},t.rootNodeRef=k.a.createRef(),t.state={title:e.title,color:e.color,startDate:e.startDate||Zxe()(),endDate:e.endDate||Zxe()(),desc:e.desc},t}return t=i,(n=[{key:"hasChange",value:function(){return this._changed}},{key:"resetChange",value:function(){this._changed=!1}},{key:"getValue",value:function(){var e=this.state;return{title:e.title,color:e.color,startDate:e.startDate,endDate:e.endDate,desc:e.desc}}},{key:"render",value:function(){var e=this.props,t=(e.title,e.color,e.startDate,e.endDate,e.locale),n=(e.desc,e.onRequestClose),r=(e.autoFocus,e.isReadonly),o=ITe(e,["title","color","startDate","endDate","locale","desc","onRequestClose","autoFocus","isReadonly"]);return this.selectCount++,k.a.createElement("div",NTe({ref:this.rootNodeRef,className:"le-schedule-panel"},o),k.a.createElement("div",{className:"le-schedule-panel-item"},k.a.createElement("div",{className:"le-schedule-panel-item-icon"},this._renderTitleIcon()),k.a.createElement("div",{className:"le-schedule-panel-item-content"},k.a.createElement(v_e,{className:"le-schedule-panel-title-textarea",placeholder:t.calendar.tip.title,isReadonly:r,autoFocus:this.props.autoFocus,onChange:this._handleTitleChange,onKeyDownEnter:n,value:this.state.title}))),this._renderColor(),k.a.createElement("div",{className:"le-schedule-panel-item-separator"}),k.a.createElement("div",{className:"le-schedule-panel-item align-center"},k.a.createElement("div",{className:"le-schedule-panel-item-icon"},k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-insert-calendar"})),k.a.createElement("div",{className:"le-schedule-panel-item-content"},this._renderDate())),k.a.createElement("div",{className:"le-schedule-panel-item"},k.a.createElement("div",{className:"le-schedule-panel-item-icon"},k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-desc"})),k.a.createElement("div",{className:"le-schedule-panel-item-content"},k.a.createElement(v_e,{className:"le-schedule-panel-desc-textarea",placeholder:t.calendar.tip.desc,isReadonly:r,onKeyDownEnter:n,onChange:this._handleDescChange,autoLink:!0,value:this.state.desc}))))}},{key:"_renderTitleIcon",value:function(){return this.props.isReadonly?k.a.createElement("div",{className:"le-schedule-panel-color-box"},k.a.createElement("span",{className:"le-schedule-panel-color-point",style:{background:STe[this.state.color].line}})):null}},{key:"_renderColor",value:function(){if(this.props.isReadonly)return null;var e=this.props.locale.calendar.lang;return k.a.createElement("div",{className:"le-schedule-panel-item"},k.a.createElement("div",{className:"le-schedule-panel-item-icon"}),k.a.createElement("div",{className:"le-schedule-panel-item-content le-schedule-panel-color-select-wrap"},k.a.createElement(tpe,{className:"le-schedule-panel-color-select",value:this.state.color,getPopupContainer:function(e){return e.parentNode},onChange:this._handleColorChange,defaultActiveFirstOption:!1,dropdownClassName:"le-schedule-panel-color-select-dropdown",dropdownMatchSelectWidth:!1,size:"small"},STe.map((function(t,n){var r=t.line,o=t.name;return k.a.createElement(qTe,{key:n,value:n},k.a.createElement("div",{className:"le-schedule-panel-color-select-option"},k.a.createElement("div",{className:"le-schedule-panel-color-select-icon"},k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-check-success"})),k.a.createElement("div",{className:"le-schedule-panel-color-box"},k.a.createElement("span",{className:"le-schedule-panel-color-point",style:{background:r}})),k.a.createElement("div",{className:"le-schedule-panel-color-option-text"},o[e])))})))))}},{key:"_renderDate",value:function(){return this.props.isReadonly?k.a.createElement("div",{className:"le-schedule-panel-date-text"},this.state.startDate.format("YYYY-MM-DD"),k.a.createElement("span",{className:"le-date-separator"},"~"),this.state.endDate.format("YYYY-MM-DD")):k.a.createElement(JCe.RangePicker,{allowClear:!1,getPopupContainer:function(e){return e},size:"small",onChange:this._handleDateChange,suffixIcon:k.a.createElement("span",null),className:"le-schedule-panel-date-picker",value:[this.state.startDate,this.state.endDate],format:"YYYY-MM-DD"})}}])&&LTe(t.prototype,n),r&&LTe(t,r),i}(w.Component);HTe.propTypes={title:st.a.string,color:st.a.number,startDate:st.a.instanceOf(Zxe.a),endDate:st.a.instanceOf(Zxe.a),desc:st.a.string,locale:st.a.object.isRequired,isReadonly:st.a.bool.isRequired,autoFocus:st.a.bool,onRequestClose:st.a.func},HTe.defaultProps={onRequestClose:function(){}};function UTe(e,t,n){if(0===t.length)return null;for(var r=n.clientX,o=n.clientY,i=e.getBoundingClientRect(),a=o<i.top,c=o>i.bottom,s=-1,l=-1,u=0;u<7;u++){var f=t[u].getBoundingClientRect(),p=f.left,d=f.right;if(r>=p&&r<=d){s=u;break}}for(var h=-1,m=-1,v=0,y=t.length/7;v<y;v++){var g=t[7*v].getBoundingClientRect(),b=g.top,w=g.bottom;if(!(w<=i.top||b>=i.bottom)&&(-1===h&&(h=v),m=v,o>=b&&o<=w)){l=v;break}}var k=t[0].getBoundingClientRect();return-1===s&&(s=r<k.left?0:6),-1===l&&(l=o<t[7*h].getBoundingClientRect().top?h:m),{overflowTop:a,overflowBottom:c,node:t[7*l+s]}}function WTe(e,t,n,r,o){var i=ru(".".concat(n),t),a=[],c=ru(r).closest(".lake-card-calendar-cell-row")[0].firstChild,s=ru(o).closest(".lake-card-calendar-cell-row")[0].firstChild;if(!c||!s)return a;i.css("display","");for(var l=t.getBoundingClientRect(),u=0,f=i.length;u<f;u++){var p=i[u];if(p===s){a.push(p);break}(p===c||a.length)&&a.push(p)}for(var d=r.getBoundingClientRect(),h=o.getBoundingClientRect(),m=0,v=a.length;m<v;m++){var y=a[m],g=0===m,b=m===v-1,w=0,k=2e3;g&&(w=d.left-l.left-1),k=b?g?h.right-d.left+2:h.right-l.left+1:g?l.right-d.left+1:l.width,ru(y).css({left:w+"px",width:k+"px",display:"block"})}return a}function KTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var YTe=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._scrollNode=null,this._scrollSpace=0,this._isRunning=!1,this._stopCallback=null,this.isScrollToTop=!1,this._scrollNode=t,this.isScrollToTop=n,this._scrollSpace=r;var o=t.scrollTop;n&&0===o||!n&&o===r?this._stopCallback&&this._stopCallback():this._start()}var t,n,r;return t=e,(n=[{key:"stop",value:function(){this._isRunning&&(this._isRunning=!1,this._stopCallback&&this._stopCallback())}},{key:"isStop",value:function(){return!this._isRunning}},{key:"onStop",value:function(e){this._stopCallback=e}},{key:"_start",value:function(){var e=this;if(!this._isRunning){this._isRunning=!0;var t=this._calcAnimationDuration();if(0!==t){if(t<100||!window.requestAnimationFrame)return this._scrollNode.scrollTop=this.isScrollToTop?0:this._scrollSpace,void this.stop();var n,r=this._scrollNode,o=this.isScrollToTop,i=r.scrollTop,a=o?i:this._scrollSpace-i,c=o?0:this._scrollSpace;requestAnimationFrame((function s(l){if(e._isRunning){n||(n=l);var u=l-n;if(u>=t)return r.scrollTop=c,void e.stop();r.scrollTop=o?i-u/t*a:i+u/t*a,requestAnimationFrame(s)}}))}else this.stop()}}},{key:"_calcAnimationDuration",value:function(){var e=this._scrollNode.scrollTop,t=this._scrollSpace,n=this.isScrollToTop?e:t-e;return n<=0?0:Math.floor(n/t*1e3)}}])&&KTe(t.prototype,n),r&&KTe(t,r),e}();function XTe(e){return(XTe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GTe(e,t){return(GTe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZTe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=QTe(e);if(t){var o=QTe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return JTe(this,n)}}function JTe(e,t){return!t||"object"!==XTe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QTe(e){return(QTe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eDe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GTe(e,t)}(i,e);var t,n,r,o=ZTe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).rootNodeRef=null,t.panelRef=null,t.panelOpenCounter=1,t.lastClickTime=0,t.lastShowTime=0,t.lastMouseDownTime=0,t.scrollProcessor=null,t._closePanel=function(){t.panelRef.current.hasChange()&&(t.panelRef.current.resetChange(),t.props.onChange(t.panelRef.current.getValue()))},t._handleControlMouseDown=function(e){e.preventDefault(),e.stopPropagation(),t.lastMouseDownTime=0;var n=t.props.schedule,r=t.props.boxRef.current,o=t.props.calendarRootNodeRef.current,i=ru(r).find('[data-id="'.concat(n.getID(),'"]'))[0],a=ru(i).closest(".lake-card-calendar-cell")[0],c=!1;if(r&&a&&o){var s=[],l=null,u=null,f=0,p=Un()((function(e){e.stopPropagation(),e.preventDefault(),c||(c=!0,f=t._getScrollSpace(),l=ru(".lake-card-calendar-cell",r),t.props.onScheduleClick(t.props.schedule));var n=UTe(o,l,e);if(n){var i,p,d=n.node;if(f>0&&(n.overflowTop||n.overflowBottom)?t.startScroll(n.overflowTop,f):t.scrollProcessor&&t.scrollProcessor.stop(),!d||(i=a)!==(p=d)&&0==(i.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_FOLLOWING))return s.length&&ru(s).css("display",""),s=[],void(u=null);if(d!==u){ru(s).css("display","");STe[t.props.schedule.getColorIndex()].line;s=WTe(0,r,"lake-card-calendar-cell-row-bg",a,u=d)}}}),100);document.addEventListener("mousemove",p,!1),document.addEventListener("mouseup",(function e(r){if(r.stopPropagation(),r.preventDefault(),t.scrollProcessor&&t.scrollProcessor.stop(),document.removeEventListener("mousemove",p,!1),document.removeEventListener("mouseup",e,!1),u){ru(s).css("display","");var o=Zxe()(n.getStartMoment()),i=Zxe()(u.getAttribute("data-moment"));t.props.onChange({title:n.getTitle(),color:n.getColorIndex(),desc:n.getDesc(),startDate:o,endDate:i}),t.panelOpenCounter++}}),!1)}},t._handleScheduleMouseDown=function(e){e.preventDefault(),e.stopPropagation(),t.lastMouseDownTime=Date.now();var n=e.clientX,r=e.clientY,o=t.props.boxRef.current,i=t.props.calendarRootNodeRef.current;if(o&&i){var a=t.props.schedule,c=null,s=null,l=null,u=0,f=null,p=null,d=null,h=0,m=Un()((function(e){e.stopPropagation(),e.preventDefault(),c||(t.props.onScheduleClick(t.props.schedule),c=t._createSnapshot(),o.parentNode.appendChild(c),(l=document.createElement("div")).className="lake-card-calendar-schedule-cursor",l.style.width=Math.floor(o.getBoundingClientRect().width/7)-8+"px",o.parentNode.appendChild(l),(p=ru('.lake-card-calendar-schedule[data-id="'.concat(t.props.schedule.getID(),'"]'),t.props.boxRef.current)).css("opacity","0"),d=ru(".lake-card-calendar-cell",o),h=t._getScrollSpace());var a=e.clientX-n,m=e.clientY-r;c.style.left=a+"px",c.style.top=m+"px";var v=UTe(i,d,e);if(v){var y=v.node;if(h>0&&(v.overflowTop||v.overflowBottom)?t.startScroll(v.overflowTop,h):t.scrollProcessor&&t.scrollProcessor.stop(),y){var g=STe[t.props.schedule.getColorIndex()].line;u=function(e,t,n,r,o,i){var a=i.clientY,c=[];if(ru(".lake-card-calendar-schedule",n).each((function(e){ru(e).hasClass("lake-card-calendar-schedule-fake-view")||c.push(e)})),r.style.display="none",0===c.length)return 0;for(var s=t.getBoundingClientRect(),l=0,u=c.length;l<u;l++){var f=c[l].getBoundingClientRect();if(a<=f.bottom)return c[l]===e||c[l-1]===e?-1:(ru(r).css({top:f.top-s.top-2-2+"px",left:f.left-s.left+"px",display:"block",background:o}),l)}if(c[c.length-1]===e)return-1;var p=c[c.length-1].getBoundingClientRect();return ru(r).css({top:p.bottom-s.top+2+"px",left:p.left-s.left+"px",display:"block",background:o}),c.length}(t.rootNodeRef.current,o,y,l,g,e),y!==s&&(ru(f).css("display",""),f=WTe(0,o,"lake-card-calendar-cell-row-bg",s=y,s))}}}),16);document.addEventListener("mousemove",m,!1),document.addEventListener("mouseup",(function e(n){if(n.stopPropagation(),n.preventDefault(),t.scrollProcessor&&t.scrollProcessor.stop(),document.removeEventListener("mousemove",m,!1),document.removeEventListener("mouseup",e,!1),s){ru(f).css("display",""),p.css("opacity",""),c.parentNode.removeChild(c),l.parentNode.removeChild(l);var r=Zxe()(s.getAttribute("data-moment")),o=r.clone().add(a.getDaysCount()-1,"days");t.props.onChange({title:a.getTitle(),color:a.getColorIndex(),desc:a.getDesc(),startDate:r,endDate:o},-1===u?void 0:u)}}),!1)}},t._handleDocumentMousedown=function(e){t.isShowPanel()&&Date.now()-t.lastShowTime>300&&(t.panelRef.current.rootNodeRef.current.contains(e.target)||t._hideDetailPanel())},t._handleScheduleClick=function(e){e.preventDefault(),e.stopPropagation(),!t.props.isReadonly&&Date.now()-t.lastMouseDownTime>300||(t.props.isReadonly?t._showDetailPanel():(t.props.activeID===t.props.schedule.getID()&&t._showDetailPanel(),t.props.onScheduleClick(t.props.schedule),Date.now()-t.lastClickTime<500?(t.lastClickTime=0,t._showDetailPanel()):t.lastClickTime=Date.now()))},t._handleRequestClosePanel=function(){t._hideDetailPanel()},t.rootNodeRef=k.a.createRef(),t.panelRef=k.a.createRef(),t}return t=i,(n=[{key:"componentDidMount",value:function(){this._bindEvent()}},{key:"componentWillUnmount",value:function(){this._unbindEvent()}},{key:"componentDidUpdate",value:function(e){this.props.schedule&&e.panelShowID!==this.props.panelShowID&&e.panelShowID===this.props.schedule.getID()&&this.panelOpenCounter++,e.active!==this.props.active&&(this.props.active?this._bindEvent():this._unbindEvent())}},{key:"_bindEvent",value:function(){this.props.schedule&&document.addEventListener("mousedown",this._handleDocumentMousedown,!0)}},{key:"_unbindEvent",value:function(){document.removeEventListener("mousedown",this._handleDocumentMousedown,!0)}},{key:"render",value:function(){var e="lake-card-calendar-schedule";if(!this.props.schedule)return e+=" lake-card-calendar-schedule-fake-view",k.a.createElement("div",{className:e,ref:this.rootNodeRef});var t=this.props,n=t.schedule,r=t.activeID,o=t.isReadonly,i=t.locale,a=n.getColorIndex();e+=" lake-card-calendar-schedule-index".concat(a),r===n.getID()&&(e+=" active");var c=this._calcPositions(),s={width:c.width+"px"};n.getTitle()||(e+=" empty-title"),c.isStart&&(e+=" start-point"),c.isEnd&&(e+=" end-point");var l=this.props.autoFocusID===n.getID();return k.a.createElement(wk,{placement:this._getPosition(),visible:this.isShowPanel(),autoAdjustOverflow:!0,overlayClassName:"lake-card-calendar-schedule-panel-overlay",getPopupContainer:function(e){return ru(e).closest(".lake-card-calendar")[0]||document.body},content:k.a.createElement(HTe,{"data-id":n.getID(),title:n.getTitle(),isReadonly:this.props.isReadonly,locale:i,startDate:n.getStartMoment(),endDate:n.getEndMoment(),color:n.getColorIndex(),desc:n.getDesc(),ref:this.panelRef,key:this.panelOpenCounter,autoFocus:l,onMouseDown:function(e){return e.stopPropagation()},onRequestClose:this._handleRequestClosePanel,onClick:function(e){return e.stopPropagation()}})},k.a.createElement("div",{className:e,onMouseDown:o?null:this._handleScheduleMouseDown,onClick:this._handleScheduleClick,style:s,ref:this.rootNodeRef,"data-id":n.getID()},k.a.createElement("div",{className:"lake-card-calendar-schedule-line"}),k.a.createElement("div",{className:"lake-card-calendar-schedule-title-preview"},n.getTitle()||i.calendar.tip.title),o?null:k.a.createElement("div",{className:"lake-card-calendar-schedule-control",onMouseDown:this._handleControlMouseDown,onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()}})))}},{key:"isShowPanel",value:function(){return!!this.props.schedule&&this.props.schedule.getID()===this.props.panelShowID&&this.props.panelShowRowIndex===this.props.rowIndex}},{key:"_showDetailPanel",value:function(){this.lastShowTime=Date.now(),this.props.onRequestTogglePanelShow(!0)}},{key:"_hideDetailPanel",value:function(){this._closePanel(),this.props.onRequestTogglePanelShow(!1)}},{key:"_getPosition",value:function(){var e=this.props,t=e.schedule,n=e.columnIndex,r=e.momentDate,o=PTe(r)===t.getStart(),i=r.clone().add(7-n-1,"days"),a=t.getEnd()<=PTe(i),c=t.getEnd()===PTe(i);return a?c&&o?"leftTop":"rightTop":o?"leftTop":"rightTop"}},{key:"_calcPositions",value:function(){var e=this.props,t=e.schedule,n=e.columnIndex,r=e.cellWidths,o=e.momentDate,i=PTe(o)===t.getStart(),a=o.clone().add(7-n-1,"days"),c=t.getEnd()<=PTe(a),s=function(e,t,n,r){for(var o=r.getEnd(),i=e[t],a=1,c=7-t;a<c;a++)PTe(n.clone().add(a,"days"))<=o&&(i+=e[t+a]+1);return i}(r,n,o,t);return i?s-=4:s+=1,c?s-=4:s+=1,{width:s,isStart:i,isEnd:c}}},{key:"_getScrollSpace",value:function(){var e=this._getCalendarRootNode();return e?e.scrollHeight-e.clientHeight:0}},{key:"startScroll",value:function(e,t){var n=this;if(this.scrollProcessor&&!this.scrollProcessor.isStop()){if(this.scrollProcessor.isScrollToTop===e)return;this.scrollProcessor.stop()}var r=this._getCalendarRootNode();if(r){var o=new YTe(r,e,t);this.scrollProcessor=o,this.scrollProcessor.onStop((function(){n.scrollProcessor===o&&(n.scrollProcessor=null)}))}}},{key:"_getCalendarRootNode",value:function(){return this.props.boxRef.current?ru(this.props.boxRef.current).closest(".lake-card-calendar")[0]:null}},{key:"_createSnapshot",value:function(){var e=this.props.boxRef.current,t=e.getBoundingClientRect(),n=this.props.schedule,r=ru(e).find('[data-id="'.concat(n.getID(),'"]')),o=document.createElement("div");o.className="lake-card-calendar-schedule-snapshot";for(var i=0,a=r.length;i<a;i++){var c=r[i].cloneNode(!0),s=r[i].getBoundingClientRect(),l=s.left-t.left,u=s.top-t.top;c.style.transform="translate(".concat(l,"px, ").concat(u,"px)"),o.appendChild(c)}return o}}])&&$Te(t.prototype,n),r&&$Te(t,r),i}(w.Component);function tDe(e,t){var n=[];return Object.keys(t).map((function(e){return Number.parseInt(e,10)})).filter((function(t){return t<e})).sort().forEach((function(r){var o=t[r];o&&0!==o.length&&o.forEach((function(t){t.getEnd()>=e&&n.push(t)}))})),n}function nDe(e,t){for(var n=0,r=t.length;n<r;n++)if(void 0===t[n])return t[n]=e,n;return t.push(e),t.length-1}function rDe(e){return(rDe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oDe(e){return function(e){if(Array.isArray(e))return iDe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return iDe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iDe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iDe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aDe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cDe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aDe(Object(n),!0).forEach((function(t){sDe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aDe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sDe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uDe(e,t){return(uDe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fDe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dDe(e);if(t){var o=dDe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pDe(this,n)}}function pDe(e,t){return!t||"object"!==rDe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dDe(e){return(dDe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}eDe.propTypes={momentDate:st.a.instanceOf(Zxe.a),schedule:st.a.instanceOf(ATe),isReadonly:st.a.bool.isRequired,calendarRootNodeRef:st.a.object,columnIndex:st.a.number.isRequired,locale:st.a.object.isRequired,cellWidths:st.a.arrayOf(st.a.number).isRequired,onChange:st.a.func,boxRef:st.a.object.isRequired,onScheduleClick:st.a.func,activeID:st.a.string,autoFocusID:st.a.string,panelShowID:st.a.string,rowIndex:st.a.number,panelShowRowIndex:st.a.number,onRequestTogglePanelShow:st.a.func,active:st.a.bool},eDe.defaultProps={schedule:null,onChange:function(){},onScheduleClick:function(){},onRequestTogglePanelShow:function(){}};var hDe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uDe(e,t)}(i,e);var t,n,r,o=fDe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={cellWidths:[],activeScheduleID:null,panelShowID:null,panelShowRowIndex:-1},t.today=null,t.cellBoxRef=null,t.schedules=null,t.lastActiveScheduleDate=null,t.autoFocusID=null,t._lastMouseDownTimestamp=0,t._lastClickTimestamp=0,t._updateCellWidth=function(){if(t.cellBoxRef.current){var e=t.cellBoxRef.current.getBoundingClientRect().width-2-6,n=Math.floor(e/7),r=e-5*n;t.setState(cDe(cDe({},t.state),{},{cellWidths:[Math.floor(r/2),n,n,n,n,n,r-Math.floor(r/2)]}))}},t._handleDocumentKeyDown=function(e){e.isComposing||(t.state.panelShowID,t.state.activeScheduleID&&("Backspace"===e.code||"Backspace"===e.key||8===e.keyCode||"Delete"===e.code||"Delete"===e.key||46===e.keyCode?(e.preventDefault(),t.state.panelShowID||t._deleteSchedule(t.state.activeScheduleID)):"Escape"!==e.key&&"Escape"!==e.code&&27!==e.keyCode||(e.preventDefault(),t.state.panelShowID&&(t.setState({panelShowID:null,panelShowRowIndex:-1}),t._hideOverlay()))))},t._handleDocumentMouseDown=function(e){t.state.activeScheduleID&&(ru(e.target).closest('[data-id="'.concat(t.state.activeScheduleID,'"]'),(function(e){var t=ru(e.parentNode);return t.isRoot()?null:t[0]})).length||ru(e.target).hasClass("lake-card-calendar-overlay")||t.setState(cDe(cDe({},t.state),{},{activeScheduleID:null})))},t._handleScheduleClick=function(e){t.state.activeScheduleID!==e.getID()&&t.setState(cDe(cDe({},t.state),{},{activeScheduleID:e.getID()}))},t._handleCellMouseDown=function(){t._lastMouseDownTimestamp=Date.now()},t.today=Zxe()("".concat(Zxe()().format("YYYY-MM-DD")," 01:01:01+08:00")),t.cellBoxRef=k.a.createRef(),t}return t=i,(n=[{key:"render",value:function(){this.lastActiveScheduleDate=null;var e=this._prepare();return k.a.createElement("div",{className:"lake-card-calendar-cell-box-wrap"},k.a.createElement("div",{className:"lake-card-calendar-cell-box",ref:this.cellBoxRef},this._renderCells(e)))}},{key:"componentDidMount",value:function(){this._updateCellWidth(),this._bindEvent(),window.addEventListener("resize",this._updateCellWidth,!1)}},{key:"componentWillUnmount",value:function(){this._unbindEvent(),window.removeEventListener("resize",this._updateCellWidth,!1)}},{key:"componentDidUpdate",value:function(e){e.viewport!==this.props.viewport&&this._updateCellWidth(),e.data.currentDate!==this.props.data.currentDate&&this.state.activeScheduleID&&(this.setState(cDe(cDe({},this.state),{},{activeScheduleID:null,panelShowID:null,panelShowRowIndex:-1})),this._hideOverlay()),e.active!==this.props.active&&(this.props.active?this._bindEvent():(this._unbindEvent(),this.state.activeScheduleID&&(this.setState(cDe(cDe({},this.state),{},{panelShowID:null,activeScheduleID:null,panelShowRowIndex:-1})),this._hideOverlay())))}},{key:"_bindEvent",value:function(){this.props.active&&(document.addEventListener("mousedown",this._handleDocumentMouseDown,!1),this.props.isReadonly||document.addEventListener("keydown",this._handleDocumentKeyDown,!1))}},{key:"_unbindEvent",value:function(){document.removeEventListener("mousedown",this._handleDocumentMouseDown,!1),document.removeEventListener("keydown",this._handleDocumentKeyDown,!1)}},{key:"_prepare",value:function(){var e=this.state.cellWidths,t=this.props,n=t.data,r=t.firstIndex,o=n.currentDate,i=n.schedules,a=RTe(o),c=a.daysInMonth(),s=Math.abs(a.day()-r),l=a.clone().subtract(s,"days"),u=s+c;u+=u%7==0?7:7-u%7;var f=null;return e&&e.length&&(this.schedules=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach((function(n){var r=e[n];r&&(t[n]=r.map(ATe.recover))})),t}(i),f=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=tDe(PTe(e),r),i={},a=[],c=0;c<n;c++){var s=e.clone().add(c,"days");a.push({moment:s,dateNumber:PTe(s)})}o.forEach((function(e){for(var t=0;t<n;t++){var r=a[t].dateNumber;if(e.getEnd()<r)return;i[r]||(i[r]=[]),t%7==0?i[r].push(e):i[r].push(null)}}));for(var l=function(e){var t=a[e],o=r[t.dateNumber];if(!o||0===o.length)return"continue";o.forEach((function(r){i[t.dateNumber]||(i[t.dateNumber]=[]);for(var o=nDe(r,i[t.dateNumber]),c=Math.floor(e/7),s=e+1;s<n;s++){var l=a[s];if(r.getEnd()<l.dateNumber)break;i[l.dateNumber]||(i[l.dateNumber]=[]);var u=Math.floor(s/7),f=s%7==0?r:null;if(c===u)i[l.dateNumber][o]=f;else{var p=a[7*u].dateNumber;p===l.dateNumber?i[l.dateNumber].push(f):i[p]?i[l.dateNumber][i[p].length-1]=f:i[l.dateNumber].push(f)}}}))},u=0;u<n;u++)l(u);return i}(l.clone(),e,u,this.schedules)),{currentMoment:a,startDate:l,totalDayCount:u,scheduleData:f}}},{key:"_renderCells",value:function(e){for(var t,n,r,o=e.startDate,i=e.totalDayCount,a=this.state.cellWidths,c=this.props.firstIndex,s=[],l=0;l<i;l++){var u=o.clone().add(l,"days");t=s,n=this._renderDateCell(u,l,a[u.day()],e),r=void 0,-1==(r=t.length-1)&&(r=0),t[r]?7===t[r].length&&(t[++r]=[]):t[r]=[],t[r].push(n)}return s.map((function(e,t){return k.a.createElement("div",{className:"lake-card-calendar-cell-row",key:(c+t)%7},k.a.createElement("div",{className:"lake-card-calendar-cell-row-bg"}),k.a.createElement("div",{className:"lake-card-calendar-cell-row-inner"},e))}))}},{key:"_renderDateCell",value:function(e,t,n,r){var o=this,i=this.props.isReadonly,a=e.day(),c=Math.floor(t/7),s="lake-card-calendar-cell";e.isSame(this.today)&&(s+=" lake-card-calendar-today-cell"),e.month()!==r.currentMoment.month()&&(s+=" lake-card-calendar-other-month"),0!==a&&6!==a||(s+=" lake-card-calendar-weekend-cell");var l=null;return n&&(l={width:n+"px"}),k.a.createElement("div",{className:s,"data-moment":e.format(),onClick:i?null:function(t){o._handleCellClick(t,e,c)},onMouseDown:i?null:this._handleCellMouseDown,key:e.unix(),style:l},k.a.createElement("div",{className:"lake-card-calendar-day-label"},this.props.isReadonly?null:k.a.createElement("button",{className:"lake-card-calendar-add-schedule-btn"},k.a.createElement("span",{className:"lake-icon lake-icon-plus"})),k.a.createElement("span",{className:"lake-card-calendar-day-label-text"},e.date())),k.a.createElement("div",{className:"lake-card-calendar-cell-body"},this._renderSchedules(e,t,r)))}},{key:"_renderSchedules",value:function(e,t,n){var r=this,o=n.scheduleData,i=this.state,a=i.cellWidths,c=i.activeScheduleID;if(a.length){var s=[],l=this.props,u=l.isReadonly,f=l.active,p=l.locale,d=o[PTe(e)],h=Math.floor(t/7),m=this.autoFocusID;return d?(d.forEach((function(n,o){n&&(c===n.getID()&&(r.lastActiveScheduleDate=n.getStart()),m===n.getID()&&(r.autoFocusID=null)),s.push(k.a.createElement(eDe,{key:n?n.getID():o,cellWidths:a,schedule:n,active:f,calendarRootNodeRef:r.props.calendarRootNodeRef,isReadonly:u,momentDate:e,locale:p,boxRef:r.cellBoxRef,activeID:c,autoFocusID:m,onChange:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];r._handleScheduleDataChange.apply(r,[n].concat(t))},rowIndex:h,panelShowID:r.state.panelShowID,panelShowRowIndex:r.state.panelShowRowIndex,onRequestTogglePanelShow:function(e){r._handlePanelShowRequest(n,h,e)},onScheduleClick:r._handleScheduleClick,columnIndex:t%7}))})),s):s}}},{key:"_handleScheduleDataChange",value:function(e,t,n){var r=e.getStart(),o=PTe(t.startDate),i=cDe({},this.props.data.schedules),a=ATe.recover({id:e.getID(),title:t.title,desc:t.desc,colorIndex:t.color,start:PTe(t.startDate),end:PTe(t.endDate)}).toJSON();if(this._checkNewCreateSchedule(a,e.toJSON())){i[r]=i[r].slice();var c=i[r],s=this.schedules[r].indexOf(e);if(r===o)void 0!==n&&n!==s?(c.splice(n,0,null),c[n]=a,n>s?c.splice(s,1):c.splice(s+1,1)):c[s]=a;else{i[o]=(i[o]||[]).slice();var l=i[o];c.splice(s,1),0===c.length&&delete i[r],void 0!==n?l.splice(n,0,a):l.push(a)}this.props.onChange(cDe(cDe({},this.props.data),{},{schedules:i}))}}},{key:"_handleAddBtnClick",value:function(e,t,n){e.preventDefault(),e.stopPropagation(),this._addSchedule(t,n)}},{key:"_handleCellClick",value:function(e,t,n){e.preventDefault(),e.stopPropagation();var r=Date.now();r-this._lastMouseDownTimestamp>300||r-this._lastClickTimestamp<300||(this._lastClickTimestamp=Date.now(),this._addSchedule(t,n))}},{key:"_handlePanelShowRequest",value:function(e,t,n){var r=null;if(n)r=e.getID(),this._showOverlay();else if(this._hideOverlay(),!this._checkNewCreateSchedule(e.toJSON()))return;this.setState(cDe(cDe({},this.state),{},{panelShowID:r,activeScheduleID:r,panelShowRowIndex:t}))}},{key:"_showOverlay",value:function(){var e=ru(this.cellBoxRef.current).closest(".lake-card-calendar").find(".lake-card-calendar-overlay");e.length&&(e[0].style.display="block")}},{key:"_hideOverlay",value:function(){var e=ru(this.cellBoxRef.current).closest(".lake-card-calendar").find(".lake-card-calendar-overlay");e.length&&(e[0].style.display="none")}},{key:"_checkNewCreateSchedule",value:function(e,t){var n=this._newCreateID;return this._newCreateID=null,t||(t=e),!(n&&e.id===n&&!e.title&&!e.desc&&e.start===t.start&&e.end===t.end&&e.colorIndex===t.colorIndex&&(this._deleteSchedule(n,!0),1))}},{key:"_addSchedule",value:function(e,t){var n=this.props.data,r=n.schedules,o=void 0===r?{}:r,i=PTe(e),a=o[i]||[],c=[].concat(oDe(a),[new ATe(null,null,(n.colorIndex||0)%STe.length,i).toJSON()]),s=c[c.length-1].id;this.setState({panelShowID:s,panelShowRowIndex:t,activeScheduleID:s}),this._newCreateID=s,this._showOverlay(),this.autoFocusID=s,this.props.onChange(cDe(cDe({},n),{},{colorIndex:((n.colorIndex||0)+1)%STe.length,schedules:cDe(cDe({},o),{},sDe({},i,c))}))}},{key:"_deleteSchedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.lastActiveScheduleDate){for(var n=cDe({},this.props.data.schedules),r=n[this.lastActiveScheduleDate].slice(),o=-1,i=0,a=r.length;i<a;i++)if(r[i].id===e){o=i;break}if(-1!==o){0===r.length?delete n[this.lastActiveScheduleDate]:(r.splice(o,1),n[this.lastActiveScheduleDate]=r);var c=cDe(cDe({},this.props.data),{},{schedules:n});t&&(c.colorIndex=c.colorIndex-1||0),this.props.onChange(c)}}}}])&&lDe(t.prototype,n),r&&lDe(t,r),i}(w.Component);function mDe(e){return(mDe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vDe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yDe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vDe(Object(n),!0).forEach((function(t){gDe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vDe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gDe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wDe(e,t){return(wDe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kDe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ODe(e);if(t){var o=ODe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xDe(this,n)}}function xDe(e,t){return!t||"object"!==mDe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ODe(e){return(ODe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}hDe.propTypes={data:st.a.object.isRequired,firstIndex:st.a.number,active:st.a.bool.isRequired,isReadonly:st.a.bool.isRequired,calendarRootNodeRef:st.a.object,locale:st.a.object.isRequired,viewport:st.a.string,onChange:st.a.func,onUndo:st.a.func,onRedo:st.a.func},hDe.defaultProps={onChange:function(){},onUndo:function(){},onRedo:function(){}};var CDe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wDe(e,t)}(i,e);var t,n,r,o=kDe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={error:null},t.rootRef=null,t._handleNextBtnClick=function(e){e.preventDefault(),e.stopPropagation(),t._updateCurrentDate(!0)},t._handlePrevBtnClick=function(e){e.preventDefault(),e.stopPropagation(),t._updateCurrentDate(!1)},t._gotoToday=function(e){e.stopPropagation(),e.preventDefault();var n=PTe(Zxe()("".concat(Zxe()().format("YYYY-MM"),"-01 01:01:01+08:00"),"YYYY-MM-DD HH:mm:ss"));t.props.data.currentDate!==n&&t.props.onChange(yDe(yDe({},t.props.data),{},{currentDate:n}))},t.rootRef=k.a.createRef(),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.onReady(this)}},{key:"componentDidCatch",value:function(e,t){console.error(e),console.error(t),this.setState({error:e})}},{key:"componentDidUpdate",value:function(e){!this.props.active&&e.active&&this.rootRef.current&&ru(".lake-card-calendar-overlay",this.rootRef.current).css("display","none")}},{key:"componentWillUnmount",value:function(){this.rootRef.current&&ru(".lake-card-calendar-overlay",this.rootRef.current).css("display","none")}},{key:"render",value:function(){var e={};return this.props.data.height&&(e.height=this.props.data.height+"px"),this.state.error?k.a.createElement("div",{className:"lake-card-calendar",ref:this.rootRef,style:e},k.a.createElement("div",{className:"error-tip"},this.props.locale.calendar.tip.error)):k.a.createElement("div",{className:"lake-card-calendar",ref:this.rootRef,style:e},k.a.createElement("div",{className:"lake-card-calendar-overlay"}),this._renderHeader(),this._renderBody())}},{key:"_renderHeader",value:function(){var e=this.props.data.currentDate,t=this.props.locale,n=RTe(e);return k.a.createElement("div",{className:"lake-card-calendar-header"},k.a.createElement(nje,{autoInsertSpaceInButton:!1},k.a.createElement(Oee,{className:"lake-card-calendar-today-btn",onClick:this._gotoToday},t.calendar.today)),k.a.createElement("div",{className:"lake-card-calendar-month-selector"},k.a.createElement("button",{className:"lake-card-calendar-month-prev-btn",onClick:this._handlePrevBtnClick},k.a.createElement("span",{className:"lake-icon lake-icon-calendar-arrow-left"})),k.a.createElement("div",null,n.format(t.calendar.format)),k.a.createElement("button",{className:"lake-card-calendar-month-next-btn",onClick:this._handleNextBtnClick},k.a.createElement("span",{className:"lake-icon lake-icon-calendar-arrow-right"}))))}},{key:"_renderBody",value:function(){return k.a.createElement("div",{className:"lake-card-calendar-body"},this._renderWeekNames(),k.a.createElement(hDe,{firstIndex:this.props.firstIndex,active:this.props.active,locale:this.props.locale,viewport:this.props.viewport,calendarRootNodeRef:this.rootRef,isReadonly:this.props.isReadonly,data:this.props.data,onChange:this.props.onChange,onUndo:this.props.onUndo,onRedo:this.props.onRedo}))}},{key:"_renderWeekNames",value:function(){for(var e=[],t=this.props,n=t.firstIndex,r=t.locale,o=0;o<7;o++)e.push(k.a.createElement("div",{className:"lake-card-calendar-week-name",key:n},r.calendar.weekdays[n])),n=(n+1)%7;return k.a.createElement("div",{className:"lake-card-calendar-week-names"},e)}},{key:"_updateCurrentDate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.data,n=RTe(t.currentDate);e?n.add(1,"months"):n.subtract(1,"months"),this.props.onChange(yDe(yDe({},t),{},{currentDate:PTe(n)}))}}])&&bDe(t.prototype,n),r&&bDe(t,r),i}(w.Component);function _De(e){return(_De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EDe(e){return function(e){if(Array.isArray(e))return jDe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jDe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jDe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jDe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RDe(e,t,n){return(RDe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=MDe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function TDe(e,t){return(TDe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function DDe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=MDe(e);if(t){var o=MDe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ADe(this,n)}}function ADe(e,t){return!t||"object"!==_De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function MDe(e){return(MDe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}CDe.propTypes={onReady:st.a.func,firstIndex:st.a.number,isReadonly:st.a.bool.isRequired,active:st.a.bool.isRequired,viewport:st.a.string,data:st.a.object.isRequired,locale:st.a.object.isRequired,onChange:st.a.func,onUndo:st.a.func,onRedo:st.a.func},CDe.defaultProps={active:!1,onReady:function(){},firstIndex:0,onChange:function(){},onUndo:function(){},onRedo:function(){}};var NDe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TDe(e,t)}(i,e);var t,n,r,o=DDe(i);function i(){var e;SDe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).isActive=!1,e._inited=!1,e.onUndo=function(t){e.engine&&(t.preventDefault(),e.engine.command.execute("undo"))},e.onRedo=function(t){e.engine&&(t.preventDefault(),e.engine.command.execute("redo"))},e}return t=i,(n=[{key:"embedToolbar",value:function(){var e=this;if(this.engine)return[{type:"dnd"},{type:"copy"},{type:"separator"},{type:"copyCardLink",onClick:function(){return e.copyCardEmbedLink()}},{type:"separator"}].concat(EDe(this.getMoreEmbedToolbarConfig()))}},{key:"activate",value:function(){this.engine&&(this.engine.toolbar.disable(!0),this.resizeController.show()),this.isActive=!0,this._updateView(this.container[0],this.getCardValue())}},{key:"unactivate",value:function(){this.engine&&(this.engine.toolbar.disable(!1),this.resizeController.hide()),this.isActive=!1,this._updateView(this.container[0],this.getCardValue())}},{key:"saveCardValue",value:function(e){var t=this.cardRoot;this.engine&&this.engine.card.setValue(t,e)}},{key:"getCardValue",value:function(){var e=this.cardRoot,t=this.getTopEngine();return t?t.card.getValue(e):{}}},{key:"render",value:function(e,t){var n=e[0];if(!t.currentDate){var r=Zxe()();t.currentDate=PTe(Zxe()("".concat(r.format("YYYY-MM"),"-01 01:01:01+08:00"))),this.saveCardValue(t)}this._inited||(this._inited=!0,this._bindEvent()),this._updateView(n,t),this.toggleMargin()}},{key:"destroy",value:function(){this.engine&&this.engine.toolbar.disable(!1),this.resizeController&&this.resizeController.hide(),this.container[0]&&He.a.unmountComponentAtNode(this.container[0]),RDe(MDe(i.prototype),"destroy",this).call(this)}},{key:"_bindEvent",value:function(){var e=this;this.getTopEngine().on("viewportchange",(function(){e._updateView(e.container[0],e.getCardValue())}))}},{key:"_updateData",value:function(e){this.saveCardValue(e),this._updateView(this.container[0],e),this.engine&&this.engine.setUserChanged()}},{key:"_updateView",value:function(e,t){var n=this,r=!this.engine,o=!!r||this.isActive;He.a.render(k.a.createElement(CDe,{data:t,active:o,onReady:function(){n.createResizeController(ru(".lake-card-calendar",e))},isReadonly:r,locale:this.getTopEngine().locale,onUndo:this.onUndo,viewport:this.getTopEngine().viewport,onRedo:this.onRedo,onChange:function(e){return n._updateData(e)}}),e)}}])&&PDe(t.prototype,n),r&&PDe(t,r),i}(uw);function IDe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LDe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}NDe.type="block";var zDe="premium";function BDe(e){return 1===e.card.getComponentsByName(zDe).length}function VDe(e){var t=-1;return e.replace(/<card\s+([\s\S]*?)(?:\/>|<\/card>)/g,(function(e,n,r){return n&&-1===t?(Cl.getAttrMap(n).name===zDe&&(t=r+e.length),e):e})),-1===t?null:e.substring(0,t)}var qDe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__engine=null,this.__data=null,this.__engine=t}var t,n,r;return t=e,(n=[{key:"setRawMeta",value:function(e){this.__data=e}},{key:"getRawMeta",value:function(){return this.__data}},{key:"hasMeta",value:function(){return null!==this.getMeta()}},{key:"getMeta",value:function(){var e=this.__engine.card.getComponentsByName(zDe);return 1!==e.length?null:e[0].getValue()}}])&&FDe(t.prototype,n),r&&FDe(t,r),e}(),HDe={bothInit:function(){this.metaManager.registerProvider("premium",new qDe(this))},initialize:function(){var e=this;this.on("paste:origin",(function(t){Nu.fetchAllChildren(t).forEach((function(t){var n=ru(t);n.isCard()&&e.card.getName(n)===zDe&&n.remove()}))})),this.command.add("premium",{sideEffect:!0,execute:function(){if(!(e.card.getComponentsByName(zDe).length>0)){var t=e.metaManager.getRawMeta("skylark"),n={};t&&t.docID&&(n.docID=t.docID),e.change.insertCard(zDe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IDe(Object(n),!0).forEach((function(t){LDe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IDe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n))}}})},getPublicContent:function(){return BDe(this)?VDe(this.getContent()):null},getPublicPureContent:function(){return BDe(this)?VDe(this.getPureContent()):null},getPublicValue:function(){return BDe(this)?VDe(this.getValue()):null}};function UDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var WDe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__skylarkData=null}var t,n,r;return t=e,(n=[{key:"setRawMeta",value:function(e){this.__skylarkData=e}},{key:"getRawMeta",value:function(){return this.__skylarkData}},{key:"getMeta",value:function(){return null}},{key:"hasMeta",value:function(){return!1}}])&&UDe(t.prototype,n),r&&UDe(t,r),e}(),KDe={bothInit:function(){this.metaManager.registerProvider("skylark",new WDe)}},YDe={toggleToLink:function(e){var t=e.value,n=t.src,r=t.text;if(n){var o=document.createRange();o.setStartAfter(e.cardRoot[0]),o.collapse(!0),this.change.removeCard(e.cardRoot);var i=document.createElement("a");i.href=Cl.sanitizeUrl(n),i.setAttribute("target","_blank"),i.innerText=r||n;var a=o.startContainer.childNodes[o.startOffset];a?a.parentNode.insertBefore(i,a):o.startContainer.appendChild(i),o.selectNode(i),o.collapse(!1),this.change.select(o)}}},XDe={initialize:function(){var e=this;this.command.add("transfer",{sideEffect:!0,execute:function(t){e.change.insertCard("transfer",t)}})},onTransferComplete:function(e,t,n){this.change.removeCard(e),$De.call(this,t,n)}};function $De(e,t){var n=e.filename+"."+e.ext;if(Ve.isImage(n))return GDe.call(this,e,t);if(Ve.isAudio(n))return JDe.call(this,e,t);if(Ve.isVideo(n))return ZDe.call(this,e,t);if("Doc"===e.target_type)return tAe.call(this,e);var r=qx("localdoc").split(/\s*,\s*/),o=(e.ext||"").toLowerCase();return-1!==r.indexOf("."+o)?QDe.call(this,e,t):eAe.call(this,e,t)}function GDe(e,t){this.change.insertCard("image",{status:"done",source:"transfer",src:t.url,size:e.filesize,margin:{top:!0,bottom:!0},name:e.filename+"."+e.ext})}function ZDe(e,t){this.change.insertCard("video",{status:"done",source:"transfer",videoId:t.video_id,size:e.size,margin:!0,name:e.filename+"."+e.ext})}function JDe(e,t){this.change.insertCard("audio",{status:"done",source:"transfer",audioId:t.video_id,size:e.size,margin:!0,name:e.filename+"."+e.ext})}function QDe(e,t){this.change.insertCard("localdoc",{status:"done",source:"transfer",src:t.url,name:e.filename+"."+e.ext,ext:e.ext,size:e.filesize,collapsed:!0,margin:!0})}function eAe(e,t){this.change.insertCard("file",{status:"done",source:"transfer",src:t.url,name:e.filename+"."+e.ext,ext:e.ext,size:e.filesize})}function tAe(e){var t=new URL(e.url,location.href),n=t.href;t.searchParams.append("view","doc_embed");var r=t.href;this.change.insertCard("yuque",{source:"transfer",margin:!0,url:r,src:n,mode:"card",detail:e.detail})}xb.card.add("cardselect",YC),xb.card.add("mention",Sye),xb.card.add("emoji",e_),xb.card.add("image",L_),xb.card.add("file",G_),xb.card.add("codeblock",xde),xb.card.add("math",Rw),xb.card.add("calendar",NDe),xb.card.add("table",Cme),xb.card.add("riddle",rye),xb.card.add("mindmap",Wle),xb.card.add("flowchart2",sue),xb.card.add("youku",hye),xb.card.add("processon",oxe),xb.card.add("video",gve),xb.card.add("premium",Dxe),xb.card.add("label",nke),xb.card.add("thirdparty",oxe),xb.card.add("bookmarklink",Yxe),xb.card.add("vote",Yje),xb.card.add("audio",MPe),xb.card.add("puml",Vpe),xb.card.add("mermaid",Vpe),xb.card.add("flowchart",Vpe),xb.card.add("graphviz",Vpe),xb.card.add("diagram",Vpe),xb.card.add("yuque",Zge),xb.card.add("yuqueinline",abe),xb.card.add("lockedtext",Vbe),xb.card.add("localdoc",hwe),xb.card.add("transfer",vSe),xb.plugin.add("link",hTe),xb.plugin.add("linkCard",OTe),xb.plugin.add("translate",URe),xb.plugin.add("search",zPe),xb.plugin.add("save",IPe),xb.plugin.add("cardselect",VPe),xb.plugin.add("mention",FRe),xb.plugin.add("emoji",{initialize:function(){var e=this;this.command.add("emoji",{sideEffect:!0,execute:function(t){var n=null;t.url?n=t.url:t.point&&(n="https://gw.alipayobjects.com/a/g/lark/twemoji/2.3.6/".concat(t.point,".svg")),n&&e.change.insertCard("emoji",{src:n,package:t.package||"default"})}}),this.on("paste:schema",(function(e){e.add([{img:{class:"lake-emoji"}},{span:{"data-type":"*",style:{"background-image":"*"}}}])})),this.on("paste:each",(function(t){if("img"===t.name&&t.hasClass("lake-emoji")){var n=/(https?:\/\/.+?\.svg)/i.exec(t[0].outerHTML);n&&e.card.replaceNode(t,"emoji",n[1])}else if("span"!==t.name||"emoji"!==t.attr("data-type"));else{var r=/(https?:\/\/.+?\.svg)/i.exec(t[0].outerHTML);r&&(t.empty(),e.card.replaceNode(t,"emoji",r[1]))}}))}}),xb.plugin.add("image",rRe),xb.plugin.add("file",oRe),xb.plugin.add("codeblock",SRe),xb.plugin.add("math",NPe),xb.plugin.add("calendar",{initialize:function(){var e=this;this.command.add("calendar",{sideEffect:!0,execute:function(){var t=e.change.insertCard("calendar",{margin:!0});e.change.focusCard(t)}})}}),xb.plugin.add("table",ARe),xb.plugin.add("riddle",NRe),xb.plugin.add("youku",IRe),xb.plugin.add("thirdparty",jTe),xb.plugin.add("video",MRe),xb.plugin.add("diagram",ERe),xb.plugin.add("toc",vRe),xb.plugin.add("repository",bRe),xb.plugin.add("moremark",wRe),xb.plugin.add("mindmap",ale),xb.plugin.add("plugin",_Re),xb.plugin.add("pastemarkdown",VRe),xb.plugin.add("yuque",XRe),xb.plugin.add("lockedtext",$Re),xb.plugin.add("label",GRe),xb.plugin.add("premium",HDe),xb.plugin.add("skylark",KDe),xb.plugin.add("bookmarklink",YDe),xb.plugin.add("vote",{initialize:function(){var e=this;this.command.add("vote",{sideEffect:!0,execute:function(){var t=e.change.insertCard("vote",{margin:!0});e.change.focusCard(t)}})}}),xb.plugin.add("transfer",XDe);var nAe=xb,rAe=n(122),oAe=n.n(rAe);function iAe(e){return(iAe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cAe(e,t){return(cAe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sAe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uAe(e);if(t){var o=uAe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lAe(this,n)}}function lAe(e,t){return!t||"object"!==iAe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uAe(e){return(uAe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fAe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cAe(e,t)}(i,e);var t,n,r,o=sAe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e))._clickTimer=null,t.onClick=function(e){if(e.preventDefault(),!t.props.onDblClick)return t._onClick(e);t._clickTimer||(t._clickTimer=setTimeout((function(){t._clickTimer=null,t._onClick(e)}),300))},t.onDblClick=function(e){e.preventDefault(),t._clickTimer&&(clearTimeout(t._clickTimer),t._clickTimer=null);var n=t.props,r=n.name,o=n.onDblClick;n.disabled||(t.setState({visible:!1}),o&&o(e,r))},t.onMouseOver=function(e){var n=t.props,r=n.onMouseOver;n.disabled||(r&&r(),e.preventDefault())},t.onMouseDown=function(e){e.preventDefault();var n=t.props,r=n.name,o=n.onMouseDown;n.disabled||("paintformat"===r&&e.stopPropagation(),o&&o(e))},t.onMouseEnter=function(){t.props.outerVisible||t.setState({visible:!0})},t.onMouseLeave=function(){t.setState({visible:!1})},t.state={visible:!1},t}return t=i,(n=[{key:"componentWillUnmount",value:function(){this._clickTimer&&(clearTimeout(this._clickTimer),this._clickTimer=null)}},{key:"_onClick",value:function(e){var t=this.props,n=t.name,r=t.onClick;t.disabled||(this.setState({visible:!1}),r&&r(e,n))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.name,r=e.title,o=e.icon,i=e.hotkey,a=e.active,c=e.disabled,s=e.hasArrow,l=e.currentText,u=e.content,f=e.mobile;r="function"==typeof r&&r()||r,i&&(r=k.a.createElement("div",{style:{textAlign:"center"}},r,k.a.createElement("br",null),k.a.createElement("span",{className:"lake-button-hotkey"},i)));var p=this.state.visible;r&&!f||(p=!1);var d="main-".concat(n,"-button");return k.a.createElement(dn,{title:r,placement:"bottom",visible:p,overlayClassName:"lake-toolbar-tooltip"},k.a.createElement("button",{accessbilityid:d,className:_t()("lake-button",t,{"lake-button-active":a,"lake-button-disabled":c}),onClick:this.onClick,onDoubleClick:this.props.onDblClick?this.onDblClick:null,onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseOver:this.onMouseOver},u,l&&k.a.createElement("span",{className:"lake-button-inner-text"},l),o&&k.a.createElement("span",{dangerouslySetInnerHTML:{__html:o}}),s&&k.a.createElement("span",{className:"lake-icon lake-icon-arrow"})))}}])&&aAe(t.prototype,n),r&&aAe(t,r),i}(k.a.Component);fAe.propTypes={name:st.a.string,className:st.a.string,title:st.a.any,icon:st.a.string,hotkey:st.a.string,active:st.a.bool,disabled:st.a.bool,hasArrow:st.a.bool,currentText:st.a.string,content:st.a.any,onClick:st.a.func,onDblClick:st.a.func,onMouseDown:st.a.func,onMouseOver:st.a.func,outerVisible:st.a.bool,mobile:st.a.bool};var pAe=fAe;function dAe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hAe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hAe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hAe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mAe={"zh-cn":{more:"更多"},en:{more:"More"}};function vAe(e){var t=e.children,n=e.width,r=e.lang||"zh-cn",o=dAe(Object(w.useState)(!1),2),i=o[0],a=o[1];return k.a.createElement("div",{className:_t()("lake-toolbar-area","lake-toolbar-more",{"lake-toolbar-area-hide":!t||!t.length})},k.a.createElement("div",{className:"lake-button-set"},k.a.createElement("div",{className:_t()("lake-button-set-trigger",{"lake-button-set-trigger-active":i})},k.a.createElement(pAe,{title:(mAe[r]||{}).more||"更多",icon:'<span class="lake-icon lake-icon-more" />',name:"more",className:"lark-button-more",active:i,hasArrow:!1,onClick:function(e){e.preventDefault(),e.stopPropagation(),a(!i)},outerVisible:i})),k.a.createElement("div",{className:_t()("lake-button-set-list","lake-button-set-list-hoz",{"lake-button-set-list-active":i}),style:{width:"".concat(n,"px")}},t)))}vAe.defaultProps={lang:"zh-cn"},vAe.propTypes={children:st.a.array,width:st.a.number,lang:st.a.string.isRequired};var yAe=vAe;function gAe(e){return(gAe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bAe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wAe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bAe(Object(n),!0).forEach((function(t){kAe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bAe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kAe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OAe(e,t){return(OAe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function CAe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=EAe(e);if(t){var o=EAe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _Ae(this,n)}}function _Ae(e,t){return!t||"object"!==gAe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function EAe(e){return(EAe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jAe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OAe(e,t)}(i,e);var t,n,r,o=CAe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).toggleDropdown=function(){t.props.disabled||(t.state.active?t.hideDropdown():t.showDropdown())},t.showDropdown=function(){!0!==t.state.active&&(document.addEventListener("click",t.hideDropdown),t.setState({active:!0}))},t.hideDropdown=function(e){if(e)for(var n=e.target;n;){if(n===t.buttonArea.current||n.classList&&n.classList.contains("lake-prevent-card-activated"))return;n=n.parentNode}document.removeEventListener("click",t.hideDropdown),t.setState({active:!1})},t.buttonArea=k.a.createRef(),t.state={active:!1},t}return t=i,(n=[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideDropdown)}},{key:"render",value:function(){var e=this.state.active,t=wAe({},this.props);t.active=e,t.onClick=this.toggleDropdown;var n=wAe({},this.props);return n.active=e,n.onClick=this.toggleDropdown,n.onBeforeUpload=this.toggleDropdown,n.activeKeys=n.data.map((function(e,t){return String(t)})),k.a.createElement("div",{className:"lake-button-set lake-collapse-button",ref:this.buttonArea},k.a.createElement("div",{className:_t()("lake-button-set-trigger",{"lake-button-set-trigger-active":e})},k.a.createElement(pAe,t)),k.a.createElement(cC,n))}}])&&xAe(t.prototype,n),r&&xAe(t,r),i}(k.a.Component);jAe.propTypes={disabled:st.a.bool};var SAe=jAe;function PAe(e){return(PAe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TAe(e,t){return(TAe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function DAe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=MAe(e);if(t){var o=MAe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return AAe(this,n)}}function AAe(e,t){return!t||"object"!==PAe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function MAe(e){return(MAe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var NAe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TAe(e,t)}(i,e);var t,n,r,o=DAe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onSelect=function(e,n){e.preventDefault(),e.stopPropagation(),t.props.onSelect(n)},t.rootNodeRef=k.a.createRef(),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.resetPosition()}},{key:"componentDidUpdate",value:function(){this.resetPosition()}},{key:"resetPosition",value:function(){var e=this.rootNodeRef.current;if(e&&this.props.active){var t=e.parentNode;if(t){var n=t.getBoundingClientRect();window.innerHeight-n.bottom<n.top?e.classList.add("lake-button-set-list-to-top"):e.classList.remove("lake-button-set-list-to-top")}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.name,r=t.data,o=t.active,i=t.currentValue,a=t.className,c=!["indent"].includes(n),s="lake-button-icon-list"===a;return Array.isArray(i)||(i=[i]),k.a.createElement("div",{ref:this.rootNodeRef,className:_t()("lake-button-set-list",{"lake-button-set-list-active":o,"lake-button-set-list-with-dot":c})},r.map((function(t,n){return s?k.a.createElement(dn,{key:n,title:t.shortcut,placement:"right"},k.a.createElement("a",{className:_t()("lake-button-set-list-item",t.className),onClick:function(n){return e.onSelect(n,t.key)}},i.indexOf(t.key)>=0&&k.a.createElement("span",{className:"lake-icon lake-icon-dot"}),k.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.icon}}),k.a.createElement("span",{style:{fontSize:12}},t.title))):k.a.createElement("a",{key:n,className:_t()("lake-button-set-list-item",t.className),onClick:function(n){return e.onSelect(n,t.key)}},i.indexOf(t.key)>=0&&k.a.createElement("span",{className:"lake-icon lake-icon-dot"}),k.a.createElement("span",null,t.value))})))}}])&&RAe(t.prototype,n),r&&RAe(t,r),i}(k.a.Component);NAe.propTypes={className:st.a.string,name:st.a.string,data:st.a.array,active:st.a.bool,currentValue:st.a.any,onSelect:st.a.func};var IAe=NAe;function LAe(e){return(LAe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FAe(){return(FAe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zAe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BAe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qAe(e,t){return(qAe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HAe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=WAe(e);if(t){var o=WAe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return UAe(this,n)}}function UAe(e,t){return!t||"object"!==LAe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function WAe(e){return(WAe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var KAe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qAe(e,t)}(i,e);var t,n,r,o=HAe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).toggleDropdown=function(e){e.preventDefault(),e.stopPropagation(),t.props.disabled||(t.state.active?t.hideDropdown():t.showDropdown())},t.showDropdown=function(){document.addEventListener("click",t.hideDropdown),t.setState({active:!0})},t.hideDropdown=function(){document.removeEventListener("click",t.hideDropdown),t.setState({active:!1})},t.state={active:!1},t}return t=i,(n=[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideDropdown)}},{key:"render",value:function(){var e=this.state.active,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zAe(Object(n),!0).forEach((function(t){BAe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zAe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props);return delete t.onClick,delete t.active,k.a.createElement("div",{className:"lake-button-set",onClick:this.toggleDropdown},k.a.createElement("div",{className:_t()("lake-button-set-trigger",{"lake-button-set-trigger-active":e})},k.a.createElement(pAe,FAe({active:e},t))),k.a.createElement(IAe,{className:this.props.className,active:e,name:this.props.name,data:this.props.data,currentValue:this.props.active,onSelect:this.props.onClick}))}}])&&VAe(t.prototype,n),r&&VAe(t,r),i}(k.a.Component);KAe.propTypes={className:st.a.string,name:st.a.string,data:st.a.array,disabled:st.a.bool,active:st.a.any,onClick:st.a.func};var YAe=KAe;function XAe(e){return(XAe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZAe(e,t){return(ZAe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function JAe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eMe(e);if(t){var o=eMe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QAe(this,n)}}function QAe(e,t){return!t||"object"!==XAe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eMe(e){return(eMe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tMe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZAe(e,t)}(i,e);var t,n,r,o=JAe(i);function i(){return $Ae(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return this.props.disabled?k.a.createElement(pAe,this.props):k.a.createElement(Pk,this.props,k.a.createElement(pAe,this.props))}}])&&GAe(t.prototype,n),r&&GAe(t,r),i}(k.a.Component);tMe.propTypes={disabled:st.a.bool};var nMe=tMe;function rMe(e){return(rMe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oMe(e){return function(e){if(Array.isArray(e))return iMe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return iMe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iMe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iMe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cMe(e,t){return(cMe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sMe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uMe(e);if(t){var o=uMe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lMe(this,n)}}function lMe(e,t){return!t||"object"!==rMe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uMe(e){return(uMe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fMe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cMe(e,t)}(i,e);var t,n,r,o=sMe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).toggleDropdown=function(e){e.preventDefault(),e.stopPropagation(),t.state.active?t.hideDropdown():t.showDropdown()},t.showDropdown=function(){document.addEventListener("click",t.hideDropdown),t.setState({active:!0})},t.hideDropdown=function(e){e.target.closest('[data-lake-editor-ui="colorpicker"]')||(document.removeEventListener("click",t.hideDropdown),t.setState({active:!1}))},t.handleClick=function(){t.props.onClick(t.state.currentColor)},t.handleSelect=function(e){t.setState({currentColor:e}),t.props.onClick(e)},t.addCustomColor=function(e){var n=t.state.currentCustomColors;if(!n.includes(e)){var r=[e].concat(oMe(n));r.length>10&&(r=r.slice(r.length-10)),t.setState({currentCustomColors:r})}},t.getIcon=function(e){return"fontcolor"===e?t.fontColorIcon():"backcolor"===e?t.backgroundColorIcon():"highlight"===e?t.textHighlightIcon():null},t.state={currentColor:e.currentColor,currentCustomColors:[],active:!1},t}return t=i,(n=[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideDropdown)}},{key:"textHighlightIcon",value:function(){var e="#FFD666",t="#FFFBE6";this.state.disabled&&(t="#BFBFBF",e="#BFBFBF");var n=this.state.currentColor;return n&&(t=n,e=vwe.getStroke(n)),k.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1"},k.a.createElement("title",null,"highlight"),k.a.createElement("desc",null,"Created with Sketch."),k.a.createElement("g",{id:"highlight",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},k.a.createElement("rect",{id:"Rectangle-55",stroke:e,strokeWidth:"0.5",fill:t,x:"2",y:"12.75",width:"12",height:"1.5",rx:"0.125"}),k.a.createElement("g",{id:"Group-2",transform:"translate(2.781250, 1.375000)",fillRule:"nonzero"},k.a.createElement("path",{fill:"#595959",d:"M2.86079849,6.64817222 L2.05713835,5.84451208 C2.00832281,5.79569655 2.00832281,5.71655092 2.05713835,5.66773539 L3.61029491,4.11457882 L3.11963835,3.62392225 C3.07082281,3.57510672 3.07082281,3.49596109 3.11963835,3.44714556 L6.47839556,0.0883883476 C6.52721109,0.0395728112 6.60635672,0.0395728112 6.65517225,0.0883883476 L11.5165314,4.94974747 C11.5653469,4.998563 11.5653469,5.07770863 11.5165314,5.12652416 L8.15777416,8.48528137 C8.10895863,8.53409691 8.029813,8.53409691 7.98099747,8.48528137 L7.38889678,7.89318068 L5.83574021,9.44633725 C5.78692467,9.49515278 5.70777905,9.49515278 5.65896351,9.44633725 L5.0267407,8.81411444 L4.48856529,9.35326519 C4.39477378,9.44720966 4.26747335,9.5 4.13472392,9.5 L0.608857988,9.5 C0.470786801,9.5 0.358857988,9.38807119 0.358857988,9.25 C0.358857988,9.18363253 0.385247413,9.11998865 0.432210608,9.07309408 L2.86079849,6.64817222 Z M6.56678391,1.67937861 L4.71062861,3.53553391 L8.06938582,6.89429112 L9.92554112,5.03813582 L6.56678391,1.67937861 Z M3.64812861,5.75612373 L5.74735186,7.85534699 L6.54284699,7.05985186 L4.44362373,4.96062861 L3.64812861,5.75612373 Z",id:"Combined-Shape"}))))}},{key:"backgroundColorIcon",value:function(){var e="#FFD666",t="#FFFBE6";this.state.disabled&&(t="#BFBFBF",e="#BFBFBF");var n=this.state.currentColor;return n&&(t=n,e=vwe.getStroke(n)),k.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1"},k.a.createElement("title",null,"color-bg"),k.a.createElement("desc",null,"Created with Sketch."),k.a.createElement("g",{id:"color-bg",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},k.a.createElement("path",{d:"M11.9745711,7.921875 C11.9745711,7.921875 13.2147672,9.2863447 13.2147672,10.1226326 C13.2147672,10.8142992 12.6566789,11.3802083 11.9745711,11.3802083 C11.2924632,11.3802083 10.734375,10.8142992 10.734375,10.1226326 C10.734375,9.2863447 11.9745711,7.921875 11.9745711,7.921875 Z M9.07958999,6.47535893 L6.28501575,3.68078468 L3.4904415,6.47535893 L9.07958999,6.47535893 Z M5.3326566,3.04215357 L4.28223263,1.9917296 C4.22692962,1.93642659 4.22692962,1.84676271 4.28223263,1.7914597 L5.03228902,1.0414033 C5.08759203,0.986100299 5.17725591,0.986100299 5.23255892,1.0414033 L6.4546098,2.26345418 C6.46530408,2.27146914 6.4755605,2.28033918 6.48528564,2.29006432 L10.4848531,6.28963174 C10.5954591,6.40023775 10.5954591,6.57956552 10.4848531,6.69017153 L6.4838816,10.691143 C6.37327559,10.801749 6.19394782,10.801749 6.08334181,10.691143 L2.08377439,6.69157557 C1.97316838,6.58096956 1.97316838,6.40164179 2.08377439,6.29103578 L5.3326566,3.04215357 Z",id:"Combined-Shape",fill:"#595959"}),k.a.createElement("rect",{id:"Rectangle-55",stroke:e,strokeWidth:"0.5",fill:t,x:"2",y:"12.75",width:"12",height:"1.5",rx:"0.125"})))}},{key:"fontColorIcon",value:function(){var e="#F5222D",t="#F5222D";this.state.disabled&&(t="#BFBFBF",e="#BFBFBF");var n=this.state.currentColor;return n&&(t=n,e=vwe.getStroke(n)),k.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},k.a.createElement("title",null,"color-font"),k.a.createElement("desc",null,"Created with Sketch."),k.a.createElement("g",{id:"color-font",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},k.a.createElement("rect",{fill:t,id:"Rectangle-55",stroke:e,strokeWidth:"0.5",x:"2",y:"12.75",width:"12",height:"1.5",rx:"0.125"}),k.a.createElement("path",{d:"M5.29102819,11.25 L3.96365715,11.25 C3.87952002,11.25 3.8113134,11.1817934 3.8113134,11.0976562 C3.8113134,11.08076 3.81412419,11.0639814 3.81963067,11.0480076 L7.0756112,1.60269506 C7.09679504,1.5412426 7.15463644,1.5 7.21963767,1.5 L8.81868806,1.5 C8.883726,1.5 8.94159158,1.54128846 8.96274706,1.60278951 L12.2118,11.048102 C12.239168,11.1276636 12.1968568,11.2143472 12.1172952,11.2417152 C12.1013495,11.2472004 12.0846037,11.25 12.067741,11.25 L10.6761419,11.25 C10.6099165,11.25 10.5512771,11.2072154 10.531066,11.1441494 L9.69970662,8.55 L6.27433466,8.55 L5.43599205,11.1444975 C5.41567115,11.2073865 5.35711879,11.25 5.29102819,11.25 Z M8.02635163,3.18571429 L7.96199183,3.18571429 L6.63904023,7.30714286 L9.33500105,7.30714286 L8.02635163,3.18571429 Z",id:"A",fill:"#595959"})))}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.title,r=e.moreTitle,o=e.disabled,i=this.state.active;t.indexOf(":")>=0&&(t=t.split(":")[1]);var a=k.a.createElement("span",{className:"lake-icon lake-icon-svgs"},this.getIcon(t)),c=k.a.createElement("span",{className:"lake-icon"});return k.a.createElement("div",{className:"lake-button-set"},k.a.createElement("div",{className:_t()("lake-button-set-trigger lake-button-set-trigger-double",{"lake-button-set-trigger-active":i},{"lake-button-set-trigger-double-active":i})},k.a.createElement(pAe,{className:"lake-button-current",content:a,onClick:this.handleClick,name:t,title:n,disabled:o}),k.a.createElement(pAe,{className:"lake-button-dropdown",content:c,onClick:this.toggleDropdown,name:"".concat(t,"-dropdown"),title:r,hasArrow:!0,disabled:o})),k.a.createElement("div",{className:_t()("lake-button-set-list lake-button-set-list-colorboard",{"lake-button-set-list-active":i})},k.a.createElement(Bi,{show:i,defaultColor:this.props.defaultColor,activeColors:[this.state.currentColor],customColors:this.state.currentCustomColors,onSelect:this.handleSelect,onSaveColor:this.addCustomColor})))}}])&&aMe(t.prototype,n),r&&aMe(t,r),i}(k.a.Component);fMe.propTypes={name:st.a.string,title:st.a.string,moreTitle:st.a.string,currentColor:st.a.string.isRequired,defaultColor:st.a.string.isRequired,disabled:st.a.bool,onClick:st.a.func};var pMe=fMe;function dMe(e){return(dMe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hMe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mMe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yMe(e,t){return(yMe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gMe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wMe(e);if(t){var o=wMe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bMe(this,n)}}function bMe(e,t){return!t||"object"!==dMe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wMe(e){return(wMe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kMe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yMe(e,t)}(i,e);var t,n,r,o=gMe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).togglePopover=function(){t.setState((function(e){return{active:!e.active}}))},t.state={active:!1},t}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.lang,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hMe(Object(n),!0).forEach((function(t){mMe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hMe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props);return delete n.onClick,delete n.active,k.a.createElement(wk,{overlayClassName:"lake-button-emoji-popover",trigger:["click"],visible:this.state.active,onVisibleChange:function(t){t!==e.state.active&&e.setState({active:t})},content:k.a.createElement("div",{className:"lake-button-emoji-panel","data-aspm":"b25225.c63340"},this.props.data.map((function(n,r){return k.a.createElement("a",{"data-aspm-click":"d130554","data-aspm-param":"mood_id=".concat(n.id),key:r,className:_t()("lake-button-set-list-item lake-button-set-list-item-que-emoji"),onClick:function(){e.props.onClick(n),e.setState({active:!1})}},k.a.createElement("img",{src:n.url}),k.a.createElement("br",null),k.a.createElement("span",{className:"lake-emoji-title"},n.title[t]||n.title["zh-cn"]))})))},k.a.createElement("div",{onClick:this.togglePopover,className:"lake-button-set lake-button-emoji"},k.a.createElement(pAe,n)))}}])&&vMe(t.prototype,n),r&&vMe(t,r),i}(k.a.Component);kMe.propTypes={className:st.a.string,name:st.a.string,data:st.a.array,disabled:st.a.bool,active:st.a.any,onClick:st.a.func};var xMe=kMe;function OMe(e){return(OMe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CMe(){return(CMe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EMe(e,t){return(EMe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jMe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=PMe(e);if(t){var o=PMe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SMe(this,n)}}function SMe(e,t){return!t||"object"!==OMe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function PMe(e){return(PMe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var RMe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EMe(e,t)}(i,e);var t,n,r,o=jMe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).rootNodeRef=k.a.createRef(),t}return t=i,(n=[{key:"render",value:function(){var e=this.props.name;return"note-image"===e?k.a.createElement(Pk,CMe({},this.props,{name:"image"}),k.a.createElement(pAe,CMe({},this.props,{name:"image"}))):"note-file"===e?k.a.createElement(Pk,CMe({},this.props,{name:"file"}),k.a.createElement(pAe,CMe({},this.props,{name:"file"}))):k.a.createElement(zO,this.props,k.a.createElement(pAe,this.props))}}])&&_Me(t.prototype,n),r&&_Me(t,r),i}(k.a.Component);RMe.propTypes={name:st.a.string};var TMe=RMe;function DMe(e){return(DMe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AMe(){return(AMe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function MMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IMe(e,t){return(IMe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function LMe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zMe(e);if(t){var o=zMe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return FMe(this,n)}}function FMe(e,t){return!t||"object"!==DMe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zMe(e){return(zMe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var BMe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IMe(e,t)}(i,e);var t,n,r,o=LMe(i);function i(){return MMe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.engine,n=e.locale,r=e.toolbar,o=e.toolbarState,i=e.mobile;return k.a.createElement("div",{className:_t()("lake-toolbar-area",{"lake-toolbar-area-first-group":this.props.isFirstGroup})},r.map((function(e,r){var a=o[e]||{},c=a.type,s=a.CustomButton;return a.hasArrow="dropdown"===c,a.engine=t,a.mobile=i,a.getEngine||(a.getEngine=function(){return t}),a.locale=n,"collapse"===c?k.a.createElement(SAe,AMe({key:r},a)):"dropdown"===c?k.a.createElement(YAe,AMe({key:r},a)):"color"===c?(a.activeColors=[a.active],k.a.createElement(pMe,AMe({key:r},a))):"emoji"===c?k.a.createElement(xMe,AMe({key:r},a)):"upload"===c?k.a.createElement(nMe,AMe({key:r},a)):"custom"===c&&s?k.a.createElement("div",{key:r,className:"lake-button-set"},s):"note-upload-button"===c?k.a.createElement(TMe,AMe({key:r},a)):k.a.createElement(pAe,AMe({key:r},a))})))}}])&&NMe(t.prototype,n),r&&NMe(t,r),i}(k.a.Component);BMe.propTypes={engine:st.a.object,locale:st.a.object,toolbar:st.a.array,toolbarState:st.a.object,isFirstGroup:st.a.bool,mobile:st.a.bool},BMe.defaultProps={isFirstGroup:!1};var VMe=BMe;function qMe(e){return(qMe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UMe(e,t){return(UMe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WMe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=YMe(e);if(t){var o=YMe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KMe(this,n)}}function KMe(e,t){return!t||"object"!==qMe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function YMe(e){return(YMe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var XMe=new Lu.a("editor:toolbar"),$Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UMe(e,t)}(i,e);var t,n,r,o=WMe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onResize=Un()((function(){t.rebuildToolbarGroups()}),200),t.rebuildToolbarGroups=function(){if("mini-note"!==t.props.toolBarType){if(t.rootRef.current){var e=t.props,n=e.toolbar,r=e.moreToolbar,o=t.getAvailableWidth();XMe("[rebuild toolbar]available width: ",o);var i=[],a=r||[],c=0;n.forEach((function(e){if(c>o)a.push(e);else{for(var n=!1,r=0,s=e.length;r<s;r++){var l=e[r],u=t.getToolbarItemSize(l);if(c+=u,r!==s-1&&(c+=0),c>o){XMe("[rebuild toolbar]boundary: ",l),n=!0,0===r?a.push(e):(i.push(e.slice(0,r)),a.push(e.slice(r)));break}}c+=17,n||i.push(e)}})),t.setState({showTools:i,hideTools:a})}}else t.setState({showTools:t.props.toolbar})},t.state={showTools:[],hideTools:[]},t.rootRef=k.a.createRef(),t.calcWidthTimeout=null,t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.onResize,!1),this.rebuildToolbarGroups(),this.calcWidthTimeout=setTimeout((function(){e.rebuildToolbarGroups()}),300)}},{key:"componentWillUnmount",value:function(){this.calcWidthTimeout&&clearTimeout(this.calcWidthTimeout),window.removeEventListener("resize",this.onResize,!1)}},{key:"componentDidUpdate",value:function(e){e.toolbar&&this.props.toolbar&&e.toolbar.join(",")===this.props.toolbar.join(",")||(XMe("toolbar changed"),this.rebuildToolbarGroups())}},{key:"getAvailableWidth",value:function(){var e=this.rootRef.current.clientWidth;return XMe("toolbar node size:",e),e-40-4}},{key:"getToolbarItemSize",value:function(e){return(this.props.toolbarState[e]||{}).size||32}},{key:"render",value:function(){var e=this,t=this.props.toolbarState,n=this.state,r=n.showTools,o=n.hideTools;return k.a.createElement("div",{className:"lake-toolbar-content-plugins",ref:this.rootRef},r.map((function(n,r){return k.a.createElement(VMe,{key:r,isFirstGroup:0===r,locale:e.props.locale,engine:e.props.engine,toolbarState:t,toolbar:n,mobile:e.props.mobile})})),o.length>0&&k.a.createElement(yAe,{lang:this.props.lang},o.map((function(n,r){return k.a.createElement(VMe,{key:r,isFirstGroup:0===r,locale:e.props.locale,engine:e.props.engine,toolbarState:t,toolbar:n,mobile:e.props.mobile})}))))}}])&&HMe(t.prototype,n),r&&HMe(t,r),i}(k.a.Component);$Me.propTypes={engine:st.a.object.isRequired,lang:st.a.string.isRequired,locale:st.a.object.isRequired,toolbar:st.a.array.isRequired,toolBarType:st.a.string,moreToolbar:st.a.array,toolbarState:st.a.object.isRequired,mobile:st.a.bool},$Me.defaultPropTypes={hasMore:!0,moreToolbar:[]};var GMe=$Me;function ZMe(e){return(ZMe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JMe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QMe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JMe(Object(n),!0).forEach((function(t){eNe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JMe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eNe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nNe(e,t){return(nNe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rNe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iNe(e);if(t){var o=iNe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oNe(this,n)}}function oNe(e,t){return!t||"object"!==ZMe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iNe(e){return(iNe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var aNe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nNe(e,t)}(i,e);var t,n,r,o=rNe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleH5Scroll=function(){var e=t.props,n=e.engine;e.mobile&&(document.body.appendChild(ru(".lake-toolbar")[0]),t.toolbarEl=ru(".lake-toolbar"),n.on("select",(function(){t.toolbarEl.css({position:"absolute",top:t.getPageScrollTop()+"px"})})),window.addEventListener("blur",(function(){t.toolbarEl.css({position:"fixed",top:0})})),window.addEventListener("scroll",(function(){"absolute"===t.toolbarEl.css("position")&&t.toolbarEl.css({top:t.getPageScrollTop()+"px"})})))},t.set=function(e){var n=t.props,r=n.engine,o=n.type,i=(r&&r.options||{}).disallowToggleToolbar;if("function"==typeof i){if(i())return}else if(i)return;if("mini"!==o){var a=[],c=[];e.forEach((function(e){"separator"===e.type?(a.push(c),c=[]):c.push(e.name)})),c.length>0&&a.push(c);var s=t.getToolbarState(a,e);t.setState({pluginToolbar:a,pluginToolbarState:s})}else r.toolbar.disable(!0)},t.restore=function(){var e=t.props,n=e.engine,r=e.type;n.isDestroyed||("mini"!==r?t.setState({pluginToolbar:[]}):n.toolbar.disable(!1))},t.disable=function(e,n){var r=t.props.engine;if(!r.isDestroyed){n=n||["save","undo","redo","toc"];var o=QMe({},t.state.toolbarState);Object.keys(o).forEach((function(t){n.indexOf(t)<0&&(o[t].disabled=e)})),r.toolbar.isDisabled=e,t.setState({toolbarState:o})}},t.show=function(){t.props.engine.editArea.closest(".lake-editor").removeClass("lake-toolbar-hidden")},t.hide=function(){t.props.engine.editArea.closest(".lake-editor").addClass("lake-toolbar-hidden")},t.updateState=function(){if(!t.props.engine.isDestroyed){"mobile"===t.props.type&&t.restore();var e,n=t.state.pluginToolbar.length>0;if(e=QMe({},n?t.state.pluginToolbarState:t.state.toolbarState),0!==Object.keys(e).length){var r=!1;Object.keys(e).forEach((function(n){t.executeGetter(e[n])&&(r||(r=!0))})),r&&(n?t.setState({pluginToolbarState:e}):t.setState({toolbarState:e}))}}},t.state={pluginToolbar:[],pluginToolbarState:{},toolbarState:{}},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.engine,n=e.toolbar,r=this.getToolbarState(n);this.setState({toolbarState:r}),t.toolbar={set:this.set,updateState:this.updateState,restore:this.restore,disable:this.disable,disableCardItemByName:this.disableCardItemByName,enableCardItemByName:this.enableCardItemByName,show:this.show,hide:this.hide},this.handleH5Scroll()}},{key:"getToolbarState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PC(this.props.engine),r={},o={};return n.forEach((function(e){o[e.name]=e})),e.forEach((function(e){e.forEach((function(e){r[e]=o[e],t.executeGetter(r[e])}))})),r}},{key:"getPageScrollTop",value:function(){return Math.max(document.body.scrollTop,document.documentElement.scrollTop)}},{key:"executeGetter",value:function(e){var t=this.engine,n=!1;if(e.getActive&&function(){var t=e.getActive();if(Array.isArray(e.active)&&Array.isArray(t))for(var r=function(r){e.active.find((function(e){return e!==t[r]}))&&(n=!0)},o=0;o<t.length;o++)r(o);else e.active!==t&&(n=!0);e.active=t}(),e.getCurrentText){var r=e.getCurrentText(e.active);e.currentText!==r&&(n=!0),e.currentText=r}if(e.getDisabled&&(!t||!t.toolbar.isDisabled)){var o=e.getDisabled();e.disabled!==o&&(n=!0),e.disabled=o}return n}},{key:"render",value:function(){var e=this.props,t=e.toolbar,n=e.mobile,r=e.moreToolbar,o=e.engine,i=this.state,a=i.toolbarState,c=i.pluginToolbar,s=i.pluginToolbarState,l=_t()("lake-toolbar",{"lake-mobile-toolbar":!!n});return k.a.createElement("div",{className:l,"data-lake-element":"toolbar",onMouseDown:function(e){e.preventDefault()},onMouseOver:function(e){return e.preventDefault()},onMouseMove:function(e){return e.preventDefault()},onContextMenu:function(e){return e.preventDefault()},"data-lake_prevent_click_unselect":"true"},0===c.length&&k.a.createElement("div",{className:"lake-toolbar-content lake-toolbar-content-active"},k.a.createElement(GMe,{key:"main",engine:this.props.engine,locale:this.props.locale,lang:o.options.lang,mobile:n,toolbar:t,toolBarType:this.props.toolBarType,toolbarState:a,moreToolbar:r})),c.length>0&&k.a.createElement("div",{className:"lake-toolbar-content lake-toolbar-content-active"},k.a.createElement(GMe,{key:"sub",engine:this.props.engine,locale:this.props.locale,lang:o.options.lang,mobile:n,toolbar:c,toolBarType:this.props.toolBarType,toolbarState:s,moreToolbar:[]})))}}])&&tNe(t.prototype,n),r&&tNe(t,r),i}(k.a.Component);aNe.propTypes={engine:st.a.object,toolBarType:st.a.oneOf(["normal","mini-note"]),toolbar:st.a.array,moreToolbar:st.a.array,hasMore:st.a.bool,type:st.a.string,mobile:st.a.bool},aNe.defaultProps={toolbar:[]};var cNe=aNe,sNe=n(360),lNe=n.n(sNe),uNe={scrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},offset:function(e){if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}}},fNe=(n(760),"undefined"!=typeof navigator?navigator.userAgent:""),pNe=/yuque-desktop\/[\d.]+/i.test(fNe);function dNe(){return(dNe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hNe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||mNe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mNe(e,t){if(e){if("string"==typeof e)return vNe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vNe(e,t):void 0}}function vNe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yNe(e){var t=e.contents,n=void 0===t?[]:t,r=e.current,o=e.withHeader,i=e.offsetTop,a=e.enableProgressBar,c=k.a.useRef(null),s=hNe(Object(w.useState)([]),2),l=s[0],u=s[1],f=hNe(Object(w.useState)(-1),2),p=f[0],d=f[1],h=Object(w.useMemo)((function(){return function(e){for(var t=[],n=e.length-1;n>=0;n--){for(var r=!1,o=n-1;o>=0&&1!==e.depth;o--)if(e[o].depth<e[n].depth){var i={id:n,pid:o,title:e[n].html,key:e[n].id,data:e[n]};t.unshift(i),r=!0;break}if(!r){var a={id:n,pid:-1,title:e[n].html,key:e[n].id,data:e[n]};t.unshift(a)}}return t}(n)}),[n]);return Object(w.useEffect)((function(){var e,t=[],r=[],o=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=mNe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(n.keys());try{for(o.s();!(e=o.n()).done;){var i=e.value,a={collapsible:i!==n.length-1&&n[i+1].depth>n[i].depth,collapsed:!1,display:!0};t.push(a),a.collapsible&&r.push(i)}}catch(e){o.e(e)}finally{o.f()}u(t)}),[n]),Object(w.useEffect)((function(){if(l.length>0&&r<l.length)if(-1===r||l[r].display)d(r);else{for(var e=h[r].pid;!l[e].display;)e=h[e].pid;d(e)}else d(-1)}),[h,r,l]),Object(w.useEffect)((function(){return e.autoAdjustPosition&&r>0&&p&&function(e){var t=e.querySelector(".larkui-synopsis-item-active");if(t){var n=e.scrollHeight-e.clientHeight,r=e.clientHeight,o=0;t.offsetTop>r?(o=(o=t.offsetTop-r/2+t.clientHeight/2+16)>=n?n:o,e.scrollTop=o):t.offsetTop>e.clientHeight/2?(o=t.offsetTop+16-e.clientHeight/2+t.clientHeight/2,e.scrollTop=o):e.scrollTop=0}}(c.current),function(){}}),[r,e.autoAdjustPosition,e.height,p]),k.a.createElement("div",{className:"larkui-synopsis-wrap ".concat(e.className),style:e.style,ref:c,"data-testid":"larkui-synopsis"},k.a.createElement("ul",{className:"larkui-synopsis"},n.map((function(e,t){var r,c,s,f={};return pNe||(f.href="#".concat(encodeURIComponent(e.id))),l[t]&&l[t].display&&k.a.createElement("li",{className:_t()({"larkui-synopsis-item":!0,"larkui-synopsis-item-active":p===t,"larkui-synopsis-progress-bar":a,"larkui-synopsis-progress-bar-highlighted":p===t&&a}),key:t},k.a.createElement("span",{className:_t()((r={"larkui-synopsis-item-collapsible-link":l[t].collapsible,"larkui-synopsis-item-link":!l[t].collapsible},c="larkui-synopsis-item-link-".concat(e.depth),s=!0,c in r?Object.defineProperty(r,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[c]=s,r))},l[t].collapsible&&k.a.createElement("a",{onClick:function(e){!function(e,t,r){var o=gd()(l);o[t].collapsed=!o[t].collapsed;for(var i=t+1;i<n.length&&!(n[i].depth<=n[t].depth);i++){var a=h[i],c=o[i];if(!a||!c)break;if(a.pid!==t)if(r){for(var s=a.pid,f=!1;s!==t&&-1!==s;)l[s].collapsed&&(f=!0),s=h[s].pid;c.display=!f&&!l[a.pid].collapsed}else c.display=!1;else c.display=r}u(o)}(0,t,!l[t+1].display)}},k.a.createElement(lNe.a,{rotate:l[t].collapsed?270:0,style:{fontSize:"10px",margin:"5px",color:"#8c8c8c"}})),k.a.createElement("a",dNe({onClick:function(t){!function(e,t){if(e.preventDefault(),pNe){var n=document.getElementById(t);if(!n)return;n.scrollIntoView(!0)}else{var r=uNe.scrollTop(),a=encodeURIComponent(t);window.location.hash=a;var c=document.getElementById(a);if(!c)return;if(c.scrollIntoView(),o){var s=uNe.scrollTop();s<r&&window.scrollTo(0,s-60)}else if(i>0){var l=uNe.scrollTop();window.scrollTo(0,l-i)}}}(t,e.id)}},f,{title:e.text}),k.a.createElement("span",null,e.text))))}))))}yNe.defaultProps={offsetTop:0},yNe.propTypes={className:st.a.string,style:st.a.object,contents:st.a.array.isRequired,current:st.a.number,height:st.a.number,autoAdjustPosition:st.a.bool,withHeader:st.a.bool,offsetTop:st.a.number,enableProgressBar:st.a.bool};var gNe=yNe;function bNe(e){return(bNe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xNe(e,t){return(xNe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ONe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_Ne(e);if(t){var o=_Ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CNe(this,n)}}function CNe(e,t){return!t||"object"!==bNe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _Ne(e){return(_Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ENe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xNe(e,t)}(i,e);var t,n,r,o=ONe(i);function i(){var e;wNe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={error:null,info:null},e}return t=i,(n=[{key:"componentDidCatch",value:function(e,t){this.setState({error:e}),console.error(t)}},{key:"render",value:function(){return this.state.error?k.a.createElement("div",null,"render error"):this.props.children}}])&&kNe(t.prototype,n),r&&kNe(t,r),i}(k.a.Component);ENe.propTypes={children:st.a.any};var jNe=function(e){return function(t){return k.a.createElement(ENe,null,k.a.createElement(e,t))}};function SNe(e){return(SNe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PNe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RNe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PNe(Object(n),!0).forEach((function(t){TNe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PNe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TNe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ANe(e,t){return(ANe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MNe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=INe(e);if(t){var o=INe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return NNe(this,n)}}function NNe(e,t){return!t||"object"!==SNe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function INe(e){return(INe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var LNe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ANe(e,t)}(i,e);var t,n,r,o=MNe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={selected:-1,tocHeight:0},t.root=k.a.createRef(),t.__onScroll=Un()((function(){t.updatePosition()}),200),t}return t=i,(n=[{key:"updatePosition",value:function(){var e=this.props,t=e.data,n=e.engine;if(n&&n.scrollNode){for(var r=n.scrollNode.getBoundingClientRect(),o=-1,i=0,a=t.length;i<a;i++){var c=t[i].domNode.getBoundingClientRect().top-r.top;if(c>0){i>0&&(o=i-1);break}if(0===c){o=i;break}if(i===a-1){o=i;break}}o!==this.state.selected&&this.setState(RNe(RNe({},this.state),{},{selected:o}))}}},{key:"delayUpdateHeight",value:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){var t=e.root&&null!==e.root.current&&e.root.current.getBoundingClientRect(),n=t.height-(t.bottom-window.innerHeight)-45;e.setState(RNe(RNe({},e.state),{},{tocHeight:n}))}),32)}},{key:"__onScroll",value:function(){this.updatePosition()}},{key:"componentDidMount",value:function(){var e=this.props.engine;e&&e.scrollNode&&(this.updatePosition(),this.delayUpdateHeight(),e.scrollNode.addEventListener("scroll",this.__onScroll,!1))}},{key:"componentWillUnmount",value:function(){var e=this.props.engine;e&&e.scrollNode&&(e.scrollNode.removeEventListener("scroll",this.__onScroll,!1),this.timer&&clearTimeout(this.timer))}},{key:"render",value:function(){var e=this.props.data,t=this.state,n=t.selected,r=t.tocHeight;return k.a.createElement("div",{className:"lake-synopsis",ref:this.root},k.a.createElement(gNe,{contents:e,current:n,autoAdjustPosition:!0,height:r,style:{height:r}}))}}])&&DNe(t.prototype,n),r&&DNe(t,r),i}(k.a.Component);LNe.propTypes={engine:st.a.object,data:st.a.array};var FNe=jNe(LNe);function zNe(e){return(zNe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BNe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VNe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BNe(Object(n),!0).forEach((function(t){qNe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BNe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qNe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UNe(e,t){return(UNe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WNe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=YNe(e);if(t){var o=YNe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KNe(this,n)}}function KNe(e,t){return!t||"object"!==zNe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function YNe(e){return(YNe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var XNe=Oee.Group,$Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UNe(e,t)}(i,e);var t,n,r,o=WNe(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleChangeWidth=function(e){t._sizeChanged=!0;var n=parseInt(e.target.value,10)||0,r=Math.round(n*t.rate);t.setState({width:n,height:r})},t.handleChangeHeight=function(e){t._sizeChanged=!0;var n=parseInt(e.target.value,10)||0,r=Math.round(n/t.rate);t.setState({width:r,height:n})},t.handleSizeKeyPress=function(e){e.stopPropagation(),"Enter"===e.key&&(t._sizeChanged=!0,t.handleUpdateSize())},t.handleUpdateSize=function(){if(t._sizeChanged){t._sizeChanged=!1;var e=t.props.engine,n=t.state,r=n.width,o=n.height,i=e.change.activeCard;if(i){var a=e.card.getComponent(i);a&&a.changeSize&&a.changeSize(r,o)}}},t.handleUpdateZoom=function(e){t._sizeChanged=!0;var n=Math.round(t.originWidth*e),r=Math.round(t.originHeight*e);t.setState({width:n,height:r},(function(){t._sizeChanged=!0,t.handleUpdateSize()}))},t.handleUpdateStyle=function(){var e=t.props.engine,n=t.state.style,r=e.change.activeCard;if(r){var o=e.card.getComponent(r);o&&o.changeStyle(n)}},t.handleUpdateUIStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.setState({style:e},(function(){return t.handleUpdateStyle()}))},t.handleUpdateSpacing=function(){var e=t.props.engine,n=t.state.spacing,r=e.change.activeCard;if(r){var o=e.card.getComponent(r);o&&o.changeMargin(n)}},t.handleUpdateUISpacing=function(e){t.setState({spacing:{top:-1!==e.indexOf("top"),bottom:-1!==e.indexOf("bottom")}},(function(){return t.handleUpdateSpacing()}))},t.handleChangeLink=function(e){var n=e.target.value;t.setState({link:n})},t.handleLinkKeyPress=function(e){e.stopPropagation(),"Enter"===e.key&&t.handleUpdateLink()},t.handleUpdateLink=function(){var e=t.props.engine,n=t.state,r=n.link,o=n.linkTarget,i=e.change.activeCard;if(i){var a=e.card.getComponent(i);a&&a.changeLink(r,o)}},t.handleChangeLinkTarget=function(e){var n=e.target.checked?"":"_blank";t.setState({linkTarget:n},(function(){return t.handleUpdateLink()}))};var n=e.data;return t.state={width:n.width,height:n.height,link:n.link,linkTarget:n.linkTarget,style:n.style,spacing:VNe({},n.margin)},t.originWidth=n.originWidth,t.originHeight=n.originHeight,t.rate=n.originHeight/n.originWidth,t}return t=i,(n=[{key:"componentWillUnmount",value:function(){this.handleUpdateSize(),this.handleUpdateLink()}},{key:"componentWillReceiveProps",value:function(e){var t=e.data,n=t.width,r=t.height;n!==this.props.data.width&&this.setState({width:n,height:r})}},{key:"render",value:function(){var e=this,t=this.props.engine,n=this.state,r=n.width,o=n.height,i=n.link,a=n.linkTarget,c=n.style,s=n.spacing,l=t.locale.image,u=[{label:l.topSpacingTips,value:"top"},{label:l.bottomSpacingTips,value:"bottom"}],f=[];return s.top&&f.push("top"),s.bottom&&f.push("bottom"),k.a.createElement("div",null,k.a.createElement("div",{className:"lake-sidebar-group lake-image-sidebar-group"},k.a.createElement("div",{className:"lake-sidebar-group-title"},l.sizeTitle),k.a.createElement("div",{className:"lake-sidebar-group-item"},k.a.createElement("div",{className:"lake-sidebar-size-input"},k.a.createElement(oi,{type:"text",size:"small",className:"lake-sidebar-width",defaultValue:r,value:r,onKeyPress:this.handleSizeKeyPress,onBlur:this.handleUpdateSize,onChange:this.handleChangeWidth}),k.a.createElement("span",{className:"lake-sidebar-lock"}," "),k.a.createElement(oi,{type:"text",size:"small",className:"lake-sidebar-height",defaultValue:o,value:o,onKeyPress:this.handleSizeKeyPress,onBlur:this.handleUpdateSize,onChange:this.handleChangeHeight})),k.a.createElement("div",{className:"lake-sidebar-size-title"},k.a.createElement("span",{className:"lake-sidebar-width-title"},l.width),k.a.createElement("span",{className:"lake-sidebar-lock"}),k.a.createElement("span",{className:"lake-sidebar-height-title"},l.height))),k.a.createElement("div",{className:"lake-sidebar-group-item lake-sidebar-image-percent",style:{marginBottom:"14px"}},k.a.createElement(XNe,null,k.a.createElement(Oee,{size:"small",onClick:function(){return e.handleUpdateZoom(.25)}},"25%"),k.a.createElement(Oee,{size:"small",onClick:function(){return e.handleUpdateZoom(.5)}},"50%"),k.a.createElement(Oee,{size:"small",onClick:function(){return e.handleUpdateZoom(.75)}},"75%"),k.a.createElement(Oee,{size:"small",onClick:function(){return e.handleUpdateZoom(1)}},"100%"))),k.a.createElement("div",{className:"lake-sidebar-group-item lake-sidebar-image-100"},k.a.createElement(Oee,{size:"small",style:{width:"100%"},onClick:function(){return e.handleUpdateZoom(1)}},l.originSize)),k.a.createElement("div",{className:"lake-sidebar-group-title"},l.style),k.a.createElement("div",{className:"lake-sidebar-group-item lake-sidebar-image-style"},k.a.createElement(nje,{autoInsertSpaceInButton:!1},k.a.createElement(XNe,null,k.a.createElement(Oee,{size:"small",className:_t()({active:!c||"none"===c}),onClick:function(){return e.handleUpdateUIStyle()}},l.none),k.a.createElement(Oee,{size:"small",className:_t()({active:"stroke"===c}),onClick:function(){return e.handleUpdateUIStyle("stroke")}},l.stroke),k.a.createElement(Oee,{size:"small",className:_t()({active:"shadow"===c}),onClick:function(){return e.handleUpdateUIStyle("shadow")}},l.shadow)))),k.a.createElement("div",{className:"lake-sidebar-group-title"},l.spacing),k.a.createElement("div",{className:"lake-sidebar-group-item lake-sidebar-image-spacing"},k.a.createElement(nje,{autoInsertSpaceInButton:!1},k.a.createElement(rce.Group,{options:u,value:f,onChange:this.handleUpdateUISpacing}))),k.a.createElement("div",{className:"lake-sidebar-group-title"},l.linkTitle),k.a.createElement("div",{className:"lake-sidebar-group-item"},k.a.createElement(oi,{type:"text",size:"small",className:"lake-sidebar-link",placeholder:l.linkPlaceholder,defaultValue:i,value:i,onKeyPress:this.handleLinkKeyPress,onBlur:this.handleUpdateLink,onChange:this.handleChangeLink,style:{marginBottom:"12px"}}),k.a.createElement("div",null,k.a.createElement(rce,{defaultChecked:""===a,checked:""===a,onChange:this.handleChangeLinkTarget},l.linkTargetTips)))))}}])&&HNe(t.prototype,n),r&&HNe(t,r),i}(k.a.Component);$Ne.propTypes={engine:st.a.object,data:st.a.object};var GNe=$Ne;function ZNe(e){return(ZNe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QNe(e,t){return(QNe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eIe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nIe(e);if(t){var o=nIe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tIe(this,n)}}function tIe(e,t){return!t||"object"!==ZNe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nIe(e){return(nIe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rIe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QNe(e,t)}(i,e);var t,n,r,o=eIe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).source="auto",t.target="en",t.state={targetPlainText:"",errorMsg:null},t.events=[],t}return t=i,(n=[{key:"_bindEvent",value:function(e,t,n){e.on(t,n),this.events.push({element:e,callback:n,type:t})}},{key:"_removeEvent",value:function(){this.events.forEach((function(e){var t=e.element,n=e.type,r=e.callback;t.off(n,r)}))}},{key:"_translate",value:function(){var e=this.props.engine,t=e.translate,n=e.change.getRange();n&&t.translate(n,this.source,this.target)}},{key:"componentWillMount",value:function(){"en"===this.props.engine.options.lang&&(this.target="zh")}},{key:"componentDidMount",value:function(){var e=this,t=this.props.engine,n=t.translate;this._translate(),this._bindEvent(t,"select",(function(){e._translate()})),this._bindEvent(n,"success",(function(t){var n=t.targetPlainText,r=t.fragment;e.fragment=r,e.setState({errorMsg:null,targetPlainText:n})})),this._bindEvent(n,"fail",(function(t){var n=t.errorMsg;e.setState({errorMsg:n})}))}},{key:"componentWillUnmount",value:function(){this._removeEvent()}},{key:"render",value:function(){var e=this,t=this.props.engine,n=this.state.targetPlainText,r=this.state.errorMsg,o=tpe.Option,i=t.locale.translate,a=!n,c=k.a.createElement(o,{value:"zh"},i.zh),s=k.a.createElement(o,{value:"en"},i.en);return n=a?i.placeholder:n,k.a.createElement("div",{className:"lake-translate-panel"},k.a.createElement("span",null,i.subTitle),k.a.createElement("br",null),k.a.createElement(tpe,{style:{width:"100%",marginTop:"14px"},defaultValue:this.source,onChange:function(t){e.source=t,e._translate()}},k.a.createElement(o,{value:"auto"},i.automaticDetection),c,s),k.a.createElement("br",null),k.a.createElement(tpe,{style:{width:"100%",marginTop:"14px"},defaultValue:this.target,onChange:function(t){e.target=t,e._translate()}},c,s),k.a.createElement("p",{style:{margin:"14px 0px"}},i.translation,"："),k.a.createElement("pre",{style:{color:a?"rgba(0,0,0,0.25)":"inherit"}},n),r&&k.a.createElement("p",{style:{marginBottom:"8px",color:"#CF1322"}},r),k.a.createElement(Oee,{onClick:function(){e.fragment&&t.change.insertFragment(e.fragment.cloneNode(!0))}},i.insertDoc))}}])&&JNe(t.prototype,n),r&&JNe(t,r),i}(k.a.Component);rIe.propTypes={engine:st.a.object,data:st.a.array};var oIe=rIe;function iIe(e){return(iIe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cIe(e,t,n){return t&&aIe(e.prototype,t),n&&aIe(e,n),e}function sIe(e,t){return(sIe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lIe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fIe(e);if(t){var o=fIe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uIe(this,n)}}function uIe(e,t){return!t||"object"!==iIe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fIe(e){return(fIe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pIe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sIe(e,t)}(n,e);var t=lIe(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=t.call(this,e);var o=e.data;return r.state={download:o.download},r}return cIe(n,[{key:"getActivatedComponent",value:function(){var e=this.props.engine,t=e.change.activeCard;if(t){var n=e.card.getComponent(t);if(n)return n}}},{key:"handleUpdateDownload",value:function(e){var t=this.getActivatedComponent();t&&t.setValue({download:e},!1)}}]),cIe(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.engine,r=t.data,o=n.locale.localdoc;return k.a.createElement("div",null,k.a.createElement(rce,{className:"lake-content-view-download",onChange:function(t){e.handleUpdateDownload(t.target.checked)},defaultChecked:r.download},o.allowDownload))}}]),n}(k.a.Component);function dIe(e){return(dIe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vIe(e,t){return(vIe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yIe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bIe(e);if(t){var o=bIe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gIe(this,n)}}function gIe(e,t){return!t||"object"!==dIe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bIe(e){return(bIe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}pIe.propTypes={engine:st.a.object,data:st.a.object};var wIe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vIe(e,t)}(i,e);var t,n,r,o=yIe(i);function i(){return hIe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"appendElement",value:function(){var e=this.props.data;!e.preventAppend()&&this.container.appendChild(e.element)}},{key:"componentDidUpdate",value:function(){this.appendElement()}},{key:"componentDidMount",value:function(){this.appendElement()}},{key:"componentWillUnmount",value:function(){this.props.data.element.remove()}},{key:"render",value:function(){var e=this;return k.a.createElement("div",{ref:function(t){e.container=t}})}}])&&mIe(t.prototype,n),r&&mIe(t,r),i}(k.a.Component);function kIe(e){return(kIe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OIe(e,t,n){return t&&xIe(e.prototype,t),n&&xIe(e,n),e}function CIe(e,t){return(CIe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jIe(e);if(t){var o=jIe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EIe(this,n)}}function EIe(e,t){return!t||"object"!==kIe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jIe(e){return(jIe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}wIe.propTypes={data:st.a.object};var SIe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CIe(e,t)}(n,e);var t=_Ie(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=t.call(this,e);var o=e.data;return r.state={download:o.download},r}return OIe(n,[{key:"getActivatedComponent",value:function(){var e=this.props.engine,t=e.change.activeCard;if(t){var n=e.card.getComponent(t);if(n)return n}}},{key:"handleUpdateDownload",value:function(e){var t=this.getActivatedComponent();t&&t.setValue({download:e},!1)}}]),OIe(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.engine,r=t.data,o=n.locale.localdoc;return k.a.createElement("div",null,k.a.createElement(rce,{"data-testid":"video",className:"lake-content-view-download",onChange:function(t){e.handleUpdateDownload(t.target.checked)},defaultChecked:r.download},o.allowDownload))}}]),n}(k.a.Component);function PIe(e){return(PIe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TIe(e,t,n){return t&&RIe(e.prototype,t),n&&RIe(e,n),e}function DIe(e,t){return(DIe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function AIe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=NIe(e);if(t){var o=NIe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return MIe(this,n)}}function MIe(e,t){return!t||"object"!==PIe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function NIe(e){return(NIe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}SIe.propTypes={engine:st.a.object,data:st.a.object};var IIe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DIe(e,t)}(n,e);var t=AIe(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=t.call(this,e);var o=e.data;return r.state={download:o.download},r}return TIe(n,[{key:"getActivatedComponent",value:function(){var e=this.props.engine,t=e.change.activeCard;if(t){var n=e.card.getComponent(t);if(n)return n}}},{key:"handleUpdateDownload",value:function(e){var t=this.getActivatedComponent();t&&t.setValue({download:e},!1)}}]),TIe(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.engine,r=t.data,o=n.locale.localdoc;return k.a.createElement("div",null,k.a.createElement(rce,{className:"lake-content-view-download",onChange:function(t){e.handleUpdateDownload(t.target.checked)},defaultChecked:r.download},o.allowDownload))}}]),n}(k.a.Component);IIe.propTypes={engine:st.a.object,data:st.a.object};var LIe=n(33),FIe=n.n(LIe),zIe=n(361),BIe=n.n(zIe),VIe=n(362),qIe=n.n(VIe),HIe=n(363),UIe=n.n(HIe),WIe=n(69),KIe=n.n(WIe),YIe=n(139),XIe=n.n(YIe),$Ie=n(364),GIe=n.n($Ie),ZIe=n(117),JIe=n(365),QIe=n.n(JIe),eLe=n(240),tLe=n.n(eLe),nLe=n(62),rLe=n.n(nLe),oLe=n(98),iLe=n.n(oLe),aLe=n(78),cLe=n.n(aLe),sLe=n(93),lLe=n.n(sLe),uLe=function e(t){cLe()(this,e),FIe()(this,t)};function fLe(e){return e instanceof uLe}function pLe(e){return fLe(e)?e:new uLe(e)}var dLe=n(99);function hLe(e,t){return e.displayName="Form("+function(e){return e.displayName||e.name||"WrappedComponent"}(t)+")",e.WrappedComponent=t,Do()(e,t)}function mLe(e){return e}function vLe(e){return Array.prototype.concat.apply([],e)}function yLe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments[2],r=arguments[3],o=arguments[4];if(n(e,t))o(e,t);else if(null==t);else if(Array.isArray(t))t.forEach((function(t,i){return yLe(e+"["+i+"]",t,n,r,o)}));else{if("object"!=typeof t)return void tLe()(!1,r);Object.keys(t).forEach((function(i){var a=t[i];yLe(e+(e?".":"")+i,a,n,r,o)}))}}function gLe(e,t,n){var r={};return yLe(void 0,e,t,n,(function(e,t){r[e]=t})),r}function bLe(e,t,n){var r=e.map((function(e){var t=FIe()({},e,{trigger:e.trigger||[]});return"string"==typeof t.trigger&&(t.trigger=[t.trigger]),t}));return t&&r.push({trigger:n?[].concat(n):[],rules:t}),r}function wLe(e){return e.filter((function(e){return!!e.rules&&e.rules.length})).map((function(e){return e.trigger})).reduce((function(e,t){return e.concat(t)}),[])}function kLe(e){if(!e||!e.target)return e;var t=e.target;return"checkbox"===t.type?t.checked:t.value}function xLe(e,t,n){var r=e,o=t,i=n;return void 0===n&&("function"==typeof r?(i=r,o={},r=void 0):Array.isArray(r)?"function"==typeof o?(i=o,o={}):o=o||{}:(i=o,o=r||{},r=void 0)),{names:r,options:o,callback:i}}function OLe(e){return 0===Object.keys(e).length}function CLe(e){return!!e&&e.some((function(e){return e.rules&&e.rules.length}))}function _Le(e){var t=Object(dLe.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof t||t.prototype&&t.prototype.render)&&!!("function"!=typeof e||e.prototype&&e.prototype.render)}function ELe(e,t){return 0===t.indexOf(e)&&-1!==[".","["].indexOf(t[e.length])}function jLe(e){return gLe(e,(function(e,t){return fLe(t)}),"You must wrap field data with `createFormField`.")}var SLe=function(){function e(t){cLe()(this,e),PLe.call(this),this.fields=jLe(t),this.fieldsMeta={}}return lLe()(e,[{key:"updateFields",value:function(e){this.fields=jLe(e)}},{key:"flattenRegisteredFields",value:function(e){var t=this.getAllFieldsName();return gLe(e,(function(e){return t.indexOf(e)>=0}),"You cannot set a form field before rendering a field associated with the value.")}},{key:"setFields",value:function(e){var t=this,n=this.fieldsMeta,r=FIe()({},this.fields,e),o={};Object.keys(n).forEach((function(e){o[e]=t.getValueFromFields(e,r)})),Object.keys(o).forEach((function(e){var n=o[e],i=t.getFieldMeta(e);if(i&&i.normalize){var a=i.normalize(n,t.getValueFromFields(e,t.fields),o);a!==n&&(r[e]=FIe()({},r[e],{value:a}))}})),this.fields=r}},{key:"resetFields",value:function(e){var t=this.fields;return(e?this.getValidFieldsFullName(e):this.getAllFieldsName()).reduce((function(e,n){var r=t[n];return r&&"value"in r&&(e[n]={}),e}),{})}},{key:"setFieldMeta",value:function(e,t){this.fieldsMeta[e]=t}},{key:"setFieldsAsDirty",value:function(){var e=this;Object.keys(this.fields).forEach((function(t){var n=e.fields[t],r=e.fieldsMeta[t];n&&r&&CLe(r.validate)&&(e.fields[t]=FIe()({},n,{dirty:!0}))}))}},{key:"getFieldMeta",value:function(e){return this.fieldsMeta[e]=this.fieldsMeta[e]||{},this.fieldsMeta[e]}},{key:"getValueFromFields",value:function(e,t){var n=t[e];if(n&&"value"in n)return n.value;var r=this.getFieldMeta(e);return r&&r.initialValue}},{key:"getValidFieldsName",value:function(){var e=this,t=this.fieldsMeta;return t?Object.keys(t).filter((function(t){return!e.getFieldMeta(t).hidden})):[]}},{key:"getAllFieldsName",value:function(){var e=this.fieldsMeta;return e?Object.keys(e):[]}},{key:"getValidFieldsFullName",value:function(e){var t=Array.isArray(e)?e:[e];return this.getValidFieldsName().filter((function(e){return t.some((function(t){return e===t||(n=t,0===e.lastIndexOf(n,0)&&[".","["].indexOf(e[t.length])>=0);var n}))}))}},{key:"getFieldValuePropValue",value:function(e){var t=e.name,n=e.getValueProps,r=e.valuePropName,o=this.getField(t),i="value"in o?o.value:e.initialValue;return n?n(i):KIe()({},r,i)}},{key:"getField",value:function(e){return FIe()({},this.fields[e],{name:e})}},{key:"getNotCollectedFields",value:function(){var e=this;return this.getValidFieldsName().filter((function(t){return!e.fields[t]})).map((function(t){return{name:t,dirty:!1,value:e.getFieldMeta(t).initialValue}})).reduce((function(e,t){return rLe()(e,t.name,pLe(t))}),{})}},{key:"getNestedAllFields",value:function(){var e=this;return Object.keys(this.fields).reduce((function(t,n){return rLe()(t,n,pLe(e.fields[n]))}),this.getNotCollectedFields())}},{key:"getFieldMember",value:function(e,t){return this.getField(e)[t]}},{key:"getNestedFields",value:function(e,t){return(e||this.getValidFieldsName()).reduce((function(e,n){return rLe()(e,n,t(n))}),{})}},{key:"getNestedField",value:function(e,t){var n=this.getValidFieldsFullName(e);if(0===n.length||1===n.length&&n[0]===e)return t(e);var r="["===n[0][e.length],o=r?e.length:e.length+1;return n.reduce((function(e,n){return rLe()(e,n.slice(o),t(n))}),r?[]:{})}},{key:"isValidNestedFieldName",value:function(e){return this.getAllFieldsName().every((function(t){return!ELe(t,e)&&!ELe(e,t)}))}},{key:"clearField",value:function(e){delete this.fields[e],delete this.fieldsMeta[e]}}]),e}(),PLe=function(){var e=this;this.setFieldsInitialValue=function(t){var n=e.flattenRegisteredFields(t),r=e.fieldsMeta;Object.keys(n).forEach((function(t){r[t]&&e.setFieldMeta(t,FIe()({},e.getFieldMeta(t),{initialValue:n[t]}))}))},this.getAllValues=function(){var t=e.fieldsMeta,n=e.fields;return Object.keys(t).reduce((function(t,r){return rLe()(t,r,e.getValueFromFields(r,n))}),{})},this.getFieldsValue=function(t){return e.getNestedFields(t,e.getFieldValue)},this.getFieldValue=function(t){var n=e.fields;return e.getNestedField(t,(function(t){return e.getValueFromFields(t,n)}))},this.getFieldsError=function(t){return e.getNestedFields(t,e.getFieldError)},this.getFieldError=function(t){return e.getNestedField(t,(function(t){return(n=e.getFieldMember(t,"errors"))?n.map((function(e){return e&&e.message?e.message:e})):n;var n}))},this.isFieldValidating=function(t){return e.getFieldMember(t,"validating")},this.isFieldsValidating=function(t){return(t||e.getValidFieldsName()).some((function(t){return e.isFieldValidating(t)}))},this.isFieldTouched=function(t){return e.getFieldMember(t,"touched")},this.isFieldsTouched=function(t){return(t||e.getValidFieldsName()).some((function(t){return e.isFieldTouched(t)}))}};function RLe(e){return new SLe(e)}var TLe=n(123),DLe=n.n(TLe),ALe=n(124),MLe=n.n(ALe),NLe=function(e){function t(){return cLe()(this,t),DLe()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return MLe()(t,e),lLe()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,n=e.form;n.domFields[t]=!0,n.recoverClearedField(t)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.name,n=e.form,r=n.fieldsStore.getFieldMeta(t);r.preserve||(n.clearedFieldMetaCache[t]={field:n.fieldsStore.getField(t),meta:r},n.clearField(t)),delete n.domFields[t]}},{key:"render",value:function(){return this.props.children}}]),t}(k.a.Component),ILe=NLe;NLe.propTypes={name:st.a.string,form:st.a.shape({domFields:st.a.objectOf(st.a.bool),recoverClearedField:st.a.func,fieldsStore:st.a.shape({getFieldMeta:st.a.func,getField:st.a.func}),clearedFieldMetaCache:st.a.objectOf(st.a.shape({field:st.a.object,meta:st.a.object})),clearField:st.a.func}),children:st.a.node};var LLe="onChange";var FLe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.validateMessages,r=e.onFieldsChange,o=e.onValuesChange,i=e.mapProps,a=void 0===i?mLe:i,c=e.mapPropsToFields,s=e.fieldNameProp,l=e.fieldMetaProp,u=e.fieldDataProp,f=e.formPropName,p=void 0===f?"form":f,d=e.name,h=e.withRef;return function(e){var i=GIe()({displayName:"Form",mixins:t,getInitialState:function(){var e=this,t=c&&c(this.props);return this.fieldsStore=RLe(t||{}),this.instances={},this.cachedBind={},this.clearedFieldMetaCache={},this.renderFields={},this.domFields={},["getFieldsValue","getFieldValue","setFieldsInitialValue","getFieldsError","getFieldError","isFieldValidating","isFieldsValidating","isFieldsTouched","isFieldTouched"].forEach((function(t){e[t]=function(){var n;return(n=e.fieldsStore)[t].apply(n,arguments)}})),{submitting:!1}},componentDidMount:function(){this.cleanUpUselessFields()},componentWillReceiveProps:function(e){c&&this.fieldsStore.updateFields(c(e))},componentDidUpdate:function(){this.cleanUpUselessFields()},onCollectCommon:function(e,t,n){var r=this.fieldsStore.getFieldMeta(e);if(r[t])r[t].apply(r,XIe()(n));else if(r.originalProps&&r.originalProps[t]){var i;(i=r.originalProps)[t].apply(i,XIe()(n))}var a=r.getValueFromEvent?r.getValueFromEvent.apply(r,XIe()(n)):kLe.apply(void 0,XIe()(n));if(o&&a!==this.fieldsStore.getFieldValue(e)){var c=this.fieldsStore.getAllValues(),s={};c[e]=a,Object.keys(c).forEach((function(e){return rLe()(s,e,c[e])})),o(FIe()(KIe()({},p,this.getForm()),this.props),rLe()({},e,a),s)}var l=this.fieldsStore.getField(e);return{name:e,field:FIe()({},l,{value:a,touched:!0}),fieldMeta:r}},onCollect:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=this.onCollectCommon(e,t,r),a=i.name,c=i.field,s=i.fieldMeta,l=s.validate;this.fieldsStore.setFieldsAsDirty();var u=FIe()({},c,{dirty:CLe(l)});this.setFields(KIe()({},a,u))},onCollectValidate:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=this.onCollectCommon(e,t,r),a=i.field,c=i.fieldMeta,s=FIe()({},a,{dirty:!0});this.fieldsStore.setFieldsAsDirty(),this.validateFieldsInternal([s],{action:t,options:{firstFields:!!c.validateFirst}})},getCacheBind:function(e,t,n){this.cachedBind[e]||(this.cachedBind[e]={});var r=this.cachedBind[e];return r[t]&&r[t].oriFn===n||(r[t]={fn:n.bind(this,e,t),oriFn:n}),r[t].fn},getFieldDecorator:function(e,t){var n=this,r=this.getFieldProps(e,t);return function(t){n.renderFields[e]=!0;var o=n.fieldsStore.getFieldMeta(e),i=t.props;o.originalProps=i,o.ref=t.ref;var a=k.a.cloneElement(t,FIe()({},r,n.fieldsStore.getFieldValuePropValue(o)));return _Le(t)?a:k.a.createElement(ILe,{name:e,form:n},a)}},getFieldProps:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Must call `getFieldProps` with valid name string!");delete this.clearedFieldMetaCache[e];var r=FIe()({name:e,trigger:LLe,valuePropName:"value",validate:[]},n),o=r.rules,i=r.trigger,a=r.validateTrigger,c=void 0===a?i:a,f=r.validate,p=this.fieldsStore.getFieldMeta(e);"initialValue"in r&&(p.initialValue=r.initialValue);var h=FIe()({},this.fieldsStore.getFieldValuePropValue(r),{ref:this.getCacheBind(e,e+"__ref",this.saveRef)});s&&(h[s]=d?d+"_"+e:e);var m=bLe(f,o,c),v=wLe(m);v.forEach((function(n){h[n]||(h[n]=t.getCacheBind(e,n,t.onCollectValidate))})),i&&-1===v.indexOf(i)&&(h[i]=this.getCacheBind(e,i,this.onCollect));var y=FIe()({},p,r,{validate:m});return this.fieldsStore.setFieldMeta(e,y),l&&(h[l]=y),u&&(h[u]=this.fieldsStore.getField(e)),this.renderFields[e]=!0,h},getFieldInstance:function(e){return this.instances[e]},getRules:function(e,t){return vLe(e.validate.filter((function(e){return!t||e.trigger.indexOf(t)>=0})).map((function(e){return e.rules})))},setFields:function(e,t){var n=this,o=this.fieldsStore.flattenRegisteredFields(e);if(this.fieldsStore.setFields(o),r){var i=Object.keys(o).reduce((function(e,t){return rLe()(e,t,n.fieldsStore.getField(t))}),{});r(FIe()(KIe()({},p,this.getForm()),this.props),i,this.fieldsStore.getNestedAllFields())}this.forceUpdate(t)},setFieldsValue:function(e,t){var n=this.fieldsStore.fieldsMeta,r=this.fieldsStore.flattenRegisteredFields(e),i=Object.keys(r).reduce((function(e,t){if(n[t]){var o=r[t];e[t]={value:o}}return e}),{});if(this.setFields(i,t),o){var a=this.fieldsStore.getAllValues();o(FIe()(KIe()({},p,this.getForm()),this.props),e,a)}},saveRef:function(e,t,n){if(!n){var r=this.fieldsStore.getFieldMeta(e);return r.preserve||(this.clearedFieldMetaCache[e]={field:this.fieldsStore.getField(e),meta:r},this.clearField(e)),void delete this.domFields[e]}this.domFields[e]=!0,this.recoverClearedField(e);var o=this.fieldsStore.getFieldMeta(e);if(o){var i=o.ref;if(i){if("string"==typeof i)throw new Error("can not set ref string for "+e);"function"==typeof i?i(n):Object.prototype.hasOwnProperty.call(i,"current")&&(i.current=n)}}this.instances[e]=n},cleanUpUselessFields:function(){var e=this,t=this.fieldsStore.getAllFieldsName().filter((function(t){var n=e.fieldsStore.getFieldMeta(t);return!e.renderFields[t]&&!e.domFields[t]&&!n.preserve}));t.length&&t.forEach(this.clearField),this.renderFields={}},clearField:function(e){this.fieldsStore.clearField(e),delete this.instances[e],delete this.cachedBind[e]},resetFields:function(e){var t=this,n=this.fieldsStore.resetFields(e);(Object.keys(n).length>0&&this.setFields(n),e)?(Array.isArray(e)?e:[e]).forEach((function(e){return delete t.clearedFieldMetaCache[e]})):this.clearedFieldMetaCache={}},recoverClearedField:function(e){this.clearedFieldMetaCache[e]&&(this.fieldsStore.setFields(KIe()({},e,this.clearedFieldMetaCache[e].field)),this.fieldsStore.setFieldMeta(e,this.clearedFieldMetaCache[e].meta),delete this.clearedFieldMetaCache[e])},validateFieldsInternal:function(e,t,r){var o=this,i=t.fieldNames,a=t.action,c=t.options,s=void 0===c?{}:c,l={},u={},f={},p={};if(e.forEach((function(e){var t=e.name;if(!0===s.force||!1!==e.dirty){var n=o.fieldsStore.getFieldMeta(t),r=FIe()({},e);r.errors=void 0,r.validating=!0,r.dirty=!0,l[t]=o.getRules(n,a),u[t]=r.value,f[t]=r}else e.errors&&rLe()(p,t,{errors:e.errors})})),this.setFields(f),Object.keys(u).forEach((function(e){u[e]=o.fieldsStore.getFieldValue(e)})),r&&OLe(f))r(OLe(p)?null:p,this.fieldsStore.getFieldsValue(i));else{var d=new QIe.a(l);n&&d.messages(n),d.validate(u,s,(function(e){var t=FIe()({},p);e&&e.length&&e.forEach((function(e){var n=e.field,r=n;Object.keys(l).some((function(e){var t=l[e]||[];if(e===n)return r=e,!0;if(t.every((function(e){return"array"!==e.type}))||0!==n.indexOf(e+"."))return!1;var o=n.slice(e.length+1);return!!/^\d+$/.test(o)&&(r=e,!0)}));var o=Lh()(t,r);("object"!=typeof o||Array.isArray(o))&&rLe()(t,r,{errors:[]}),Lh()(t,r.concat(".errors")).push(e)}));var n=[],a={};Object.keys(l).forEach((function(e){var r=Lh()(t,e),i=o.fieldsStore.getField(e);iLe()(i.value,u[e])?(i.errors=r&&r.errors,i.value=u[e],i.validating=!1,i.dirty=!1,a[e]=i):n.push({name:e})})),o.setFields(a),r&&(n.length&&n.forEach((function(e){var n=e.name,r=[{message:n+" need to revalidate",field:n}];rLe()(t,n,{expired:!0,errors:r})})),r(OLe(t)?null:t,o.fieldsStore.getFieldsValue(i)))}))}},validateFields:function(e,t,n){var r=this,o=new Promise((function(o,i){var a=xLe(e,t,n),c=a.names,s=a.options,l=xLe(e,t,n).callback;if(!l||"function"==typeof l){var u=l;l=function(e,t){u&&u(e,t),e?i({errors:e,values:t}):o(t)}}var f=c?r.fieldsStore.getValidFieldsFullName(c):r.fieldsStore.getValidFieldsName(),p=f.filter((function(e){return CLe(r.fieldsStore.getFieldMeta(e).validate)})).map((function(e){var t=r.fieldsStore.getField(e);return t.value=r.fieldsStore.getFieldValue(e),t}));p.length?("firstFields"in s||(s.firstFields=f.filter((function(e){return!!r.fieldsStore.getFieldMeta(e).validateFirst}))),r.validateFieldsInternal(p,{fieldNames:f,options:s},l)):l(null,r.fieldsStore.getFieldsValue(f))}));return o.catch((function(e){return console.error,e})),o},isSubmitting:function(){return this.state.submitting},submit:function(e){var t=this;this.setState({submitting:!0}),e((function(){t.setState({submitting:!1})}))},render:function(){var t=this.props,n=t.wrappedComponentRef,r=UIe()(t,["wrappedComponentRef"]),o=KIe()({},p,this.getForm());h?o.ref="wrappedComponent":n&&(o.ref=n);var i=a.call(this,FIe()({},o,r));return k.a.createElement(e,i)}});return hLe(Object(ZIe.a)(i),e)}},zLe={getForm:function(){return{getFieldsValue:this.fieldsStore.getFieldsValue,getFieldValue:this.fieldsStore.getFieldValue,getFieldInstance:this.getFieldInstance,setFieldsValue:this.setFieldsValue,setFields:this.setFields,setFieldsInitialValue:this.fieldsStore.setFieldsInitialValue,getFieldDecorator:this.getFieldDecorator,getFieldProps:this.getFieldProps,getFieldsError:this.fieldsStore.getFieldsError,getFieldError:this.fieldsStore.getFieldError,isFieldValidating:this.fieldsStore.isFieldValidating,isFieldsValidating:this.fieldsStore.isFieldsValidating,isFieldsTouched:this.fieldsStore.isFieldsTouched,isFieldTouched:this.fieldsStore.isFieldTouched,isSubmitting:this.isSubmitting,submit:this.submit,validateFields:this.validateFields,resetFields:this.resetFields}}};function BLe(e,t){var n=window.getComputedStyle,r=n?n(e):e.currentStyle;if(r)return r[t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))]}var VLe={getForm:function(){return FIe()({},zLe.getForm.call(this),{validateFieldsAndScroll:this.validateFieldsAndScroll})},validateFieldsAndScroll:function(e,t,n){var r=this,o=xLe(e,t,n),i=o.names,a=o.callback,c=o.options;return this.validateFields(i,c,(function(e,t){if(e){var n=r.fieldsStore.getValidFieldsName(),o=void 0,i=void 0;if(n.forEach((function(t){if(qIe()(e,t)){var n=r.getFieldInstance(t);if(n){var a=He.a.findDOMNode(n),c=a.getBoundingClientRect().top;"hidden"!==a.type&&(void 0===i||i>c)&&(i=c,o=a)}}})),o){var s=c.container||function(e){for(var t=e,n=void 0;"body"!==(n=t.nodeName.toLowerCase());){var r=BLe(t,"overflowY");if(t!==e&&("auto"===r||"scroll"===r)&&t.scrollHeight>t.clientHeight)return t;t=t.parentNode}return"body"===n?t.ownerDocument:t}(o);BIe()(o,s,FIe()({onlyScrollIfNeeded:!0},c.scroll))}}"function"==typeof a&&a(e,t)}))}};var qLe=function(e){return FLe(FIe()({},e),[VLe])};var HLe=function(e,t){for(var n=FIe()({},e),r=0;r<t.length;r++){delete n[t[r]]}return n},ULe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},WLe={};function KLe(e,t){0}function YLe(e,t,n){t||WLe[n]||(e(!1,n),WLe[n]=!0)}var XLe=function(e,t){YLe(KLe,e,t)},$Le=function(e,t,n){XLe(e,"[antd-compatible: ".concat(t,"] ").concat(n))};function GLe(e){var t=[];return k.a.Children.forEach(e,(function(e){t.push(e)})),t}function ZLe(e,t){var n=null;return e&&e.forEach((function(e){n||e&&e.key===t&&(n=e)})),n}function JLe(e,t,n){var r=null;return e&&e.forEach((function(e){if(e&&e.key===t&&e.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=e}})),r}var QLe=n(165),eFe=n.n(QLe),tFe={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},nFe={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},rFe=[],oFe=[];function iFe(e,t,n){e.addEventListener(t,n,!1)}function aFe(e,t,n){e.removeEventListener(t,n,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var e=document.createElement("div").style;function t(t,n){for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];for(var i in o)if(i in e){n.push(o[i]);break}}}"AnimationEvent"in window||(delete tFe.animationstart.animation,delete nFe.animationend.animation),"TransitionEvent"in window||(delete tFe.transitionstart.transition,delete nFe.transitionend.transition),t(tFe,rFe),t(nFe,oFe)}();var cFe={startEvents:rFe,addStartEventListener:function(e,t){0!==rFe.length?rFe.forEach((function(n){iFe(e,n,t)})):window.setTimeout(t,0)},removeStartEventListener:function(e,t){0!==rFe.length&&rFe.forEach((function(n){aFe(e,n,t)}))},endEvents:oFe,addEndEventListener:function(e,t){0!==oFe.length?oFe.forEach((function(n){iFe(e,n,t)})):window.setTimeout(t,0)},removeEndEventListener:function(e,t){0!==oFe.length&&oFe.forEach((function(n){aFe(e,n,t)}))}},sFe=n(366),lFe=n.n(sFe),uFe=0!==cFe.endEvents.length,fFe=["Webkit","Moz","O","ms"],pFe=["-webkit-","-moz-","-o-","ms-",""];function dFe(e,t){for(var n=window.getComputedStyle(e,null),r="",o=0;o<pFe.length&&!(r=n.getPropertyValue(pFe[o]+t));o++);return r}function hFe(e){if(uFe){var t=parseFloat(dFe(e,"transition-delay"))||0,n=parseFloat(dFe(e,"transition-duration"))||0,r=parseFloat(dFe(e,"animation-delay"))||0,o=parseFloat(dFe(e,"animation-duration"))||0,i=Math.max(n+t,o+r);e.rcEndAnimTimeout=setTimeout((function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()}),1e3*i+200)}}function mFe(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}var vFe=function(e,t,n){var r="object"===(void 0===t?"undefined":eFe()(t)),o=r?t.name:t,i=r?t.active:t+"-active",a=n,c=void 0,s=void 0,l=lFe()(e);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(a=n.end,c=n.start,s=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),mFe(e),l.remove(o),l.remove(i),cFe.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,a&&a())},cFe.addEndEventListener(e,e.rcEndListener),c&&c(),l.add(o),e.rcAnimTimeout=setTimeout((function(){e.rcAnimTimeout=null,l.add(i),s&&setTimeout(s,0),hFe(e)}),30),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};vFe.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),mFe(e),cFe.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n())},cFe.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout((function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,hFe(e)}),0)},vFe.setTransition=function(e,t,n){var r=t,o=n;void 0===n&&(o=r,r=""),r=r||"",fFe.forEach((function(t){e.style[t+"Transition"+r]=o}))},vFe.isCssAnimationSupported=uFe;var yFe=vFe,gFe={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}},bFe={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},wFe=function(e){function t(){return cLe()(this,t),DLe()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return MLe()(t,e),lLe()(t,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(e){gFe.isEnterSupported(this.props)?this.transition("enter",e):e()}},{key:"componentWillAppear",value:function(e){gFe.isAppearSupported(this.props)?this.transition("appear",e):e()}},{key:"componentWillLeave",value:function(e){gFe.isLeaveSupported(this.props)?this.transition("leave",e):e()}},{key:"transition",value:function(e,t){var n=this,r=He.a.findDOMNode(this),o=this.props,i=o.transitionName,a="object"==typeof i;this.stop();var c=function(){n.stopper=null,t()};if((uFe||!o.animation[e])&&i&&o[bFe[e]]){var s=a?i[e]:i+"-"+e,l=s+"-active";a&&i[e+"Active"]&&(l=i[e+"Active"]),this.stopper=yFe(r,{name:s,active:l},c)}else this.stopper=o.animation[e](r,c)}},{key:"stop",value:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())}},{key:"render",value:function(){return this.props.children}}]),t}(k.a.Component);wFe.propTypes={children:st.a.any,animation:st.a.any,transitionName:st.a.any};var kFe=wFe,xFe="rc_animate_"+Date.now();function OFe(e){var t=e.children;return k.a.isValidElement(t)&&!t.key?k.a.cloneElement(t,{key:xFe}):t}function CFe(){}var _Fe=function(e){function t(e){cLe()(this,t);var n=DLe()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return EFe.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:GLe(OFe(e))},n.childrenRefs={},n}return MLe()(t,e),lLe()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter((function(e){return!!e.props[t]}))),n.forEach((function(t){t&&e.performAppear(t.key)}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.nextProps=e;var n=GLe(OFe(e)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach((function(e){t.stop(e)}));var o,i,a,c,s=r.showProp,l=this.currentlyAnimatingKeys,u=r.exclusive?GLe(OFe(r)):this.state.children,f=[];s?(u.forEach((function(e){var t=e&&ZLe(n,e.key),r=void 0;(r=t&&t.props[s]||!e.props[s]?t:k.a.cloneElement(t||e,KIe()({},s,!0)))&&f.push(r)})),n.forEach((function(e){e&&ZLe(u,e.key)||f.push(e)}))):(o=n,i=[],a={},c=[],u.forEach((function(e){e&&ZLe(o,e.key)?c.length&&(a[e.key]=c,c=[]):c.push(e)})),o.forEach((function(e){e&&Object.prototype.hasOwnProperty.call(a,e.key)&&(i=i.concat(a[e.key])),i.push(e)})),f=i=i.concat(c)),this.setState({children:f}),n.forEach((function(e){var n=e&&e.key;if(!e||!l[n]){var r=e&&ZLe(u,n);if(s){var o=e.props[s];if(r)!JLe(u,n,s)&&o&&t.keysToEnter.push(n);else o&&t.keysToEnter.push(n)}else r||t.keysToEnter.push(n)}})),u.forEach((function(e){var r=e&&e.key;if(!e||!l[r]){var o=e&&ZLe(n,r);if(s){var i=e.props[s];if(o)!JLe(n,r,s)&&i&&t.keysToLeave.push(r);else i&&t.keysToLeave.push(r)}else o||t.keysToLeave.push(r)}}))}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(e,t){var n=this.props.showProp;return n?JLe(e,t,n):ZLe(e,t)}},{key:"stop",value:function(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()}},{key:"render",value:function(){var e=this,t=this.props;this.nextProps=t;var n=this.state.children,r=null;n&&(r=n.map((function(n){if(null==n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return k.a.createElement(kFe,{key:n.key,ref:function(t){e.childrenRefs[n.key]=t},animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},n)})));var o=t.component;if(o){var i=t;return"string"==typeof o&&(i=FIe()({className:t.className,style:t.style},t.componentProps)),k.a.createElement(o,i,r)}return r[0]||null}}]),t}(k.a.Component);_Fe.isAnimate=!0,_Fe.propTypes={className:st.a.string,style:st.a.object,component:st.a.any,componentProps:st.a.object,animation:st.a.object,transitionName:st.a.oneOfType([st.a.string,st.a.object]),transitionEnter:st.a.bool,transitionAppear:st.a.bool,exclusive:st.a.bool,transitionLeave:st.a.bool,onEnd:st.a.func,onEnter:st.a.func,onLeave:st.a.func,onAppear:st.a.func,showProp:st.a.string,children:st.a.node},_Fe.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:CFe,onEnter:CFe,onLeave:CFe,onAppear:CFe};var EFe=function(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var r=e.props;if(delete e.currentlyAnimatingKeys[t],!r.exclusive||r===e.nextProps){var o=GLe(OFe(r));e.isValidChildByKey(o,t)?"appear"===n?gFe.allowAppearCallback(r)&&(r.onAppear(t),r.onEnd(t,!0)):gFe.allowEnterCallback(r)&&(r.onEnter(t),r.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],!n.exclusive||n===e.nextProps){var r,o,i,a,c=GLe(OFe(n));if(e.isValidChildByKey(c,t))e.performEnter(t);else{var s=function(){gFe.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};r=e.state.children,o=c,i=n.showProp,(a=r.length===o.length)&&r.forEach((function(e,t){var n=o[t];e&&n&&(e&&!n||!e&&n||e.key!==n.key||i&&e.props[i]!==n.props[i])&&(a=!1)})),a?s():e.setState({children:c},s)}}}},jFe=Object(ZIe.a)(_Fe),SFe=Object(w.createContext)({}),PFe=["xxl","xl","lg","md","sm","xs"],RFe={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},TFe=new Map,DFe=-1,AFe={},MFe={matchHandlers:{},dispatch:function(e){return AFe=e,TFe.forEach((function(e){return e(AFe)})),TFe.size>=1},subscribe:function(e){return TFe.size||this.register(),DFe+=1,TFe.set(DFe,e),e(AFe),DFe},unsubscribe:function(e){TFe.delete(e),TFe.size||this.unregister()},unregister:function(){var e=this;Object.keys(RFe).forEach((function(t){var n=RFe[t],r=e.matchHandlers[n];null==r||r.mql.removeListener(null==r?void 0:r.listener)})),TFe.clear()},register:function(){var e=this;Object.keys(RFe).forEach((function(t){var n=RFe[t],r=function(n){var r=n.matches;e.dispatch(ht()(ht()({},AFe),ut()({},t,r)))},o=window.matchMedia(n);o.addListener(r),e.matchHandlers[n]={mql:o,listener:r},r(o)}))}},NFe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},IFe=(an("top","middle","bottom","stretch"),an("start","end","center","space-around","space-between"),w.forwardRef((function(e,t){var n=w.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),r=pt()(n,2),o=r[0],i=r[1],a=w.useRef();a.current=e.gutter,w.useEffect((function(){var e=MFe.subscribe((function(e){var t=a.current||0;(!Array.isArray(t)&&"object"===Hr()(t)||Array.isArray(t)&&("object"===Hr()(t[0])||"object"===Hr()(t[1])))&&i(e)}));return function(){MFe.unsubscribe(e)}}),[]);var c=function(n){var r,i=n.getPrefixCls,a=n.direction,c=e.prefixCls,s=e.justify,l=e.align,u=e.className,f=e.style,p=e.children,d=NFe(e,["prefixCls","justify","align","className","style","children"]),h=i("row",c),m=function(){var t=[0,0],n=e.gutter,r=void 0===n?0:n;return(Array.isArray(r)?r:[r,0]).forEach((function(e,n){if("object"===Hr()(e))for(var r=0;r<PFe.length;r++){var i=PFe[r];if(o[i]&&void 0!==e[i]){t[n]=e[i];break}}else t[n]=e||0})),t}(),v=_t()(h,(r={},ut()(r,"".concat(h,"-").concat(s),s),ut()(r,"".concat(h,"-").concat(l),l),ut()(r,"".concat(h,"-rtl"),"rtl"===a),r),u),y=ht()(ht()(ht()({},m[0]>0?{marginLeft:m[0]/-2,marginRight:m[0]/-2}:{}),m[1]>0?{marginTop:m[1]/-2,marginBottom:m[1]/2}:{}),f),g=ht()({},d);return delete g.gutter,w.createElement(SFe.Provider,{value:{gutter:m}},w.createElement("div",ht()({},g,{className:v,style:y,ref:t}),p))};return w.createElement(on,null,c)})));IFe.displayName="Row";var LFe=IFe,FFe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var zFe=w.forwardRef((function(e,t){var n=function(n){var r,o=n.getPrefixCls,i=n.direction,a=e.prefixCls,c=e.span,s=e.order,l=e.offset,u=e.push,f=e.pull,p=e.className,d=e.children,h=e.flex,m=e.style,v=FFe(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),y=o("col",a),g={};["xs","sm","md","lg","xl","xxl"].forEach((function(t){var n,r={},o=e[t];"number"==typeof o?r.span=o:"object"===Hr()(o)&&(r=o||{}),delete v[t],g=ht()(ht()({},g),(n={},ut()(n,"".concat(y,"-").concat(t,"-").concat(r.span),void 0!==r.span),ut()(n,"".concat(y,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),ut()(n,"".concat(y,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),ut()(n,"".concat(y,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),ut()(n,"".concat(y,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),ut()(n,"".concat(y,"-rtl"),"rtl"===i),n))}));var b=_t()(y,(r={},ut()(r,"".concat(y,"-").concat(c),void 0!==c),ut()(r,"".concat(y,"-order-").concat(s),s),ut()(r,"".concat(y,"-offset-").concat(l),l),ut()(r,"".concat(y,"-push-").concat(u),u),ut()(r,"".concat(y,"-pull-").concat(f),f),r),p,g);return w.createElement(SFe.Consumer,null,(function(e){var n=e.gutter,r=ht()({},m);return n&&(r=ht()(ht()(ht()({},n[0]>0?{paddingLeft:n[0]/2,paddingRight:n[0]/2}:{}),n[1]>0?{paddingTop:n[1]/2,paddingBottom:n[1]/2}:{}),r)),h&&(r.flex=function(e){return"number"==typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(h)),w.createElement("div",ht()({},v,{style:r,className:b,ref:t}),d)}))};return w.createElement(on,null,n)}));zFe.displayName="Col";var BFe=zFe,VFe="data-__meta",qFe="data-__field",HFe=w.createContext({labelAlign:"right",vertical:!1}),UFe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},WFe=function(e,t){return w.createElement(_oe,Object.assign({},e,{ref:t,icon:UFe}))};WFe.displayName="CheckCircleFilled";var KFe=w.forwardRef(WFe),YFe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},XFe=function(e,t){return w.createElement(_oe,Object.assign({},e,{ref:t,icon:YFe}))};XFe.displayName="ExclamationCircleFilled";var $Fe=w.forwardRef(XFe),GFe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},ZFe=function(e,t){return w.createElement(_oe,Object.assign({},e,{ref:t,icon:GFe}))};ZFe.displayName="CloseCircleFilled";var JFe=w.forwardRef(ZFe);function QFe(e){return(QFe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tze(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function nze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oze(e,t){return(oze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ize(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sze(e);if(t){var o=sze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return aze(this,n)}}function aze(e,t){return!t||"object"!==QFe(t)&&"function"!=typeof t?cze(e):t}function cze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sze(e){return(sze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lze(e){return function(e){if(Array.isArray(e))return uze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return uze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ULe("success","warning","error","validating",""),ULe("left","right");var fze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oze(e,t)}(i,e);var t,n,r,o=ize(i);function i(){var e;return nze(this,i),(e=o.apply(this,arguments)).helpShow=!1,e.onLabelClick=function(){var t=e.props.id||e.getId();if(t){var n=qe.findDOMNode(cze(e)).querySelector('[id="'.concat(t,'"]'));n&&n.focus&&n.focus()}},e.onHelpAnimEnd=function(t,n){e.helpShow=n,n||e.setState({})},e.renderFormItem=function(t){var n,r=t.getPrefixCls,o=e.props,i=o.prefixCls,a=o.style,c=o.className,s=tze(o,["prefixCls","style","className"]),l=r("legacy-form",i),u=e.renderChildren(l),f=(eze(n={},"".concat(l,"-item"),!0),eze(n,"".concat(l,"-item-with-help"),e.helpShow),eze(n,"".concat(c),!!c),n);return w.createElement(LFe,Object.assign({className:_t()(f),style:a},HLe(s,["id","htmlFor","label","labelAlign","labelCol","wrapperCol","help","extra","validateStatus","hasFeedback","required","colon"]),{key:"row"}),u)},e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.children,n=e.help,r=e.validateStatus,o=e.id;$Le(this.getControls(t,!0).length<=1||void 0!==n||void 0!==r,"Form.Item","Cannot generate `validateStatus` and `help` automatically, while there are more than one `getFieldDecorator` in it."),$Le(!o,"Form.Item","`id` is deprecated for its label `htmlFor`. Please use `htmlFor` directly.")}},{key:"getHelpMessage",value:function(){var e=this.props.help;if(void 0===e&&this.getOnlyControl()){var t=this.getField().errors;return t?t.map((function(e,t){var n=null;return w.isValidElement(e)?n=e:w.isValidElement(e.message)&&(n=e.message),n?w.cloneElement(n,{key:t}):e.message})).reduce((function(e,t){return[].concat(lze(e),[" ",t])}),[]).slice(1):""}return e}},{key:"getControls",value:function(e,t){for(var n=[],r=w.Children.toArray(e),o=0;o<r.length&&(t||!(n.length>0));o+=1){var a=r[o];(!a.type||a.type!==i&&"FormItem"!==a.type.displayName)&&a.props&&(VFe in a.props?n.push(a):a.props.children&&(n=n.concat(this.getControls(a.props.children,t))))}return n}},{key:"getOnlyControl",value:function(){var e=this.getControls(this.props.children,!1)[0];return void 0!==e?e:null}},{key:"getChildProp",value:function(e){var t=this.getOnlyControl();return t&&t.props&&t.props[e]}},{key:"getId",value:function(){return this.getChildProp("id")}},{key:"getMeta",value:function(){return this.getChildProp(VFe)}},{key:"getField",value:function(){return this.getChildProp(qFe)}},{key:"getValidateStatus",value:function(){if(!this.getOnlyControl())return"";var e=this.getField();if(e.validating)return"validating";if(e.errors)return"error";var t="value"in e?e.value:this.getMeta().initialValue;return null!=t&&""!==t?"success":""}},{key:"isRequired",value:function(){var e=this.props.required;return void 0!==e?e:!!this.getOnlyControl()&&((this.getMeta()||{}).validate||[]).filter((function(e){return!!e.rules})).some((function(e){return e.rules.some((function(e){return e.required}))}))}},{key:"renderHelp",value:function(e){var t=this.getHelpMessage(),n=t?w.createElement("div",{className:"".concat(e,"-explain"),key:"help"},t):null;return n&&(this.helpShow=!!n),w.createElement(jFe,{transitionName:"show-help",component:"",transitionAppear:!0,key:"help",onEnd:this.onHelpAnimEnd},n)}},{key:"renderExtra",value:function(e){var t=this.props.extra;return t?w.createElement("div",{className:"".concat(e,"-extra")},t):null}},{key:"renderValidateWrapper",value:function(e,t,n,r){var o=this.props,i=this.getOnlyControl,a=void 0===o.validateStatus&&i?this.getValidateStatus():o.validateStatus,c="".concat(e,"-item-control");a&&(c=_t()("".concat(e,"-item-control"),{"has-feedback":o.hasFeedback||"validating"===a,"has-success":"success"===a,"has-warning":"warning"===a,"has-error":"error"===a,"is-validating":"validating"===a}));var s=null;switch(a){case"success":s=w.createElement(KFe,null);break;case"warning":s=w.createElement($Fe,null);break;case"error":s=w.createElement(JFe,null);break;case"validating":s=w.createElement(j_e,null)}var l=o.hasFeedback&&s?w.createElement("span",{className:"".concat(e,"-item-children-icon")},s):null;return w.createElement("div",{className:c},w.createElement("span",{className:"".concat(e,"-item-children")},t,l),n,r)}},{key:"renderWrapper",value:function(e,t){var n=this;return w.createElement(HFe.Consumer,{key:"wrapper"},(function(r){var o=r.wrapperCol,i=r.vertical,a=n.props.wrapperCol,c=("wrapperCol"in n.props?a:o)||{},s=_t()("".concat(e,"-item-control-wrapper"),c.className);return w.createElement(HFe.Provider,{value:{vertical:i}},w.createElement(BFe,Object.assign({},c,{className:s}),t))}))}},{key:"renderLabel",value:function(e){var t=this;return w.createElement(HFe.Consumer,{key:"label"},(function(n){var r,o=n.vertical,i=n.labelAlign,a=n.labelCol,c=n.colon,s=t.props,l=s.label,u=s.labelCol,f=s.labelAlign,p=s.colon,d=s.id,h=s.htmlFor,m=t.isRequired(),v=("labelCol"in t.props?u:a)||{},y="labelAlign"in t.props?f:i,g="".concat(e,"-item-label"),b=_t()(g,"left"===y&&"".concat(g,"-left"),v.className),k=l,x=!0===p||!1!==c&&!1!==p;x&&!o&&"string"==typeof l&&""!==l.trim()&&(k=l.replace(/[：:]\s*$/,""));var O=_t()((eze(r={},"".concat(e,"-item-required"),m),eze(r,"".concat(e,"-item-no-colon"),!x),r));return l?w.createElement(BFe,Object.assign({},v,{className:b}),w.createElement("label",{htmlFor:h||d||t.getId(),className:O,title:"string"==typeof l?l:"",onClick:t.onLabelClick},k)):null}))}},{key:"renderChildren",value:function(e){var t=this.props.children;return[this.renderLabel(e),this.renderWrapper(e,this.renderValidateWrapper(e,t,this.renderHelp(e),this.renderExtra(e)))]}},{key:"render",value:function(){return w.createElement(on,null,this.renderFormItem)}}])&&rze(t.prototype,n),r&&rze(t,r),i}(w.Component);fze.defaultProps={hasFeedback:!1};function pze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pze(Object(n),!0).forEach((function(t){mze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hze(e){return(hze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yze(e,t){return(yze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wze(e);if(t){var o=wze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bze(this,n)}}function bze(e,t){return!t||"object"!==hze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wze(e){return(wze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ULe("horizontal","inline","vertical");var kze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yze(e,t)}(i,e);var t,n,r,o=gze(i);function i(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).renderForm=function(e){var n,r=e.getPrefixCls,o=t.props,i=o.prefixCls,a=o.hideRequiredMark,c=o.className,s=void 0===c?"":c,l=o.layout,u=r("legacy-form",i),f=_t()(u,(mze(n={},"".concat(u,"-horizontal"),"horizontal"===l),mze(n,"".concat(u,"-vertical"),"vertical"===l),mze(n,"".concat(u,"-inline"),"inline"===l),mze(n,"".concat(u,"-hide-required-mark"),a),n),s),p=HLe(t.props,["prefixCls","className","layout","form","hideRequiredMark","wrapperCol","labelAlign","labelCol","colon"]);return w.createElement("form",Object.assign({},p,{className:f}))},$Le(!e.form,"Form","It is unnecessary to pass `form` to `Form` after antd@1.7.0."),$Le(!1,n="Form","The legacy component has been deprecated, and ant design 4.0 now released! Please follow https://ant.design/components/".concat(n.toLowerCase()).concat("Mention"===n?"s":""," to upgrade.")),t}return t=i,(n=[{key:"componentDidMount",value:function(){try{$Le("relative"===getComputedStyle(document.querySelector(".ant-col"),null).getPropertyValue("position"),"Form","If missing `Grid` style, you should import it, Please follow https://github.com/ant-design/compatible#faq.")}catch(e){$Le(!1,"Form",e)}}},{key:"render",value:function(){var e=this.props,t=e.wrapperCol,n=e.labelAlign,r=e.labelCol,o=e.layout,i=e.colon;return w.createElement(HFe.Provider,{value:{wrapperCol:t,labelAlign:n,labelCol:r,vertical:"vertical"===o,colon:i}},w.createElement(on,null,this.renderForm))}}])&&vze(t.prototype,n),r&&vze(t,r),i}(w.Component);kze.defaultProps={colon:!0,layout:"horizontal",hideRequiredMark:!1,onSubmit:function(e){e.preventDefault()}},kze.Item=fze,kze.createFormField=pLe,kze.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qLe(dze(dze({fieldNameProp:"id"},e),{},{fieldMetaProp:VFe,fieldDataProp:qFe}))};var xze,Oze=kze;n(763);function Cze(e){return(Cze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_ze(Object(n),!0).forEach((function(t){jze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rze(e,t){return(Rze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mze(e);if(t){var o=Mze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dze(this,n)}}function Dze(e,t){return!t||"object"!==Cze(t)&&"function"!=typeof t?Aze(e):t}function Aze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mze(e){return(Mze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rze(e,t)}(i,e);var t,n,r,o=Tze(i);function i(){var e,t,n;Sze(this,i);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=o.call.apply(o,[this].concat(a))).state={input:(e={},jze(e,ixe,null),jze(e,axe,null),jze(e,cxe,null),e),error:(t={},jze(t,ixe,null),jze(t,axe,null),jze(t,cxe,null),t)},n.__handleChangePrice=function(e){if(!n.props.data.freeze&&!n.props.data.expired){var t=e.currentTarget.value;t||(t=null),n.setState(Eze(Eze({},n.state),{},{input:Eze(Eze({},n.state.input),{},jze({},ixe,t)),error:Eze(Eze({},n.state.error),{},jze({},ixe,n.props.data.validate(ixe,t)))}),n.__notify)}},n.__handleChangeDuration=function(e){if(!n.props.data.freeze&&!n.props.data.expired){var t=e.currentTarget.value;t||(t=null),n.setState(Eze(Eze({},n.state),{},{input:Eze(Eze({},n.state.input),{},jze({},axe,t)),error:Eze(Eze({},n.state.error),{},jze({},axe,n.props.data.validate(axe,t)))}),n.__notify)}},n.__handleChangeTip=function(e){if(!n.props.data.expired){var t=e.currentTarget.value;t||(t=null),n.setState(Eze(Eze({},n.state),{},{input:Eze(Eze({},n.state.input),{},jze({},cxe,t)),error:Eze(Eze({},n.state.error),{},jze({},cxe,n.props.data.validate(cxe,t)))}),n.__notify)}},n.__notify=function(){var e,t=Aze(n).state,r=n.props.data.onChange;if(r){var o=t.input.tip;r((jze(e={},ixe,t.input.price),jze(e,axe,t.input.daysCount),jze(e,cxe,o?o.replace(/\n+/g,""):o),e))}},n}return t=i,(n=[{key:"componentDidMount",value:function(){this.__initState(this.props.data)}},{key:"render",value:function(){var e=this.props.engine,t=this.props.data,n=t.expired,r=t.freeze,o=e.locale.premium;return k.a.createElement("div",{className:"lake-sidebar-premium"},k.a.createElement("div",{className:"lake-sidebar-noborder-group"},k.a.createElement("div",{className:"lake-sidebar-noborder-group-title"},o.sidebar.title,k.a.createElement("a",{href:"https://www.yuque.com/terms/origin",target:"_blank"},o.sidebar.moreLink)),k.a.createElement("div",{className:"lake-sidebar-noborder-group-item",dangerouslySetInnerHTML:{__html:o.sidebar.desc}})),k.a.createElement(Oze,null,k.a.createElement("div",{className:"lake-sidebar-noborder-group"},k.a.createElement("div",{className:"lake-sidebar-noborder-group-title"},o.sidebar.price.title),k.a.createElement("div",{className:"lake-sidebar-noborder-group-item"},o.sidebar.price.desc),k.a.createElement(Oze.Item,{validateStatus:this.state.error.price?"error":"success",help:this.state.error.price},k.a.createElement("div",{className:"lake-sidebar-noborder-group-item lake-sidebar-input-group-item"},k.a.createElement(oi,{value:this.state.input.price,className:"lake-sidebar-premium-input",placeholder:"".concat(fxe.price.min,"-").concat(fxe.price.max),disabled:n||r,onChange:this.__handleChangePrice})," ",o.sidebar.price.unit))),k.a.createElement("div",{className:"lake-sidebar-noborder-group"},k.a.createElement("div",{className:"lake-sidebar-noborder-group-title"},o.sidebar.daysCount.title),k.a.createElement("div",{className:"lake-sidebar-noborder-group-item",dangerouslySetInnerHTML:{__html:o.sidebar.daysCount.desc}}),k.a.createElement(Oze.Item,{validateStatus:this.state.error.daysCount?"error":"success",help:this.state.error.daysCount},k.a.createElement("div",{className:"lake-sidebar-noborder-group-item lake-sidebar-input-group-item"},k.a.createElement(oi,{value:this.state.input.daysCount,className:"lake-sidebar-premium-input",placeholder:"".concat(fxe.daysCount.min,"-").concat(fxe.daysCount.max),onChange:this.__handleChangeDuration,disabled:n||r})," ",o.sidebar.daysCount.unit))),k.a.createElement("div",{className:"lake-sidebar-noborder-group"},k.a.createElement("div",{className:"lake-sidebar-noborder-group-title"},o.sidebar.tip.title),k.a.createElement(Oze.Item,{validateStatus:this.state.error.tip?"error":"success",help:this.state.error.tip},k.a.createElement("div",{className:"lake-sidebar-noborder-group-item lake-sidebar-input-group-item"},k.a.createElement(oi.TextArea,{autoSize:{minRows:1,maxRows:3},value:this.state.input.tip,className:"lake-sidebar-premium-textarea",placeholder:o.defaultTip,autoComplete:"off",onChange:this.__handleChangeTip,disabled:n}))))))}},{key:"__initState",value:function(e){var t;e&&this.setState(Eze(Eze({},this.state),{},{input:(t={},jze(t,ixe,e.price),jze(t,axe,e.daysCount),jze(t,cxe,e.tip),t)}))}}])&&Pze(t.prototype,n),r&&Pze(t,r),i}(w.Component);Nze.propTypes={engine:st.a.object,data:st.a.shape((xze={},jze(xze,ixe,st.a.any),jze(xze,axe,st.a.any),jze(xze,cxe,st.a.any),jze(xze,"freeze",st.a.bool.isRequired),jze(xze,"expired",st.a.bool.isRequired),jze(xze,"onChange",st.a.func),jze(xze,"validate",st.a.func),xze)).isRequired},Nze.defaultProps={data:{validate:function(){}}};var Ize={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Lze=function(e,t){return w.createElement(_oe,Object.assign({},e,{ref:t,icon:Ize}))};Lze.displayName="SearchOutlined";var Fze=w.forwardRef(Lze),zze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},Bze=function(e,t){return w.createElement(_oe,Object.assign({},e,{ref:t,icon:zze}))};Bze.displayName="CloseOutlined";var Vze=w.forwardRef(Bze),qze=(n(837),function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}),Hze=function(e){var t,n,r=e.prefixCls,o=e.separator,i=void 0===o?"/":o,a=e.children,c=e.overlay,s=e.dropdownProps,l=qze(e,["prefixCls","separator","children","overlay","dropdownProps"]),u=(0,w.useContext(rn).getPrefixCls)("breadcrumb",r);return t="href"in l?w.createElement("a",ht()({className:"".concat(u,"-link")},l),a):w.createElement("span",ht()({className:"".concat(u,"-link")},l),a),n=t,t=c?w.createElement(wne,ht()({overlay:c,placement:"bottomCenter"},s),w.createElement("span",{className:"".concat(u,"-overlay-link")},n,w.createElement(Lne.a,null))):n,a?w.createElement("span",null,t,i&&""!==i&&w.createElement("span",{className:"".concat(u,"-separator")},i)):null};Hze.__ANT_BREADCRUMB_ITEM=!0;var Uze=Hze,Wze=function(e){var t=e.children,n=(0,w.useContext(rn).getPrefixCls)("breadcrumb");return w.createElement("span",{className:"".concat(n,"-separator")},t||"/")};Wze.__ANT_BREADCRUMB_SEPARATOR=!0;var Kze=Wze,Yze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Xze(e,t,n,r){var o=n.indexOf(e)===n.length-1,i=function(e,t){if(!e.breadcrumbName)return null;var n=Object.keys(t).join("|");return e.breadcrumbName.replace(new RegExp(":(".concat(n,")"),"g"),(function(e,n){return t[n]||e}))}(e,t);return o?w.createElement("span",null,i):w.createElement("a",{href:"#/".concat(r.join("/"))},i)}var $ze=function(e,t){return e=(e||"").replace(/^\//,""),Object.keys(t).forEach((function(n){e=e.replace(":".concat(n),t[n])})),e},Gze=function(e){var t,n=e.prefixCls,r=e.separator,o=void 0===r?"/":r,i=e.style,a=e.className,c=e.routes,s=e.children,l=e.itemRender,u=void 0===l?Xze:l,f=e.params,p=void 0===f?{}:f,d=Yze(e,["prefixCls","separator","style","className","routes","children","itemRender","params"]),h=w.useContext(rn),m=h.getPrefixCls,v=h.direction,y=m("breadcrumb",n);if(c&&c.length>0){var g=[];t=c.map((function(e){var t,n=$ze(e.path,p);return n&&g.push(n),e.children&&e.children.length&&(t=w.createElement(cne,null,e.children.map((function(e){return w.createElement(cne.Item,{key:e.path||e.breadcrumbName},u(e,p,c,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=Lte()(e),o=$ze(t,n);return o&&r.push(o),r}(g,e.path,p)))})))),w.createElement(Uze,{overlay:t,separator:o,key:n||e.breadcrumbName},u(e,p,c,g))}))}else s&&(t=Object(Nw.a)(s).map((function(e,t){return e?(Pr(e.type&&(!0===e.type.__ANT_BREADCRUMB_ITEM||!0===e.type.__ANT_BREADCRUMB_SEPARATOR),"Breadcrumb","Only accepts Breadcrumb.Item and Breadcrumb.Separator as it's children"),Dt(e,{separator:o,key:t})):e})));var b=_t()(a,y,ut()({},"".concat(y,"-rtl"),"rtl"===v));return w.createElement("div",ht()({className:b,style:i},d),t)};Gze.Item=Uze,Gze.Separator=Kze;var Zze=Gze;n(839);function Jze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jze(Object(n),!0).forEach((function(t){eBe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eBe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tBe(){return(tBe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nBe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var rBe=k.a.forwardRef((function(e,t){var n=e.className,r=nBe(e,["className"]);return k.a.createElement(Zze,tBe({className:_t()("larkui-breadcrumb",n),ref:t},r))}));rBe.propTypes=Qze(Qze({},Zze.BreadcrumbProps),{},{className:st.a.string}),Do()(rBe,Zze);var oBe=rBe,iBe=(n(840),function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}),aBe=(an("small","default","large"),null);var cBe=function(e){Ft()(n,e);var t=Bt()(n);function n(e){var r;Mt()(this,n),(r=t.call(this,e)).debouncifyUpdateSpinning=function(e){var t=(e||r.props).delay;t&&(r.cancelExistingSpin(),r.updateSpinning=nm()(r.originalUpdateSpinning,t))},r.updateSpinning=function(){var e=r.props.spinning;r.state.spinning!==e&&r.setState({spinning:e})},r.renderSpin=function(e){var t,n=e.getPrefixCls,o=e.direction,i=r.props,a=i.prefixCls,c=i.className,s=i.size,l=i.tip,u=i.wrapperClassName,f=i.style,p=iBe(i,["prefixCls","className","size","tip","wrapperClassName","style"]),d=r.state.spinning,h=n("spin",a),m=_t()(h,(t={},ut()(t,"".concat(h,"-sm"),"small"===s),ut()(t,"".concat(h,"-lg"),"large"===s),ut()(t,"".concat(h,"-spinning"),d),ut()(t,"".concat(h,"-show-text"),!!l),ut()(t,"".concat(h,"-rtl"),"rtl"===o),t),c),v=Object(br.a)(p,["spinning","delay","indicator"]),y=w.createElement("div",ht()({},v,{style:f,className:m}),function(e,t){var n=t.indicator,r="".concat(e,"-dot");return null===n?null:Rt(n)?Dt(n,{className:_t()(n.props.className,r)}):Rt(aBe)?Dt(aBe,{className:_t()(aBe.props.className,r)}):w.createElement("span",{className:_t()(r,"".concat(e,"-dot-spin"))},w.createElement("i",{className:"".concat(e,"-dot-item")}),w.createElement("i",{className:"".concat(e,"-dot-item")}),w.createElement("i",{className:"".concat(e,"-dot-item")}),w.createElement("i",{className:"".concat(e,"-dot-item")}))}(h,r.props),l?w.createElement("div",{className:"".concat(h,"-text")},l):null);if(r.isNestedPattern()){var g=_t()("".concat(h,"-container"),ut()({},"".concat(h,"-blur"),d));return w.createElement("div",ht()({},v,{className:_t()("".concat(h,"-nested-loading"),u)}),d&&w.createElement("div",{key:"loading"},y),w.createElement("div",{className:g,key:"container"},r.props.children))}return y};var o=e.spinning,i=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(o,e.delay);return r.state={spinning:o&&!i},r.originalUpdateSpinning=r.updateSpinning,r.debouncifyUpdateSpinning(e),r}return It()(n,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||!this.props.children)}},{key:"render",value:function(){return w.createElement(on,null,this.renderSpin)}}],[{key:"setDefaultIndicator",value:function(e){aBe=e}}]),n}(w.Component);cBe.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var sBe=cBe;n(842);function lBe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uBe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lBe(Object(n),!0).forEach((function(t){fBe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lBe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fBe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pBe(){return(pBe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dBe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var hBe=k.a.forwardRef((function(e,t){var n=e.className,r=e.justify,o=dBe(e,["className","justify"]);return k.a.createElement(sBe,pBe({className:_t()("larkui-spin",n,{"larkui-spin-block":"block"===r}),indicator:k.a.createElement("div",{className:"larkui-spin-indicator"}),ref:t},o))}));hBe.propTypes=uBe(uBe({},sBe.SpinProps),{},{className:st.a.string,justify:st.a.oneOf(["block"])}),Do()(hBe,sBe);var mBe=hBe,vBe=n(367),yBe=n.n(vBe),gBe=function(e){var t=e.className,n=e.name,r=e.width,o=e.height,i=e.fill,a=e.radius;return k.a.createElement("svg",{className:_t()("icon-svg",t,yBe.a.size),style:{width:r,height:o||r,minWidth:r,fill:i,borderRadius:a}},k.a.createElement("use",{xlinkHref:"#".concat(n)}))};gBe.propTypes={className:st.a.string,name:st.a.string,width:st.a.number,height:st.a.number,fill:st.a.any,radius:st.a.string};var bBe=gBe,wBe=n(229),kBe=n(161),xBe=n(157),OBe=n(158),CBe=n(159),_Be=n(163),EBe=n(162),jBe=n(160),SBe=n(164),PBe=(wBe.map((function(e){return e.substring(1)})),["txt"].concat(kBe.map((function(e){return e.substring(1)})))),RBe=xBe.map((function(e){return e.substring(1)})),TBe=OBe.map((function(e){return e.substring(1)})),DBe=CBe.map((function(e){return e.substring(1)})),ABe=_Be.map((function(e){return e.substring(1)})),MBe=EBe.map((function(e){return e.substring(1)})),NBe=jBe.map((function(e){return e.substring(1)})),IBe=SBe.map((function(e){return e.substring(1)}));function LBe(e,t){if(!t||!t.ext)return!1;switch(t.ext=t.ext.toLowerCase(),e){case"raw":return PBe.includes(t.ext);case"image":return RBe.includes(t.ext);case"video":return TBe.includes(t.ext);case"audio":return DBe.includes(t.ext);case"presentation":return ABe.includes(t.ext);case"sheet":return MBe.includes(t.ext);case"rp":return["rp","rplib"].includes(t.ext);case"zip":return NBe.includes(t.ext);case"mmap":return IBe.includes(t.ext);case"ppt":return["ppt","pptx"].includes(t.ext);default:return t.ext===e}}function FBe(e){return LBe("image",e)}function zBe(e){if("folder"===e.type)return"file-folder";var t=e.ext;return t=t?t.toLowerCase():"",FBe(e)?"file-image":function(e){return LBe("video",e)}(e)?"file-video":function(e){return LBe("audio",e)}(e)?"file-audio":["doc","docx","dot","dotx"].includes(t)?"file-word":function(e){return LBe("pdf",e)}(e)?"file-pdf":LBe("txt",e)?"file-txt":["pages","md","markdown","rtf"].includes(t)?"file-doc":LBe("numbers",e)?"file-numbers":["xls","xlsx","xlsm","xltx","xlt"].includes(t)?"file-excel":function(e){return LBe("sheet",e)}(e)?"file-sheet":LBe("key",e)?"file-keynote":function(e){return LBe("presentation",e)}(e)?"file-ppt":["xmind","xmind.zip"].includes(t)?"file-xmind":["mindnode","mindnode.zip"].includes(t)?"file-mindnode":LBe("mmap",e)?"file-mindmap":function(e){return LBe("sketch",e)}(e)?"file-sketch":function(e){return LBe("rp",e)}(e)?"file-axure":LBe("psd",e)?"file-psd":LBe("ai",e)?"file-ai":LBe("graffle",e)?"file-graffle":LBe("zip",e)?"file-rar":LBe("lake",e)?"doc-type-default":LBe("lakesheet",e)?"doc-type-sheet":"file-default"}var BBe=n(127),VBe=n.n(BBe),qBe={Icon:function(e){var t=e.item,n=e.size;return k.a.createElement(bBe,{name:"folder"===t.type?"file-folder":zBe(t),width:n||24})}};qBe.Icon.propTypes={item:st.a.object.isRequired,size:st.a.number};var HBe=qBe,UBe=["cdn.nlark.com","gw.alipayobjects.com","alipay-rmsdeploy-image.cn-hangzhou.alipay.aliyun-inc.com","private-alipayobjects.alipay.com","zos.alipayobjects.com","yuque.com","yuque.antfin-inc.com","yuque.antfin.com","lark.alipay.net:7001","intranetproxy.alipay.com"],WBe=n(368),KBe=n.n(WBe);function YBe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return XBe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XBe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XBe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $Be=function(e){var t=e.item,n=void 0===t?{}:t,r=e.size,o=void 0===r?30:r,i=n.filekey,a=n.ext,c=YBe(Object(w.useState)(!0),2),s=c[0],l=c[1],u="".concat(window.location.protocol,"//").concat(window.location.host,"/preview/").concat(i,"?redirect=true");"svg"!==a&&(u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width,r=t.height,o=t.fill,i=t.format,a=t.quality;if(e){if(e.startsWith("/r/avatar_buc/"))return e;if(e.includes(".svg"))return e;if(!e.includes(window.location.host)&&UBe.every((function(t){return!e.includes(t)})))return e;try{var c=new URL(e),s=c.searchParams,l=c.pathname,u=function(e,t){s.get("x-oss-process")?s.set("x-oss-process","".concat(s.get("x-oss-process"),"/").concat(e,",").concat(t)):s.append("x-oss-process","image/".concat(e,",").concat(t))};if(l.endsWith(".gif")&&(n||r)&&!i&&(i="jpeg",a="Q_85"),n||r){var f=[];o&&f.push("m_fill"),n&&f.push("w_".concat(n)),r&&f.push("h_".concat(r)),u("resize",f.join(","))}return i&&u("format",i),a&&u("quality",a),c.toString()}catch(t){return e}}}(u,{height:2*o,width:2*o,fill:!0}));var f={backgroundImage:"url(".concat(u,")"),width:"".concat(o,"px"),height:"".concat(o,"px")};return Object(w.useEffect)((function(){var e=new Image;e.src=u,e.onerror=function(){l(!1)}}),[u]),s?k.a.createElement("div",{className:KBe.a.thumbnail,style:f,"data-testid":"test-thumbnail"}):k.a.createElement(HBe.Icon,{item:n,size:o})};$Be.propTypes={item:st.a.object,size:st.a.number};var GBe=$Be;function ZBe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var JBe=function(e){var t,n=e.item,r=e.isMobile,o=e.size,i=void 0===o?30:o,a=FBe(n)&&n.filekey&&!n.filekey.endsWith("?x-oss-process=image/auto-orient,1")?k.a.createElement(GBe,{item:n,size:i}):k.a.createElement(HBe.Icon,{item:n,size:i}),c=_t()(VBe.a.name,(ZBe(t={},VBe.a.mobile,r),ZBe(t,VBe.a.fileItem,"file"===n.type),t)),s=_t()(VBe.a.nameText,ZBe({},VBe.a.mobile,r)),l="folder"===n.type?"":".".concat(n.ext);return k.a.createElement("span",{className:c},k.a.createElement("span",{title:"".concat(n.filename).concat(l),"data-testid":"resource-item-name-static"},a,k.a.createElement("span",{className:s},n.filename,l)))};JBe.propTypes={item:st.a.object.isRequired,isMobile:st.a.bool,size:st.a.number};var QBe=JBe,eVe=n(38),tVe=n.n(eVe);function nVe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rVe(e){return function(e){if(Array.isArray(e))return aVe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||iVe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oVe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||iVe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iVe(e,t){if(e){if("string"==typeof e)return aVe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aVe(e,t):void 0}}function aVe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cVe=function(e){var t=e.breadsLevel,n=void 0===t?2:t,r=e.onSelect,o=e.onClose,i=e.locale,a=e.lang,c=e.actions,s=oVe(Object(w.useState)(!1),2),l=s[0],u=s[1],f=oVe(Object(w.useState)(!1),2),p=f[0],d=f[1],h=oVe(Object(w.useState)(null),2),m=h[0],v=h[1],y=oVe(Object(w.useState)([]),2),g=y[0],b=y[1],x=oVe(Object(w.useState)([]),2),O=x[0],C=x[1],_=oVe(Object(w.useState)(null),2),E=_[0],j=_[1],S=oVe(Object(w.useState)([]),2),P=S[0],R=S[1],T=oVe(Object(w.useState)(!1),2),D=T[0],A=T[1],M=oVe(Object(w.useState)(null),2),N=M[0],I=M[1],L=Object(w.useRef)(null);Object(w.useEffect)((function(){E||N?function(e){u(!0);var t={book_id:e&&e.book_id||E&&E.id};e&&(t.parent_id=e.id),Ma({url:c.resourceAction,method:"GET",data:t}).promise.then((function(e){e&&e.data?b(e.data):(d(!0),b([])),u(!1)}))}(m):(u(!0),Ma({url:c.booksAction,method:"GET",data:{type:"Resource",filterByAbility:"download"}}).promise.then((function(e){e&&e.data?C(e.data):(d(!0),C([])),v(null),u(!1)})))}),[E,m]);var F=function(e){if("root"===e)return j(null),void R([]);if(!e)return v(null),void R([]);if("Resource"===e.type)return j(e),v(null),void R([e]);if("file"!==e.type){v(e);var t=P.findIndex((function(t){return t.id===e.id}));if(t<0)R([].concat(rVe(P),[e]));else{var n=rVe(P).slice(0,t+1);R(n)}}else r&&("Doc"===e.target_type&&(e.url="".concat(window.location.origin,"/go/resource/").concat(e.id),e.detail={title:e.filename,type:"lakesheet"===e.ext?"sheet":"doc"}),r(e))},z=E||N?g:O;return p?k.a.createElement("div",{className:tVe.a.resourceSelectPanel},k.a.createElement("div",{className:tVe.a.errTip},k.a.createElement("span",{className:"lake-svg-icon lake-svg-icon-regret"}),k.a.createElement("div",{className:tVe.a.errTipText},i.error))):k.a.createElement("div",{className:tVe.a.resourceSelectPanel},k.a.createElement("div",{className:tVe.a.searchWrap},D?k.a.createElement("div",{className:tVe.a.searchHeader},k.a.createElement(oi.Search,{ref:L,placeholder:i.searchTip,allowClear:!1,className:tVe.a.searchInput,onSearch:function(e){if(""!==e){u(!0);var t=O&&O.map((function(e){return e.id}))&&O.map((function(e){return e.id})).join(",");Ma({url:c.resourceSearchAction,method:"GET",data:{book_ids:t,query:e}}).promise.then((function(e){e&&e.data?(I(e.data),b(e.data)):(I(null),b([]),d(!0)),R([]),u(!1)}))}}})):k.a.createElement("div",{className:tVe.a.readHeader},k.a.createElement("div",{className:tVe.a.headerTitle},i.title),k.a.createElement("a",{onClick:function(){A(!0),setTimeout((function(){L.current&&L.current.focus()}),100),R([])}},k.a.createElement(Fze,null))),k.a.createElement("a",{onClick:function(){D?(A(!1),I(null),j(null),R([]),v(null)):o&&o()}},k.a.createElement(Vze,null))),k.a.createElement("div",{className:tVe.a.contentBody},k.a.createElement(oBe,{className:tVe.a.breadcrumb,"data-testid":"moving-modal-breadcrumbs"},N?k.a.createElement(oBe.Item,{onClick:function(){b(N),R([])}},k.a.createElement("span",null,i.searchResultTip)):k.a.createElement(oBe.Item,{onClick:function(){F("root")}},k.a.createElement("span",null,i.topLevelBreadcrumbName)),P&&P.length>n&&k.a.createElement(oBe.Item,{className:tVe.a.resourceBreadcrumbEllipsis},"..."),P&&P.length>0&&P.slice(-n).map((function(e){return k.a.createElement(oBe.Item,{key:"".concat(e.id,"-").concat(e.filename||e.name),onClick:function(){return F(e)}},k.a.createElement("span",{title:e.filename||e.name},e.filename||e.name))}))),k.a.createElement("div",{className:tVe.a.card},l?k.a.createElement("div",{className:tVe.a.loading},k.a.createElement(mBe,{justify:"block"})):k.a.createElement(k.a.Fragment,null,z.length>0?k.a.createElement("ul",{className:tVe.a.list},z.map((function(e){var t;if(!e)return null;var n=e.user||{},r="file"===e.type,o="en"===a;return k.a.createElement("li",{key:e.id||e.uid,className:_t()(tVe.a.listItem,(t={},nVe(t,tVe.a.fileItem,r),nVe(t,tVe.a.isEn,o),t)),onClick:function(){return F(e)}},E||N?k.a.createElement(QBe,{book:E,item:e,isLink:!1,size:20}):k.a.createElement("div",{className:tVe.a.columnsTitleBook},k.a.createElement("span",{className:tVe.a["lark-book-title"]},k.a.createElement(bBe,{name:"book-type-resource",width:20,className:tVe.a["book-icon"]}),k.a.createElement("span",{className:tVe.a["book-name"],title:"".concat(n.name,"/").concat(e.name)},k.a.createElement("span",null,n.name,k.a.createElement("span",{className:tVe.a["book-name-split"]},"/")),k.a.createElement("span",{className:tVe.a["book-name-text"],title:e.name},e.name)))))}))):k.a.createElement("div",{className:tVe.a.emptyView},k.a.createElement("div",{className:tVe.a.emptyViewImg}),O&&O.length>0?i.emptySearchTip:k.a.createElement("span",null,i.noResourceBook,k.a.createElement("a",{href:"/new?scene=resource",target:"__blank"},i.create)))))))};cVe.propTypes={breadsLevel:st.a.number,locale:st.a.object,onSelect:st.a.func,onClose:st.a.func,lang:st.a.string,actions:st.a.shape({booksAction:st.a.string.isRequired,resourceAction:st.a.string.isRequired,resourceSearchAction:st.a.string.isRequired}).isRequired};var sVe=jNe(cVe);function lVe(e){return(lVe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uVe(){return(uVe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fVe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pVe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fVe(Object(n),!0).forEach((function(t){dVe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fVe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dVe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mVe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vVe(e,t){return(vVe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yVe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bVe(e);if(t){var o=bVe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gVe(this,n)}}function gVe(e,t){return!t||"object"!==lVe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bVe(e){return(bVe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wVe={booksAction:"/api/mine/books",resourceAction:"/api/resources",resourceSearchAction:"/api/resources/search"},kVe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vVe(e,t)}(i,e);var t,n,r,o=yVe(i);function i(){var e;hVe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onSelectFile=function(t){e.props.engine.command.execute("transfer",t)},e}return t=i,(n=[{key:"render",value:function(){var e=this.props.engine,t=pVe(pVe({},wVe),e.options.resource);return k.a.createElement(sVe,uVe({},this.props,{lang:this.props.engine.options.lang,locale:this.props.engine.locale.repositorySidebar,actions:t,onSelect:this.onSelectFile}))}}])&&mVe(t.prototype,n),r&&mVe(t,r),i}(w.Component);function xVe(e){return(xVe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OVe(){return(OVe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function CVe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CVe(Object(n),!0).forEach((function(t){EVe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CVe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EVe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jVe(e){return function(e){if(Array.isArray(e))return SVe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return SVe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SVe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SVe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PVe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RVe(e,t){return(RVe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function TVe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=AVe(e);if(t){var o=AVe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DVe(this,n)}}function DVe(e,t){return!t||"object"!==xVe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function AVe(e){return(AVe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}kVe.propTypes={engine:st.a.object.isRequired,onClose:st.a.func.isRequired};var MVe={toc:!0,translate:!0,premium:!0},NVe={toc:!0,translate:!0,repository:!0},IVe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RVe(e,t)}(i,e);var t,n,r,o=TVe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).currentScrollBar=null,t.extends=function(){t.props.engine.sidebar={set:t.set,close:t.close,store:t.store,restore:t.restore}},t.set=function(e){if(e){var n=t.state.stack,r=n[n.length-1],o=jVe(n);r?r.name===e.name?o[o.length-1]=e:NVe[e.name]?o=[e]:NVe[r.name]?o.push(e):o[o.length-1]=e:o=[e];var i=t.props.engine;t.setState(_Ve(_Ve({},t.state),{},{stack:o})),i.sidebar.activate=e.name;var a=o[o.length-1];r&&r.name===a.name||t.emitSidebarChange(a.name),i.toolbar.updateState()}else t.close()},t.close=function(e){var n=t.props.engine,r=t.state.stack;if(r.length&&(!e||e===r[r.length-1].name)){var o=r.slice(0,r.length-1);if(t.setState(_Ve(_Ve({},t.state),{},{stack:o})),o.length){var i=o[o.length-1];t.emitSidebarChange(i.name),n.sidebar.activate=i.name}else t.emitSidebarChange("none"),n.sidebar.activate="none";n.toolbar.updateState()}},t.handleCloseClick=function(){t.close()},t.store=function(){},t.restore=function(e){t.close(e)},t.contentNode=k.a.createRef(),t.state={stack:[]},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.engine,n=e.defaultType;this.extends(),"none"!==n&&setTimeout((function(){t.command.execute(n,!0)}),10)}},{key:"componentDidUpdate",value:function(e,t){var n=t.stack.length?t.stack[t.stack.length-1].name:null,r=this.state.stack.length?this.state.stack[this.state.stack.length-1].name:null;n!==r&&(window.dispatchEvent(new Event("resize")),MVe[r]?this.currentScrollBar=new Pb(ru(this.contentNode.current),!1,!0):this.currentScrollBar&&this.currentScrollBar.destroy())}},{key:"emitSidebarChange",value:function(e){this.props.engine.event.trigger("sidebarchange",e)}},{key:"render",value:function(){var e=this,t=this.props.engine,n=this.state.stack;if(0===n.length)return null;var r=n[n.length-1],o=r.name,i=r.title,a=r.data,c=r.className,s=r.onClose,l={engine:t,data:a};return"none"===o?null:k.a.createElement("div",{className:_t()("lake-sidebar","lake-sidebar-active","lake-common-sidebar",c),"data-lake-element":"sidebar",ref:function(t){e.current=t}},i&&k.a.createElement("div",{className:"lake-sidebar-title"},i,k.a.createElement("div",{className:"lake-sidebar-close",onClick:s||this.handleCloseClick},k.a.createElement("span",{className:"lake-icon lake-icon-close"}))),k.a.createElement("div",{className:"lake-sidebar-content",ref:this.contentNode},"diagram"===o&&k.a.createElement(wIe,l),"toc"===o&&k.a.createElement(FNe,l),"image"===o&&k.a.createElement(GNe,l),"translate"===o&&k.a.createElement(oIe,l),"localdoc"===o&&k.a.createElement(pIe,l),"video"===o&&k.a.createElement(SIe,l),"audio"===o&&k.a.createElement(IIe,l),"premium"===o&&k.a.createElement(Nze,l),"repository"===o&&k.a.createElement(kVe,OVe({},l,{onClose:this.handleCloseClick}))))}}])&&PVe(t.prototype,n),r&&PVe(t,r),i}(k.a.Component);IVe.propTypes={engine:st.a.object,defaultType:st.a.string},IVe.defaultProps={defaultType:"toc"};var LVe=IVe;function FVe(e){return(FVe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zVe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BVe(e,t){return(BVe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function VVe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=HVe(e);if(t){var o=HVe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qVe(this,n)}}function qVe(e,t){return!t||"object"!==FVe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function HVe(e){return(HVe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var UVe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BVe(e,t)}(i,e);var t,n,r,o=VVe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={searchValue:e.data?e.data.searchValue:null,replacement:""},t}return t=i,(n=[{key:"componentWillUnmount",value:function(){var e=this.props.engine,t=e.search;t.clear(),t.off("after:select",this.onAfterSelect),e.off("change",this.onDocChange)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.engine,n=t.search,r=this.inputRef.input,o=function(){e.setState({engine:t})},i=function(){t.command.queryState("search")&&t.search.reFind()};if(this.onAfterSelect=o,this.onDocChange=i,n.on("after:select",o),r.focus(),t.on("change",i),this.state.searchValue){var a=n.find(this.state.searchValue);n.select(a[0])}}},{key:"render",value:function(){var e=this,t=die.TabPane,n=this.props,r=n.engine,o=n.onClose,i=r.search,a=r.locale.search,c=this.state,s=c.searchValue,l=c.replacement,u=i.count(),f=k.a.createElement("p",{style:{marginBottom:"12px"}},k.a.createElement(oi,{accessbilityid:"search-input",placeholder:a.pleaseEnter,onKeyDown:function(e){kb("enter",e)&&i.next()},onChange:function(t){var n=i.find(t.target.value);i.select(n[0]),e.setState({searchValue:t.target.value}),i.scrollIntoView()},ref:function(t){e.inputRef=t},value:s,suffix:0===u?k.a.createElement("span",{className:"count"},"0"):k.a.createElement("span",{className:"count"},u[0],"/",u[1])})),p=k.a.createElement("p",{style:{marginBottom:"16px"}},k.a.createElement(oi,{accessbilityid:"replace-input",placeholder:a.pleaseEnter,onChange:function(t){e.setState({replacement:t.target.value})}})),d=k.a.createElement(Oee,{onClick:function(){i.next()},disabled:!(0!==u&&u[0]!==u[1])},a.next),h=k.a.createElement(Oee,{onClick:function(){i.prev()},disabled:!(0!==u&&1!==u[0])},a.previous);return k.a.createElement(die,{defaultActiveKey:"search",animated:!1,className:"lake-search",style:{padding:"0 2px"},tabBarExtraContent:k.a.createElement("span",{className:"lake-icon lake-icon-close",accessbilityid:"searchreplace-close-button",onClick:function(){o()}})},k.a.createElement(t,{tab:a.search,key:"search"},f,k.a.createElement("p",{style:{textAlign:"right"}},h,d)),k.a.createElement(t,{tab:a.replace,key:"replace"},k.a.createElement("p",null,a.search),f,k.a.createElement("p",null,a.replaceTo),p,k.a.createElement("p",{style:{textAlign:"right"}},k.a.createElement(Oee,{onClick:function(){i.replaceAll(l),i.scrollIntoView()},style:{marginLeft:"0px"},disabled:0===u},a.replaceAll),k.a.createElement(Oee,{onClick:function(){i.replace(l),i.scrollIntoView()},disabled:0===u},a.replace),h,d)))}}])&&zVe(t.prototype,n),r&&zVe(t,r),i}(k.a.Component);UVe.propTypes={engine:st.a.object,onClose:st.a.func,data:st.a.object};var WVe=UVe;function KVe(e){return(KVe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YVe(){return(YVe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function XVe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $Ve(e,t){return($Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GVe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=JVe(e);if(t){var o=JVe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ZVe(this,n)}}function ZVe(e,t){return!t||"object"!==KVe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function JVe(e){return(JVe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var QVe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$Ve(e,t)}(i,e);var t,n,r,o=GVe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onEsc=function(e){kb("esc",e)&&t.close()},t.extends=function(){t.props.engine.dialog={set:t.set,close:t.close,store:t.store,restore:t.restore}},t.set=function(e){e||t.close();var n=t.props.engine;t.setState(e),uC("lake-dialog",e.name),n.toolbar.updateState()},t.close=function(){t.setState({name:"none"}),uC("lake-dialog","none")},t.store=function(e){var n=t.props.engine;t.storeConfig=e,n.dialog.storeConfig=e},t.restore=function(){t.set(t.storeConfig)},t.state={name:"none"},t}return t=i,(n=[{key:"componentDidMount",value:function(){ru(document).on("keydown",this.onEsc),this.extends()}},{key:"componentWillUnmount",value:function(){ru(document).off("keydown",this.onEsc)}},{key:"render",value:function(){var e=this.state.name;return"none"===e?null:k.a.createElement("div",{className:"lake-dialog"},"search"===e&&k.a.createElement(WVe,YVe({},this.props,{data:this.state.data,onClose:this.close})))}}])&&XVe(t.prototype,n),r&&XVe(t,r),i}(k.a.Component);QVe.propTypes={engine:st.a.object};var eqe=QVe;function tqe(e){if(!e)return null;var t=/<meta name="doc-version" content="(\d+)"\s*\/>/.exec(e);return t?Number(t[1]):0}function nqe(e){return(nqe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rqe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oqe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rqe(Object(n),!0).forEach((function(t){iqe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rqe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iqe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aqe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cqe(e,t){return(cqe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sqe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uqe(e);if(t){var o=uqe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lqe(this,n)}}function lqe(e,t){return!t||"object"!==nqe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uqe(e){return(uqe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fqe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cqe(e,t)}(i,e);var t,n,r,o=sqe(i);function i(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e))._filter=function(e){if(e.getAttribute("data-lake-card")&&!t.engine.card.getComponent(ru(e)).constructor.canSearch)return!1;return!0},!e.target)throw new Error("please set a dom element as target!");return t.options=oqe({target:null,style:{highlight:{fill:"rgba(255, 230, 0, 0.5)"},select:{fill:"rgba(255, 140, 0, 0.5)"}},filter:null},e),t.ranges=[],t._initTarget(),t._createCanvas(),t.engine=e.engine,t}return t=i,(n=[{key:"_saveCardValue",value:function(e){var t=e.commonAncestorContainer,n=this.engine.card.closest(t);n&&this.engine.card.getComponent(n).saveValue(!0)}},{key:"_initTarget",value:function(){var e=this.options.target;"static"===qb(e,"position")&&(e.style.position="relative")}},{key:"_createCanvas",value:function(){var e=this.options.target,t=document.createElement("div");t.style.position="absolute",t.style.top=0,t.style.left=0,t.style["pointer-events"]="none",e.appendChild(t);var n=new vd({container:t});this.container=t,this.canvas=n}},{key:"_resizeCanvas",value:function(){var e=this.options.target,t=this.canvas,n=Hb(e),r=Ub(e);t.resize(n,r)}},{key:"_getRelativeRect",value:function(e){var t=this.container,n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:n.left-r.left,y:n.top-r.top,width:n.right-n.left,height:n.bottom-n.top}}},{key:"_cacheRange",value:function(e){return{startOffset:e.startOffset,endOffset:e.endOffset,startContainer:e.startContainer,endContainer:e.endContainer,commonAncestorContainer:e.commonAncestorContainer}}},{key:"_isRangeWrap",value:function(e){var t=this._cacheRange(e);e.setEnd(t.startContainer,t.startOffset+1);var n=e.getBoundingClientRect();e.setEnd(t.startContainer,t.endOffset-1),e.setStart(t.endContainer,t.endOffset);var r=e.getBoundingClientRect();return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),n.bottom!==r.bottom}},{key:"_drawOneByOne",value:function(e,t){for(var n=this._cacheRange(e),r=this.canvas,o=n.startOffset;o<n.endOffset;){e.setStart(n.commonAncestorContainer,o),e.setEnd(n.commonAncestorContainer,o+1);var i=this._getRelativeRect(e);r.clearRect(i),r.draw("Rect",oqe(oqe({},i),t)),o++}e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset)}},{key:"_drawRangeBackground",value:function(e,t){var n=this.canvas;if(this._isRangeWrap(e))return this._drawOneByOne(e,t);var r=this._getRelativeRect(e);n.clearRect(r),n.draw("Rect",oqe(oqe({},r),t))}},{key:"_highlightRanges",value:function(e){var t=this;e.forEach((function(e){t._highlightRange(e)}))}},{key:"_clearRange",value:function(e){var t=this.canvas,n=this._getRelativeRect(e);t.clearRect(n)}},{key:"_highlightRange",value:function(e){var t=this.options.style.highlight;this._drawRangeBackground(e,t)}},{key:"_selectRange",value:function(e){var t=this.options.style.select;this._drawRangeBackground(e,t)}},{key:"_clearCanvas",value:function(){this.canvas.clear()}},{key:"_move",value:function(e){var t=this.selectedRange,n=this.ranges;if(t){var r=n.indexOf(t),o=n[r+e];o||(o=e>0?n[e-1]:n[n.length+e]),this._highlightRange(t),this.select(o),this.scrollIntoView()}}},{key:"_replace",value:function(e,t){var n=e.commonAncestorContainer.parentNode,r=document.createTextNode(t);"A"===n.tagName&&n.getAttribute("href")===n.innerText&&n.setAttribute("href",t),e.deleteContents(),e.insertNode(r)}},{key:"replace",value:function(e){if(!Vb(e)){var t=this.selectedRange;if(this.ranges.length>0){var n={range:t};this.emit("before:replace",n),this._replace(t,e),this._clearRange(t),this.emit("after:replace",n),this._saveCardValue(t),this.engine.change.combinTextNode()}}}},{key:"replaceAll",value:function(e){var t=this;if(!Vb(e)){var n=this.ranges,r={ranges:n};this.emit("before:replaceAll",r),n.forEach((function(n){t._replace(n,e)})),this.emit("after:replaceAll",r),n.forEach((function(e){t._saveCardValue(e)})),this.engine.change.combinTextNode(),this.clear()}}},{key:"show",value:function(){this.container.style.display=""}},{key:"hide",value:function(){this.container.style.display="none"}},{key:"find",value:function(e,t){var n=[];if(this.clear(),e&&Bb(e,"String")&&e.length>0){t=function(e){return Bb(e,"Function")}(t)?t:this._filter,this._resizeCanvas();var r=Wb(this.options.target,t);r.length>0&&(n=function(e,t){var n=[];return e.forEach((function(e){var r=e.nodeValue,o=t.length;(function(e,t){for(var n=[],r=t.length,o=e.indexOf(t);o>-1;)n.push(o),o=e.indexOf(t,o+r);return n})(r,t).forEach((function(t){var r=document.createRange();r.setStart(e,t),r.setEnd(e,t+o),n.push(r)}))})),n}(r,e),this._highlightRanges(n),this.ranges=n,this.keyword=e)}return this.ranges=n,n}},{key:"reFind",value:function(){var e=this.selectedRangeIndex,t=this.find(this.keyword);if(t.length>0&&!Vb(e)){var n=t[e]?t[e]:t[0];this.select(n)}return t}},{key:"scrollIntoView",value:function(){if(this.selectedRange){var e=this.selectedRange.commonAncestorContainer.parentElement;(t=e.getBoundingClientRect()).top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)||(e.scrollIntoView({block:"center"}),document.documentElement.scrollTop=0,document.body.scrollTop=0)}var t}},{key:"select",value:function(e){if(!Vb(e)){var t=this.ranges,n=e;Bb(e,"Number")&&(n=t[e]);var r={range:n};this.emit("before:select",r),this._selectRange(n),this.selectedRange=n,this.selectedRangeIndex=t.indexOf(n),this.emit("after:select",r)}}},{key:"next",value:function(){this._move(1)}},{key:"prev",value:function(){this._move(-1)}},{key:"clear",value:function(){this._clearCanvas(),this.selectedRange=void 0,this.ranges=[],this.keyword=void 0}},{key:"count",value:function(){var e=this.ranges;if(0===e.length)return 0;var t=this.selectedRange;return[e.indexOf(t)+1,e.length]}},{key:"destroy",value:function(){var e=this.container;this.options=null,e.parentElement.removeChild(e)}}])&&aqe(t.prototype,n),r&&aqe(t,r),i}(_n.a);function pqe(e){return(pqe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dqe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hqe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mqe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vqe(e,t){return(vqe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yqe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bqe(e);if(t){var o=bqe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gqe(this,n)}}function gqe(e,t){return!t||"object"!==pqe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bqe(e){return(bqe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wqe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vqe(e,t)}(i,e);var t,n,r,o=yqe(i);function i(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e),!e.action)throw new Error("please set a translation action!");return t.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dqe(Object(n),!0).forEach((function(t){hqe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dqe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({action:null},e),t}return t=i,(n=[{key:"_getMiniParagraphElements",value:function(e){var t=[];return e.forEach((function(e){"UL"===e.tagName?e.childNodes.forEach((function(e){t.push(e)})):t.push(e)})),t}},{key:"_getSourceText",value:function(e){var t=e.childNodes,n=e.isCrossRow,r="";if(n)this._getMiniParagraphElements(t).forEach((function(e){r+=e.innerText+"\n"}));else{var o=document.createElement("div");t.forEach((function(e){o.append(e)})),r=o.innerText}return r}},{key:"_translateFragment",value:function(e){var t=e.isCrossRow,n=e.targetPlainText,r=e.fragment;if(t){var o=n.split("\n"),i=r.childNodes;this._getMiniParagraphElements(i).forEach((function(e,t){e.innerHTML=Cl.escape(o[t])}))}else r.append(document.createTextNode(n))}},{key:"_getChildNodes",value:function(e){var t=this.options.engine,n=Array.from(e.childNodes).filter((function(e){return!t.card.closest(e)}));return n.forEach((function(e){Nu.walkTree(e,(function(e){t.card.closest(e)&&e.parentNode.removeChild(e)}))})),n}},{key:"request",value:function(e){var t=this.options,n=t.action,r=t.engine,o=e.q,i=e.source,a=e.target;if(r.options.translateRequestHandler)return r.options.translateRequestHandler(e);var c=new Request(n,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({appName:"skylark",format:"text",srcTextList:[o],srcLanguage:i,tgtLanguage:a})});return fetch(c).then((function(e){if(!e.ok)throw new Error("Unexpected response (".concat(e.status,")"));return e.json()})).then((function(e){if(200!==e.code)throw new Error(e.data&&e.data.message);return{data:e.data[0]}}))}},{key:"translate",value:function(e,t,n){var r=this,o=this.options.engine;if(e&&t&&n&&!o.card.closest(e.commonAncestorContainer)&&!ru(e.commonAncestorContainer).closest(".sub-editor-content")[0]){var i=e.cloneContents(),a=ru(e.commonAncestorContainer).isRoot()||"UL"===e.commonAncestorContainer.tagName,c=this._getChildNodes(i),s=this._getSourceText({childNodes:c,isCrossRow:a});s&&"\n\n"!==s&&" "!==s&&this.request({q:s,source:t,target:n}).then((function(e){var t=e.data;r._translateFragment({isCrossRow:a,targetPlainText:t,fragment:i}),r.emit("success",{targetPlainText:t,fragment:i})})).catch((function(e){r.emit("fail",{errorMsg:e.message})}))}}}])&&mqe(t.prototype,n),r&&mqe(t,r),i}(_n.a);function kqe(e){return(kqe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xqe(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Oqe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cqe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oqe(Object(n),!0).forEach((function(t){_qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oqe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eqe(e,t){return(Eqe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jqe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pqe(e);if(t){var o=Pqe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sqe(this,n)}}function Sqe(e,t){return!t||"object"!==kqe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pqe(e){return(Pqe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tqe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dqe(e,t,n){return t&&Tqe(e.prototype,t),n&&Tqe(e,n),e}var Aqe={en:sx,"zh-cn":kx},Mqe=209715200,Nqe=524288e3,Iqe=[".sketch",".key",".psd"],Lqe=function(){function e(){Rqe(this,e),this.needCloseCount=0}return Dqe(e,[{key:"show",value:function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r||(this.needCloseCount++,!(this.needCloseCount>e.MaxCloseMessageCount)))return"error"===t||"warning"===t?fs[t](n,r?void 0:0):void 0}}]),e}();Lqe.MaxCloseMessageCount=3;var Fqe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eqe(e,t)}(o,e);var t,n,r=jqe(o);function o(e){var t;return Rqe(this,o),(t=r.call(this,e)).options=Cqe(Cqe({},e),{},{cache:{}}),t.uploadingCards={},t.uploadingFiles={},t.updateHistoryCard={},t.cardIds={},t}return Dqe(o,[{key:"getUid",value:function(e){return Date.now()+"-"+e}},{key:"addUploadingCard",value:function(e,t){this.uploadingCards[e]=t}},{key:"getAccept",value:function(e){return"image"===e?fe.android?"image/*":Le.IMAGE_EXT_STR:"file"===e?Le.FILE_EXT_STR:"localdoc"===e?Le.OFFICE_EXT_STR+", "+Le.MAC_OFFICE_STR:void 0}},{key:"getAllowedExtensions",value:function(e){return"image"===e?Le.IMAGE_EXT_STR:this.getAccept(e)||""}},{key:"parseExtension",value:function(e){var t=Ve.getFileExtname(e),n={raw:t,actual:t};return/\.mindnode\.zip$/.test(e.name)?n.actual="mindnode":/\.xmind\.zip$/.test(e.name)&&(n.actual="xmind"),n}},{key:"getLang",value:function(){return this.engine&&this.engine.options.lang||"zh-cn"}},{key:"getErrorMessageByCode",value:function(e){var t=Aqe[this.getLang()].file;return(void 0===t?{}:t)[e]}},{key:"request",value:(t=regeneratorRuntime.mark((function e(t,n,r){var o,i,a,c,s,l,u,f,p,d=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=this.options.engine,i=r.onBeforeUpload,a=r.onAfterUpload,c=n.map((function(e,t){return e.uid||(e.uid=d.getUid(t)),e.uid})),s=new Lqe,l=[],u=0;case 6:if(!(u<n.length)){e.next=14;break}return e.next=9,this.handleBeforeUpload(s,t,n[u],n,r);case 9:e.sent?l.push(n[u]):l.push(null);case 11:u++,e.next=6;break;case 14:i&&i(),f=regeneratorRuntime.mark((function e(n){var r,i,a,u,f,p,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l[n]){e.next=3;break}return e.abrupt("return","continue");case 3:return i=o.options.disableImageOCR,a=new FormData,(u=d.cardIds[r.uid])&&a.append("element_id",u),i&&a.append("ocr","off"),a.append("file",r,r.name),f="localdoc"===t?"file":t,"localdoc"===t&&d.options.actions.localdoc&&(f="localdoc"),p=d.options.actions[f],h=o.locale[t]||{},e.next=15,Ma({method:"post",xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){if(e.lengthComputable){var n=parseInt(e.loaded/e.total*100,10);d.handleChange(t,"uploading",{uid:r.uid,progress:{percent:n}})}}),!1),e},url:p,data:a,dataType:"json",success:function(e){var n=e.data,o=n.ocrLocations,a=n.url,s={uid:r.uid,uidList:c,src:a,ocrLocations:o};i&&delete s.ocrLocations,d.handleChange(t,"done",s)},error:function(e){var n="",o="error",i=!1,a=function(){};if(e&&e.xhr&&e.xhr.response){var l;try{l=JSON.parse(e.xhr.response)}catch(e){n=""}if(l&&400===l.status&&l.code){var u=$k.getMessageByCode(l.code,l);u&&(n=u.msg,o=u.level,i=u.alwaysOpen,a=u.callback)}n=n||l&&l.message||""}else n=e.message;n||(n=h.uploadFailed),d.handleChange(t,"error",{uid:r.uid,uidList:c,message:n}),a(s.show(o,n,!i))},processData:!0}).promise;case 15:case"end":return e.stop()}}),e)})),p=0;case 17:if(!(p<l.length)){e.next=25;break}return e.delegateYield(f(p),"t0",19);case 19:if("continue"!==e.t0){e.next=22;break}return e.abrupt("continue",22);case 22:p++,e.next=17;break;case 25:a&&a();case 26:case"end":return e.stop()}}),e,this)})),n=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){xqe(i,r,o,a,c,"next",e)}function c(e){xqe(i,r,o,a,c,"throw",e)}a(void 0)}))},function(e,t,r){return n.apply(this,arguments)})},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"file"===e?t=t.filter((function(e){return Ve.isFile(e)})):"image"===e?t=t.filter((function(e){return Ve.isImage(e)})):"localdoc"===e&&(t=t.filter((function(e){return Ve.isFile(e)}))),0!==t.length&&(this.request(e,t,n),!0)}},{key:"handleBeforeUpload",value:function(e,t,n,r,o){var i=this,a=o.onBeforeInsertCard,c=this.options.engine,s=n.uid,l=n.name,u=n.size,f=n.type,p=this.parseExtension(n),d=c.iframeHelper;if("localdoc"===t){if(!d.canAdd()){var h=d.options.limit;return c.messageError(c.locale.card.iframeOverLimit.replace("${limit}",h)),!1}var m=n.size,v=void 0===m?0:m,y=n.name,g=void 0===y?"":y;if(Ve.isMacOffice(g)&&v>Mqe){if(!Iqe.some((function(e){return g.endsWith(e)})))return c.messageError(c.locale.card.sizeOverLimit.replace("${sizeLimit}","".concat(200," MB"))),!1;if(v>Nqe)return c.messageError(c.locale.card.sizeOverLimit.replace("${sizeLimit}","".concat(500," MB"))),!1}}var b=this.getAllowedExtensions(t);if(!p.actual||b&&b.indexOf(p.actual)<0)return c.messageError(c.locale[t].formatError),!1;var w=$k.check(t,n.size);return null!==w?(w.callback(e.show(w.level,w.msg,!w.alwaysOpen)),!1):new Promise((function(e){var r=new FileReader;r.addEventListener("load",(function(){i.uploadingFiles[s]={uid:s,src:r.result,name:l,size:u,type:f,ext:p.raw,progress:{percent:0}},i.handleChange(t,"before",i.uploadingFiles[s],{file:n,onBeforeInsertCard:a}),e(n)}),!1),r.addEventListener("error",(function(){c.messageError(c.locale.file.failReadFile),e(!1)})),r.readAsDataURL(n)}))}},{key:"handleChange",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=this.options.engine,i=n.uid,a=Cqe({},n),c=r.onBeforeInsertCard,s=r.file;if("image"===e&&ew(a.src)&&delete a.src,a.status=t,"before"!==t){var l=this.uploadingCards[i];if(!l||0===l.closest("body").length){for(var u=0,f=o.card.components.length;u<f;u++)if(o.card.components[u].component.value.uid===i){l=o.card.components[u].node;break}if(!l||!l[0]||!l[0].isConnected)return void delete this.uploadingCards[i]}if("uploading"!==t)delete this.uploadingCards[i],delete this.uploadingFiles[i],Vp.updateCard(o,l,a,this.updateHistoryCard[i]);else{o.history.hold(),Vp.updateCardProgress(l,a);var p=o.card.getComponent(l);p.updateProgress&&p.updateProgress(Vp.getUploadPercent(a.progress))}}else if("image"===e&&(a.margin={top:!0,bottom:!0}),c&&c(s,a),this.uploadingCards[i])this.updateHistoryCard[i]=!0;else{var d=Vp.insertCard(o,e,a),h=d.attr("id");h&&(this.cardIds[i]=h),this.addUploadingCard(i,d)}}}]),o}(_n.a);function zqe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bqe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vqe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qqe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zqe(Object(n),!0).forEach((function(t){Bqe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zqe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({limit:20},t),this.iframeItems=[]}var t,n,r;return t=e,(n=[{key:"add",value:function(e){var t=this.options.limit;return this.canAdd()?(this.iframeItems.push(e),!0):(console.warn("can not add embed card more than ".concat(t)),!1)}},{key:"setSrc",value:function(e,t,n){var r=window.lozad_observer;n&&r?(e.addClass("lozad"),e.attr("data-src",t),r.observe()):e.attr("src",t)}},{key:"render",value:function(e,t,n){var r=this,o=e.iframe,i=e.url;t?setTimeout((function(){r.setSrc(o,i,n)}),t):this.setSrc(o,i,n)}},{key:"remove",value:function(e){var t=this.iframeItems,n=t.indexOf(e);n>-1&&t.splice(n,1)}},{key:"canAdd",value:function(){return this.iframeItems.length<this.options.limit}},{key:"clear",value:function(){this.iframeItems=[]}},{key:"destroy",value:function(){this.options=void 0,this.iframeItems=void 0}}])&&Vqe(t.prototype,n),r&&Vqe(t,r),e}();function Hqe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uqe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wqe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kqe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yqe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kqe(Object(n),!0).forEach((function(t){Xqe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kqe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xqe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $qe={search:fqe,translate:wqe,uploader:Fqe,iframeHelper:qqe,pasteFileTransfer:function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hqe(Object(n),!0).forEach((function(t){Uqe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hqe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({needTransferCards:["file","localdoc"],engine:null},t),this.action=this._getAttachmentCopyAction(),this.bindEvent()}var t,n,r;return t=e,(n=[{key:"_getAttachmentCopyAction",value:function(){return cSe(this.options.engine)}},{key:"_transferFile",value:function(e,t){var n=this.options.engine;Ma({method:"post",url:this.action,data:{attachments:[t.refSrc.replace(/(.*?)attachments\//,"")]},success:function(t){var r=t.data[0].url;r?Vp.updateCard(n,e,{src:r,status:"done"},!0):Vp.updateCard(n,e,{status:"error",message:"转存失败：资源不存在或者无权访问"},!0)},error:function(){Vp.updateCard(n,e,{status:"error"},!0)}})}},{key:"bindEvent",value:function(){var e=this,t=this.options,n=t.engine,r=t.needTransferCards;n.on("paste:each",(function(e){var t=e.attr("data-ready-card");if(r.indexOf(t)>-1){var o=n.card.getValue(e),i=o.src;i&&(o.src="",o.status="transfering",o.refSrc=i,n.card.setValue(e,o))}}));var o="[data-lake-card="+r.join("],[data-lake-card=")+"]";n.on("paste:after",(function(){n.editArea.find(o).each((function(t){var r=ru(t),o=n.card.getComponent(r).value;"transfering"===o.status&&o.refSrc&&e._transferFile(r,o)}))}))}}])&&Wqe(t.prototype,n),r&&Wqe(t,r),e}()};function Gqe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&$qe[t]&&(n=Yqe(Yqe({},n),{},{engine:e}),e[t]=new $qe[t](n))}function Zqe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jqe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"update",value:function(e,t,n){for(var r=e;r<t;r++){var o="migrate_v".concat(r,"_to_v").concat(r+1);this[o]&&this[o](n)}}},{key:"migrate_v0_to_v1",value:function(e){var t=e.find('[data-lake-card="table"]');t.before("<p>"),t.after("<p>")}}])&&Zqe(t.prototype,n),r&&Zqe(t,r),e}(),Qqe={};function eHe(e,t){Nu.walkTree(e,(function(e){!function(e,t){if(e.nodeType===Node.ELEMENT_NODE&&e.classList.length>0){var n=e.classList.toString();if(!Qqe[n]){var r=window.getComputedStyle(e);Qqe[n]={},t.forEach((function(e){Qqe[n][e]=r.getPropertyValue(e)}))}t.forEach((function(t){e.style[t]=Qqe[n][t]}))}}(e,t)}))}function tHe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.whiteSpace;e.empty();var r=xb.card.getValue(e);if(r&&r.code){var o=mde[r.mode]?r.mode:"plain";e.append(wde({mode:o}));var i=e.find(".lake-codeblock-content");if(i.css({border:"1px solid #e8e8e8","max-width":"750px"}),kde(i,o,r.code,{lineWrapping:!0}),i.addClass("lake-engine-view"),i.hide(),document.body.appendChild(i[0]),eHe(i,["color","margin","padding","background"]),e.find(".lake-codeblock").remove(),o&&e.attr("data-language",o),n){var a=i.find("pre");a.css({"white-space":"pre-wrap","word-break":"break-all"})}i.show(),i.css("background","#f9f9f9"),e.append(i),i.removeClass("lake-engine-view"),e.find(".CodeMirror").removeClass("CodeMirror")}}function nHe(e){var t=e.find("table"),n=[];t.css("width","".concat(560,"px")),t.each((function(e){var t,r=(e=ru(e)).find("colgroup"),o=r.children(),i=0;o.each((function(e){var t=parseInt(e.getAttribute("width"));i+=t}));var a=o.length;for(t=0;t<a;t++){var c=o[t],s=parseInt(c.getAttribute("width"));n.push(parseInt(s/i*560))}e.find("tr").each((function(e){ru(e).children().each((function(e,t){e.setAttribute("width",n[t])}))})),r.remove()}))}function rHe(e){e&&e.find("ul,ol").each((function(e){var t=parseInt(e.getAttribute("data-lake-indent"),10)||0;e.style.padding="0",e.style.margin="0",e.style["margin-left"]="".concat(28*t,"px")}))}function oHe(e){return(oHe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iHe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aHe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iHe(Object(n),!0).forEach((function(t){cHe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iHe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cHe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sHe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lHe(e,t,n){return(lHe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dHe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function uHe(e,t){return(uHe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fHe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dHe(e);if(t){var o=dHe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pHe(this,n)}}function pHe(e,t){return!t||"object"!==oHe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dHe(e){return(dHe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hHe={"zh-cn":{hereIsOnlineVideo:"此处为视频，点击链接查看：",hereIsYuqueDoc:"此处为语雀文档，点击链接查看：",hereIsLockText:"此处为语雀加密文本，点击链接查看：",hereIsVote:"此处为语雀投票卡片，点击链接查看："},en:{hereIsVideo:"Here is the video, click on the link to view:",hereIsYuqueDoc:"Here is yuque doc card, click on the link to view:",hereIsLockText:"Here is the yuque lock text card, click on the link to view:",hereIsVote:"Here is the yuque vote card, click on the link to view:"}}[window.appData&&"zh-cn"!==window.appData.locale?"en":"zh-cn"];function mHe(e){e.empty();var t=xb.card.getValue(e);t&&t.url&&e.append('<img src="'.concat(Cl.escape(t.url),'" />'))}function vHe(e){e.empty();var t=xb.card.getValue(e);if(t&&t.src){var n=Cl.escape(t.height);e.append('<img src="'.concat(Cl.escape(t.src),'" ').concat(n?"height="+n:"","/>"))}}function yHe(e,t){return'<a href="'.concat(ow(e),'" style="\n    word-wrap: break-word;\n    color: #096DD9;\n    touch-action: manipulation;\n    background-color: rgba(0,0,0,0);\n    text-decoration: none;\n    outline: none;\n    cursor: pointer;\n    transition: color .3s;\n  ">').concat(ow(t),"</a>")}function gHe(e){e.empty();var t,n,r=xb.card.getValue(e),o=((t=r&&r.src)&&(n=lke(t))&&(n.includes(ike)?n=n.replace(ike,ake):n.includes(cke)&&(n=n.replace(cke,ake))),n);return o?e.append('<img src="'.concat(ow(o+".png"),'"/>')):r.src?e.append('<a src="'.concat(ow(r.src),'">').concat(ow(r.src),"</a>")):void 0}var bHe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uHe(e,t)}(a,e);var t,n,r,i=fHe(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),e||(e={});var n=e.autoCompleteLinks;return e.autoCompleteLinks="boolean"!=typeof n||n,(t=i.call(this,e)).autoCompleteLinks=!0,t}return t=a,(n=[{key:"parseLink",value:function(e){var t=this;e.find("a").each((function(e){var n=e.getAttribute("href");if(n&&t.options.autoCompleteLinks&&!Cl.protocols.some((function(e){return n.startsWith(e)}))&&!n.startsWith("#")){var r=function(e,t){if("/"===t)return e;try{return new URL(e,t).href}catch(t){return console.warn("Fail in export when parse relative link"),e}}(n,t.getDocUrl());e.setAttribute("href",r),e.setAttribute("data-href",n)}}))}},{key:"filter",value:function(e){lHe(dHe(a.prototype),"filter",this).call(this,e),e.find("a.lake-anchor").remove(),e.find("[data-selection-id]").each((function(e){e.parentNode.replaceChild(document.createTextNode(e.innerText),e)}))}},{key:"getDocUrl",value:function(){return this.options.docUrl||Zb()}},{key:"getDefaultCardParsers",value:function(){var e=this;return aHe(aHe({},lHe(dHe(a.prototype),"getDefaultCardParsers",this).call(this)),{},{thirdparty:gHe,processon:gHe,table:function(e){var t=e.find("table"),n=xb.card.getValue(e)||{};e.empty(),t.length>0&&(t.css({outline:"none","border-collapse":"collapse",border:n.hideBorder?"1px solid transparent":"1px solid #d9d9d9"}),t.find("td").css({"min-width":"90px","font-size":"14px","white-space":"normal","word-wrap":"break-word",border:n.hideBorder?"1px solid transparent":"1px solid #d9d9d9",padding:"4px 8px",cursor:"default"}),e.append(t))},image:function(e){var t=1500/devicePixelRatio,n=xb.card.getValue(e)||{};if(e.empty(),n.src){var r=ru(document.createElement("img"));r.attr("data-role","image");var i=n.originWidth,a=n.originHeight,c=i&&i>t&&o.resizeImage({maxWidth:t,src:n.src,data:{width:t,originWidth:i,originHeight:a}});c=c||n.src;try{new URL(location.href).searchParams.has("export_type")&&(c=r_(c))}catch(e){console.warn(e)}if(r.attr("src",c),r.attr("data-raw-src",""),r[0].classList.add("image","lake-drag-image"),r.attr("alt",n.name||"image"),r.attr("title",n.name||"image"),e.append(r),r.css({visibility:"visible","background-color":"","background-repeat":"","background-position":"","background-image":""}),n.width&&r.css("width",n.width+"px"),n.height&&r.attr("data-height",n.height+"px"),n.link){var s=document.createElement("a");s.href=n.link,n.linkTarget&&(s.target=n.linkTarget),s.appendChild(r[0]),e.append(s)}else e.append(r)}},file:function(e){e.empty();var t=xb.card.getValue(e);t&&t.src&&e.append(yHe(t.src,"📎"+t.name))},math:function(e){var t=e.find("img");e.empty(),t.length>0&&(t.css("vertical-align","middle"),e.append(t))},codeblock:function(e){return tHe(e)},emoji:function(e){var t=e.find(".lake-emoji");e.empty(),t.length>0&&(t.attr("width","18"),t.attr("height","18"),t.css({display:"inline-block",width:"18px",height:"18px","vertical-align":"middle","background-size":"contain","background-position":"0 0","background-repeat":"no-repeat","margin-top":"-3px","margin-left":"1px","margin-right":"1px",border:"1px solid transparent"}),e.append(t))},label:function(e){var t=e.find(".lake-card-label-container");e.empty(),t.length>0&&(t.css({"font-weight":400,"font-size":"12px",overflow:"hidden","max-width":"200px",display:"inline-block","white-space":"nowrap","margin-bottom":"-4px","border-radius":"4px",border:"none",padding:"2px 5px","text-overflow":"ellipsis","line-height":"14px","margin-left":"1px","margin-right":"1px"}),e.append(t))},diagram:mHe,mermaid:mHe,flowchart:mHe,graphviz:mHe,puml:mHe,mindmap:vHe,flowchart2:vHe,vote:function(t){t.empty();var n=xb.card.getValue(t),r=Yje.refreshCardValue(n);if(xb.card.setValue(t,r),n&&n.id){t.append("<span>".concat(hHe.hereIsVote,"</span>"));var o=e.getDocUrl()+"#"+n.id;t.append(yHe(o,o))}},yuque:function(e){e.empty();var t=xb.card.getValue(e);t&&t.src&&(e.append("<span>".concat(hHe.hereIsYuqueDoc,"</span>")),e.append(yHe(t.src,t.src)))},yuqueinline:function(e){e.empty();var t=xb.card.getValue(e);t&&t.src&&(e.append("<span>".concat(hHe.hereIsYuqueDoc,"</span>")),e.append(yHe(t.src,t.src)))},bookmarklink:function(e){e.empty();var t=xb.card.getValue(e);t&&t.src&&e.append(yHe(t.src,t.text||t.src))},localdoc:function(e){e.empty();var t=xb.card.getValue(e);if(t&&t.src){var n=t.download,r=t.src,o=new URL(r,window.location.origin),i=n?iw(r):o.origin+Qb(r);e.append(yHe(i,t.name))}},video:function(t){t.empty();var n=xb.card.getValue(t);n&&n.status&&"done"===n.status&&t.append(yHe(e.getDocUrl()+"#"+n.id,n.name))},audio:function(t){t.empty();var n=xb.card.getValue(t);n&&n.status&&("done"===n.status||"uploaded"===n.status)&&t.append(yHe(e.getDocUrl()+"#"+n.id,n.name))},mention:function(e){var t=e.find(".lake-mention-at");e.empty(),e.append(t)},lockedtext:function(t){t.empty();var n=xb.card.getValue(t);if(n&&n.id){t.append("<span>".concat(hHe.hereIsLockText,"</span>"));var r=e.getDocUrl()+"#"+n.id;t.append(yHe(r,r))}},riddle:function(e){e.empty();var t=xb.card.getValue(e);t&&t.src&&e.append(yHe(t.src,t.src))},youku:function(e){e.empty();var t=xb.card.getValue(e);t&&t.src&&(e.append("<span>".concat(hHe.hereIsOnlineVideo,"</span>")),e.append(yHe(t.src,t.src)))},premium:function(e){e.remove()}})}}])&&sHe(t.prototype,n),r&&sHe(t,r),a}(np);function wHe(e){return(wHe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xHe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OHe(e,t){return(OHe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function CHe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=EHe(e);if(t){var o=EHe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _He(this,n)}}function _He(e,t){return!t||"object"!==wHe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function EHe(e){return(EHe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jHe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OHe(e,t)}(i,e);var t,n,r,o=CHe(i);function i(){return kHe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"after",value:function(e){return e.find("[data-lake-card]").each((function(e){e.removeAttribute("data-card-value")}))}}])&&xHe(t.prototype,n),r&&xHe(t,r),i}(bHe);function SHe(e){return(SHe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PHe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RHe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PHe(Object(n),!0).forEach((function(t){THe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PHe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function THe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AHe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MHe(e,t,n){return(MHe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=FHe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function NHe(e,t){return(NHe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IHe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=FHe(e);if(t){var o=FHe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LHe(this,n)}}function LHe(e,t){return!t||"object"!==SHe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FHe(e){return(FHe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zHe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NHe(e,t)}(i,e);var t,n,r,o=IHe(i);function i(){return DHe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getDefaultCardParsers",value:function(){var e=this;return RHe(RHe({},MHe(FHe(i.prototype),"getDefaultCardParsers",this).call(this)),{},{video:function(t){t.empty();var n=xb.card.getValue(t);if(n&&n.videoId){var r=encodeURIComponent(n.videoId),o=e.getDocUrl(),i=new URL(o);t.append('<div class="lake-video-content lake-video-done">\n  <video preload="none" playsinline="playsinline" controls="" controlslist="nodownload"\n    poster="'.concat(i.origin,"/api/video?video_id=").concat(r,'&redirect_field=cover"\n    src="').concat(i.origin,"/api/video?video_id=").concat(r,'&redirect_field=video"></video>\n</div>'))}},audio:function(t){t.empty();var n=xb.card.getValue(t);if(n&&n.audioId){var r=encodeURIComponent(n.audioId),o=e.getDocUrl(),i=new URL(o);t.append('<div class="lake-video-content lake-video-done">\n  <audio preload="none" playsinline="playsinline" controls="" controlslist="nodownload"\n    src="'.concat(i.origin,"/api/video?video_id=").concat(r,'&redirect_field=audio"></audio>\n</div>'))}},thirdparty:function(e){e.empty();var t=xb.card.getValue(e)||{},n=t.url||t.src;if(n){var r="",o="";"number"==typeof t.height&&(r='height="'.concat(t.height,'"')),t.entrance&&(o='title="'.concat(Cl.escape(t.entrance||""),'"')),e.append("<iframe ".concat(o," ").concat(r,' src="').concat(Cl.escape(n),'"></iframe>'))}return e}})}},{key:"after",value:function(e){return e.find("[data-lake-card]").each((function(e){e.removeAttribute("data-card-value")}))}}])&&AHe(t.prototype,n),r&&AHe(t,r),i}(bHe),BHe=[{p:{"data-lake-id":"*"}},{h1:{"data-lake-id":"*"}},{h2:{"data-lake-id":"*"}},{h3:{"data-lake-id":"*"}},{h4:{"data-lake-id":"*"}},{h5:{"data-lake-id":"*"}},{h6:{"data-lake-id":"*"}},{ul:{"data-lake-id":"*"}},{ol:{"data-lake-id":"*"}},{li:{"data-lake-id":"*"}}];function VHe(e){return(VHe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qHe(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function HHe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UHe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HHe(Object(n),!0).forEach((function(t){WHe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HHe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WHe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KHe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YHe(e,t){return(YHe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XHe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=GHe(e);if(t){var o=GHe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $He(this,n)}}function $He(e,t){return!t||"object"!==VHe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function GHe(e){return(GHe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ZHe={parallel:5},JHe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YHe(e,t)}(i,e);var t,n,r,o=XHe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._options={},t._taskIds=new Set,t._completedTasks=[],t._runningTasks=[],t._pendingTasks=[],t._failureTasks=[],t._options=UHe(UHe({},ZHe),e),t}return t=i,(n=[{key:"hasTask",value:function(e){return this._taskIds.has(e)}},{key:"isCompleted",value:function(){return this._pendingTasks.length+this._runningTasks.length===0}},{key:"addTask",value:function(e){this._taskIds.add(e.id),this._pendingTasks.push(e),this._checkFinish()}},{key:"_checkFinish",value:function(){var e=this._pendingTasks.length,t=this._runningTasks.length;0!==e||0!==t?e>0&&t<this._options.parallel&&this._runTask(this._pendingTasks.shift()):this._finish()}},{key:"_runTask",value:function(e){var t,n=this;this._runningTasks.push(e),this._updateProgress(),(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.run();case 2:t.sent.success?n._handleSuccess(e):n._handleFailure(e);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){qHe(i,r,o,a,c,"next",e)}function c(e){qHe(i,r,o,a,c,"throw",e)}a(void 0)}))})()}},{key:"_updateProgress",value:function(){var e=this._completedTasks.length,t=this._runningTasks.length,n=this._pendingTasks.length,r=this._failureTasks.length;this.emit("progress",{completed:e,running:t,pending:n,failure:r,total:e+t+n})}},{key:"_handleSuccess",value:function(e){var t=this._runningTasks.indexOf(e);-1!==t&&this._runningTasks.splice(t,1),this._completedTasks.push(e),this._updateProgress(),this._checkFinish()}},{key:"_handleFailure",value:function(e){var t=this._runningTasks.indexOf(e);-1!==t&&this._runningTasks.splice(t,1),this._failureTasks.push(e),this._updateProgress(),this._checkFinish()}},{key:"_finish",value:function(){this.emit("finished"),this._destroy()}},{key:"_destroy",value:function(){this.removeAllListeners()}}])&&KHe(t.prototype,n),r&&KHe(t,r),i}(_n.a);function QHe(e){return(QHe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eUe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tUe(e,t){return(tUe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nUe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oUe(e);if(t){var o=oUe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rUe(this,n)}}function rUe(e,t){return!t||"object"!==QHe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oUe(e){return(oUe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var iUe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tUe(e,t)}(i,e);var t,n,r,o=nUe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._thread=null,t._threadOptions=null,t._threadOptions=e,t}return t=i,(n=[{key:"hasTask",value:function(e){return!!this._thread&&this._thread.hasTask(e)}},{key:"addTask",value:function(e){var t=this;return this._thread||(this._thread=this._createThread()),Promise.resolve().then((function(){t._thread.addTask(e)})),e}},{key:"isCompleted",value:function(){return!this._thread||this._thread.isCompleted()}},{key:"_createThread",value:function(){var e=this,t=new JHe(this._threadOptions);return t.on("start",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["start"].concat(n))})),t.on("progress",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["progress"].concat(n))})),t.on("finished",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["finished"].concat(n)),e._thread=null})),t}}])&&eUe(t.prototype,n),r&&eUe(t,r),i}(_n.a);function aUe(e){return function(e){if(Array.isArray(e))return cUe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cUe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cUe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cUe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sUe=/<[^>]+>/g;var lUe=/(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DBF\u4E00-\u9FFC\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+|(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F])/g,uUe=/--+/g,fUe=/\s+/;function pUe(e){if(!e)return 0;var t=0;return(e=(e=(e=" ".concat(String(e).replace(sUe," ").trim()," ")).replace(lUe,(function(e){return e.codePointAt(0)>127?(t+=aUe(e).length," "):e})).replace(uUe,(function(e,n,r){return fUe.test(r[n-1])&&t++," "}))).trim())&&(t+=e.split(fUe).length),t}function dUe(e){return(dUe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hUe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function mUe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vUe(e,t){return(vUe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yUe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bUe(e);if(t){var o=bUe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gUe(this,n)}}function gUe(e,t){return!t||"object"!==dUe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bUe(e){return(bUe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wUe={en:sx,"zh-cn":kx},kUe=new Jqe,xUe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vUe(e,t)}(i,e);var t,n,r,o=yUe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onEditAreaClick=function(e){var n=e.target;"A"===n.nodeName&&n.hasAttribute("href")&&(e.preventDefault(),e.stopPropagation(),t.engine&&t.engine.openLinkByNode(n))},t.extendEngine=function(e){e.getContent=function(){return rw(e.getValue(),e)},e.wordCount=function(){return pUe(e.getFullPureHtml())},e.getPublicHtml=function(t){var n=e.card.getCardRootByName("premium");return 1!==n.length?null:e.getHtmlWithStopNode(t,n[0])},e.getPureContent=function(){return rw(e.getPureValue(),e)},e.getPublicContent=function(){return e.constructor.plugin.executePluginMethod(e,"premium","getPublicContent")},e.getPublicPureContent=function(){return e.constructor.plugin.executePluginMethod(e,"premium","getPublicPureContent")},e.getPublicValue=function(){return e.constructor.plugin.executePluginMethod(e,"premium","getPublicValue")},e.extractMention=function(){return e.constructor.plugin.executePluginMethod(e,"mention","extract")},e.disable=function(t){e.toolbar.disable(t),e.readonly(t),e.isDisabled=t},e.messageSuccess=function(e){fs.success(e)},e.messageError=function(e){fs.error(e)},e.getPureHtml=function(){return e.getHtml(new jHe({autoCompleteLinks:!!t.props.autoCompleteLinks}))},e.getPublicPureHtml=function(){return e.getPublicHtml(new jHe({autoCompleteLinks:!!t.props.autoCompleteLinks}))},e.getFullPureHtml=function(){return e.getHtml(new zHe({autoCompleteLinks:!!t.props.autoCompleteLinks}))},e.getFullPublicPureHtml=function(){return e.getPublicHtml(new zHe({autoCompleteLinks:!!t.props.autoCompleteLinks}))},e.isRemoteImage=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tw.call.apply(tw,[null,e].concat(n))},Gqe(e,"pasteFileTransfer",{}),e.docVerstion=1,fe.desktop&&(e.openLink=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"boolean"==typeof t?(n=t,t=e):t||(t=e),window.openExternalLink?window.openExternalLink(e,t,n):console.warn("function not found: openExternalLink")})},t.onSaveBefore=function(){return new Promise((function(e,n){if(!t.engine.uploadManager)return e();t.engine.uploadManager.isCompleted()?e():n(t.locale.file.stillUploading)}))},t._togglePlaceholder=function(){var e=t.editArea.current;e&&(e.innerHTML.match(/^<p[^>]*><br\/?><\/p>$/)?e.classList.add("show-placeholder"):e.classList.remove("show-placeholder"))},t.engine=null,t.locale=wUe[e.lang],t.editArea=k.a.createRef(),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props.onEngineReady;this.engine=this.renderEditor(),this._togglePlaceholder(),this.bindEvent(),this.extendEngine(this.engine),e(this.engine)}},{key:"componentWillUnmount",value:function(){this.unbindEvent(),this.engine&&(this.engine.off("save:before",this.onSaveBefore,!1),this.engine.destroy())}},{key:"bindEvent",value:function(){if(document.addEventListener("selectionchange",this._togglePlaceholder,!1),fe.desktop){var e=this.editArea.current;e&&e.addEventListener("click",this.onEditAreaClick,!1)}}},{key:"unbindEvent",value:function(){if(document.removeEventListener("selectionchange",this._togglePlaceholder,!1),fe.desktop){var e=this.editArea.current;e&&e.removeEventListener("click",this.onEditAreaClick,!1)}}},{key:"renderEditor",value:function(){var e=this,t=this.props,n=t.onChange,r=t.defaultValue,o=t.allowPremium,i=t.hasSidebar,a=void 0===i||i,c=hUe(t,["onChange","defaultValue","allowPremium","hasSidebar"]),s=String(r||"<p><br /></p>").trim();s=Cl.removeBookmarkTags(s),c.defaultValue=s,c.allCardNames={},c.parentNode=this.editArea.current.parentNode,c.scrollNode=ru(c.parentNode).closest(".lake-editor-scroll-container")[0];var l=nAe.create(this.editArea.current,c),u=tqe(r);return o||(c.cardBlacklist=c.cardBlacklist||[],c.cardBlacklist.includes("premium")||c.cardBlacklist.push("premium")),a||(l.sidebar.disable=!0),l.uploadManager=new iUe,l.asyncEvent.on("save:before",this.onSaveBefore,!1),l.getPageLocation=function(){return e.props.getPageLocationHandle?e.props.getPageLocationHandle():location},l.schema.add(Cde.a),l.schema.add(BHe),l.locale=this.locale,l.on("change",(function(t){e._togglePlaceholder(),n(rw(t,l)),l.toolbar.updateState()})),l.on("select",(function(){l.toolbar.updateState()})),l.setDefaultValue=function(e){var t=String(e||"").trim();t=Cl.removeBookmarkTags(t),l.setValue(t||"<p><br /></p>",(function(e){e&&e.getAttribute&&"image"===e.getAttribute("data-ready-card")&&!e.getAttribute("data-card-value")&&e.parentNode&&e.parentNode.removeChild(e)})),t&&kUe.update(u,1,l.editArea)},c.ot||(l.setDefaultValue(r),l.ot.initLockMode()),l}},{key:"render",value:function(){return k.a.createElement("div",{ref:this.editArea,"data-placeholder":this.props.placeholder,className:"lake-content-editor-core lake-engine"})}}])&&mUe(t.prototype,n),r&&mUe(t,r),i}(k.a.Component);xUe.propTypes={defaultValue:st.a.string,onChange:st.a.func,onEngineReady:st.a.func,lang:st.a.string,tabIndex:st.a.number,onSave:st.a.func,onBeforeRenderImage:st.a.func,image:st.a.object,file:st.a.object,translate:st.a.object,lockedtext:st.a.object,video:st.a.object,localVideo:st.a.shape({uploadAction:st.a.string,queryAction:st.a.string,attachableId:st.a.string,attachableType:st.a.string}),resource:st.a.shape({booksAction:st.a.string,resourceAction:st.a.string,resourceSearchAction:st.a.string}),localAudio:st.a.object,mention:st.a.object,customMaximize:st.a.func,customMaximizeRestore:st.a.func,hasSidebar:st.a.bool,typography:st.a.string,meta:st.a.object,allowPremium:st.a.bool,allowAudioPlayer:st.a.bool,enableDeferredRendering:st.a.bool,getPageLocationHandle:st.a.bool,previewFileHandler:st.a.func,autoCompleteLinks:st.a.bool,thirdPartyService:st.a.array,docId:st.a.number,cardWhitelist:st.a.array,cardBlacklist:st.a.array,enableCardOffScreen:st.a.bool,allowMention:st.a.bool,allowResource:st.a.bool,allowSaveToResource:st.a.bool,disableImageOCR:st.a.bool,ossProcessDomains:st.a.array,localImageHostList:st.a.array,placeholder:st.a.string,previewOrigin:st.a.string,automaticPositioning:st.a.bool,disallowToggleToolbar:st.a.oneOfType([st.a.bool,st.a.func]),disableYuqueCardEmbedView:st.a.bool},xUe.defaultProps={lang:"zh-cn",onChange:function(){},onEngineReady:function(){},onBeforeRenderImage:function(e){return e},allowPremium:!1,allowAudioPlayer:!1,enableDeferredRendering:!1,autoCompleteLinks:!0,allowMention:!0,allowResource:!0,allowSaveToResource:!0,disableImageOCR:!1,ossProcessDomains:[/^.*?\.yuque\.com$/i,"cdn.nlark.com","yuque.antfin.com","yuque.antfin-inc.com","intranetproxy.alipay.com",window.location.host],localImageHostList:[/^\w+\.(nlark|alipay|alipayobjects|alibaba-inc|antfin-inc)\.com$/]};var OUe=xUe;function CUe(e){return(CUe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _Ue(e){return function(e){if(Array.isArray(e))return EUe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return EUe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EUe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EUe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jUe(){return(jUe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function SUe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PUe(e,t){return(PUe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RUe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=DUe(e);if(t){var o=DUe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TUe(this,n)}}function TUe(e,t){return!t||"object"!==CUe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function DUe(e){return(DUe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var AUe=nAe.$,MUe={en:sx,"zh-cn":kx};var NUe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PUe(e,t)}(i,e);var t,n,r,o=RUe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onEngineReady=function(e){t.engine=e,t.setState({engine:e},(function(){Gqe(e,"search",{target:t.contentEditor.current}),Gqe(e,"translate",{action:t.props.translate.action}),Gqe(e,"uploader",{actions:{image:t.props.image?t.props.image.uploadAction:"",file:t.props.file?t.props.file.uploadAction:"",localdoc:t.props.localdoc?t.props.localdoc.uploadAction:""}}),Gqe(e,"iframeHelper"),t.bindScrollEvent(),e.on("maximizecard",(function(){e.editArea.closest(".lake-editor").addClass("lake-maximize-card")})),e.on("restorecard",(function(){e.editArea.closest(".lake-editor").removeClass("lake-maximize-card")})),e.on("sidebarchange",(function(n){n&&("none"===n?(t.setState({hasSideBar:!1}),e.toolbar.updateState()):t.setState({hasSideBar:!0}),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),100))})),t.props.onLoad(e)})),t.engine.on("typographychange",(function(e){t.props.onTypographyChange(e);var n=t.editorRootNodeRef.current;if(n){var r=AUe(n);r.removeClass("lake-editor-classic"),r.removeClass("lake-editor-traditional"),r.addClass("lake-editor-".concat(e))}}))},t.handleScroll=function(){t.lakeMaxEditorWrapperContent[0].scrollTop>16?t.lakeToolbar.addClass("lake-toolbar-active"):t.lakeToolbar.removeClass("lake-toolbar-active")},t.state={engine:null,toolbar:e.toolbar,viewport:e.viewport,hasSideBar:e.sidebar&&"none"!==e.sidebar},t.locale=MUe[e.lang],t.contentEditor=k.a.createRef(),t.editorRootNodeRef=k.a.createRef(),t}return t=i,(n=[{key:"componentWillUnmount",value:function(){AUe(document.body).css({"overscroll-behavior-x":"","overflow-y":""})}},{key:"componentDidUpdate",value:function(e){if("adapt"===this.props.viewport){var t=AUe(this.contentEditor.current.parentNode),n=AUe(this.contentEditor.current.parentNode.parentNode);t.width()!==n.width()&&n.addClass("lake-has-scroll-bar")}var r=this.engine.viewport;this.engine.viewport=this.props.viewport,this.engine.viewport!==r&&this.engine.event.trigger("viewportchange",this.engine.viewport,r),this.props.typography!==e.typography&&this.engine.setTypography("classic"===this.props.typography)}},{key:"bindScrollEvent",value:function(){this.lakeToolbar=AUe(".lake-toolbar"),this.lakeMaxEditorWrapperContent=AUe(".lake-max-editor-wrapper-content"),this.lakeMaxEditorWrapperContent.on("scroll",this.handleScroll),AUe(document.body).css({"overscroll-behavior-x":"none","overflow-y":"hidden"})}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.viewport,r=e.nopaper,o=e.sidebar,i=e.toolbarBlacklist,a=e.toolbar,c=e.toolBarType,s=this.state,l=s.engine,u=s.hasSideBar,f={toolBarType:c,key:c,type:t,engine:l,toolbar:this._filterToolbar(a,i),locale:this.locale},p=function(e){var t=Object.assign({},e);return!t.video&&t.image&&(t.video={uploadAction:t.image.uploadAction.replace("type=image","type=video")}),oAe()(t,["onLoad","header","type","toolbar"])}(this.props);p.editorType=this.props.type;var d=this.props.typography,h="lake-editor lake-max-editor";return"adapt"===n&&(h+=" lake-adaptive-width"),"fixed"===n&&(h+=" lake-fixed-width"),u&&(h+=" lake-has-sidebar"),r&&(h+=" lake-no-paper"),d&&(h+=" lake-editor-".concat(d)),k.a.createElement("div",{className:h,ref:this.editorRootNodeRef},k.a.createElement("div",{className:"lake-max-editor-wrapper"},l&&k.a.createElement(eqe,{engine:l}),l&&k.a.createElement(cNe,jUe({hasMore:"adapt"===n},f)),k.a.createElement("div",{className:"lake-max-editor-wrapper-content lake-editor-scroll-container"},l&&k.a.createElement(LVe,{engine:l,defaultType:o}),k.a.createElement("div",{className:"lake-max-editor-content"},k.a.createElement("div",{className:"lake-content-editor",ref:this.contentEditor},k.a.createElement("div",{className:"lake-content-editor-extra"},this.props.header),k.a.createElement(OUe,jUe({onEngineReady:this.onEngineReady},p)))))))}},{key:"_filterToolbar",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=_Ue(t);return!1===this.props.allowResource&&n.push("repository"),Array.isArray(e)?e.map((function(e){return Array.isArray(e)?e.filter((function(e){return!n.includes(e)})):e})):e}}])&&SUe(t.prototype,n),r&&SUe(t,r),i}(k.a.Component);NUe.propTypes={lang:st.a.string,type:st.a.string,toolbar:st.a.array,header:st.a.node,tabIndex:st.a.number,onChange:st.a.func,onLoad:st.a.func,onSave:st.a.func,onBeforeRenderImage:st.a.func,defaultValue:st.a.string,image:st.a.object,file:st.a.object,localdoc:st.a.object,translate:st.a.object,lockedtext:st.a.object,video:st.a.object,localVideo:st.a.object,localAudio:st.a.object,mention:st.a.object,customMaximize:st.a.func,customMaximizeRestore:st.a.func,cardWhitelist:st.a.array,cardBlacklist:st.a.array,toolbarBlacklist:st.a.array,viewport:st.a.string,nopaper:st.a.bool,sidebar:st.a.string,typography:st.a.string,meta:st.a.object,allowPremium:st.a.bool,allowAudioPlayer:st.a.bool,onTypographyChange:st.a.func,enableDeferredRendering:st.a.bool,previewFileHandler:st.a.func,autoCompleteLinks:st.a.bool,thirdPartyService:st.a.array,docId:st.a.number,enableCardOffScreen:st.a.bool,allowMention:st.a.bool,allowResource:st.a.bool,allowSaveToResource:st.a.bool,allowResizeVideo:st.a.bool,disableImageOCR:st.a.bool,ossProcessDomains:st.a.array,localImageHostList:st.a.array,placeholder:st.a.string,toolBarType:st.a.string,previewOrigin:st.a.string,automaticPositioning:st.a.bool,disallowToggleToolbar:st.a.oneOfType([st.a.bool,st.a.func]),disableYuqueCardEmbedView:st.a.bool},NUe.defaultProps={lang:"zh-cn",type:"max",tabIndex:2,toolbar:[["card"],["save","undo","redo","paintformat","removeformat"],["heading","fontsize"],["bold","italic","strikethrough","underline","moremark"],["fontcolor","highlight"],["alignment"],["unorderedlist","orderedlist","tasklist","indent","lineheight"],["link","quote","hr"],["search","translate","toc","repository"]],translate:{action:"https://suppliers.alifanyi.com/supporting/translate.json"},lockedtext:{action:"/api/services/crypto"},onLoad:function(){},viewport:"fixed",sidebar:"toc",typography:"classic",onTypographyChange:function(){},enableCardOffScreen:!1,toolBarType:"normal"};var IUe=NUe;function LUe(e){return(LUe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FUe(){return(FUe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zUe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BUe(e,t){return(BUe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function VUe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=HUe(e);if(t){var o=HUe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qUe(this,n)}}function qUe(e,t){return!t||"object"!==LUe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function HUe(e){return(HUe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var UUe={en:sx,"zh-cn":kx};var WUe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BUe(e,t)}(i,e);var t,n,r,o=VUe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onEngineReady=function(e){t.engine=e,t.setState({engine:e}),Gqe(e,"uploader",{actions:{image:t.props.image?t.props.image.uploadAction:"",file:t.props.file?t.props.file.uploadAction:"",localdoc:t.props.localdoc?t.props.localdoc.uploadAction:""}}),Gqe(e,"iframeHelper"),t.props.onLoad(e),e.sidebar.disable=!0},t.state={engine:null,toolbar:e.toolbar},t.locale=UUe[e.lang],t.contentEditor=k.a.createRef(),t}return t=i,(n=[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.moreToolbar,r=this.state,o=r.engine,i={type:t,engine:o,toolbar:r.toolbar,moreToolbar:n,locale:this.locale},a=function(e){var t=Object.assign({},e);return!t.video&&t.image&&(t.video={uploadAction:t.image.uploadAction.replace("type=image","type=video")}),void 0===t.maxPadding&&(t.maxPadding=40),oAe()(t,["onLoad","header","type","toolbar"])}(this.props);return a.editorType=this.props.type,k.a.createElement("div",{className:"lake-editor lake-mini-editor"},o&&k.a.createElement(cNe,FUe({hasMore:!0},i)),k.a.createElement("div",{ref:this.contentEditor,className:"lake-content-editor"},k.a.createElement(OUe,FUe({onEngineReady:this.onEngineReady,hasSidebar:!1},a))))}}])&&zUe(t.prototype,n),r&&zUe(t,r),i}(k.a.Component);WUe.propTypes={lang:st.a.string,type:st.a.string,toolbar:st.a.array,moreToolbar:st.a.array,header:st.a.node,tabIndex:st.a.number,onChange:st.a.func,onLoad:st.a.func,onSave:st.a.func,onBeforeRenderImage:st.a.func,defaultValue:st.a.string,image:st.a.object,maxPadding:st.a.number,file:st.a.object,localdoc:st.a.object,lockedtext:st.a.object,video:st.a.object,localVideo:st.a.object,localAudio:st.a.object,allowAudioPlayer:st.a.bool,mention:st.a.object,customMaximize:st.a.func,customMaximizeRestore:st.a.func,cardWhitelist:st.a.array,cardBlacklist:st.a.array,enableDeferredRendering:st.a.bool,previewFileHandler:st.a.func,thirdPartyService:st.a.array,docId:st.a.number,allowMention:st.a.bool,allowResource:st.a.bool,allowSaveToResource:st.a.bool,disableImageOCR:st.a.bool,ossProcessDomains:st.a.array,localImageHostList:st.a.array,placeholder:st.a.string,previewOrigin:st.a.string,automaticPositioning:st.a.bool,disallowToggleToolbar:st.a.oneOfType([st.a.bool,st.a.func]),disableYuqueCardEmbedView:st.a.bool},WUe.defaultProps={lang:"zh-cn",type:"mini",tabIndex:2,toolbar:[["emoji","heading","bold","italic","strikethrough"],["orderedlist","unorderedlist","tasklist"],["link","image","file"]],save:!1,search:!1,cardWhitelist:["yuque","label"],heading:{showAnchor:!1},lockedtext:{action:"/api/services/crypto"},onChange:function(){},onLoad:function(){},onBeforeRenderImage:function(e){return e}};var KUe=WUe;function YUe(e){return(YUe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XUe(){return(XUe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GUe(e,t){return(GUe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZUe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=QUe(e);if(t){var o=QUe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return JUe(this,n)}}function JUe(e,t){return!t||"object"!==YUe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QUe(e){return(QUe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eWe={en:sx,"zh-cn":kx};var tWe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GUe(e,t)}(i,e);var t,n,r,o=ZUe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onEngineReady=function(e){t.engine=e,t.setState({engine:e}),Gqe(e,"uploader",{actions:{image:t.props.image?t.props.image.uploadAction:"",file:t.props.file?t.props.file.uploadAction:"",localdoc:t.props.localdoc?t.props.localdoc.uploadAction:""}}),Gqe(e,"iframeHelper"),t.props.onLoad(e)},t.state={engine:null,toolbar:e.toolbar},t.locale=eWe[e.lang],t.contentEditor=k.a.createRef(),t}return t=i,(n=[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props.type,t=this.state,n=t.engine,r={type:e,engine:n,toolbar:t.toolbar,locale:this.locale},o=function(e){var t=Object.assign({},e);return!t.video&&t.image&&(t.video={uploadAction:t.image.uploadAction.replace("type=image","type=video")}),oAe()(t,["onLoad","header","toolbar"])}(this.props);return o.editorType=this.props.type,k.a.createElement("div",{className:"lake-editor lake-mobile-editor"},n&&k.a.createElement(cNe,XUe({hasMore:!0},r,{mobile:!0})),k.a.createElement("div",{ref:this.contentEditor,className:"lake-content-editor"},k.a.createElement("div",{className:"lake-content-editor-extra"},this.props.header),k.a.createElement(OUe,XUe({onEngineReady:this.onEngineReady},o))))}}])&&$Ue(t.prototype,n),r&&$Ue(t,r),i}(k.a.Component);tWe.propTypes={lang:st.a.string,type:st.a.string,toolbar:st.a.array,header:st.a.node,tabIndex:st.a.number,onChange:st.a.func,onLoad:st.a.func,onSave:st.a.func,onBeforeRenderImage:st.a.func,defaultValue:st.a.string,image:st.a.object,file:st.a.object,localdoc:st.a.object,lockedtext:st.a.object,video:st.a.object,localVideo:st.a.object,localAudio:st.a.object,mention:st.a.object,customMaximize:st.a.func,customMaximizeRestore:st.a.func,allowPremium:st.a.bool,allowAudioPlayer:st.a.bool,enableDeferredRendering:st.a.bool,previewFileHandler:st.a.func,thirdPartyService:st.a.array,docId:st.a.number,allowMention:st.a.bool,allowResource:st.a.bool,allowSaveToResource:st.a.bool,disableImageOCR:st.a.bool,ossProcessDomains:st.a.array,localImageHostList:st.a.array,placeholder:st.a.string,previewOrigin:st.a.string,automaticPositioning:st.a.bool,disallowToggleToolbar:st.a.bool,disableYuqueCardEmbedView:st.a.bool},tWe.defaultProps={lang:"zh-cn",type:"mobile",tabIndex:2,toolbar:[["heading"],["bold"],["indent"],["alignment"],["list"],["tasklist"],["image"],["quote"]],save:!1,search:!1,cardselect:!1,heading:{showAnchor:!1},lockedtext:{action:"/api/services/crypto"},onChange:function(){},onLoad:function(){},onBeforeRenderImage:function(e){return e}};var nWe=tWe;function rWe(e){return(rWe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oWe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iWe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oWe(Object(n),!0).forEach((function(t){aWe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oWe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aWe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cWe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sWe(e,t){return(sWe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lWe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fWe(e);if(t){var o=fWe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uWe(this,n)}}function uWe(e,t){return!t||"object"!==rWe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fWe(e){return(fWe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pWe=["yuque.antfin-inc.com","yuque.com","yuque.alibaba-inc.com"],dWe=nAe.$,hWe={en:sx,"zh-cn":kx},mWe='<div id="markdown-toc"></div>';window.lozad_observer=sle()(".lozad",{rootMargin:"10px 0px",threshold:.1});var vWe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sWe(e,t)}(i,e);var t,n,r,o=lWe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onViewAreaClick=function(e){var n=e.target,r=dWe(n).closest("a");r.length&&r[0].hasAttribute("href")&&(e.preventDefault(),e.stopPropagation(),t.contentViewEngine&&t.contentViewEngine.openLinkByNode(r[0]))},t.disableLazyRender=function(){t.contentViewEngine&&nAe.card.renderController.disable(t.contentViewEngine)},t.containsMarkdownToc=function(e){return!!e&&e.includes(mWe)},t.adaptContent=function(e){if(!e)return"";e=String(e);var n=new kd;n.add(Cde.a),n.add(BHe);var r=new $f(e,n,void 0,(function(e){dWe(e).find("[data-ready-card]").each((function(e){e&&e.getAttribute&&"image"===e.getAttribute("data-ready-card")&&!e.getAttribute("data-card-value")&&e.parentNode&&e.parentNode.removeChild(e)}))}));return t.docVerstion=tqe(e),r.toLowerValue(!0)},t.extractMention=function(){var e=[];return t.viewArea.current.querySelectorAll('[data-lake-card="mention"]').forEach((function(t){var n=t.getAttribute("data-card-value");n=n.replace(/^data:/,"");try{var r=JSON.parse(decodeURIComponent(n));e.push(r)}catch(e){console.log(e)}})),e},t.addRelToLink=function(){dWe(t.viewArea.current).find("a[target=_blank]").each((function(e){e.closest("[data-lake-card=file]")||e.closest("[data-lake-card=localdoc]")||function(e){if(!/^(?:\w{1,20}:){0,1}\/\//i.test(e))return!0;var t;try{t=new URL(e)}catch(e){return!1}var n=t.hostname;if(!n)return!1;for(var r=0;r<pWe.length;r++){var o=pWe[r];if(n===o||n.endsWith(".".concat(o)))return!0}return!1}(e.href)||dWe(e).attr("rel","noopener noreferrer")}))},t.addHeadingAnchor=function(){var e=t.contentViewEngine.locale;dWe(t.viewArea.current).find("h1,h2,h3,h4,h5,h6").each((function(t){var n=(t=dWe(t)).attr("id");if(n){var r=dWe('<a class="lake-anchor"></a>'),o=Ub(t[0]);r.css("top","".concat((o-24)/2,"px")),He.a.render(k.a.createElement(dn,{title:e.copyParagraphLink},k.a.createElement("span",{className:"lake-anchor-button lake-icon lake-icon-".concat(t.name)})),r[0]),r.on("click",(function(){var t=window.location,r=t.origin,o=t.pathname;Ip.copyText("".concat(r+o,"#").concat(n)),fs.success(e.copySuccess)})),t.prepend(r)}}))},t.removeInvalidStyles=function(){dWe(t.viewArea.current).children().each((function(e){e=dWe(e),Nu.removeMinusStyle(e,"text-indent")}))},t.renderContent=function(){console.time("contentView render");var e=t.props,n=e.lang,r=e.scene,o=e.onBeforeRenderImage,i=e.customMaximizeRestore,a=e.ossProcessDomains,c=e.localImageHostList,s=e.meta,l=e.customMaximize,u=e.autoMaximizeCard,f=e.renderParser,p=e.typography,d=e.allowAudioPlayer,h=dWe(t.viewArea.current),m=Ny.create(h,iWe(iWe({},t.props.options||{}),{},{lang:n,scene:r,enableDeferredRendering:!f&&(t.props.options||{}).enableDeferredRendering,disableYuqueCardEmbedView:t.props.disableYuqueCardEmbedView,docId:t.props.docId,card:nAe.card,plugin:nAe.plugin,allowAudioPlayer:d,onBeforeRenderImage:o,customMaximizeRestore:i,ossProcessDomains:a,localImageHostList:c,autoMaximizeCard:u,customMaximize:l,typography:p,meta:s}));if(m.docVerstion=t.docVerstion,m.iframeHelper=new qqe,m.locale=hWe[n],m.schema.add(Cde.a),m.schema.add(BHe),m.isRemoteImage=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tw.call.apply(tw,[null,m].concat(t))},m.extractMention=t.extractMention,m.getPageLocation=function(){return t.props.getPageLocationHandle?t.props.getPageLocationHandle():location},fe.desktop&&(m.openLink=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"boolean"==typeof t?(n=t,t=e):t||(t=e),window.openExternalLink?window.openExternalLink(e,t,n):console.warn("function not found: openExternalLink")}),console.time("contentView card"),nAe.card.renderAll(t.viewArea.current,void 0,m),nAe.card.renderController.run(m),console.timeEnd("contentView card"),t.contentViewEngine=m,t.editArea=h,u){var v=dWe(document.getElementById(u));v&&nAe.card.maximize({cardRoot:v,contentView:m})}if(t.addRelToLink(),t.removeInvalidStyles(),f){var y=t.viewArea.current.parentNode;f.parse(t.viewArea.current),y.appendChild(t.viewArea.current)}t.props.genAnchor&&t.addHeadingAnchor(),console.timeEnd("contentView render")},t.viewArea=k.a.createRef(),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this,t={outline:[]};this.bindEvent(),this.renderContent(),!0===this.props.genOutline&&(t.outline=pRe.extractFromDom(this.viewArea.current),this.containsMarkdownToc(this.props.content)&&this.renderMarkdownToc(t.outline)),"function"==typeof this.props.onLoad&&this.props.onLoad(this.viewArea.current,t,this.contentViewEngine),this.editArea.attr("tabindex",0),this.editArea.on("keydown",(function(t){if(kb("mod+a",t)){t.preventDefault(),e.contentViewEngine&&nAe.card.renderController.disable(e.contentViewEngine);var n=window.getSelection(),r=document.createRange();r.selectNode(e.editArea[0]),n.removeAllRanges(),n.addRange(r)}})),window.lozad_observer&&window.lozad_observer.observe();var n=this.contentViewEngine.viewport;this.contentViewEngine.viewport=this.props.viewport,this.props.viewport!==n&&this.contentViewEngine.event.trigger("viewportchange",this.contentViewEngine.viewport,n)}},{key:"componentWillUnmount",value:function(){this.unbindEvent()}},{key:"bindEvent",value:function(){if(dWe(window).on("beforeprint",this.disableLazyRender,!1),fe.desktop){var e=this.viewArea.current;e&&e.addEventListener("click",this.onViewAreaClick,!1)}}},{key:"unbindEvent",value:function(){if(dWe(window).off("beforeprint",this.disableLazyRender,!1),fe.desktop){var e=this.viewArea.current;e&&e.removeEventListener("click",this.onViewAreaClick,!1)}}},{key:"renderMarkdownToc",value:function(e){if(0!==e.length){var t=document.createElement("div");this.viewArea.current.prepend(t);var n=this.props.lang,r=hWe[n];He.a.render(k.a.createElement("div",{className:"lake-embed-outline"},k.a.createElement("h3",null,r.toc.title),k.a.createElement("ul",null,e.map((function(e){return k.a.createElement("li",{className:"lake-embed-outline lake-embed-outline-".concat(e.depth),key:e.id},k.a.createElement("a",{href:"#".concat(encodeURIComponent(e.id))},k.a.createElement("span",null,e.text)))})))),t)}}},{key:"shouldComponentUpdate",value:function(e){return this.props.content!==e.content}},{key:"componentDidUpdate",value:function(e){this.props.content!==e.content&&this.renderContent()}},{key:"render",value:function(){var e=this.adaptContent(this.props.content);return k.a.createElement("div",{className:"lake-engine-view",ref:this.viewArea,dangerouslySetInnerHTML:{__html:e}})}}])&&cWe(t.prototype,n),r&&cWe(t,r),i}(k.a.Component);vWe.propTypes={lang:st.a.string,content:st.a.string,genAnchor:st.a.bool,genOutline:st.a.bool,options:st.a.object,viewport:st.a.string,typography:st.a.string,docId:st.a.number,onLoad:st.a.func,onBeforeRenderImage:st.a.func,autoMaximizeCard:st.a.string,customMaximize:st.a.func,customMaximizeRestore:st.a.func,lockedtext:st.a.object,renderParser:st.a.object,meta:st.a.object,getPageLocationHandle:st.a.func,previewFileHandler:st.a.func,allowAudioPlayer:st.a.bool,scene:st.a.oneOf(["doc","other"]).isRequired,ossProcessDomains:st.a.array,localImageHostList:st.a.array,previewOrigin:st.a.string,disableYuqueCardEmbedView:st.a.bool},vWe.defaultProps={lang:"zh-cn",content:"",genAnchor:!1,genOutline:!0,onLoad:function(){},onBeforeRenderImage:function(e){return e},typography:"classic",allowAudioPlayer:!1,scene:"other",ossProcessDomains:[/^.*?\.yuque\.com$/i,"cdn.nlark.com","yuque.antfin.com","yuque.antfin-inc.com","intranetproxy.alipay.com",window.location.host],localImageHostList:[/^\w+\.(nlark|alipay|alipayobjects|alibaba-inc|antfin-inc)\.com$/]};var yWe=vWe;function gWe(e){return(gWe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bWe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wWe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bWe(Object(n),!0).forEach((function(t){kWe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bWe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kWe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OWe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CWe(e,t,n){return(CWe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SWe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _We(e,t){return(_We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function EWe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=SWe(e);if(t){var o=SWe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jWe(this,n)}}function jWe(e,t){return!t||"object"!==gWe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SWe(e){return(SWe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var PWe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_We(e,t)}(i,e);var t,n,r,o=EWe(i);function i(){return xWe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getDefaultCardParsers",value:function(){return wWe(wWe({},CWe(SWe(i.prototype),"getDefaultCardParsers",this).call(this)),{},{checkbox:function(){},codeblock:function(e){return tHe(e,{whiteSpace:!0})}})}},{key:"parseLists",value:function(e){return rHe(e)}}])&&OWe(t.prototype,n),r&&OWe(t,r),i}(bHe);function RWe(e){return(RWe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TWe(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function DWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AWe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MWe(e,t){return(MWe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NWe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=LWe(e);if(t){var o=LWe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return IWe(this,n)}}function IWe(e,t){return!t||"object"!==RWe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LWe(e){return(LWe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var FWe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MWe(e,t)}(c,e);var t,n,r,o,i,a=NWe(c);function c(){return DWe(this,c),a.apply(this,arguments)}return t=c,(n=[{key:"after",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s,l,u,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nHe(t),(n=t.find("img")).each((function(e){e.style.width&&e.style.height&&(e.width=parseInt(e.style.width),e.height=parseInt(e.style.height))})),r=0;case 4:if(!(r<n.length)){e.next=37;break}if(e.prev=5,o=n[r],!(i=o.src)||!i.endsWith(".svg")){e.next=29;break}return a=document.createElement("canvas"),c=a.getContext("2d"),e.next=13,fetch(i);case 13:return s=e.sent,e.next=16,s.text();case 16:return l=e.sent,u="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(l))),e.next=20,t_(u);case 20:f=e.sent,a.width=2*f.width,a.height=2*f.height,a.style.width=f.width+"px",a.style.height=f.height+"px",c.drawImage(f,0,0,2*f.width,2*f.height),o.src=a.toDataURL(),o.style.width||(o.style.width=f.width+"px"),o.style.height||(o.style.height=f.height+"px");case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(5),console.warn(e.t0);case 34:r++,e.next=4;break;case 37:this.done();case 38:case"end":return e.stop()}}),e,this,[[5,31]])})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){TWe(i,n,r,a,c,"next",e)}function c(e){TWe(i,n,r,a,c,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"done",value:function(){}},{key:"parseLists",value:function(e){return rHe(e)}}])&&AWe(t.prototype,n),r&&AWe(t,r),c}(bHe);function zWe(e){return(zWe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VWe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qWe(e,t){return(qWe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HWe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=WWe(e);if(t){var o=WWe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return UWe(this,n)}}function UWe(e,t){return!t||"object"!==zWe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function WWe(e){return(WWe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var KWe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qWe(e,t)}(i,e);var t,n,r,o=HWe(i);function i(){return BWe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"parse",value:function(e){var t=ru("<div />");return t.append(e),{html:t.html(),text:new $f(t).toText()}}}])&&VWe(t.prototype,n),r&&VWe(t,r),i}(np),YWe=kC().map((function(e){return e.text=e.text.replace(/<br.*?>/,""),e})),XWe={};nAe.registerClipboardExportParser(new bHe),XWe.Engine=nAe,XWe.Editor=IUe,XWe.MiniEditor=KUe,XWe.MobileEditor=nWe,XWe.ContentView=yWe,XWe.HotKeys=YWe,XWe.Outline=pRe,XWe.ExportParser=bHe,XWe.WordExportParser=FWe,XWe.DoNothingExportParser=KWe,XWe.DocVersion=1,XWe.htmlToLake=function(e){if(!e){var t="<p><br></p>";return{value:rw(t),html:t}}var n=document.createElement("div"),r=document.createElement("div");n.style.display="none",n.appendChild(r),document.body.appendChild(n);var o=nAe.create(r,{onBeforeRenderImage:function(e){return e}});o.isRemoteImage=function(){return!1},o.schema.add(Cde.a),o.schema.add(BHe),o.locale=kx,o.setValue("<p><cursor /></p>"),o.command.execute("paste",e);var i=rw(o.getValue()),a=o.getHtml(new jHe);return o.destroy(),document.body.removeChild(n),{value:i,html:a}},XWe.PdfExportParser=PWe;function $We(){return($We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function GWe(e){var t=e.editor,n=e.onLoad,r=e.onChange,o=e.onSave,i=t.getProps();return k.a.createElement(IUe,$We({onLoad:n,onSave:o,onChange:r},i))}var ZWe=n(126),JWe=n.n(ZWe);function QWe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var eKe=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getKeyByName=function(e){var n=t.getConfig().find((function(t){return t.name===e}));return n?n.key:null},this.bind=function(e,n){var r=t.getKeyByName(e);if(!r)return null;Dw()(r.join(", "),n)},this.bindByKey=function(e,t){if(e){var n=JWe.a.mac?"command":"ctrl";e=e.toLowerCase().replace("cmd",n),Dw()(e,t)}},this.unbind=function(e){var n=t.getKeyByName(e);if(!n)return null;Dw.a.unbind(n)}}var t,n,r;return t=e,(n=[{key:"getConfig",value:function(){var e=JWe.a.mac?"command":"ctrl";return[{name:"fullscreen",text:"全屏",key:["".concat(e,"+shift+f")]},{name:"submit",text:"提交",key:["".concat(e,"+enter")]}]}}])&&QWe(t.prototype,n),r&&QWe(t,r),e}();function tKe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nKe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nKe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nKe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rKe(e){var t=e.editor,n=t.getConfig(),r=t.getProps(),o=tKe(Object(w.useState)(e.defaultValue),2),i=o[0],a=o[1],c=tKe(Object(w.useState)(e.format),2),s=c[0],l=(c[1],tKe(Object(w.useState)(!1),2)),u=l[0],f=l[1],p=tKe(Object(w.useState)(0),2),d=p[0],h=p[1],m=Object(w.useRef)(null),v=Object(w.useRef)(null),y=Object(w.useRef)(null),g=function(){t.emit("fullscreen-internal",!0)},b=function(){t.emit("fullscreen-internal",!1)},k=Object(w.useCallback)((function(){return y.current?b():g()}),[]);Object(w.useEffect)((function(){var e=new eKe;return n.mini&&n.mini.fullscreen&&e.bind("fullscreen",k),t.on("fullscreen-reply",(function(e){e?(f(!0),y.current=!0,setTimeout((function(){v.current&&t.api.getValue().then((function(e){var n=e.lake;t.setEngine(v.current),a(n),t.api.setValue(n),t.api.focusToEnd()}))}),600)):(f(!1),y.current=!1,t.setEngine(v.current),m.current&&t.api.getValue().then((function(e){var n=e.lake;t.setEngine(m.current),a(n),t.api.setValue(n),t.api.focusToEnd(),x()})))})),function(){e.unbind("fullscreen")}}),[]);var x=nm()((function(){var e=t.api.getWordCount();h(e)}),300);return{state:{content:i,format:s,expand:u,wordCount:d},handler:{emitExpand:g,emitCollapse:b,onEditorLoad:function(t){m.current=t,x(),e.onLoad(m.current)},onFullEditorLoad:function(e){v.current=e},onEditorChange:function(){e.onChange&&e.onChange(),x()},onEditorSave:function(){e.onSave&&e.onSave()}},editorConfig:n,editorProps:r}}n(844);function oKe(){return(oKe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var iKe=function(e){return"yuque-servicify-editor"+(e?"-".concat(e):"")};var aKe=function(e){var t=rKe(e),n=t.state,r=t.handler,o=t.editorConfig,i=t.editorProps,a={};return i._miniEditor&&(a=i._miniEditor),k.a.createElement("div",{id:"lark-mini-editor",className:iKe()},k.a.createElement(KUe,oKe({},i,a,{onLoad:r.onEditorLoad,onChange:r.onEditorChange,onSave:r.onEditorSave})),o.mini&&o.mini.fullscreen&&k.a.createElement("div",{className:iKe("expand")},k.a.createElement("span",{className:"".concat(iKe("icon")," ").concat(iKe("expandIcon")),onClick:function(){return r.emitExpand()}})),k.a.createElement("div",{style:{display:n.expand?"block":"none"},className:"".concat(iKe("fullScreen")," ").concat(iKe("fullEditor"))},k.a.createElement("div",{className:"lake-fullscreen-editor"},n.expand&&k.a.createElement(IUe,oKe({onLoad:r.onFullEditorLoad,onChange:r.onEditorChange,onSave:r.onEditorSave},i,{defaultValue:""})),k.a.createElement("div",{className:iKe("collapse"),onClick:r.emitCollapse},k.a.createElement("div",{className:"".concat(iKe("icon")," ").concat(iKe("collapseIcon"))})))),o.mini.wordcount&&k.a.createElement("span",{className:"".concat(iKe("wordcount"))},n.wordCount))},cKe=function(e){return React.createElement("div",{className:"yuque-servicify-container yuquesdk","data-yuque":"sdk"},e.children)},sKe=n(182),lKe=n.n(sKe);function uKe(e){var t=e.editorConfig,n=e.viewerConfig,r=e.iframeConfig,o=void 0===r?{}:r,i="",a={};if(t?a=t.style||{}:n&&(a=n.style||{}),t&&(i+="\n      body { overflow: hidden; }\n      .yuquesdk .lake-max-editor { min-width: 400px; height: 100vh; }\n      .yuquesdk .yuque-servicify-container .lake-content-editor { background-color: #ffffff; }\n      .yuquesdk .lake-max-editor.lake-adaptive-width .lake-toolbar-content { padding: 0; }\n      .yuquesdk .lake-max-editor-wrapper-content .lake-content-editor-core { padding: 20px; min-height: 400px; }\n      .yuquesdk .lake-max-editor-wrapper-content .lake-max-editor-content { padding: 16px 0 16px 0; }\n    "),a.body_background_color&&(i+="\n      .yuquesdk .lake-max-editor-wrapper-content .lake-max-editor-content {\n        background-color: ".concat(lKe()(a.body_background_color),";\n      }\n      .yuquesdk .lake-max-editor-wrapper-content .lake-content-editor {\n        border: 0 none;\n        box-shadow: none;\n      }\n    ")),a.toolbar_background_color&&(i+="\n      .yuquesdk .lake-toolbar {\n        background-color: ".concat(lKe()(a.toolbar_background_color),";\n      }\n    ")),a.background_color&&(i+="\n      .yuquesdk #content,\n      .yuquesdk .lake-content-editor,\n      .yuquesdk .lake-title-editor .ant-input {\n        background-color: ".concat(lKe()(a.background_color),"\n      }\n    ")),t&&!t.autoHeight?i+="\n      .yuquesdk .lake-mini-editor .lake-content-editor-core {\n        height: calc(100vh - 40px);\n        min-height: calc(100vh - 40px);\n        overflow-y: auto;\n      }\n    ":i+="\n      .yuquesdk .lake-max-editor-wrapper-content { overflow-y: hidden; }\n      .yuquesdk .lake-fullscreen-editor .lake-max-editor-wrapper-content { overflow-y: auto; }\n    ",o&&o.style&&o.style["min-height"]&&(i+="\n      .yuquesdk .lake-mini-editor .lake-content-editor-core {\n        min-height: calc(".concat(o.style["min-height"]," - 40px)\n      }\n    ")),i+=a.custom_style||""){var c=document.createElement("style");document.head.appendChild(c),c.type="text/css",c.appendChild(document.createTextNode(i))}}var fKe=n(369);function pKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var dKe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bridge=Object(fKe.registerChild)({methods:t.methods})}var t,n,r;return t=e,(n=[{key:"emit",value:function(){var e;(e=this.bridge).emit.apply(e,arguments)}},{key:"call",value:function(){var e;return(e=this.bridge).call.apply(e,arguments)}}])&&pKe(t.prototype,n),r&&pKe(t,r),e}();function hKe(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function mKe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){hKe(i,r,o,a,c,"next",e)}function c(e){hKe(i,r,o,a,c,"throw",e)}a(void 0)}))}}var vKe=function e(t){var n=this,r=t.engine,o=t.app;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getEngine=function(){return n.engine},this.setEngine=function(e){n.engine=e},this.setApp=function(e){n.app=e},this.getValue=mKe(regeneratorRuntime.mark((function e(){var t,r,o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,n.contentReady();case 3:if(r=n.engine.getPureContent(),!t.html||!n.app){e.next=7;break}return o=n.engine.getHtml(new zHe({docUrl:n.app.getOrigin(),autoCompleteLinks:!1})),e.abrupt("return",{lake:r,html:o});case 7:return e.abrupt("return",{lake:r});case 8:case"end":return e.stop()}}),e)}))),this.setValue=function(e){e||(e="<p><br /></p>"),n.engine.setValue(e)},this.reset=function(e){e||(e="<p><br /></p>"),n.engine.reset(e)},this.insertValue=function(e){e||(e="<p><br /></p>"),n.engine.command.execute("paste",e)},this.focusToEnd=function(){n.engine.focusToEnd()},this.scrollIntoView=function(){n.engine.parentNode[0].scrollIntoView()},this.getWordCount=function(){return n.engine.wordCount()},this.contentReady=mKe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.engine.event.trigger("save:before"),e.next=3,n.engine.asyncEvent.emitAsync("save:before");case 3:case"end":return e.stop()}}),e)}))),this.engine=r,this.app=o};function yKe(e){return(yKe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gKe(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return bKe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bKe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function bKe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wKe=function(e,t){var n,r=[],o=gKe(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;i!==t&&r.push(i)}}catch(e){o.e(e)}finally{o.f()}return r};function kKe(e){return(kKe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xKe(e){return function(e){if(Array.isArray(e))return CKe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||OKe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OKe(e,t){if(e){if("string"==typeof e)return CKe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CKe(e,t):void 0}}function CKe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EKe(e,t){return(EKe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jKe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=PKe(e);if(t){var o=PKe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SKe(this,n)}}function SKe(e,t){return!t||"object"!==kKe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function PKe(e){return(PKe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var RKe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EKe(e,t)}(i,e);var t,n,r,o=jKe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).setEngine=function(e){t.engine=e,t.api?t.api.setEngine(e):t.initApi()},t.config=t._transformCallToFunction(e.config),t.engine=e.engine,t.env=e.env,t.belong=e.belong,t.app=e.app,t.log=e.log,t.message=e.message,t.hotKey=new eKe,t.allowCards=["image","table","file","codeblock","mindmap","diagram","label","localdoc","yuque","video","youku","thirdparty"],t.allowThirdparyCards=["youku","bilibili","taobao","xiami","amap","riddle","herbox","deepinsight","modao","figma","canva","processon","codepen","jianshuju"],t.networkCards=["math ","image","file","diagram","mindmap","yuque","localdoc","thirdparty","video"],t.defaultCards=["image","table","file"],t.init(),t}return t=i,(n=[{key:"init",value:function(){this.initApi(),this.initUIEvent(),this.initUIBehavior(),this.initListenKeys()}},{key:"initApi",value:function(){this.engine&&(this.api=new vKe({engine:this.engine,app:this.app}))}},{key:"initUIEvent",value:function(){var e=this;this.on("fullscreen-internal",(function(t){e.message.emit("fullscreen",t)}))}},{key:"initUIBehavior",value:function(){this.config.message||fs.config({top:-9999})}},{key:"initListenKeys",value:function(){var e=this,t=this.config.listenKeys;if(t&&0!==t.length){Array.isArray(t)||(t=[t]);var n,r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=OKe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(t);try{var o=function(){var t=n.value;e.hotKey.bindByKey(t,(function(){e.message.emit(t)}))};for(r.s();!(n=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}}}},{key:"getApp",value:function(){return this.app}},{key:"getConfig",value:function(){return this.config}},{key:"getLog",value:function(){return this.log}},{key:"_getCards",value:function(){var e=this,t=[];return this.config.cards&&(t=this.config.cards.filter((function(t){return e.allowCards.includes(t)}))),0===t.length&&(t=this.defaultCards),t}},{key:"_getThirdpartyCards",value:function(){var e=this;return this.config.thirdpartyCards?this.config.thirdpartyCards.filter((function(t){return e.allowThirdparyCards.includes(t)})):[]}},{key:"_getBlackCards",value:function(){if(this.env&&!this.env.isServerable()){var e=xKe(this.networkCards);return this.config.image&&(e=wKe(e,"image")),this.config.file&&(e=wKe(e,"file")),this.config.video&&(e=wKe(e,"video")),e}return[]}},{key:"_getBlackToolbars",value:function(){var e=["repository"],t=this.config.toolbar;return t&&t.blacklist&&(e=[].concat(xKe(e),xKe(t.blacklist))),this.env&&!this.env.isServerable()&&e.push("translate"),e}},{key:"_getImageActionUrl",value:function(){return this.config.image?this.config.image.url:"".concat(this.app.baseUrl,"/api/upload/attach?type=image&attachable_type=").concat(this.belong.getType(),"&attachable_id=").concat(this.belong.getId(),"&from=servicify")}},{key:"_getFileActionUrl",value:function(){return this.config.file?this.config.file.url:"".concat(this.app.baseUrl,"/api/upload/attach?type=attachment&attachable_type=").concat(this.belong.getType(),"&attachable_id=").concat(this.belong.getId(),"&from=servicify")}},{key:"_getVideoProps",value:function(){return this.config.video?{uploadAction:this.config.video.url,queryAction:this.config.video.statusUrl,attachableId:this.belong.getId(),attachableType:this.belong.getType()}:{uploadAction:"".concat(this.app.baseUrl,"/api/video?attachable_type=").concat(this.belong.getType(),"&attachable_id=").concat(this.belong.getId(),"&from=servicify"),queryAction:"".concat(this.app.baseUrl,"/api/video?from=servicify"),attachableId:this.belong.getId(),attachableType:this.belong.getType()}}},{key:"_getMiniToolbar",value:function(){return this.config.mini&&this.config.mini.toolbar||[["card","heading","bold","orderedlist","unorderedlist","link"]]}},{key:"getProps",value:function(){var e=this,t=this.config,n={viewport:"adapt",lang:this._toLang(t.language),defaultValue:t.defaultValue,sidebar:t.outline?"toc":"none",allowResizeVideo:!0,disableImageOCR:!0,allowSaveToResource:!1,cardWhitelist:this._getCards(),cardBlacklist:this._getBlackCards(),toolbarBlacklist:this._getBlackToolbars(),thirdPartyService:this._getThirdpartyCards(),enableDeferredRendering:!1,previewOrigin:this.app.getOrigin(),markdown:{disableConvert:!0},image:{uploadAction:this._getImageActionUrl()},file:{uploadAction:this._getFileActionUrl()},localVideo:this._getVideoProps(),previewFileHandler:function(t,n){if(!e.config.file){var r=e.app.getOrigin();r&&(n=r+t)}window.open(n,"_blank")}};return this.belong.isValid()&&(n.doc_id=this.belong.getId(),n.doc={id:this.belong.getId(),type:this.belong.getType()}),t.mention?n.mention={action:t.mention.url,paramName:"q",origin:t.mention.origin,getData:t.mention.getData,getDefaultSuggestions:t.mention.getDefaults||function(){return t.mention.defaults||[]}}:(n.allowMention=!1,n.getDefaultSuggestions=function(){return[]}),n._miniEditor={toolbar:this._getMiniToolbar()},n}},{key:"getStyle",value:function(){return this.config.style||{}}},{key:"_toLang",value:function(e){return{"en-us":"en","zh-cn":"zh-cn"}[e]||"en"}},{key:"_transformCallToFunction",value:function(e){var t=this;return function e(n){Object.keys(n).forEach((function(r){var o=n[r];"string"==typeof o&&o.startsWith("servicify:call")?n[r]=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.message).call.apply(e,[o].concat(r))}:function(e){if(!e||"object"!==yKe(e)||"[object Object]"!={}.toString.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Function.prototype.toString.call(n)===Function.prototype.toString.call(Object)}(o)&&e(o)}))}(e),e}}])&&_Ke(t.prototype,n),r&&_Ke(t,r),i}(_n.a);function TKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var DKe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.query=new URLSearchParams(window.location.search)}var t,n,r;return t=e,(n=[{key:"isValid",value:function(){return!!this.getId()}},{key:"getId",value:function(){return this.query.get("x-yuque-pt-id")?this.query.get("id"):null}},{key:"getType",value:function(){return"Doclet"}}])&&TKe(t.prototype,n),r&&TKe(t,r),e}();function AKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var NKe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.belong;AKe(this,e),this.belong=n,this.query=new URLSearchParams(window.location.search)}var t,n,r;return t=e,(n=[{key:"sdkVer",value:function(){return this.query.get("sdk_version")}},{key:"isPreEnv",value:function(){return window.location.href.includes("pre.html")}},{key:"isServerable",value:function(){return this.belong&&this.belong.isValid()}},{key:"isMobile",value:function(){return JWe.a.mobile||JWe.a.tablet}}])&&MKe(t.prototype,n),r&&MKe(t,r),e}();function IKe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LKe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FKe(e,t){if(e)try{var n=window.yuyanMonitor;n||((n={}).log=console.log,n.logError=console.error),t?n.logError(t,e):n.log(e)}catch(e){console.log("上报雨燕异常：".concat(e.message))}}function zKe(e,t,n){FKe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IKe(Object(n),!0).forEach((function(t){LKe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IKe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({code:e,msg:t},n))}function BKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var VKe=function(){function e(t){var n=t.app;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.space=n.getSpace(),this.sdkVer=n.getSdkVer()}var t,n,r;return t=e,(n=[{key:"epv",value:function(){return e=this.space,t=this.sdkVer,void FKe({code:6,msg:"epv statistic",m1:1,d1:e,d2:t});var e,t}}])&&BKe(t.prototype,n),r&&BKe(t,r),e}();function qKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var HKe=function(){function e(t){var n=t.appConfig,r=void 0===n?{}:n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appConfig=r,this.space=r.space,this.baseUrl=r.baseUrl||"https://".concat(this.space,".yuque.com")}var t,n,r;return t=e,(n=[{key:"getSpace",value:function(){return this.space}},{key:"getSdkVer",value:function(){return this.appConfig.sdk_version}},{key:"getOrigin",value:function(){return this.baseUrl}},{key:"getSignUrl",value:function(){return this.appConfig.signUrl||window.location.href}}])&&qKe(t.prototype,n),r&&qKe(t,r),e}();function UKe(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return WKe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WKe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function WKe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var KKe=function(){};window.performance?window.performance.mark||(window.performance.mark=KKe):window.performance={mark:KKe};var YKe={},XKe="----MARK_INFO----";function $Ke(e,t){YKe[e]||(YKe[e]=!0,t&&(e="".concat(e).concat(XKe).concat(t)),window.performance.mark(e))}var GKe=[{taskName:"语雀服务化性能监控",code:5,msg:"yuque-servicify-performance-monitor",keyMap:{m1:"start-js-render",m2:"first-connect",m3:"editor-loaded",m4:"render-finished"}}];function ZKe(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function JKe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ZKe(i,r,o,a,c,"next",e)}function c(e){ZKe(i,r,o,a,c,"throw",e)}a(void 0)}))}}function QKe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eYe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eYe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eYe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.addEventListener("visibilitychange",(function e(){if(document.removeEventListener("visibilitychange",e),performance&&performance.getEntriesByType){var t,n=performance.getEntriesByType("mark"),r={},o=UKe(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(i.name.includes(XKe)){var a=i.name.split(XKe),c=a[0],s=a[1];r[c]=s}else r[i.name]=i.startTime.toFixed()}}catch(e){o.e(e)}finally{o.f()}GKe.forEach((function(e){var t={},n=!1;Object.keys(e.keyMap).forEach((function(o){t[o]=r[e.keyMap[o]],o.startsWith("m")&&(+t[o]>6e6||+t[o]<0)&&(n=!0)})),n||zKe(e.code,e.msg,t)}))}}));n(325);function tYe(){var e,t,n,r,o,i,a,c,s,l=(e=QKe(Object(w.useState)(!0),2),t=e[0],n=e[1],r=Object(w.useRef)(null),o=Object(w.useRef)(null),i=Object(w.useRef)(null),a=Object(w.useRef)(null),c=Object(w.useRef)(null),s=Object(w.useMemo)((function(){return new dKe({methods:{setup:function(e){var t=e.appConfig,i=new DKe,a=new NKe({belong:i}),c=new HKe({appConfig:t}),l=new VKe({app:c}),u=new RKe({config:e.editorConfig,engine:r.current,env:a,belong:i,app:c,log:l,message:s});o.current=u,n(!1),uKe({editorConfig:e.editorConfig,iframeConfig:e.iframeConfig})},fullscreenReply:function(e){o.current.emit("fullscreen-reply",e)},getValue:(t=JKe(regeneratorRuntime.mark((function e(){var t,n,r,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,o.current.api.getValue(t);case 3:return n=e.sent,r=n.lake,i=n.html,r!==c.current&&o.current.getLog().epv(),c.current=r,e.abrupt("return",{lake:r,html:i});case 9:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),setValue:function(e){o.current.api.setValue(e)},reset:function(e){o.current.api.reset(e)},scrollTo:function(e){var t=document.querySelector(".lake-editor-scroll-container")||document.querySelector(".lake-content-editor-core");t?t.scrollTop=e:window.scrollTo(0,e)},insertValue:function(e){o.current.api.insertValue(e)},contentReady:(e=JKe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.current.contentReady();case 2:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),focus:function(){o.current.api.focusToEnd()}}});var e,t}),[]),Object(w.useEffect)((function(){return!t&&o.current.getConfig().autoHeight&&function e(){i.current||(i.current=setTimeout((function(){i.current=null;var t=document.querySelector(".lake-max-editor-content");if(t||(t=document.querySelector(".lake-content-editor")),t){var n=t.scrollHeight,r=document.querySelector(".lake-toolbar"),o=r?r.offsetHeight:0,c=document.querySelector(".lark-editor-header"),l=c?c.offsetHeight:0;a.current!==n&&(s.emit("resize",o+l+n),a.current=n)}e()}),300))}(),function(){clearTimeout(i.current),i.current=null}}),[t]),{state:{loading:t},ref:{editor:o.current},handler:{onLoad:function(e){$Ke("editor-loaded"),r.current=e,o.current.setEngine(e),s.emit("loaded"),setTimeout((function(){$Ke("render-finished")}),1)},onChange:function(){s.emit("change")},onSave:function(){s.emit("save")}}}),u=l.handler,f=l.ref;if(l.state.loading)return null;var p=f.editor,d=p.getConfig();return k.a.createElement(cKe,null,"full"===d.type?k.a.createElement(GWe,{onLoad:u.onLoad,onChange:u.onChange,onSave:u.onSave,editor:p}):k.a.createElement(aKe,{onLoad:u.onLoad,onChange:u.onChange,onSave:u.onSave,editor:p}))}function nYe(e){return(nYe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rYe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oYe(e,t){return(oYe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iYe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cYe(e);if(t){var o=cYe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return aYe(this,n)}}function aYe(e,t){return!t||"object"!==nYe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cYe(e){return(cYe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sYe=new Lu.a("yuque-servicify:services:viewer"),lYe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oYe(e,t)}(i,e);var t,n,r,o=iYe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).setEngine=function(e){t.engine=e},t._viewFile=function(e,n){if(!t.config.file){if(n){var r=t.app.getOrigin();r&&(e=r+n)}var o=new URL(e);o.searchParams.set("from",t.app.getSignUrl()),e=o.toString()}window.open(e,"_blank")},t.config=e.config,t.app=e.app,t.env=new NKe,t.on("loaded",(function(){t.checkCopy()})),t}return t=i,(n=[{key:"checkCopy",value:function(){var e=this;this.config.copy&&this.config.copy.prevent&&nAe.registerClipboard({preventCopySwitch:!0,preventCopyContainer:document.querySelector(".yuque-servicify-container"),preventCopyMessage:function(){e.emit("copy-prevent")}})}},{key:"getConfig",value:function(){return this.config}},{key:"getEnv",value:function(){return this.env}},{key:"getProps",value:function(){var e=this,t={content:this.config.defaultValue,genOutline:!!this.config.outline,options:{previewOrigin:this.app.getOrigin(),previewFrom:this.app.getSignUrl(),previewFileHandler:function(t,n){e._viewFile(n,t)},downloadFileHandler:function(t){e._viewFile(t)},localVideo:{queryAction:"".concat(this.app.getOrigin(),"/api/video?from=servicify")}}};return this.config.mention&&(t.options.mention={origin:this.config.mention.origin}),this.config.video&&(t.options.localVideo={queryAction:this.config.video.statusUrl}),sYe("getProps",t),t}}])&&rYe(t.prototype,n),r&&rYe(t,r),i}(_n.a);function uYe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fYe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fYe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fYe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pYe(e){var t=e.useIframe,n=uYe(Object(w.useState)(!0),2),r=n[0],o=n[1],i=uYe(Object(w.useState)([]),2),a=i[0],c=i[1],s=Object(w.useRef)(null),l=Object(w.useRef)(null),u=Object(w.useRef)(null),f=Object(w.useRef)(null),p=function(e){var t=new HKe({appConfig:e.appConfig});s.current=new lYe({config:e.viewerConfig,app:t}),uKe({viewerConfig:e.viewerConfig})};return Object(w.useEffect)((function(){t?l.current=new dKe({methods:{setup:function(e){p(e),o(!1)}}}):(p(e),o(!1))}),[]),Object(w.useEffect)((function(){return r||s.current.getConfig().autoHeight&&function e(){u.current||(u.current=setTimeout((function(){u.current=null;var t=document.querySelector(".lake-engine-view ");if(t){var n=t.scrollHeight+10;f.current!==n&&(l.current.emit("resize",n),f.current=n)}e()}),300))}(),function(){clearTimeout(u.current),u.current=null}}),[r]),{state:{outline:a,loading:r},ref:{viewer:s.current},handler:{onLoad:function(t,n,r){$Ke("editor-loaded"),s.current.setEngine(r),s.current.emit("loaded"),e.onLoad&&e.onLoad(s.current),l.current&&l.current.emit("loaded"),c(n.outline),setTimeout((function(){$Ke("render-finished")}),1)}}}}function dYe(e){return(dYe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mYe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vYe(e,t){return(vYe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yYe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bYe(e);if(t){var o=bYe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gYe(this,n)}}function gYe(e,t){return!t||"object"!==dYe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bYe(e){return(bYe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wYe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vYe(e,t)}(i,e);var t,n,r,o=yYe(i);function i(){return hYe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this;return k.a.createElement("div",{className:this.props.className,ref:function(t){e.container=t},style:{userSelect:"none"},onMouseDown:function(t){e.container.style["user-select"]="auto"},onMouseLeave:function(t){e.container.style["user-select"]="none"}},this.props.children)}}])&&mYe(t.prototype,n),r&&mYe(t,r),i}(k.a.Component);wYe.propTypes={className:st.a.string,children:st.a.node};var kYe={scrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},offset:function(e){if(!e||!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}}};function xYe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OYe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xYe(Object(n),!0).forEach((function(t){CYe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xYe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CYe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _Ye=new Lu.a("yuque-servicify:services:outline"),EYe={hasToc:function(e){var t=e.match(/<(h([0-9]))(\sid="\w{0,10}")?\>?/);return t&&t.length>0},extractFromDom:function(e){return pRe.extractFromDom(e)},calcHeight:function(e,t){var n=kYe.offset(e),r=e.offsetHeight,o=kYe.scrollTop(),i=window.innerHeight;t&&(i=window.innerHeight-t.offsetTop);var a=i+o<=r+n.top;_Ye("calc toc height, context:",OYe(OYe({viewHeight:i,scrollY:o,height:r},n),{},{isContentFullyDisplayed:a}));var c=0;return c=a?i-16:r-o,Math.max(c,0)},findReadingSection:function(e,t){if(!e||0===e.length)return-1;for(var n=t&&t!==window?t.scrollTop:0,r=function(e){return t&&t!==window?e.offsetTop:e.getBoundingClientRect().top},o=-1,i=0,a=e.length;i<a;i++){if(r(e[i])<=n+1)if(i===a-1)o=i;else if(r(e[i+1])>n+1){o=i;break}}return o}};n(845);function jYe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SYe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jYe(Object(n),!0).forEach((function(t){PYe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jYe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PYe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RYe(e){return function(e){if(Array.isArray(e))return AYe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||DYe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TYe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||DYe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DYe(e,t){if(e){if("string"==typeof e)return AYe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AYe(e,t):void 0}}function AYe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var MYe=function(e){return"yuque-servicify-toc"+(e?"-".concat(e):"")};function NYe(e){var t=e.contents,n=void 0===t?[]:t,r=e.withHeader,o=TYe(Object(w.useState)(-1),2),i=o[0],a=o[1],c=TYe(Object(w.useState)(0),2),s=c[0],l=c[1],u=k.a.useRef(null),f=k.a.useMemo((function(){return n.map((function(e){return document.getElementById(e.id)}))}),[n]);return Object(w.useEffect)((function(){var t=e.getContentContainer(),n=e.getContainer(),r=function(r){if(!(r&&r.target.classList&&RYe(r.target.classList).includes(e.className))){var o=EYe.findReadingSection(f,n);a(o);var i=EYe.calcHeight(t,n);l(i)}},o=Un()(r,300),i=r;return r(),n.addEventListener("scroll",o),n.addEventListener("resize",i),function(){n.removeEventListener("scroll",o),n.removeEventListener("resize",i)}}),[f]),Object(w.useEffect)((function(){return e.autoAdjustPosition&&i>0&&function(e){var t=e.querySelector(".".concat(MYe("directory-item-active")));if(t){var n=e.scrollHeight-e.clientHeight,r=e.clientHeight,o=0;t.offsetTop>r?(o=(o=t.offsetTop-r/2+t.clientHeight/2+16)>=n?n:o,e.scrollTop=o):t.offsetTop>e.clientHeight/2?(o=t.offsetTop+16-e.clientHeight/2+t.clientHeight/2,e.scrollTop=o):e.scrollTop=0}}(u.current),function(){}}),[i,e.autoAdjustPosition,e.height]),k.a.createElement("div",{className:"".concat(MYe("wrap")," ").concat(e.className),style:SYe(SYe({},e.style),{},{height:s}),ref:u},k.a.createElement("ul",{className:MYe("directory")},n.map((function(e,t){var n;return k.a.createElement("li",{className:_t()((n={},PYe(n,"".concat(MYe("directory-item")),!0),PYe(n,"".concat(MYe("directory-item-active")),i===t),n)),key:t},k.a.createElement("a",{className:"".concat(MYe("directory-item-link")," ").concat(MYe("directory-item-link"),"-").concat(e.depth),onClick:function(t){!function(e,t){var n=kYe.scrollTop();e.preventDefault();var o=encodeURIComponent(t);window.location.hash=o;var i=document.getElementById(o);if(i&&(i.scrollIntoView(),r)){var a=kYe.scrollTop();a<n&&window.scrollTo(0,a-60)}}(t,e.id)},href:"#".concat(encodeURIComponent(e.id)),title:e.text},k.a.createElement("span",null,e.text)))}))))}NYe.defaultProps={getContainer:function(){return window}},NYe.propTypes={className:st.a.string,style:st.a.object,contents:st.a.array.isRequired,current:st.a.number,height:st.a.number,autoAdjustPosition:st.a.bool,withHeader:st.a.bool};var IYe,LYe=(IYe=NYe,function(e){return k.a.createElement(wYe,null,k.a.createElement(IYe,e))});n(846);function FYe(){return function(e,t,n){var r=n.value,o=!1;return{configurable:!0,get:function(){if(o||this===e.prototype||this.hasOwnProperty(t))return r;var n=function(e){var t,n=function(n){return function(){t=null,e.apply(void 0,Lte()(n))}},r=function(){if(null==t){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t=Zr()(n(r))}};return r.cancel=function(){return Zr.a.cancel(t)},r}(r.bind(this));return o=!0,Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),o=!1,n}}}}function zYe(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function BYe(e,t,n){if(void 0!==n&&t.top>e.top-n)return n+t.top}function VYe(e,t,n){if(void 0!==n&&t.bottom<e.bottom+n)return n+(window.innerHeight-t.bottom)}var qYe=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],HYe=[];function UYe(e,t){if(e){var n=HYe.find((function(t){return t.target===e}));n?n.affixList.push(t):(n={target:e,affixList:[t],eventHandlers:{}},HYe.push(n),qYe.forEach((function(t){n.eventHandlers[t]=Object(hce.a)(e,t,(function(){n.affixList.forEach((function(e){e.lazyUpdatePosition()}))}))})))}}function WYe(e){var t=HYe.find((function(t){var n=t.affixList.some((function(t){return t===e}));return n&&(t.affixList=t.affixList.filter((function(t){return t!==e}))),n}));t&&0===t.affixList.length&&(HYe=HYe.filter((function(e){return e!==t})),qYe.forEach((function(e){var n=t.eventHandlers[e];n&&n.remove&&n.remove()})))}var KYe,YYe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Hr()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function XYe(){return"undefined"!=typeof window?window:null}!function(e){e[e.None=0]="None",e[e.Prepare=1]="Prepare"}(KYe||(KYe={}));var $Ye=function(e){Ft()(n,e);var t=Bt()(n);function n(){var e;return Mt()(this,n),(e=t.apply(this,arguments)).state={status:KYe.None,lastAffix:!1,prevTarget:null},e.getOffsetTop=function(){var t=e.props.offsetBottom,n=e.props.offsetTop;return void 0===t&&void 0===n&&(n=0),n},e.getOffsetBottom=function(){return e.props.offsetBottom},e.savePlaceholderNode=function(t){e.placeholderNode=t},e.saveFixedNode=function(t){e.fixedNode=t},e.measure=function(){var t=e.state,n=t.status,r=t.lastAffix,o=e.props.onChange,i=e.getTargetFunc();if(n===KYe.Prepare&&e.fixedNode&&e.placeholderNode&&i){var a=e.getOffsetTop(),c=e.getOffsetBottom(),s=i();if(s){var l={status:KYe.None},u=zYe(s),f=zYe(e.placeholderNode),p=BYe(f,u,a),d=VYe(f,u,c);void 0!==p?(l.affixStyle={position:"fixed",top:p,width:f.width,height:f.height},l.placeholderStyle={width:f.width,height:f.height}):void 0!==d&&(l.affixStyle={position:"fixed",bottom:d,width:f.width,height:f.height},l.placeholderStyle={width:f.width,height:f.height}),l.lastAffix=!!l.affixStyle,o&&r!==l.lastAffix&&o(l.lastAffix),e.setState(l)}}},e.prepareMeasure=function(){e.setState({status:KYe.Prepare,affixStyle:void 0,placeholderStyle:void 0})},e.render=function(){var t=e.context.getPrefixCls,n=e.state,r=n.affixStyle,o=n.placeholderStyle,i=e.props,a=i.prefixCls,c=i.children,s=_t()(ut()({},t("affix",a),r)),l=Object(br.a)(e.props,["prefixCls","offsetTop","offsetBottom","target","onChange"]);return w.createElement(Doe.a,{onResize:function(){e.updatePosition()}},w.createElement("div",ht()({},l,{ref:e.savePlaceholderNode}),r&&w.createElement("div",{style:o,"aria-hidden":"true"}),w.createElement("div",{className:s,ref:e.saveFixedNode,style:r},w.createElement(Doe.a,{onResize:function(){e.updatePosition()}},c))))},e}return It()(n,[{key:"getTargetFunc",value:function(){var e=this.context.getTargetContainer,t=this.props.target;return void 0!==t?t:e||XYe}},{key:"componentDidMount",value:function(){var e=this,t=this.getTargetFunc();t&&(this.timeout=setTimeout((function(){UYe(t(),e),e.updatePosition()})))}},{key:"componentDidUpdate",value:function(e){var t=this.state.prevTarget,n=this.getTargetFunc(),r=null;n&&(r=n()||null),t!==r&&(WYe(this),r&&(UYe(r,this),this.updatePosition()),this.setState({prevTarget:r})),e.offsetTop===this.props.offsetTop&&e.offsetBottom===this.props.offsetBottom||this.updatePosition(),this.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),WYe(this),this.updatePosition.cancel(),this.lazyUpdatePosition.cancel()}},{key:"updatePosition",value:function(){this.prepareMeasure()}},{key:"lazyUpdatePosition",value:function(){var e=this.getTargetFunc(),t=this.state.affixStyle;if(e&&t){var n=this.getOffsetTop(),r=this.getOffsetBottom(),o=e();if(o&&this.placeholderNode){var i=zYe(o),a=zYe(this.placeholderNode),c=BYe(a,i,n),s=VYe(a,i,r);if(void 0!==c&&t.top===c||void 0!==s&&t.bottom===s)return}}this.prepareMeasure()}}]),n}(w.Component);$Ye.contextType=rn,YYe([FYe()],$Ye.prototype,"updatePosition",null),YYe([FYe()],$Ye.prototype,"lazyUpdatePosition",null);var GYe=$Ye,ZYe=(n(848),GYe);function JYe(){return(JYe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var QYe=function(e){return"yuque-servicify"+(e?"-".concat(e):"")};var eXe=function(e){var t=pYe(e),n=t.state,r=t.ref,o=t.handler,i=Object(w.useRef)();if(n.loading)return null;var a=r.viewer,c=a.getConfig(),s=a.getProps(),l=a.getEnv(),u=c.outline,f=u&&!l.isMobile(),p=u.getContainer?u.getContainer():window;return k.a.createElement(cKe,null,k.a.createElement("div",{className:"".concat(QYe("wrap")," ").concat(f?QYe("withOutline"):"")},k.a.createElement("div",{className:"".concat(QYe("content")),ref:i},k.a.createElement(yWe,JYe({onLoad:o.onLoad},s))),f&&k.a.createElement("div",{className:QYe("outline")},k.a.createElement(ZYe,{offsetTop:u.offsetTop||10,target:function(){return p}},k.a.createElement(LYe,{contents:n.outline,getContainer:function(){return p},getContentContainer:function(){return i.current},autoAdjustPosition:!0})))))};window.yuque_editor||(window.yuque_editor={default:tYe,YuqueViewer:eXe});t.default=tYe},function(e,t,n){"use strict";n(716),n(44),n(717),n(132)}])}));